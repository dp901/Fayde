{"version":3,"sources":["polyfill/Function_bind.ts","polyfill/perfex.ts","Engine/ThemedLibrary.ts","Engine/ThemedLibraryResolver.ts","_Types.ts","Clipboard/BasicClipboard.ts","Clipboard/Create.ts","Clipboard/IClipboard.ts","Clipboard/NetscapeClipboard.ts","Collections/CollectionChangedEventArgs.ts","Collections/INotifyCollectionChanged.ts","Core/INotifyPropertyChanged.ts","Collections/ObservableCollection.ts","Collections/DeepObservableCollection.ts","Collections/FilteredCollection.ts","Collections/ItemPropertyChangedEventArgs.ts","Collections/ReadOnlyObservableCollection.ts","Core/XamlNode.ts","Core/XamlObject.ts","Core/Providers/PropertyStore.ts","Core/Providers/ImmutableStore.ts","Core/DependencyProperty.ts","Core/Providers/DataContextStore.ts","Core/DPReaction.ts","Runtime/React.ts","Core/DependencyObject.ts","Core/UIReaction.ts","Core/UIReactionAttached.ts","Core/Providers/InheritedStore.ts","Core/Enums.ts","Primitives/Font.ts","Core/InheritableOwner.ts","Core/UIElement.ts","Core/Providers/ResourcesStore.ts","Core/Providers/ActualSizeStore.ts","Core/FrameworkElement.ts","Markup/ContentAnnotation.ts","Controls/Border.ts","Core/Providers/IsEnabledStore.ts","Input/Keyboard.ts","Controls/Control.ts","Controls/ContentControl.ts","Controls/Enums.ts","Controls/Primitives/ButtonBase.ts","Controls/Button.ts","Core/XamlObjectCollection.ts","Controls/Panel.ts","Controls/Canvas.ts","Controls/Primitives/ToggleButton.ts","Controls/CheckBox.ts","Controls/ColumnDefinition.ts","Controls/ItemsControl.ts","Controls/Primitives/Selector.ts","Markup/Creator.ts","Controls/ContentPresenter.ts","Controls/Primitives/Popup.ts","Controls/Primitives/IScrollInfo.ts","Controls/ScrollContentPresenter.ts","Controls/Primitives/RangeBase.ts","Controls/Primitives/RepeatButton.ts","Controls/Primitives/Thumb.ts","Controls/Primitives/ScrollBar.ts","Controls/ScrollViewer.ts","Controls/ComboBox.ts","Controls/ListBoxItem.ts","Controls/ComboBoxItem.ts","Markup/Loader.ts","Controls/ControlTemplate.ts","Controls/Dialog.ts","Controls/UserControl.ts","Controls/Page.ts","Navigation/INavigate.ts","Controls/Frame.ts","Controls/Grid.ts","Controls/GridLength.ts","Controls/HeaderedContentControl.ts","Controls/HyperlinkButton.ts","Media/Enums.ts","Controls/Image.ts","Controls/ItemCollection.ts","Controls/ItemsPanelTemplate.ts","Controls/ItemsPresenter.ts","Controls/ListBox.ts","Controls/MediaElement.ts","Core/RoutedEventArgs.ts","Input/KeyEventArgs.ts","Controls/TextBoxBase.ts","Controls/PasswordBox.ts","Controls/ProgressBar.ts","Controls/RadioButton.ts","Controls/RichTextBox.ts","Controls/RowDefinition.ts","Controls/Slider.ts","Controls/StackPanel.ts","Controls/TextBlock.ts","Controls/TextBox.ts","Controls/ToolTip.ts","Primitives/Point.ts","Controls/ToolTipService.ts","Controls/VirtualizingPanel.ts","Controls/VirtualizingStackPanel.ts","Data/Binding.ts","Data/CollectionViewSource.ts","Data/DataErrorsChangedEventArgs.ts","Data/Enums.ts","Data/ICollectionView.ts","Data/IDataErrorInfo.ts","Data/INotifyDataErrorInfo.ts","Data/IValueConverter.ts","Data/RelativeSource.ts","Core/Clone.ts","Core/DataTemplate.ts","Core/DependencyPropertyChangedEventArgs.ts","Core/HierarchicalDataTemplate.ts","Core/LayoutInformation.ts","Core/NameScope.ts","Core/ResourceDictionary.ts","Core/RoutedEvent.ts","Core/RoutedPropertyChangedEvent.ts","Core/RoutedPropertyChangingEvent.ts","Core/Setter.ts","Core/SizeChangedEventArgs.ts","Core/Style.ts","Core/TemplateBinding.ts","Core/Triggers.ts","Core/VisualTreeEnum.ts","Core/VisualTreeHelper.ts","Core/Walkers.ts","Documents/TextReaction.ts","Documents/TextElement.ts","Documents/Block.ts","Documents/BlockCollection.ts","Documents/Inline.ts","Documents/InlineCollection.ts","Documents/LineBreak.ts","Documents/Paragraph.ts","Documents/Run.ts","Documents/Section.ts","Documents/Span.ts","Documents/Underline.ts","Expressions/Expression.ts","Expressions/BindingExpressionBase.ts","Expressions/BindingExpression.ts","Expressions/DeferredValueExpression.ts","Expressions/EventBindingExpression.ts","Expressions/TemplateBindingExpression.ts","Primitives/TimeSpan.ts","Primitives/DateTime.ts","Localization/Calendar.ts","Localization/DateTimeFormatInfo.ts","Localization/Format.ts","Localization/DateTimeFormatter.ts","Localization/NumberFormatInfo.ts","Localization/NumberFormatter.ts","Localization/TimeSpanFormatter.ts","MVVM/AutoModel.ts","MVVM/ObservableObject.ts","MVVM/ViewModelBase.ts","MVVM/DialogViewModel.ts","MVVM/Entity.ts","Navigation/Route.ts","MVVM/IViewModelProvider.ts","Input/ICommand.ts","MVVM/RelayCommand.ts","Engine/Application.ts","Engine/ClockTimer.ts","Engine/Exceptions.ts","Engine/FocusManager.ts","Engine/InputManager.ts","Engine/Inspection.ts","Engine/Surface.ts","Engine/Theme.ts","Engine/ThemeConfig.ts","Engine/ThemeManager.ts","Input/InteractionHelper.ts","Input/KeyInterop.ts","Input/KeyboardNavigation.ts","Input/MouseEventArgs.ts","Input/MouseInterop.ts","Input/TouchEventArgs.ts","Input/TouchInterop.ts","Input/TouchPoint.ts","Input/VirtualKeyboard.ts","Markup/EventBinding.ts","Markup/Resolver.ts","Markup/Retriever.ts","Markup/StaticResource.ts","Media/Brush.ts","Media/Geometry.ts","Media/EllipseGeometry.ts","Media/GeneralTransform.ts","Shapes/Enums.ts","Media/GeometryGroup.ts","Media/GradientBrush.ts","Media/GradientStop.ts","Media/LineGeometry.ts","Media/LinearGradientBrush.ts","Media/Matrix.ts","Media/Matrix3D.ts","Media/Projection.ts","Media/Matrix3DProjection.ts","Media/MediaParser.ts","Media/PathFigure.ts","Media/PathGeometry.ts","Media/PathSegment.ts","Media/PathSegments.ts","Media/PlaneProjection.ts","Media/RadialGradientBrush.ts","Media/RectangleGeometry.ts","Media/SolidColorBrush.ts","Media/TextOptions.ts","Media/TileBrush.ts","Media/Transform.ts","Media/Transforms.ts","Navigation/NavigationHelper.ts","Navigation/NavigationService.ts","Navigation/RedirectRoute.ts","Navigation/RouteMapper.ts","Navigation/RouteMapping.ts","Navigation/UriMapper.ts","Navigation/UriMapping.ts","Primitives/Color.ts","Primitives/CornerRadius.ts","Primitives/Duration.ts","Primitives/FontFamily.ts","Primitives/KeyTime.ts","Primitives/Length.ts","Primitives/Rect.ts","Primitives/Size.ts","Primitives/Thickness.ts","Primitives/TypeConversion.ts","Runtime/BError.ts","Runtime/Bootstrap.ts","Runtime/Configure.ts","Runtime/Debug.ts","Runtime/NumberEx.ts","Runtime/StringEx.ts","Runtime/TimelineProfile.ts","Shapes/DoubleCollection.ts","Shapes/Shape.ts","Shapes/Ellipse.ts","Shapes/Line.ts","Shapes/Path.ts","Shapes/PointCollection.ts","Shapes/Polygon.ts","Shapes/Polyline.ts","Shapes/Rectangle.ts","Validation/Emit.ts","Validation/Validation.ts","Validation/ValidationError.ts","Validation/ValidationErrorEventAction.ts","Validation/ValidationErrorEventArgs.ts","Text/Buffer.ts","Text/Proxy.ts","Controls/Internal/CursorAdvancer.ts","Controls/Internal/ItemContainersManager.ts","Controls/Internal/RangeCoercer.ts","Controls/Internal/TextBoxContentProxy.ts","Controls/Internal/TextBoxView.ts","Controls/Internal/VirtualizingPanelContainerOwner.ts","Controls/Primitives/DragEventArgs.ts","Controls/Primitives/Overlay.ts","Controls/Primitives/OverlayClosedEventArgs.ts","Controls/Primitives/ScrollData.ts","Controls/Primitives/ScrollEventArgs.ts","Controls/Primitives/SelectionChangedEventArgs.ts","Controls/Primitives/SelectorSelection.ts","Data/Property/PropertyPath.ts","Data/Property/PropertyPathParser.ts","Data/Property/PropertyPathWalker.ts","Core/Providers/ImplicitStyleBroker.ts","Core/Providers/LocalStyleBroker.ts","Core/Providers/StyleSwapper.ts","Input/TouchInternal/ActiveTouchBase.ts","Input/TouchInternal/TouchInteropBase.ts","Input/TouchInternal/NonPointerTouchInterop.ts","Input/TouchInternal/PointerTouchInterop.ts","Markup/Internal/ActiveObject.ts","Markup/Internal/ObjectActor.ts","Markup/Internal/PropertyActor.ts","Markup/Internal/ResourcesActor.ts","Media/Effects/Effect.ts","Media/Effects/BlurEffect.ts","Media/Effects/DropShadowEffect.ts","Media/Animation/Enums.ts","Media/Animation/RepeatBehavior.ts","Media/Animation/Timeline.ts","Media/Animation/AnimationBase.ts","Media/Animation/AnimationStore.ts","Media/Animation/AnimationUsingKeyFrames.ts","Media/Animation/BeginStoryboard.ts","Media/Animation/ColorAnimation.ts","Media/Animation/ColorAnimationUsingKeyFrames.ts","Media/Animation/KeyFrame.ts","Media/Animation/ColorKeyFrame.ts","Media/Animation/Curves.ts","Media/Animation/DoubleAnimation.ts","Media/Animation/DoubleAnimationUsingKeyFrames.ts","Media/Animation/DoubleKeyFrame.ts","Media/Animation/EasingFunctionBase.ts","Media/Animation/EasingFunctions.ts","Media/Animation/KeySpline.ts","Media/Animation/ObjectAnimationUsingKeyFrames.ts","Media/Animation/ObjectKeyFrame.ts","Media/Animation/PointAnimation.ts","Media/Animation/PointAnimationUsingKeyFrames.ts","Media/Animation/PointKeyFrame.ts","Media/Animation/Storyboard.ts","Media/Imaging/ImageSource.ts","Media/Imaging/BitmapSource.ts","Media/Imaging/BitmapImage.ts","Media/Imaging/ImageBrush.ts","Media/Imaging/ImageDecoder.ts","Media/LinearGradient/Interpolator.ts","Media/LinearGradient/Metrics.ts","Media/RadialGradient/Extender.ts","Media/VSM/VisualState.ts","Media/VSM/VisualStateGroup.ts","Media/VSM/VisualStateManager.ts","Media/VSM/VisualTransition.ts","Media/Videos/VideoSourceBase.ts","Media/Videos/VideoSource.ts","Text/History/DeleteAction.ts","Text/History/InsertAction.ts","Text/History/ReplaceAction.ts","Text/History/Tracker.ts","_Debug.ts"],"names":[],"mappings":";;;;;AACA,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3B,QAAQ,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK;QACrC,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC;YAG7B,MAAM,IAAI,SAAS,CAAC,sEAAsE,CAAC,CAAC;QAChG,CAAC;QAED,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,EAChD,OAAO,GAAG,IAAI,EACd,IAAI,GAAG;QACP,CAAC,EACD,MAAM,GAAG;YACL,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,YAAY,IAAI,IAAI,KAAK;kBACxC,IAAI;kBACJ,KAAK,EACX,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC;QAEN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;QAE9B,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC,CAAC;AACN,CAAC;ACzBD,CAAC,UAAU,OAAO;IACd,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QAClB,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;IACxB,CAAC;IACD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QACxB,OAAO,CAAC,MAAM,CAAC,KAAK,GAAQ;YACxB,GAAG,EAAE,EAAE;YACP,KAAK;YACL,CAAC;YACD,KAAK,YAAE,GAAW;YAClB,CAAC;YACD,IAAI;YACJ,CAAC;SACJ,CAAC;IACN,CAAC;IACD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;QACzB,OAAO,CAAC,MAAM,CAAC,MAAM,GAAQ;YACzB,OAAO,EAAE,IAAI;YACb,GAAG,EAAE,EAAE;YACP,KAAK,YAAE,GAAW;YAClB,CAAC;SACJ,CAAC;IACN,CAAC;AACL,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;ACvBX,IAAO,KAAK,CA2DX;AA3DD,WAAO,KAAK,EAAC,CAAC;IAKV;QAAmC,iCAAiB;QAApD;YAAmC,8BAAiB;YACxC,aAAQ,GAAgB,EAAE,CAAC;YAC3B,kBAAa,GAAU,IAAI,CAAC;YAC5B,sBAAiB,GAAW,IAAI,CAAC;QAkD7C,CAAC;QAhDG,sBAAI,sCAAW;iBAAf;gBACI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;YAC9B,CAAC;;;WAAA;QAED,sBAAI,+CAAoB;iBAAxB;gBACI,MAAM,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,KAAK,IAAI,CAAC,iBAAiB,CAAC;YACrF,CAAC;;;WAAA;QAED,iCAAS,GAAT;YAAA,iBAOC;YANG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;iBACvB,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC;gBACpB,gBAAK,CAAC,SAAS,YAAE;gBACjB,KAAI,CAAC,aAAa,EAAE;aACvB,CAAC,EAHU,CAGV,CAAC;iBACF,GAAG,CAAC,cAAM,OAAA,KAAI,CAAC,iBAAiB,EAAE,EAAxB,CAAwB,CAAC,CAAC;QAC7C,CAAC;QAES,qCAAa,GAAvB;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;gBACrD,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAClD,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;QACjC,CAAC;QAES,yCAAiB,GAA3B;YACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC;gBAC3B,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC/C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC;gBACxB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACjC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;QAClC,CAAC;QAED,gCAAQ,GAAR,UAAS,IAAY;YACjB,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAChC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;gBACP,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,WAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5D,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED,oCAAY,GAAZ,UAAa,IAAY;YACrB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAClC,CAAC;QAED,uCAAe,GAAf;YAAA,iBAIC;YAHG,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAClD,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE;iBACnB,IAAI,CAAC,cAAM,OAAA,KAAI,CAAC,aAAa,GAAG,KAAK,EAA1B,CAA0B,CAAC,CAAC;QAChD,CAAC;QACL,oBAAC;IAAD,CArDA,AAqDC,CArDkC,SAAS,CAAC,OAAO,GAqDnD;IArDY,mBAAa,gBAqDzB,CAAA;AACL,CAAC,EA3DM,KAAK,KAAL,KAAK,QA2DX;ACzDD,IAAO,KAAK,CAMX;AAND,WAAO,KAAK,EAAC,CAAC;IACV;QAA2C,yCAAyB;QAApE;YAA2C,8BAAyB;QAIpE,CAAC;QAHG,6CAAa,GAAb,UAAc,GAAW;YACrB,MAAM,CAAC,IAAI,mBAAa,CAAC,GAAG,CAAC,CAAC;QAClC,CAAC;QACL,4BAAC;IAAD,CAJA,AAIC,CAJ0C,SAAS,CAAC,eAAe,GAInE;IAJY,2BAAqB,wBAIjC,CAAA;AACL,CAAC,EANM,KAAK,KAAL,KAAK,QAMX;ACND,IAAO,KAAK,CA4DX;AA5DD,WAAO,KAAK,EAAC,CAAC;IACC,WAAK,GAAG,gCAAgC,CAAC;IACzC,YAAM,GAAG,kCAAkC,CAAC;IAC5C,mBAAa,GAAG,yCAAyC,CAAC;IAE1D,UAAI,GAAG,SAAS,CAAC,IAAI,CAAC;IAKtB,SAAG,GAAG,SAAS,CAAC,GAAG,CAAC;IAI/B;QAAyC,uCAAqB;QAA9D;YAAyC,8BAAqB;QAiB9D,CAAC;QAhBG,+CAAiB,GAAjB;YACI,MAAM,CAAC,IAAI,2BAAqB,EAAE,CAAC;QACvC,CAAC;QAED,6CAAe,GAAf,UAAiB,GAAQ;YACrB,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;gBACvB,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC;gBACvB,IAAI,IAAI,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;gBAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;gBACjC,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;oBACL,MAAM,IAAI,KAAK,CAAC,qDAAmD,IAAI,OAAI,CAAC,CAAC;gBACjF,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;YACxE,CAAC;YACD,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC1B,CAAC;QACL,0BAAC;IAAD,CAjBA,AAiBC,CAjBwC,SAAS,CAAC,WAAW,GAiB7D;IAjBY,yBAAmB,sBAiB/B,CAAA;IACU,iBAAW,GAAG,IAAI,mBAAmB,CAAC,WAAK,EAAE,YAAM,CAAC,CAAC;IAEhE,mBAAoB,IAAY,EAAE,GAAW;QACzC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC;YAC9B,IAAI,IAAI,GAAG,CAAC;QAChB,MAAM,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;IACzD,CAAC;IAEU,iBAAW,GAAG,iBAAW,CAAC,cAAc,CAAC,WAAK,CAAC,CAAC;IACrD,iBAAY,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC9B,iBAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;IACxB,cAAQ,GAAG,iBAAW,CAAC,cAAc,CAAC,YAAM,CAAC,CAAC;IACnD,cAAS,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC3B,cAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;IAEhC,sBAA8B,IAAc,EAAE,GAAW,EAAE,IAAa;QACpE,IAAI,GAAG,IAAI,IAAI,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC3C,iBAAW,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACrC,CAAC;IAHe,kBAAY,eAG3B,CAAA;IAED,sBAA8B,GAAQ,EAAE,GAAW,EAAE,IAAY;QAC7D,iBAAW,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;IACxC,CAAC;IAFe,kBAAY,eAE3B,CAAA;IAEU,YAAM,GAAG,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IACrD,YAAM,CAAC,EAAE,GAAG,UAAU,CAAC;QACnB,MAAM,CAAC,OAAO,CAAC,KAAK,UAAU,CAAC;IACnC,CAAC,CAAC;AACN,CAAC,EA5DM,KAAK,KAAL,KAAK,QA4DX;AC9DD,IAAO,KAAK,CAaX;AAbD,WAAO,KAAK;IAAC,IAAA,SAAS,CAarB;IAbY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAA;YAWA,CAAC;YAVG,iCAAQ,GAAR,UAAS,IAAY;gBACjB,IAAI,GAAG,GAAS,MAAO,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAC5D,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;oBACL,KAAK,CAAC,kDAAkD,CAAC,CAAC;YAClE,CAAC;YAED,wCAAe,GAAf,UAAgB,QAAgC;gBAC5C,IAAI,IAAI,GAAS,MAAO,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACvD,QAAQ,CAAC,IAAI,CAAC,CAAC;YACnB,CAAC;YACL,qBAAC;QAAD,CAXA,AAWC,IAAA;QAXY,wBAAc,iBAW1B,CAAA;IACL,CAAC,EAbY,SAAS,GAAT,eAAS,KAAT,eAAS,QAarB;AAAD,CAAC,EAbM,KAAK,KAAL,KAAK,QAaX;ACbD,IAAO,KAAK,CAMX;AAND,WAAO,KAAK;IAAC,IAAA,SAAS,CAMrB;IANY,WAAA,SAAS,EAAC,CAAC;QACpB;YACI,EAAE,CAAC,CAAO,MAAO,CAAC,aAAa,CAAC;gBAC5B,MAAM,CAAC,IAAI,wBAAc,EAAE,CAAC;YAChC,MAAM,CAAC,IAAI,2BAAiB,EAAE,CAAC;QACnC,CAAC;QAJe,gBAAM,SAIrB,CAAA;IACL,CAAC,EANY,SAAS,GAAT,eAAS,KAAT,eAAS,QAMrB;AAAD,CAAC,EANM,KAAK,KAAL,KAAK,QAMX;ACND,IAAO,KAAK,CAuBX;AAvBD,WAAO,KAAK;IAAC,IAAA,SAAS,CAuBrB;IAvBY,WAAA,SAAS,EAAC,CAAC;QAMpB,IAAI,EAAE,GAAG,IAAI,SAAS,CAAC,QAAQ,CAAC,UAAC,GAAG;YAChC,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACxC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC;YACb,CAAC,UAAC,KAA0B;gBACxB,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;gBACtB,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;gBAC5B,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC;YAE1B,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACd,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAC/B,GAAG,CAAC,eAAe,GAAG,MAAM,CAAC;YAC7B,MAAM,CAAC,GAAG,CAAC;QACf,CAAC,CAAC,CAAC;QAEH,4BAAmC,GAAW;YAC1C,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC3B,CAAC;QAFe,4BAAkB,qBAEjC,CAAA;IACL,CAAC,EAvBY,SAAS,GAAT,eAAS,KAAT,eAAS,QAuBrB;AAAD,CAAC,EAvBM,KAAK,KAAL,KAAK,QAuBX;ACrBD,IAAO,KAAK,CAoDX;AApDD,WAAO,KAAK;IAAC,IAAA,SAAS,CAoDrB;IApDY,WAAA,SAAS,EAAC,CAAC;QACpB;YAGI;gBAHJ,iBAiCC;gBAhCW,SAAI,GAA2B,IAAI,CAAC;gBAwBpC,aAAQ,GAAG,UAAC,CAAM;oBACtB,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC;wBACX,MAAM,CAAC;oBACX,IAAI,EAAE,GAAG,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC;oBAC9B,IAAI,EAAE,GAAG,EAAE,CAAC,aAAa,CAAC;oBAC1B,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;oBACpC,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACrB,CAAC,CAAA;gBA5BG,QAAQ,CAAC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;gBACvC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;gBACvC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3D,CAAC;YAED,oCAAQ,GAAR,UAAS,IAAY;gBACjB,IAAI,GAAG,GAAG,4BAAkB,CAAC,cAAc,CAAC,CAAC;gBAC7C,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC;gBACvB,aAAa,CAAC,GAAG,CAAC,CAAC;gBAEnB,mBAAmB,EAAE,CAAC;gBAGtB,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;oBAC3C,KAAK,CAAC,mFAAmF,CAAC,CAAC;YACnG,CAAC;YAED,2CAAe,GAAf,UAAgB,QAAgC;gBAC5C,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;YACzB,CAAC;YAUL,wBAAC;QAAD,CAjCA,AAiCC,IAAA;QAjCY,2BAAiB,oBAiC7B,CAAA;QAED,uBAAuB,OAAuB;YAC1C,IAAI,aAAa,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;YAC3C,aAAa,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;YAG1C,IAAI,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YACtC,SAAS,CAAC,eAAe,EAAE,CAAC;YAC5B,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QACtC,CAAC;QAED;YACI,IAAI,QAAQ,GAAG,MAAM,GAAS,MAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;YACtD,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAChC,QAAQ,CAAC,QAAQ,CAAC,gBAAgB,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC;YAC7E,CAAC;QACL,CAAC;IACL,CAAC,EApDY,SAAS,GAAT,eAAS,KAAT,eAAS,QAoDrB;AAAD,CAAC,EApDM,KAAK,KAAL,KAAK,QAoDX;ACtDD,IAAO,KAAK,CA8DX;AA9DD,WAAO,KAAK;IAAC,IAAA,WAAW,CA8DvB;IA9DY,WAAA,WAAW,EAAC,CAAC;QACtB,WAAY,uBAAuB;YAC/B,mEAAO,CAAA;YACP,yEAAU,CAAA;YACV,2EAAW,CAAA;YACX,uEAAS,CAAA;QACb,CAAC,EALW,mCAAuB,KAAvB,mCAAuB,QAKlC;QALD,IAAY,uBAAuB,GAAvB,mCAKX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,uBAAuB,EAAE,+BAA+B,CAAC,CAAC;QAEpF;YAAA;YAoDA,CAAC;YA7CU,gCAAK,GAAZ,UAAa,SAAgB;gBACzB,IAAI,IAAI,GAAG,IAAI,0BAA0B,EAAE,CAAC;gBAC5C,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,uBAAuB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBACjG,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC/E,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC/E,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC1E,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACM,kCAAO,GAAd,UAAe,QAAa,EAAE,QAAa,EAAE,KAAa;gBACtD,IAAI,IAAI,GAAG,IAAI,0BAA0B,EAAE,CAAC;gBAC5C,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,uBAAuB,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBACnG,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBACnF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACM,8BAAG,GAAV,UAAW,QAAa,EAAE,KAAa;gBACnC,IAAI,IAAI,GAAG,IAAI,0BAA0B,EAAE,CAAC;gBAC5C,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,uBAAuB,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC/F,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBACnF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC1E,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACM,mCAAQ,GAAf,UAAgB,SAAgB,EAAE,KAAa;gBAC3C,IAAI,IAAI,GAAG,IAAI,0BAA0B,EAAE,CAAC;gBAC5C,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,uBAAuB,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC/F,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBACnF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC1E,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC/E,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACM,iCAAM,GAAb,UAAc,QAAa,EAAE,KAAa;gBACtC,IAAI,IAAI,GAAG,IAAI,0BAA0B,EAAE,CAAC;gBAC5C,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,uBAAuB,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAClG,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBACnF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,kBAAkB,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAChF,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC1E,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,iCAAC;QAAD,CApDA,AAoDC,IAAA;QApDY,sCAA0B,6BAoDtC,CAAA;IACL,CAAC,EA9DY,WAAW,GAAX,iBAAW,KAAX,iBAAW,QA8DvB;AAAD,CAAC,EA9DM,KAAK,KAAL,KAAK,QA8DX;AC9DD,IAAO,KAAK,CAQX;AARD,WAAO,KAAK;IAAC,IAAA,WAAW,CAQvB;IARY,WAAA,WAAW,EAAC,CAAC;QAIX,qCAAyB,GAAG,IAAI,SAAS,CAAC,SAAS,CAA2B,0BAA0B,CAAC,CAAC;QACrH,qCAAyB,CAAC,EAAE,GAAG,UAAC,CAAM;YAClC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,iBAAiB,YAAY,SAAS,CAAC,KAAK,CAAC;QAC/D,CAAC,CAAC;IACN,CAAC,EARY,WAAW,GAAX,iBAAW,KAAX,iBAAW,QAQvB;AAAD,CAAC,EARM,KAAK,KAAL,KAAK,QAQX;ACRD,IAAO,KAAK,CAgBX;AAhBD,WAAO,KAAK,EAAC,CAAC;IACV;QAEI,kCAAY,YAAoB;YAC5B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,cAAc,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QAC1F,CAAC;QACL,+BAAC;IAAD,CALA,AAKC,IAAA;IALY,8BAAwB,2BAKpC,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;IAKrC,6BAAuB,GAAG,IAAI,SAAS,CAAC,SAAS,CAAyB,wBAAwB,CAAC,CAAC;IAC/G,6BAAuB,CAAC,EAAE,GAAG,UAAC,CAAM;QAChC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,eAAe,YAAY,SAAS,CAAC,KAAK,CAAC;IAC7D,CAAC,CAAC;AACN,CAAC,EAhBM,KAAK,KAAL,KAAK,QAgBX;ACbD,IAAO,KAAK,CAsGX;AAtGD,WAAO,KAAK;IAAC,IAAA,WAAW,CAsGvB;IAtGY,WAAA,WAAW,EAAC,CAAC;QACtB;YAAA;gBACY,QAAG,GAAQ,EAAE,CAAC;gBAMtB,sBAAiB,GAAG,IAAI,SAAS,CAAC,KAAK,EAA8B,CAAC;gBACtE,oBAAe,GAAG,IAAI,SAAS,CAAC,KAAK,EAA4B,CAAC;YA0FtE,CAAC;YA/FG,4CAAa,GAAb;gBACI,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACtD,CAAC;YAKD,sBAAI,uCAAK;qBAAT;oBACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;gBAC3B,CAAC;;;eAAA;YAED,sCAAO,GAAP;gBACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC;YAED,yCAAU,GAAV,UAAY,KAAa;gBACrB,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBAClB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC;oBAChC,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;YACrB,CAAC;YAED,yCAAU,GAAV,UAAY,KAAa,EAAE,KAAQ;gBAC/B,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBAClB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC;oBAChC,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,IAAI,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;gBACzB,EAAE,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;gBAClB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,sCAA0B,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;YACnG,CAAC;YAED,kCAAG,GAAH,UAAK,KAAQ;gBACT,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACrC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,sCAA0B,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;gBACjF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC;YAED,uCAAQ,GAAR,UAAU,MAAW;gBACjB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;gBAC5B,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;gBACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,CAAC;gBACD,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,sCAA0B,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;gBACvF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC;YAED,qCAAM,GAAN,UAAQ,KAAa,EAAE,KAAQ;gBAC3B,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBAClB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC;oBAC/B,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC;oBACnB,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnB,IAAI;oBACA,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC/B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,sCAA0B,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;gBACjF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC;YAED,sCAAO,GAAP,UAAS,KAAQ;gBACb,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACnC,CAAC;YAED,uCAAQ,GAAR,UAAU,KAAQ;gBACd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YACxC,CAAC;YAED,qCAAM,GAAN,UAAQ,KAAQ;gBACZ,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;oBACV,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,sCAA0B,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;gBACpF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;gBACpC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,uCAAQ,GAAR,UAAU,KAAa;gBACnB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;oBACtC,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,sCAA0B,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;gBACnF,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC;YAED,oCAAK,GAAL;gBACI,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;gBACd,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,sCAA0B,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC1E,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC;YAEO,oDAAqB,GAA7B,UAA+B,YAAoB;gBAC/C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,8BAAwB,CAAC,YAAY,CAAC,CAAC,CAAC;YACjF,CAAC;YACL,2BAAC;QAAD,CAlGA,AAkGC,IAAA;QAlGY,gCAAoB,uBAkGhC,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAC5C,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IACtD,CAAC,EAtGY,WAAW,GAAX,iBAAW,KAAX,iBAAW,QAsGvB;AAAD,CAAC,EAtGM,KAAK,KAAL,KAAK,QAsGX;ACvGD,IAAO,KAAK,CA4BX;AA5BD,WAAO,KAAK;IAAC,IAAA,WAAW,CA4BvB;IA5BY,WAAA,WAAW,EAAC,CAAC;QACtB;YAAiD,4CAAuB;YAEpE;gBACI,iBAAO,CAAC;gBAFZ,wBAAmB,GAAG,IAAI,SAAS,CAAC,KAAK,EAAmC,CAAC;gBAGzE,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;YAC/D,CAAC;YAEO,uDAAoB,GAA5B,UAA6B,MAAW,EAAE,CAA6B;gBACnE,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACzC,IAAI,MAAM,GAAG,6BAAuB,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvD,EAAE,CAAC,CAAC,MAAM,CAAC;4BACP,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;oBACrE,CAAC;gBACL,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACzC,IAAI,MAAM,GAAG,6BAAuB,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvD,EAAE,CAAC,CAAC,MAAM,CAAC;4BACP,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;oBACtE,CAAC;gBACL,CAAC;YACL,CAAC;YACO,yDAAsB,GAA9B,UAA+B,MAAS,EAAE,CAA2B;gBACjE,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,wCAA4B,CAAI,MAAM,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;YACtG,CAAC;YACL,+BAAC;QAAD,CA1BA,AA0BC,CA1BgD,gCAAoB,GA0BpE;QA1BY,oCAAwB,2BA0BpC,CAAA;IACL,CAAC,EA5BY,WAAW,GAAX,iBAAW,KAAX,iBAAW,QA4BvB;AAAD,CAAC,EA5BM,KAAK,KAAL,KAAK,QA4BX;AC9BD,IAAO,KAAK,CAuEX;AAvED,WAAO,KAAK;IAAC,IAAA,WAAW,CAuEvB;IAvEY,WAAA,WAAW,EAAC,CAAC;QAQtB;YAA2C,sCAA2B;YAiBlE,4BAAa,MAAgC,EAAE,MAAoC;gBAC/E,iBAAO,CAAC;gBACR,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,IAAI,oCAAwB,EAAK,CAAC,CAAC;YACjE,CAAC;YAnBD,sBAAI,sCAAM;qBAAV,cAAgB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;qBACtC,UAAY,KAAkC,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;;eADrC;YAItC,sBAAI,sCAAM;qBAAV;oBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;gBACxB,CAAC;qBAED,UAAY,KAA8B;oBACtC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,IAAI,CAAC,MAAM,EAAE,CAAC;gBAClB,CAAC;;;eALA;YAeO,uCAAU,GAAlB,UAAoB,MAAmC;gBACnD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBACf,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;oBAC1E,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;gBAClF,CAAC;gBACD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACT,MAAM,CAAC,iBAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;oBACnE,MAAM,CAAC,mBAAmB,CAAC,EAAE,CAAC,IAAI,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;gBAC3E,CAAC;gBACD,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC;YAEO,uDAA0B,GAAlC,UAAoC,MAAW,EAAE,CAA6B;gBAC1E,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC;YAEO,yDAA4B,GAApC,UAAsC,MAAW,EAAE,CAAkC;gBACjF,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBACxC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;oBAC1C,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAChD,CAAC;YAED,mCAAM,GAAN;gBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;oBACd,MAAM,CAAC;gBACX,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC,UAAC,IAAO,IAAK,OAAA,IAAI,EAAJ,CAAI,CAAC,CAAC;gBAChD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3F,IAAI,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;oBAC/C,IAAI,SAAS,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,UAAU,CAAC,OAAO,CAAC;oBAC5E,EAAE,CAAC,CAAC,UAAU,IAAI,CAAC,SAAS,CAAC;wBACzB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC;oBACvC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,IAAI,SAAS,CAAC;wBAC9B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,UAAU,CAAC;wBACX,CAAC,EAAE,CAAC;gBACZ,CAAC;YACL,CAAC;YACL,yBAAC;QAAD,CA9DA,AA8DC,CA9D0C,oCAAwB,GA8DlE;QA9DY,8BAAkB,qBA8D9B,CAAA;IACL,CAAC,EAvEY,WAAW,GAAX,iBAAW,KAAX,iBAAW,QAuEvB;AAAD,CAAC,EAvEM,KAAK,KAAL,KAAK,QAuEX;ACrED,IAAO,KAAK,CAQX;AARD,WAAO,KAAK;IAAC,IAAA,WAAW,CAQvB;IARY,WAAA,WAAW,EAAC,CAAC;QACtB;YAAqD,gDAAwB;YAEzE,sCAAY,IAAO,EAAE,YAAoB;gBACrC,kBAAM,YAAY,CAAC,CAAC;gBACpB,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;YAC1E,CAAC;YACL,mCAAC;QAAD,CANA,AAMC,CANoD,8BAAwB,GAM5E;QANY,wCAA4B,+BAMxC,CAAA;IACL,CAAC,EARY,WAAW,GAAX,iBAAW,KAAX,iBAAW,QAQvB;AAAD,CAAC,EARM,KAAK,KAAL,KAAK,QAQX;ACVD,IAAO,KAAK,CAuEX;AAvED,WAAO,KAAK;IAAC,IAAA,WAAW,CAuEvB;IAvEY,WAAA,WAAW,EAAC,CAAC;QACtB;YAUI,sCAAa,MAA+B;gBAH5C,sBAAiB,GAAG,IAAI,SAAS,CAAC,KAAK,EAA8B,CAAC;gBACtE,oBAAe,GAAG,IAAI,SAAS,CAAC,KAAK,EAA4B,CAAC;gBAG9D,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;gBACnE,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;YACnE,CAAC;YAbD,sBAAI,+CAAK;qBAAT;oBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;gBAC9B,CAAC;;;eAAA;YAaD,iDAAU,GAAV,UAAY,KAAa;gBACrB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAC1C,CAAC;YAED,oDAAa,GAAb;gBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;YACxC,CAAC;YAED,8CAAO,GAAP;gBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YAClC,CAAC;YAED,8CAAO,GAAP,UAAS,KAAQ;gBACb,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAED,+CAAQ,GAAR,UAAU,KAAQ;gBACd,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACxC,CAAC;YAEO,2DAAoB,GAA5B,UAA8B,MAAW,EAAE,IAAgC;gBACvE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7C,CAAC;YAEO,yDAAkB,GAA1B,UAA4B,MAAW,EAAE,IAA8B;gBACnE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3C,CAAC;YAED,iDAAU,GAAV,UAAY,KAAa,EAAE,KAAQ;gBAC/B,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAChD,CAAC;YAED,6CAAM,GAAN,UAAQ,KAAa,EAAE,KAAQ;gBAC3B,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAChD,CAAC;YAED,0CAAG,GAAH,UAAK,KAAQ;gBACT,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAChD,CAAC;YAED,6CAAM,GAAN,UAAQ,KAAQ;gBACZ,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAChD,CAAC;YAED,+CAAQ,GAAR,UAAU,KAAa;gBACnB,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAChD,CAAC;YAED,4CAAK,GAAL;gBACI,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;YAChD,CAAC;YACL,mCAAC;QAAD,CAnEA,AAmEC,IAAA;QAnEY,wCAA4B,+BAmExC,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gCAAoB,CAAC,CAAC;QAC5C,SAAS,CAAC,iBAAiB,CAAC,4BAA4B,EAAE,SAAS,CAAC,YAAY,EAAE,qCAAyB,EAAE,6BAAuB,CAAC,CAAC;IAC1I,CAAC,EAvEY,WAAW,GAAX,iBAAW,KAAX,iBAAW,QAuEvB;AAAD,CAAC,EAvEM,KAAK,KAAL,KAAK,QAuEX;ACvED,IAAO,KAAK,CA8NX;AA9ND,WAAO,KAAK,EAAC,CAAC;IAMV;QAYI,kBAAY,IAAgB;YAV5B,eAAU,GAAa,IAAI,CAAC;YAC5B,SAAI,GAAW,EAAE,CAAC;YAClB,cAAS,GAAc,IAAI,CAAC;YAC5B,iBAAY,GAAc,IAAI,CAAC;YACvB,gBAAW,GAAY,KAAK,CAAC;YAC7B,oBAAe,GAAc,IAAI,CAAC;YAClC,qBAAgB,GAAe,EAAE,CAAC;YAElC,gBAAW,GAAyB,IAAI,CAAC;YAMzC,iBAAY,GAAQ,SAAS,CAAC;YAmB9B,eAAU,GAAY,IAAI,CAAC;YAqDnC,eAAU,GAAY,KAAK,CAAC;YA3ExB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC;QAGD,sBAAI,iCAAW;iBAAf,cAAyB,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;iBACpD,UAAgB,KAAU;gBACtB,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;gBAC5B,EAAE,CAAC,CAAC,GAAG,KAAK,KAAK,CAAC;oBACd,MAAM,CAAC;gBACX,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAC1C,CAAC;;;WAPmD;QAQpD,uCAAoB,GAApB,UAAqB,cAAmB,EAAE,cAAmB;YACzD,IAAI,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACvC,IAAI,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC;YAC5B,IAAI,SAAS,GAAa,IAAI,CAAC;YAC/B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC1B,SAAS,CAAC,WAAW,GAAG,cAAc,CAAC;YAC3C,CAAC;QACL,CAAC;QAGD,sBAAI,+BAAS;iBAAb,cAA2B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;iBACpD,UAAc,KAAc;gBACxB,KAAK,GAAG,KAAK,KAAK,KAAK,CAAC;gBACxB,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC1B,EAAE,CAAC,CAAC,GAAG,KAAK,KAAK,CAAC;oBACd,MAAM,CAAC;gBACX,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YACxC,CAAC;;;WARmD;QASpD,qCAAkB,GAAlB,UAAmB,QAAiB,EAAE,QAAiB;YACnD,IAAI,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACvC,IAAI,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC;YAC5B,IAAI,SAAS,GAAa,IAAI,CAAC;YAC/B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC1B,SAAS,CAAC,SAAS,GAAG,QAAQ,CAAC;YACnC,CAAC;QACL,CAAC;QAED,2BAAQ,GAAR,UAAS,IAAY,EAAE,GAAa;YAChC,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACjC,IAAI,IAAc,CAAC;YACnB,EAAE,CAAC,CAAC,KAAK,CAAC;gBACN,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,QAAmB,CAAC;YAAA,CAAC;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC/C,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,0BAAO,GAAP,UAAQ,IAAY;YAChB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAC9B,EAAE,CAAC,CAAC,EAAE,CAAC;gBACH,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpC,CAAC;QACD,gCAAa,GAAb;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;gBACrB,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;YAEhC,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,IAAI,EAAE,CAAC;YACP,OAAO,OAAO,EAAE,CAAC;gBACb,EAAE,GAAG,OAAO,CAAC,SAAS,CAAC;gBACvB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACL,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;oBAC1B,MAAM,CAAC,EAAE,CAAC;gBACd,CAAC;gBACD,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;YACjC,CAAC;YACD,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAGD,gCAAa,GAAb,UAAc,KAAc;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC;gBAC1B,MAAM,CAAC;YACX,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC;QACD,sCAAmB,GAAnB,UAAoB,aAAsB;YACtC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC;YAC3C,CAAC;YAED,IAAI,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACvC,IAAI,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC;YAC5B,IAAI,SAAS,GAAa,IAAI,CAAC;YAC/B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC1B,SAAS,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YAC3C,CAAC;YAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,QAAQ,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAChG,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YACxC,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;gBACf,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;QACzC,CAAC;QACD,oCAAiB,GAAjB,UAAkB,IAAsC;YACpD,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC;YAChC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;gBAAC,IAAI,CAAC,WAAW,GAAG,QAAQ,GAAG,EAAE,CAAC;YAChD,IAAI,OAAO,GAAuB;gBAC9B,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE,IAAI;aACf,CAAC;YACF,OAAO,CAAC,MAAM,GAAG;gBACb,IAAI,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;oBAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC9C,CAAC,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC/B,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QAED,2BAAQ,GAAR,UAAS,UAAoB,EAAE,KAAa;YACxC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,CAAC;gBACpC,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,IAAI,GAAG;gBACP,UAAU,EAAE,UAAU;gBACtB,SAAS,EAAE,IAAI;gBACf,IAAI,EAAE,EAAE;aACX,CAAC;YACF,IAAI,OAAO,GAAG,UAAU,CAAC;YACzB,OAAO,OAAO,EAAE,CAAC;gBACb,EAAE,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC;oBACnB,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;oBAC/B,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;oBAClB,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;oBAC7B,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBACD,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;YACjC,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBAClB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,UAAU,CAAC;oBAC/B,MAAM,CAAC,IAAI,CAAC;gBAChB,KAAK,CAAC,OAAO,GAAG,gDAAgD,CAAC;gBACjE,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;gBAClB,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;gBAC7B,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAED,IAAI,WAAW,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC;YAC7C,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAC/B,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACZ,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;oBACpB,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;oBAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;gBACvC,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACrB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACP,IAAI,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAC1C,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC;wBAChC,KAAK,CAAC,OAAO,GAAG,iDAAiD,CAAC;wBAClE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;wBACjB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;wBAClB,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;wBAC7B,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;oBACD,WAAW,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACzC,CAAC;gBACD,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;YACvC,CAAC;YAED,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;YAC1B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAEtC,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YAE1C,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,yBAAM,GAAN;YACI,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACrB,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC1B,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;gBAC9B,EAAE,CAAC,CAAC,EAAE,CAAC;oBAAC,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzC,CAAC;YACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;YAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,IAAI,KAAK,GAAG,GAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC/C,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;oBAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;YACpC,CAAC;QACL,CAAC;QACD,kCAAe,GAAf,UAAgB,aAAuB,EAAE,aAAuB,IAAI,CAAC;QAErE,yCAAsB,GAAtB,cAA0D,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;QAEtE,qBAAY,GAAnB,UAAoB,EAAY;YAC5B,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;QAC1B,CAAC;QACL,eAAC;IAAD,CAvNA,AAuNC,IAAA;IAvNY,cAAQ,WAuNpB,CAAA;AACL,CAAC,EA9NM,KAAK,KAAL,KAAK,QA8NX;AC9ND,IAAO,KAAK,CAqCX;AArCD,WAAO,KAAK,EAAC,CAAC;IACV;QAOI;YAHA,kBAAa,GAAqB,IAAI,CAAC;YACvC,QAAG,GAAgB,IAAI,CAAC;YAGpB,IAAI,CAAC,GAAG,GAAG,UAAU,CAAC,OAAO,EAAE,CAAC;YAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACtC,CAAC;QACD,+BAAU,GAAV;YACI,MAAM,CAAC,IAAI,cAAQ,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;QACD,sBAAI,4BAAI;iBAAR,cAAa,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;;WAAA;QACzC,sBAAI,8BAAM;iBAAV;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;gBAClC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;oBAAC,MAAM,CAAC;gBAChB,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;YACtB,CAAC;;;WAAA;QAED,6BAAQ,GAAR,UAAS,IAAY,EAAE,GAAa;YAChC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;YAC1C,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,GAAG,SAAS,CAAC;QACrC,CAAC;QAED,0BAAK,GAAL;YACI,IAAI,IAAI,GAAe,IAAU,IAAK,CAAC,WAAW,EAAE,CAAC;YACrD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACrB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,8BAAS,GAAT,UAAU,MAAkB,IAAI,CAAC;QAEjC,kCAAa,GAAb,UAAc,KAAyB,IAAa,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAhCpD,kBAAO,GAAW,CAAC,CAAC;QAiCvC,iBAAC;IAAD,CAlCA,AAkCC,IAAA;IAlCY,gBAAU,aAkCtB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACtC,CAAC,EArCM,KAAK,KAAL,KAAK,QAqCX;ACpCD,IAAO,KAAK,CA8NX;AA9ND,WAAO,KAAK;IAAC,IAAA,SAAS,CA8NrB;IA9NY,WAAA,SAAS,EAAC,CAAC;QACpB,WAAY,kBAAkB;YAC1B,qEAAa,CAAA;YACb,uEAAc,CAAA;YACd,uEAAc,CAAA;YACd,6EAAiB,CAAA;YACjB,qEAAa,CAAA;YACb,2FAAwB,CAAA;YACxB,2EAAgB,CAAA;YAEhB,+DAAU,CAAA;YACV,iEAAW,CAAA;YACX,6DAAS,CAAA;QACb,CAAC,EAZW,4BAAkB,KAAlB,4BAAkB,QAY7B;QAZD,IAAY,kBAAkB,GAAlB,4BAYX,CAAA;QAuBD,oBAA2B,IAAsB,EAAE,KAAyB;YACxE,IAAI,GAAG,GAA2B,IAAK,CAAC,gBAAgB,CAAC;YACzD,IAAI,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChF,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QALe,oBAAU,aAKzB,CAAA;QAED;YAAA;YAiLA,CAAC;YA/KG,gCAAQ,GAAR,UAAS,OAAyB;gBAC9B,IAAI,GAAQ,CAAC;gBACb,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,SAAS,CAAC;oBACpC,MAAM,CAAC,GAAG,CAAC;gBACf,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,eAAe,CAAC,KAAK,SAAS,CAAC;oBAC9C,MAAM,CAAC,GAAG,CAAC;gBACf,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,kBAAkB,CAAC,KAAK,SAAS,CAAC;oBACjD,MAAM,CAAC,GAAG,CAAC;gBACf,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC;YACzC,CAAC;YACD,0CAAkB,GAAlB,UAAmB,OAAyB;gBACxC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;oBAC5B,MAAM,CAAC,kBAAkB,CAAC,UAAU,CAAC;gBACzC,EAAE,CAAC,CAAC,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;oBACtC,MAAM,CAAC,kBAAkB,CAAC,UAAU,CAAC;gBACzC,EAAE,CAAC,CAAC,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;oBACzC,MAAM,CAAC,kBAAkB,CAAC,aAAa,CAAC;gBAC5C,MAAM,CAAC,kBAAkB,CAAC,YAAY,CAAC;YAC3C,CAAC;YAED,qCAAa,GAAb,UAAc,OAAmC,EAAE,QAAa;gBAC5D,EAAE,CAAC,CAAC,QAAQ,KAAK,SAAS,IAAI,QAAQ,KAAK,kBAAkB,CAAC,UAAU,CAAC,CAAC,CAAC;oBACvE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBACzB,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC;gBAC7B,EAAE,CAAC,CAAC,QAAQ,IAAI,KAAK,CAAC,aAAa,EAAE,KAAK,MAAM,CAAC,CAAC,CAAC;oBAC/C,EAAE,CAAC,CAAC,OAAO,QAAQ,KAAK,QAAQ,CAAC;wBAC7B,QAAQ,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBAEvC,CAAC;gBAED,IAAI,UAAU,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;gBACpC,QAAQ,GAAG,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;gBACnF,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC;oBACpB,MAAM,CAAC;gBAGX,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,GAAG,kBAAkB,CAAC,UAAU,CAAC;gBAClE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;oBACtC,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;oBACzB,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,QAAQ,GAAG,SAAS,CAAC;gBACzB,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC;oBACb,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACtC,IAAI;oBACA,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC7B,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;gBACzB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACvF,CAAC;YACD,0CAAkB,GAAlB,UAAmB,OAAyB,EAAE,QAAa;gBACvD,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,GAAG,kBAAkB,CAAC,UAAU,CAAC;gBAClE,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;oBACf,OAAO,CAAC,eAAe,GAAG,QAAQ,CAAC;oBACnC,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,QAAQ,GAAG,SAAS,CAAC;gBACzB,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC;oBACb,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACtC,IAAI;oBACA,QAAQ,GAAG,OAAO,CAAC,eAAe,CAAC;gBACvC,OAAO,CAAC,eAAe,GAAG,QAAQ,CAAC;gBACnC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACvF,CAAC;YACD,wCAAgB,GAAhB,UAAiB,OAAyB,EAAE,QAAa;gBACrD,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,GAAG,kBAAkB,CAAC,aAAa,CAAC;gBACrE,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;oBACf,OAAO,CAAC,kBAAkB,GAAG,QAAQ,CAAC;oBACtC,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,QAAQ,GAAG,SAAS,CAAC;gBACzB,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC;oBACb,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACtC,IAAI;oBACA,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC;gBAC1C,OAAO,CAAC,kBAAkB,GAAG,QAAQ,CAAC;gBACtC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,aAAa,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YAC1F,CAAC;YAED,kCAAU,GAAV,UAAW,OAAmC;gBAC1C,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC7B,EAAE,CAAC,CAAC,QAAQ,KAAK,SAAS,CAAC;oBACvB,MAAM,CAAC;gBACX,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;gBAC1B,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;YACxF,CAAC;YAED,yCAAiB,GAAjB,UAAkB,OAAyB,EAAE,mBAAuC,EAAE,QAAa,EAAE,QAAa;gBAC9G,IAAI,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC;gBAC7B,EAAE,CAAC,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC;oBACzB,mBAAmB,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;oBACvD,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACtC,CAAC;gBAED,OAAO,CAAC,UAAU,GAAG,mBAAmB,CAAC;gBACzC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,IAAI,QAAQ,KAAK,QAAQ,CAAC;oBAC7C,MAAM,CAAC,SAAS,CAAC;gBAErB,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC7B,EAAE,CAAC,CAAC,QAAQ,YAAY,gBAAU,CAAC;wBAClB,QAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;oBAC7C,EAAE,CAAC,CAAC,QAAQ,YAAY,gBAAU,CAAC,CAAC,CAAC;wBACjC,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;wBACzB,EAAE,CAAC,CAAC,CAAc,QAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;4BACpE,KAAK,CAAC,cAAc,EAAE,CAAC;oBAC/B,CAAC;gBACL,CAAC;gBAED,IAAI,IAAI,GAAG;oBACP,QAAQ,EAAE,KAAK;oBACf,QAAQ,EAAE,QAAQ;oBAClB,QAAQ,EAAE,QAAQ;iBACrB,CAAC;gBACF,IAAI,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC;gBACvC,EAAE,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC;oBACtB,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACxC,IAAI,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC;gBACtC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACZ,IAAI,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC;oBAC3B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC3B,SAAS,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBACjD,CAAC;gBACL,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,uCAAe,GAAf,UAAgB,MAAwB,EAAE,KAAyB,EAAE,IAAiE,EAAG,OAAY;gBACjJ,IAAI,OAAO,GAAG,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;gBACxC,IAAI,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC;gBACtC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;oBAAC,SAAS,GAAG,OAAO,CAAC,aAAa,GAAG,EAAE,CAAC;gBAEvD,IAAI,QAAQ,GAAG;oBACX,MAAM,EAAE;wBACJ,IAAI,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBACxC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;4BACX,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACnC,CAAC;oBACD,QAAQ,EAAE,KAAK;oBACf,iBAAiB,EAAE,UAAU,MAAwB,EAAE,IAAyC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC1I,CAAC;gBACF,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACzB,MAAM,CAAC,QAAQ,CAAC;YACpB,CAAC;YAED,qCAAa,GAAb,UAAc,IAAsB,EAAE,KAAyB;gBAC3D,MAAM,CAAC;oBACH,SAAS,EAAE,IAAI,CAAC,QAAQ;oBACxB,QAAQ,EAAE,KAAK;oBACf,UAAU,EAAE,kBAAkB,CAAC,YAAY;oBAC3C,UAAU,EAAE,SAAS;oBACrB,KAAK,EAAE,SAAS;oBAChB,eAAe,EAAE,SAAS;oBAC1B,kBAAkB,EAAE,SAAS;oBAC7B,aAAa,EAAE,SAAS;iBAC3B,CAAC;YACN,CAAC;YACD,6BAAK,GAAL,UAAM,IAAsB,EAAE,aAA+B;gBACzD,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC;gBAClE,UAAU,CAAC,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC;gBAGjD,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACpD,IAAI,KAAK,GAAG,UAAU,CAAC,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC;gBAC7D,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACR,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,UAAU,CAAC;oBACtC,CAAC;gBACL,CAAC;gBAED,MAAM,CAAC,UAAU,CAAC;YACtB,CAAC;YACL,oBAAC;QAAD,CAjLA,AAiLC,IAAA;QAjLY,uBAAa,gBAiLzB,CAAA;QACD,aAAa,CAAC,QAAQ,GAAG,IAAI,aAAa,EAAE,CAAC;IACjD,CAAC,EA9NY,SAAS,GAAT,eAAS,KAAT,eAAS,QA8NrB;AAAD,CAAC,EA9NM,KAAK,KAAL,KAAK,QA8NX;AC7ND,IAAO,KAAK,CA0CX;AA1CD,WAAO,KAAK;IAAC,IAAA,SAAS,CA0CrB;IA1CY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAoC,kCAAa;YAAjD;gBAAoC,8BAAa;YAuCjD,CAAC;YApCG,iCAAQ,GAAR,UAAS,OAAyB;gBAC9B,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;YACzB,CAAC;YACD,2CAAkB,GAAlB,UAAmB,OAAyB;gBACxC,MAAM,CAAC,4BAAkB,CAAC,UAAU,CAAC;YACzC,CAAC;YACD,sCAAa,GAAb,UAAc,OAAmC,EAAE,QAAa;gBAC5D,OAAO,CAAC,IAAI,CAAC,6CAA6C,CAAC,CAAC;YAChE,CAAC;YACD,mCAAU,GAAV,UAAW,OAAmC;gBAC1C,OAAO,CAAC,IAAI,CAAC,+CAA+C,CAAC,CAAC;YAClE,CAAC;YACD,wCAAe,GAAf,UAAgB,MAAwB,EAAE,KAAyB,EAAE,IAAiE,EAAE,OAAY;gBAChJ,MAAM,CAAC;oBACH,QAAQ,EAAE,KAAK;oBACf,iBAAiB,EAAE,UAAU,MAAwB,EAAE,IAAyC,IAAI,CAAC;oBACrG,MAAM,EAAE,cAAc,CAAC;iBAC1B,CAAC;YACN,CAAC;YACD,8BAAK,GAAL,UAAM,IAAsB,EAAE,aAA+B;gBACzD,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,YAAY,0BAAoB,CAAC,CAAC,CAAC;oBACtD,IAAI,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC;oBACpE,IAAI,OAAO,GAA8B,UAAU,CAAC,KAAK,CAAC;oBAC1D,OAAO,CAAC,SAAS,CAA4B,aAAa,CAAC,KAAK,CAAC,CAAC;oBAClE,IAAI,KAAK,GAAG,UAAU,CAAC,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC;oBAC7D,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;wBACR,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BACpC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,UAAU,CAAC;wBACtC,CAAC;oBACL,CAAC;oBACD,MAAM,CAAC,UAAU,CAAC;gBACtB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;oBAC7C,MAAM,CAAC,gBAAK,CAAC,KAAK,YAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBAC5C,CAAC;YACL,CAAC;YACL,qBAAC;QAAD,CAvCA,AAuCC,CAvCmC,uBAAa,GAuChD;QAvCY,wBAAc,iBAuC1B,CAAA;QACD,cAAc,CAAC,QAAQ,GAAG,IAAI,cAAc,EAAE,CAAC;IACnD,CAAC,EA1CY,SAAS,GAAT,eAAS,KAAT,eAAS,QA0CrB;AAAD,CAAC,EA1CM,KAAK,KAAL,KAAK,QA0CX;ACnCD;IAAA;QAWI,eAAU,GAAY,KAAK,CAAC;QAC5B,aAAQ,GAAY,IAAI,CAAC;QACzB,eAAU,GAAY,KAAK,CAAC;QAC5B,kBAAa,GAAY,KAAK,CAAC;QAC/B,gBAAW,GAAY,KAAK,CAAC;QAE7B,iBAAY,GAAY,KAAK,CAAC;QAEtB,aAAQ,GAAiF,IAAI,CAAC;QAC9F,eAAU,GAAoG,IAAI,CAAC;IA4N/H,CAAC;IA1NU,2BAAQ,GAAf,UAAiB,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG;QAC7L,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC;QACrD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,mCAAgB,GAAvB,UAAyB,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG;QACrM,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;QACxB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC;QACrD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,mCAAgB,GAAvB,UAAyB,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG;QACrM,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;QACxB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC;QACrD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,+BAAY,GAAnB,UAAqB,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG;QACjM,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;QACvB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC;QACrD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,uCAAoB,GAA3B,UAA6B,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG;QACzM,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;QACvB,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;QACxB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC;QACrD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,uCAAoB,GAA3B,UAA6B,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG;QACzM,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;QACvB,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;QACxB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC;QACrD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,oCAAiB,GAAxB,UAA4B,IAAY,EAAE,aAA0B,EAAE,SAAc;QAChF,IAAI,KAAK,GAAG,IAAI,2BAA2B,EAAK,CAAC;QACjD,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,SAAS,CAAC;QAC/B,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;QACzB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC;QACtD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,sCAAmB,GAA1B,UAA4B,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG;QACxM,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtB,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC;QAC3B,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC;QACtD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,+BAAY,GAAnB,UAAqB,IAAY,EAAE,aAA0B,EAAE,SAAc,EAAE,YAAkB,EAAE,eAAkG,EAAE,OAAsF,EAAE,YAAsB,EAAE,SAA4F,EAAE,QAAkB,EAAE,UAAoB,EAAE,UAAoB;QAC/c,IAAI,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;QACpC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;QAC5B,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,eAAe,GAAG,eAAe,CAAC;QACxC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;QACzB,KAAK,CAAC,YAAY,GAAG,YAAY,CAAC;QAClC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;QAC7B,KAAK,CAAC,QAAQ,GAAG,QAAQ,KAAK,KAAK,CAAC;QACpC,KAAK,CAAC,UAAU,GAAG,UAAU,KAAK,IAAI,CAAC;QACvC,KAAK,CAAC,UAAU,GAAG,UAAU,KAAK,IAAI,CAAC;QACvC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC;QACrD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEO,2CAAc,GAAtB;QACI,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACrB,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAC/B,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,OAAO,SAAS,KAAK,UAAU,CAAC;YAC9C,MAAM,IAAI,yBAAyB,CAAC,qDAAqD,CAAC,CAAC;QAC/F,IAAI,aAAa,GAAS,SAAU,CAAC,cAAc,CAAC;QACpD,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YACjB,IAAI,aAAa,GAAQ,EAAE,CAAC;YAC5B,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,gBAAgB,EAAE;gBAC/C,KAAK,EAAE,aAAa;gBACpB,UAAU,EAAE,KAAK;gBACjB,QAAQ,EAAE,KAAK;aAClB,CAAC,CAAC;QACP,CAAC;QACD,EAAE,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,SAAS,CAAC;YAClC,MAAM,IAAI,yBAAyB,CAAC,8CAA8C,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;QACrG,aAAa,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,GAAG,GAAG,kBAAkB,CAAC,OAAO,GAAG,kBAAkB,CAAC,OAAO,GAAG,CAAC,CAAC;QACvE,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QAEzC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;YACjB,MAAM,CAAC;QAEX,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG;YACT,MAAM,CAA0B,IAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1D,CAAC,CAAC;QACF,IAAI,MAAM,GAAG,UAAU,KAAK;YACC,IAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAC1D,CAAC,CAAC;QACF,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;YAChB,MAAM,GAAG,UAAU,KAAK;gBACpB,MAAM,IAAI,SAAS,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,GAAG,gBAAgB,CAAC,CAAC;YACtE,CAAC,CAAC;QACN,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE;YAClD,GAAG,EAAE,MAAM;YACX,GAAG,EAAE,MAAM;YACX,YAAY,EAAE,IAAI;SACrB,CAAC,CAAC;IACP,CAAC;IAED,qCAAQ,GAAR,UAAU,IAAS;QACf,IAAI,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;QACxC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YACjB,IAAI,aAAa,GAAQ,EAAE,CAAC;YAC5B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,gBAAgB,EAAE;gBAC1C,KAAK,EAAE,aAAa;gBACpB,UAAU,EAAE,KAAK;gBACjB,QAAQ,EAAE,KAAK;aAClB,CAAC,CAAC;QACP,CAAC;QACD,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QAEhC,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM,GAAG;YACT,MAAM,CAA0B,IAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1D,CAAC,CAAC;QACF,IAAI,MAAM,GAAG,UAAU,KAAK;YACC,IAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAC1D,CAAC,CAAC;QACF,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE;YAC7C,GAAG,EAAE,MAAM;YACX,GAAG,EAAE,MAAM;YACX,YAAY,EAAE,IAAI;SACrB,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,6CAAgB,GAAhB,UAAkB,IAA4B,EAAE,KAAU,EAAE,UAAuB;QAC/E,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;YACd,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QAKjD,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;QAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;YAChB,UAAU,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QACvE,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAEM,wCAAqB,GAA5B,UAA8B,SAAc,EAAE,IAAY,EAAE,OAAiB;QACzE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;YACX,MAAM,CAAC,SAAS,CAAC;QACrB,IAAI,GAAG,GAA+B,SAAU,CAAC,cAAc,CAAC;QAChE,IAAI,KAAyB,CAAC;QAC9B,EAAE,CAAC,CAAC,GAAG,CAAC;YACJ,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;QACtB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YACP,KAAK,GAAG,kBAAkB,CAAC,qBAAqB,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACrG,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC;YACnB,MAAM,IAAI,SAAS,CAAC,qCAAqC,GAAS,SAAU,CAAC,IAAI,GAAG,KAAK,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;QAC5G,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IA9OM,6BAAU,GAAG,EAAE,CAAC;IAER,uBAAI,GAAyB,EAAE,CAAC;IAChC,0BAAO,GAAW,CAAC,CAAC;IA4OvC,yBAAC;AAAD,CAhPA,AAgPC,IAAA;AACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;AAE1C;IAA6C,+CAAkB;IAA/D;QAA6C,8BAAkB;QAC3D,gBAAW,GAAY,IAAI,CAAC;IAahC,CAAC;IAXG,gDAAU,GAAV,UAAY,IAA4B;QACpC,IAAI,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACrD,OAAO,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC,UAAU,CAAC;QACnE,IAAI,IAAI,GAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;QACrC,IAAI,GAAG,GAAM,IAAI,IAAI,EAAE,CAAC;QACxB,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE;YACnC,KAAK,EAAE,GAAG;YACV,QAAQ,EAAE,KAAK;SAClB,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;IAC/B,CAAC;IACL,kCAAC;AAAD,CAdA,AAcC,CAd4C,kBAAkB,GAc9D;ACxQD,IAAO,KAAK,CA+DX;AA/DD,WAAO,KAAK;IAAC,IAAA,SAAS,CA+DrB;IA/DY,WAAA,SAAS,EAAC,CAAC;QAKpB;YAAsC,oCAAa;YAAnD;gBAAsC,8BAAa;YAwDnD,CAAC;YAtDG,mCAAQ,GAAR,UAAS,OAA4B;gBACjC,IAAI,GAAG,GAAG,gBAAK,CAAC,QAAQ,YAAC,OAAO,CAAC,CAAC;gBAClC,EAAE,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC;oBAClB,GAAG,GAAG,OAAO,CAAC,cAAc,CAAC;gBACjC,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACD,6CAAkB,GAAlB,UAAmB,OAA4B;gBAC3C,IAAI,IAAI,GAAG,gBAAK,CAAC,kBAAkB,YAAC,OAAO,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,IAAI,GAAG,4BAAkB,CAAC,oBAAoB,CAAC;oBAC/C,MAAM,CAAC,IAAI,CAAC;gBAChB,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,KAAK,SAAS,CAAC;oBACrC,MAAM,CAAC,4BAAkB,CAAC,oBAAoB,CAAC;gBACnD,MAAM,CAAC,4BAAkB,CAAC,YAAY,CAAC;YAC3C,CAAC;YACD,6CAAkB,GAAlB,UAAmB,OAA4B,EAAE,YAAkB;gBAC/D,IAAI,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC;gBAC1C,OAAO,CAAC,cAAc,GAAG,YAAY,CAAC;gBACtC,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,4BAAkB,CAAC,oBAAoB,IAAI,YAAY,KAAK,YAAY,CAAC;oBAC/F,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,4BAAkB,CAAC,oBAAoB,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;YAC7G,CAAC;YAED,wCAAa,GAAb,UAAc,IAAsB,EAAE,KAAyB;gBAC3D,MAAM,CAAC;oBACH,SAAS,EAAE,IAAI,CAAC,QAAQ;oBACxB,QAAQ,EAAE,KAAK;oBACf,UAAU,EAAE,4BAAkB,CAAC,YAAY;oBAC3C,UAAU,EAAE,SAAS;oBACrB,KAAK,EAAE,SAAS;oBAChB,eAAe,EAAE,SAAS;oBAC1B,kBAAkB,EAAE,SAAS;oBAC7B,cAAc,EAAE,SAAS;oBACzB,aAAa,EAAE,SAAS;iBAC3B,CAAC;YACN,CAAC;YAED,4CAAiB,GAAjB,UAAkB,OAA4B,EAAE,mBAAuC,EAAE,QAAa,EAAE,QAAa;gBACjH,IAAI,IAAI,GAAG,gBAAK,CAAC,iBAAiB,YAAC,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBACrF,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACP,EAAE,CAAC,CAAC,mBAAmB,GAAG,4BAAkB,CAAC,UAAU,IAAI,IAAI,CAAC,8BAA8B,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACnH,MAAM,CAAC;oBACX,OAAO,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACzE,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAEO,yDAA8B,GAAtC,UAAuC,OAA4B,EAAE,cAAmB;gBACpF,IAAI,GAAG,GAAG,OAAO,CAAC,cAAc,CAAC;gBACjC,IAAI,KAAK,GAAuB,OAAO,CAAC,SAAS,CAAC,OAAQ,CAAC,YAAY,CAAC;gBACxE,IAAI,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;oBACR,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;gBAC5C,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,uBAAC;QAAD,CAxDA,AAwDC,CAxDqC,uBAAa,GAwDlD;QAxDY,0BAAgB,mBAwD5B,CAAA;QACD,gBAAgB,CAAC,QAAQ,GAAG,IAAI,gBAAgB,EAAE,CAAC;IACvD,CAAC,EA/DY,SAAS,GAAT,eAAS,KAAT,eAAS,QA+DrB;AAAD,CAAC,EA/DM,KAAK,KAAL,KAAK,QA+DX;ACjED,IAAO,KAAK,CA4BX;AA5BD,WAAO,KAAK,EAAC,CAAC;IAKV,oBAAmC,KAAyB,EAAE,QAAsC,EAAE,MAAgB;QAClH,EAAE,CAAC,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;YACnB,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAS,QAAQ,CAAC,CAAC;QACvD,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,CAAC,eAAe,GAAG,SAAS,CAAS,QAAQ,CAAC,CAAC;QACxD,CAAC;IACL,CAAC;IANe,gBAAU,aAMzB,CAAA;IAED,kBAAqB,QAAgC;QACjD,MAAM,CAAC,UAAC,IAAsB,EAAE,IAAwC;YACpE,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7D,CAAC,CAAC;IACN,CAAC;IAED,mBAAsB,QAAgC;QAClD,MAAM,CAAC,UAAC,IAAsB,EAAE,IAAwC;YACpE,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,eAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACpB,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACnC,aAAO,CAAC,EAAE,EAAE,IAAI,EAAE,cAAM,OAAA,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC,EAAtB,CAAsB,CAAC,CAAC;QACpD,CAAC,CAAC;IACN,CAAC;AACL,CAAC,EA5BM,KAAK,KAAL,KAAK,QA4BX;AC5BD,IAAO,KAAK,CAmDX;AAnDD,WAAO,KAAK,EAAC,CAAC;IASV,gBAAwB,GAAQ,EAAE,GAAS;QACvC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;YACL,MAAM,CAAC;QACX,IAAI,SAAS,GAAgB,GAAI,CAAC,WAAW,CAAC;QAC9C,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;YACX,MAAM,CAAC;QACX,IAAI,EAAE,GAAgB,GAAI,CAAC,kBAAkB,CAAC;QAC9C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAVe,YAAM,SAUrB,CAAA;IAED,iBAAyB,GAAQ,EAAE,KAAU,EAAE,OAA2B;QACtE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;YACL,MAAM,CAAC;QACX,IAAI,EAAE,GAAG,GAAG,CAAC,kBAAkB,CAAC;QAChC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACN,EAAE,GAAG,EAAE,CAAC;YACR,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,oBAAoB,EAAE,EAAC,KAAK,EAAE,EAAE,EAAE,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;QACrF,CAAC;QACD,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACf,IAAI,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC;QAChC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACb,SAAS,GAAG,EAAE,CAAC;YACf,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,aAAa,EAAE,EAAC,KAAK,EAAE,SAAS,EAAE,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;QACrF,CAAC;QACD,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5B,CAAC;IAfe,aAAO,UAetB,CAAA;IAED,mBAA2B,GAAQ,EAAE,KAAU;QAC3C,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;YACL,MAAM,CAAC;QACX,IAAI,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC;QAChC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;YACX,MAAM,CAAC;QACX,IAAI,EAAE,GAAG,GAAG,CAAC,kBAAkB,CAAC;QAChC,IAAI,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC9B,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;YACV,MAAM,CAAC;QACX,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC;IAZe,eAAS,YAYxB,CAAA;AACL,CAAC,EAnDM,KAAK,KAAL,KAAK,QAmDX;AC3CD,IAAO,KAAK,CAgNX;AAhND,WAAO,KAAK,EAAC,CAAC;IACV;QAA4B,0BAAQ;QAEhC,gBAAY,IAAsB;YAC9B,kBAAM,IAAI,CAAC,CAAC;QAChB,CAAC;QAED,gCAAe,GAAf,UAAgB,aAAuB,EAAE,aAAuB;YAC5D,gBAAK,CAAC,eAAe,YAAC,aAAa,EAAE,aAAa,CAAC,CAAC;YACpD,IAAI,KAAK,GAAG,gBAAgB,CAAC,mBAAmB,CAAC;YACjD,IAAI,OAAO,GAAkC,eAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YACvF,IAAI,YAAY,GAAG,aAAa,GAAG,aAAa,CAAC,WAAW,GAAG,SAAS,CAAC;YAC5C,KAAK,CAAC,KAAM,CAAC,kBAAkB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QACxF,CAAC;QAED,sBAAI,+BAAW;iBAAf,cAAyB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;iBAC3D,UAAgB,KAAU;gBACtB,IAAI,KAAK,GAAG,gBAAgB,CAAC,mBAAmB,CAAC;gBACjD,IAAI,OAAO,GAAkC,eAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBAC1D,KAAK,CAAC,KAAM,CAAC,kBAAkB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YACjF,CAAC;;;WAL0D;QAM3D,qCAAoB,GAApB,UAAqB,cAAmB,EAAE,cAAmB;YACzD,IAAI,KAAK,GAAG,gBAAgB,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;YAChE,IAAI,KAAK,GAAuB,IAAI,CAAC,OAAQ,CAAC,YAAY,CAAC;YAC3D,IAAI,IAAgB,CAAC;YACrB,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC;gBACnB,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,gBAAU,CAAC,CAAC;oBAC9B,QAAQ,CAAC;gBAEb,EAAE,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC;oBACb,QAAQ,CAAC;gBACb,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;YAC9C,CAAC;YACD,gBAAK,CAAC,oBAAoB,YAAC,cAAc,EAAE,cAAc,CAAC,CAAC;QAC/D,CAAC;QACL,aAAC;IAAD,CAnCA,AAmCC,CAnC2B,cAAQ,GAmCnC;IAnCY,YAAM,SAmClB,CAAA;IAED;QAAsC,oCAAU;QAO5C;YACI,iBAAO,CAAC;YAPJ,iBAAY,GAAiB,EAAE,CAAC;YACxC,qBAAgB,GAAiC,EAAE,CAAC;QAOpD,CAAC;QAED,qCAAU,GAAV,cAAuB,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAEjD,mCAAQ,GAAR,UAAS,KAAyB;YAC9B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;gBACP,MAAM,IAAI,iBAAiB,CAAC,wBAAwB,CAAC,CAAC;YAC1D,IAAI,OAAO,GAAG,eAAS,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChD,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC;QACD,mCAAQ,GAAR,UAAS,KAAyB,EAAE,KAAU;YAC1C,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;gBACP,MAAM,IAAI,iBAAiB,CAAC,wBAAwB,CAAC,CAAC;YAC1D,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC;gBACjB,MAAM,IAAI,yBAAyB,CAAC,sBAAsB,GAAS,KAAK,CAAC,SAAU,CAAC,IAAI,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,GAAG,iBAAiB,CAAC,CAAC;YACrI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACxC,CAAC;QACD,2CAAgB,GAAhB,UAAiB,KAAyB,EAAE,KAAU;YAClD,IAAI,UAAsB,CAAC;YAC3B,EAAE,CAAC,CAAC,KAAK,YAAY,gBAAU,CAAC,CAAC,CAAC;gBAC9B,UAAU,GAAG,KAAK,CAAC;gBACnB,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACjC,CAAC;YAED,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE5C,IAAI,YAAY,GAAG,KAAK,CAAC;YACzB,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBACb,EAAE,CAAC,CAAC,UAAU,KAAK,QAAQ,CAAC,CAAC,CAAC;oBAC1B,EAAE,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;wBACtB,MAAM,IAAI,iBAAiB,CAAC,iEAAiE,CAAC,CAAC;oBAEnG,EAAE,CAAC,CAAC,QAAQ,CAAC;wBACT,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;oBAClC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;gBAC3C,CAAC;gBACD,gBAAgB,GAAG,IAAI,CAAC;gBACxB,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,EAAE,CAAC,CAAC,QAAQ,YAAY,UAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBACjD,IAAI,OAAO,GAAgC,QAAS,CAAC,aAAa,CAAC;oBACnE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,UAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC3C,YAAY,GAAG,CAAC,QAAQ,CAAC,UAAU,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;oBAC3D,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,IAAI,OAAO,CAAC,IAAI,KAAK,UAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;wBAC3E,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;oBAClC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;YACL,CAAC;YAED,IAAI,OAAO,GAAG,eAAS,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChD,IAAI,CAAC;gBACD,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBAC1C,EAAE,CAAC,CAAC,YAAY,CAAC;oBACgB,QAAS,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YAC7E,CAAE;YAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACX,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;oBAClB,MAAM,GAAG,CAAC;gBACd,IAAI,GAAG,GAAG,uBAAuB,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;gBACnD,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC;gBACjB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAClB,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;gBACvD,EAAE,CAAC,CAAC,YAAY,CAAC;oBACgB,QAAS,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YAC7E,CAAC;QACL,CAAC;QACD,0CAAe,GAAf,UAAgB,KAAyB,EAAE,KAAU;YACjD,IAAI,OAAO,GAAG,eAAS,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChD,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAE1C,IAAI,IAAI,GAA+B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACpE,EAAE,CAAC,CAAC,IAAI,YAAY,UAAI,CAAC,qBAAqB,CAAC;gBAC3C,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;QAC3C,CAAC;QACD,qCAAU,GAAV,UAAW,KAAyB;YAChC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;gBACP,MAAM,IAAI,iBAAiB,CAAC,yBAAyB,CAAC,CAAC;YAC3D,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;gBACpC,MAAM,IAAI,iBAAiB,CAAC,4BAA4B,CAAC,CAAC;YAC9D,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAE9B,IAAI,OAAO,GAAG,eAAS,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChD,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC;YAC/B,EAAE,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC1B,MAAM,CAAC;YACX,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACpC,CAAC;QACD,yCAAc,GAAd,UAAe,KAAyB;YACpC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;gBACP,MAAM,IAAI,iBAAiB,CAAC,wBAAwB,CAAC,CAAC;YAC1D,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACxC,IAAI,GAAQ,CAAC;YACb,EAAE,CAAC,CAAC,IAAI,CAAC;gBACL,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC/B,IAAI;gBACA,GAAG,GAAG,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YAC7C,EAAE,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC;gBAClB,MAAM,CAAC,kBAAkB,CAAC,UAAU,CAAC;YACzC,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QACD,iDAAsB,GAAtB,UAAuB,KAAyB;YAC5C,IAAI,OAAO,GAAG,eAAS,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAChD,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;QACzB,CAAC;QAEO,yCAAc,GAAtB,UAAuB,KAAyB,EAAE,IAAgB;YAC9D,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC;QACO,4CAAiB,GAAzB,UAA0B,KAAyB;YAC/C,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACxC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACP,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;gBACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC;QACL,CAAC;QACD,sDAA2B,GAA3B,UAA4B,KAAyB;YACjD,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACxC,MAAM,CAAC,IAAI,YAAY,6BAAuB,CAAC;QACnD,CAAC;QACD,+CAAoB,GAApB,UAAqB,KAAyB;YAC1C,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACxC,EAAE,CAAC,CAAC,IAAI,YAAY,UAAI,CAAC,qBAAqB,CAAC;gBAC3C,MAAM,CAA6B,IAAI,CAAC;QAChD,CAAC;QACD,+CAAoB,GAApB,UAAqB,KAAyB;YAC1C,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,gBAAU,CAAC;gBACnD,MAAM,CAAC,IAAI,CAAC;YAChB,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,KAAK,SAAS,CAAC;QAC5D,CAAC;QACD,qCAAU,GAAV,UAAW,KAAyB,EAAE,OAAqB;YACvD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;gBACP,MAAM,IAAI,iBAAiB,CAAC,OAAO,CAAC,CAAC;YACzC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,IAAI,iBAAiB,CAAC,SAAS,CAAC,CAAC;YAE3C,IAAI,CAAC,GAAG,IAAI,UAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;YAC5C,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAED,oCAAS,GAAT,UAAU,MAAwB;YAC9B,IAAI,IAAI,GAAG,MAAM,CAAC,gBAAgB,CAAC;YACnC,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACjC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,IAAI,GAAG,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YACtC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC;gBAClB,IAAI,OAAO,GAA+B,IAAI,CAAC,EAAE,CAAC,CAAC;gBACnD,IAAI,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAC3D,CAAC;QACL,CAAC;QAED,0CAAe,GAAf,UAAiB,KAAyB,EAAE,IAAiE,EAAE,OAAa;YACxH,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QACnE,CAAC;QAjKM,oCAAmB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,CAAC,CAAC;QAkK5G,uBAAC;IAAD,CAtKA,AAsKC,CAtKqC,gBAAU,GAsK/C;IAtKY,sBAAgB,mBAsK5B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAExC,gBAAgB,CAAC,mBAAmB,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC;AAC3F,CAAC,EAhNM,KAAK,KAAL,KAAK,QAgNX;ACxND,IAAO,KAAK,CAuEX;AAvED,WAAO,KAAK,EAAC,CAAC;IASV,oBAAmC,KAAyB,EAAE,QAAsC,EAAE,MAAgB,EAAE,IAAU,EAAE,QAAc;QAC9I,IAAI,OAAiB,CAAC;QACtB,EAAE,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;YACjB,OAAO,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,GAAG,QAAQ,CAAS,QAAQ,CAAC,GAAG,SAAS,CAAS,QAAQ,CAAC,CAAC;QAC5F,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;YACtB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACrD,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,UAAU,CAAC;gBAC3B,OAAO,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,GAAG,SAAS,CAAS,QAAQ,EAAE,IAAI,CAAC,GAAG,UAAU,CAAS,QAAQ,EAAE,IAAI,CAAC,CAAC;YAC1G,IAAI;gBACA,OAAO,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,GAAG,SAAS,CAAS,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,UAAU,CAAS,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QAC1H,CAAC;QACD,EAAE,CAAC,CAAC,QAAQ,CAAC;YACT,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,EAAE,KAAK,EAAO,OAAO,EAAE,QAAQ,CAAC,CAAC;QACzE,IAAI;YACA,KAAK,CAAC,eAAe,GAAQ,OAAO,CAAC;IAC7C,CAAC;IAhBe,gBAAU,aAgBzB,CAAA;IAED,kBAAqB,QAAgC;QACjD,MAAM,CAAC,UAAC,GAAc,EAAE,IAAwC;YAC5D,QAAQ,IAAI,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QACxF,CAAC,CAAC;IACN,CAAC;IAED,mBAAsB,QAAgC,EAAE,IAAY,EAAE,MAAkC;QACpG,MAAM,CAAC,UAAC,GAAc,EAAE,IAAwC;YAC5D,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;YACrC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;gBACR,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YAC1B,IAAI;gBACA,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YACjC,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QAC3C,CAAC,CAAC;IACN,CAAC;IAED,mBAAsB,QAAgC;QAClD,MAAM,CAAC,UAAC,GAAc,EAAE,IAAwC;YAC5D,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;YACrC,eAAS,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YACnB,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;YACvC,aAAO,CAAC,EAAE,EAAE,GAAG,EAAE,cAAM,OAAA,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAA1B,CAA0B,CAAC,CAAC;QACvD,CAAC,CAAC;IACN,CAAC;IAED,oBAAuB,QAAgC,EAAE,IAAY,EAAE,MAAkC;QACrG,MAAM,CAAC,UAAC,GAAc,EAAE,IAAwC;YAC5D,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;YACrC,eAAS,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;gBACR,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YAC1B,IAAI;gBACA,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YACjC,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;YACvC,aAAO,CAAC,EAAE,EAAE,GAAG,EAAE,cAAM,OAAA,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAtC,CAAsC,CAAC,CAAC;QACnE,CAAC,CAAC;IACN,CAAC;AACL,CAAC,EAvEM,KAAK,KAAL,KAAK,QAuEX;ACvED,IAAO,KAAK,CAcX;AAdD,WAAO,KAAK,EAAC,CAAC;IACV,4BAA2C,KAAyB,EAAE,QAAsC;QACxG,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAS,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAClH,CAAC;IAFe,wBAAkB,qBAEjC,CAAA;IAED,kBAAqB,IAAY,EAAE,QAAiC;QAChE,MAAM,CAAC,UAAC,GAAc,EAAE,IAAwC;YAC5D,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;YACrC,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YAC/B,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QAC3C,CAAC,CAAC;IACN,CAAC;AACL,CAAC,EAdM,KAAK,KAAL,KAAK,QAcX;ACZD,IAAO,KAAK,CA0HX;AA1HD,WAAO,KAAK;IAAC,IAAA,SAAS,CA0HrB;IA1HY,WAAA,SAAS,EAAC,CAAC;QASpB;YAAoC,kCAAa;YAAjD;gBAAoC,8BAAa;YA+GjD,CAAC;YA7GG,iCAAQ,GAAR,UAAS,OAA0B;gBAC/B,IAAI,GAAQ,CAAC;gBACb,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,SAAS,CAAC;oBACpC,MAAM,CAAC,GAAG,CAAC;gBACf,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,eAAe,CAAC,KAAK,SAAS,CAAC;oBAC9C,MAAM,CAAC,GAAG,CAAC;gBACf,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,kBAAkB,CAAC,KAAK,SAAS,CAAC;oBACjD,MAAM,CAAC,GAAG,CAAC;gBACf,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,CAAC,cAAc,CAAC,KAAK,SAAS,CAAC;oBAC7C,MAAM,CAAC,GAAG,CAAC;gBACf,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC;YACzC,CAAC;YACD,2CAAkB,GAAlB,UAAmB,OAA0B;gBACzC,IAAI,IAAI,GAAG,gBAAK,CAAC,kBAAkB,YAAC,OAAO,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,IAAI,GAAG,4BAAkB,CAAC,SAAS,CAAC;oBACpC,MAAM,CAAC,IAAI,CAAC;gBAChB,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,KAAK,SAAS,CAAC;oBACrC,MAAM,CAAC,4BAAkB,CAAC,SAAS,CAAC;gBACxC,MAAM,CAAC,4BAAkB,CAAC,YAAY,CAAC;YAC3C,CAAC;YAED,0CAAiB,GAAjB,UAAkB,OAAyB,EAAE,mBAAuC,EAAE,QAAa,EAAE,QAAa;gBAC9G,IAAI,IAAI,GAAG,gBAAK,CAAC,iBAAiB,YAAC,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBACrF,EAAE,CAAC,CAAC,mBAAmB,IAAI,4BAAkB,CAAC,SAAS,CAAC;oBACpD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBAClE,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,sCAAa,GAAb,UAAc,IAAsB,EAAE,KAAyB;gBAC3D,MAAM,CAAC;oBACH,SAAS,EAAE,IAAI,CAAC,QAAQ;oBACxB,QAAQ,EAAE,KAAK;oBACf,UAAU,EAAE,4BAAkB,CAAC,YAAY;oBAC3C,UAAU,EAAE,SAAS;oBACrB,KAAK,EAAE,SAAS;oBAChB,eAAe,EAAE,SAAS;oBAC1B,kBAAkB,EAAE,SAAS;oBAC7B,cAAc,EAAE,SAAS;oBACzB,aAAa,EAAE,SAAS;iBAC3B,CAAC;YACN,CAAC;YAEM,sCAAuB,GAA9B,UAA+B,IAAsB,EAAE,WAAmB;gBACtE,IAAI,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC;gBACtC,IAAI,KAAK,GAAmB,cAAc,CAAC,QAAQ,CAAC;gBACpD,IAAI,GAAG,GAA2B,WAAY,CAAC,gBAAgB,CAAC;gBAChE,IAAI,OAAyB,CAAC;gBAE9B,IAAI,QAAQ,GAAG,sBAAgB,CAAC,sBAAsB,CAAC;gBACvD,IAAI,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAC1B,IAAI,KAAyB,CAAC;gBAC9B,IAAI,QAAa,CAAC;gBAClB,IAAI,UAAoB,CAAC;gBACzB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3B,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACpB,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC3B,OAAO,UAAU,IAAI,CAAC,CAA0B,UAAU,CAAC,OAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;wBACxF,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;oBACvC,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;wBACZ,QAAQ,CAAC;oBACb,QAAQ,GAAsB,UAAU,CAAC,OAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;oBAClE,EAAE,CAAC,CAAC,QAAQ,KAAK,KAAK,CAAC,YAAY,CAAC;wBAChC,QAAQ,CAAC;oBAEb,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;wBAAC,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;oBACjF,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;wBACvD,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;gBACtD,CAAC;YACL,CAAC;YACM,qCAAsB,GAA7B,UAA8B,IAAsB,EAAE,WAAmB;gBACrE,IAAI,KAAK,GAAmB,cAAc,CAAC,QAAQ,CAAC;gBACpD,IAAI,QAAQ,GAAG,sBAAgB,CAAC,sBAAsB,CAAC;gBACvD,IAAI,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAC1B,IAAI,KAAyB,CAAC;gBAC9B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3B,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACpB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;wBACxD,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;gBACvD,CAAC;YACL,CAAC;YACO,kCAAS,GAAjB,UAAkB,SAAmB,EAAE,KAAyB,EAAE,QAAa;gBAC3E,IAAI,UAAU,GAAG,SAAS,CAAC,sBAAsB,EAAE,CAAC;gBACpD,IAAI,GAAW,CAAC;gBAChB,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBAC3B,GAAG,GAAW,UAAU,CAAC,OAAO,CAAC;oBACjC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;wBAC9C,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;YACO,0CAAiB,GAAzB,UAA0B,GAAW,EAAE,KAAyB,EAAE,QAAa;gBAE3E,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC;gBACvB,EAAE,CAAC,CAAC,CAA0B,IAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACrD,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,OAAO,GAAsB,oBAAU,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBACzD,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,4BAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;oBAEpD,OAAO,CAAC,cAAc,GAAG,QAAQ,CAAC;oBAClC,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;gBACD,IAAI,QAAQ,GAAG,OAAO,CAAC,cAAc,CAAC;gBACtC,EAAE,CAAC,CAAC,QAAQ,KAAK,SAAS,CAAC;oBAAC,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC;gBAC1D,OAAO,CAAC,cAAc,GAAG,QAAQ,CAAC;gBAClC,OAAO,CAAC,UAAU,GAAG,4BAAkB,CAAC,SAAS,CAAC;gBAClD,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,4BAAkB,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBAClF,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,qBAAC;QAAD,CA/GA,AA+GC,CA/GmC,uBAAa,GA+GhD;QA/GY,wBAAc,iBA+G1B,CAAA;QACD,cAAc,CAAC,QAAQ,GAAG,IAAI,cAAc,EAAE,CAAC;IACnD,CAAC,EA1HY,SAAS,GAAT,eAAS,KAAT,eAAS,QA0HrB;AAAD,CAAC,EA1HM,KAAK,KAAL,KAAK,QA0HX;AC5HD,IAAO,KAAK,CAkGX;AAlGD,WAAO,KAAK,EAAC,CAAC;IACV,WAAY,WAAW;QACnB,yDAAc,CAAA;QACd,qDAAY,CAAA;IAChB,CAAC,EAHW,iBAAW,KAAX,iBAAW,QAGtB;IAHD,IAAY,WAAW,GAAX,iBAGX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IAEtD,WAAY,UAAU;QAClB,iDAAW,CAAA;QACX,qDAAa,CAAA;IACjB,CAAC,EAHW,gBAAU,KAAV,gBAAU,QAGrB;IAHD,IAAY,UAAU,GAAV,gBAGX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;IACpD,SAAS,CAAC,qBAAqB,CAAC,UAAU,EAAE,UAAU,GAAQ;QAC1D,EAAE,CAAC,CAAC,GAAG,KAAK,MAAM,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,UAAU,CAAC,OAAO,IAAI,GAAG,KAAK,SAAS,CAAC;YAClF,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;QAC9B,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,WAAY,UAAU;QAClB,iDAAO,CAAA;QACP,2CAAI,CAAA;QACJ,6CAAK,CAAA;QACL,2CAAI,CAAA;QACJ,mDAAQ,CAAA;QACR,mDAAQ,CAAA;QACR,+CAAM,CAAA;QACN,+CAAM,CAAA;IAEV,CAAC,EAVW,gBAAU,KAAV,gBAAU,QAUrB;IAVD,IAAY,UAAU,GAAV,gBAUX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;IACzC,wBAAkB,GAAG;QAC5B,OAAO,EAAE,EAAE;QACX,IAAI,EAAE,SAAS;QACf,KAAK,EAAE,MAAM;QACb,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,WAAW;QACrB,QAAQ,EAAE,WAAW;QACrB,MAAM,EAAE,UAAU;QAClB,MAAM,EAAE,UAAU;KAErB,CAAA;IAED,WAAY,mBAAmB;QAC3B,6DAAQ,CAAA;QACR,iEAAU,CAAA;QACV,+DAAS,CAAA;QACT,mEAAW,CAAA;IACf,CAAC,EALW,yBAAmB,KAAnB,yBAAmB,QAK9B;IALD,IAAY,mBAAmB,GAAnB,yBAKX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;IAEtE,WAAY,iBAAiB;QACzB,uDAAO,CAAA;QACP,6DAAU,CAAA;QACV,6DAAU,CAAA;QACV,+DAAW,CAAA;IACf,CAAC,EALW,uBAAiB,KAAjB,uBAAiB,QAK5B;IALD,IAAY,iBAAiB,GAAjB,uBAKX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,CAAC;IAElE,WAAY,aAAa;QACrB,+DAAe,CAAA;QACf,+DAAe,CAAA;IACnB,CAAC,EAHW,mBAAa,KAAb,mBAAa,QAGxB;IAHD,IAAY,aAAa,GAAb,mBAGX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;IAE1D,WAAY,UAAU;QAClB,6CAAU,CAAA;QACV,yDAAgB,CAAA;QAChB,+CAAW,CAAA;QACX,iDAAY,CAAA;QACZ,iDAAY,CAAA;QACZ,qDAAc,CAAA;QACd,6CAAU,CAAA;QACV,uDAAe,CAAA;QACf,+CAAW,CAAA;QACX,yDAAgB,CAAA;IACpB,CAAC,EAXW,gBAAU,KAAV,gBAAU,QAWrB;IAXD,IAAY,UAAU,GAAV,gBAWX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;IAEpD,WAAY,aAAa;QACrB,iDAAQ,CAAA;QACR,qDAAU,CAAA;QACV,mDAAS,CAAA;QACT,uDAAW,CAAA;IACf,CAAC,EALW,mBAAa,KAAb,mBAAa,QAKxB;IALD,IAAY,aAAa,GAAb,mBAKX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;IAG1D,WAAY,eAAe;QACvB,qDAAQ,CAAA;QACR,+DAAa,CAAA;IACjB,CAAC,EAHW,qBAAe,KAAf,qBAAe,QAG1B;IAHD,IAAY,eAAe,GAAf,qBAGX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC;IAE9D,WAAY,oBAAoB;QAC5B,yEAAa,CAAA;QACb,qFAAmB,CAAA;IACvB,CAAC,EAHW,0BAAoB,KAApB,0BAAoB,QAG/B;IAHD,IAAY,oBAAoB,GAApB,0BAGX,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,oBAAoB,EAAE,sBAAsB,CAAC,CAAC;AAC5E,CAAC,EAlGM,KAAK,KAAL,KAAK,QAkGX;AClGD,IAAO,KAAK,CAMX;AAND,WAAO,KAAK,EAAC,CAAC;IACC,eAAS,GAAG,OAAO,CAAC,SAAS,CAAC;IAC9B,iBAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IAC7C,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAW,EAAE,aAAa,CAAC,CAAC;IAC3C,UAAI,GAAG,OAAO,CAAC,IAAI,CAAC;IAC/B,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACxC,CAAC,EANM,KAAK,KAAL,KAAK,QAMX;ACFD,IAAO,KAAK,CAkCX;AAlCD,WAAO,KAAK,EAAC,CAAC;IACV;QAAA;QAcA,CAAC;QAbU,0CAAyB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,gBAAgB,EAAE,IAAI,CAAC,CAAC;QAC/H,sCAAqB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,eAAe,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAA/B,CAA+B,EAAE,gBAAgB,EAAE,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAE5K,mCAAkB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,YAAY,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,gBAAgB,CAAC,CAAC;QAC/G,mCAAkB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,YAAY,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,UAAI,CAAC,cAAc,CAAC,CAAC;QAC/H,iCAAgB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,UAAI,CAAC,YAAY,CAAC,CAAC;QACzH,oCAAmB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,UAAI,CAAC,eAAe,CAAC,CAAC;QAClI,kCAAiB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,UAAI,CAAC,aAAa,CAAC,CAAC;QAC5H,mCAAkB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,YAAY,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,gBAAU,CAAC,EAApB,CAAoB,EAAE,gBAAgB,EAAE,UAAI,CAAC,cAAc,CAAC,CAAC;QAC7I,wCAAuB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,qBAAe,CAAC,EAAzB,CAAyB,EAAE,gBAAgB,EAAE,qBAAe,CAAC,IAAI,CAAC,CAAC;QAC7J,iCAAgB,GAAG,kBAAkB,CAAC,mBAAmB,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,CAAC,CAAC;QAGjH,uBAAC;IAAD,CAdA,AAcC,IAAA;IAdY,sBAAgB,mBAc5B,CAAA;IACD,gBAAgB,CAAC,sBAAsB,GAAG;QACtC,gBAAgB,CAAC,kBAAkB;QACnC,gBAAgB,CAAC,kBAAkB;QACnC,gBAAgB,CAAC,mBAAmB;QACpC,gBAAgB,CAAC,iBAAiB;QAClC,gBAAgB,CAAC,kBAAkB;QACnC,gBAAgB,CAAC,gBAAgB;QACjC,gBAAgB,CAAC,gBAAgB;QACjC,gBAAgB,CAAC,qBAAqB;QACtC,gBAAgB,CAAC,yBAAyB;QAC1C,gBAAgB,CAAC,uBAAuB;KAC3C,CAAC;IACF,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAExC,IAAO,SAAS,CAGf;IAHD,WAAO,SAAS,EAAC,CAAC;QACd,gBAAU,CAAU,gBAAgB,CAAC,yBAAyB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAC/G,gBAAU,CAAwB,gBAAgB,CAAC,qBAAqB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IACzH,CAAC,EAHM,SAAS,KAAT,SAAS,QAGf;AACL,CAAC,EAlCM,KAAK,KAAL,KAAK,QAkCX;AC/BD,IAAO,KAAK,CAiVX;AAjVD,WAAO,KAAK,EAAC,CAAC;IACV;QAA4B,0BAAM;QAK9B,gBAAY,IAAe;YACvB,kBAAM,IAAI,CAAC,CAAC;YAHhB,gBAAW,GAAY,KAAK,CAAC;YAmB7B,aAAQ,GAAY,KAAK,CAAC;YAftB,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC1D,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACpC,GAAG,CAAC,gBAAgB,CAAC,KAAK,EAAQ,IAAI,CAAC,OAAQ,CAAC,GAAG,CAAC,CAAC;QACzD,CAAC;QAGD,8BAAa,GAAb;YACI,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,IAAI,MAAc,CAAC;YACnB,OAAO,MAAM,GAAG,OAAO,CAAC,gBAAgB,EAAE,CAAC;gBACvC,OAAO,GAAG,MAAM,CAAC;YACrB,CAAC;YACD,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QAGD,4BAAW,GAAX,UAAY,KAAc,IAAI,CAAC;QAE/B,sCAAqB,GAArB,UAAsB,GAAc;YAChC,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,CAAC;YACtB,eAAS,CAAC,cAAc,CAAC,uBAAuB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;YACnE,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACjC,CAAC;QACD,sCAAqB,GAArB,UAAsB,GAAc;YAChC,IAAI,EAAE,GAAG,GAAG,CAAC,QAAQ,CAAC;YACtB,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC7B,eAAS,CAAC,cAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACtE,CAAC;QAEO,oCAAmB,GAA3B,UAA4B,gBAAwB;YAChD,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,KAAK,gBAAgB,CAAC;gBAC3C,MAAM,CAAC;YACX,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;YACzC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC;QACjG,CAAC;QAED,sBAAK,GAAL,UAAM,OAAiB,IAAa,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAEnD,iCAAgB,GAAhB,UAAiB,IAAY;YACzB,EAAE,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC;gBACf,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC;gBACrB,IAAI,CAAC,cAAc,EAAE,CAAC;QAC9B,CAAC;QACO,+BAAc,GAAtB;YACI,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,eAAe,EAAE,CAAC;YACpC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,CAAC;QACO,8BAAa,GAArB;YACI,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,eAAe,EAAE,CAAC;YACpC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAChB,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3B,CAAC;QACD,6BAAY,GAAZ,UAAa,IAA8B;YACvC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAClB,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAC7B,CAAC;QACD,2BAAU,GAAV,UAAW,IAA8B;YACrC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAC3B,CAAC;QACD,sCAAqB,GAArB,UAAsB,GAAU;YAC5B,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,IAAI,CAAC,GAAG,IAAI,WAAK,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnC,CAAC;QACD,gCAAe,GAAf,UAAgB,IAA0B,EAAE,YAAqB,EAAE,aAAsB,EAAE,IAA0B;YACjH,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACX,KAAK,WAAK,CAAC,cAAc,CAAC,OAAO;oBAC7B,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBACf,CAAC,CAAC,mBAAmB,CAA6B,IAAI,CAAC,CAAC;wBACxD,CAAC,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBACvC,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;wBACvB,CAAC,CAAC,oBAAoB,CAA6B,IAAI,CAAC,CAAC;wBACzD,CAAC,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBACxC,CAAC;oBACD,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,SAAS;oBAC/B,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBACf,CAAC,CAAC,qBAAqB,CAA6B,IAAI,CAAC,CAAC;wBAC1D,CAAC,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBACzC,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;wBACvB,CAAC,CAAC,sBAAsB,CAA6B,IAAI,CAAC,CAAC;wBAC3D,CAAC,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC1C,CAAC;oBACD,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,UAAU;oBAChC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACrB,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC5B,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,UAAU;oBAChC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACxB,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACrB,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC5B,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,SAAS;oBAC/B,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBACpB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC3B,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,UAAU;oBAChC,CAAC,CAAC,YAAY,CAA4B,IAAI,CAAC,CAAC;oBAChD,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAA6B,IAAI,CAAC,CAAC;oBACvD,KAAK,CAAC;gBACV;oBACI,MAAM,CAAC,KAAK,CAAC;YACrB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QACD,gCAAe,GAAf,UAAgB,IAA0B,EAAE,IAA0B;YAClE,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACX,KAAK,WAAK,CAAC,cAAc,CAAC,SAAS;oBAC/B,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBACpB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC3B,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,OAAO;oBAC7B,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;oBAClB,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBACzB,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,SAAS;oBAC/B,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBACpB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC3B,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,UAAU;oBAChC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACrB,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC5B,KAAK,CAAC;gBACV,KAAK,WAAK,CAAC,cAAc,CAAC,UAAU;oBAChC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACrB,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC5B,KAAK,CAAC;gBACV;oBACI,MAAM,CAAC,KAAK,CAAC;YACrB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QACD,qCAAoB,GAApB,UAAqB,CAAuB;YACxC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YACvB,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACrC,CAAC;QACD,sCAAqB,GAArB,UAAsB,CAAuB;YACzC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YACrB,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACtC,CAAC;QAED,gCAAe,GAAf,cAA6B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3C,6BAAY,GAAZ;YACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;gBACjB,MAAM,CAAC,KAAK,CAAC;YACjB,aAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAC9B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,oCAAmB,GAAnB;YACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;gBACjB,MAAM,CAAC;YACX,aAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC;QAED,6BAAY,GAAZ,UAAa,GAAW;YACpB,IAAI,MAAM,GAAG,GAAG,CAAC;YACjB,OAAO,MAAM,IAAI,MAAM,KAAK,IAAI;gBAC5B,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;YACrC,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC;QAC3B,CAAC;QAED,kCAAiB,GAAjB,UAAmB,GAAY;YAC3B,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,GAAG,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC;YACrG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBACL,MAAM,IAAI,iBAAiB,CAAC,yBAAyB,CAAC,CAAC;YAC3D,IAAI,EAAE,GAAG,IAAI,WAAK,CAAC,eAAe,EAAE,CAAC;YACrC,EAAE,CAAC,eAAe,CAAC,WAAK,CAAC,eAAe,CAAC,cAAc,EAAE,IAAI,WAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAChF,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QACL,aAAC;IAAD,CA9LA,AA8LC,CA9L2B,YAAM,GA8LjC;IA9LY,YAAM,SA8LlB,CAAA;IAED;QAA+B,6BAAgB;QAA/C;YAA+B,8BAAgB;YA+E3C,cAAS,GAAG,IAAI,iBAAW,EAAmB,CAAC;YAC/C,aAAQ,GAAG,IAAI,iBAAW,EAAmB,CAAC;YAC9C,qBAAgB,GAAG,IAAI,iBAAW,EAAwB,CAAC;YAC3D,YAAO,GAAG,IAAI,iBAAW,EAAsB,CAAC;YAChD,UAAK,GAAG,IAAI,iBAAW,EAAsB,CAAC;YAC9C,sBAAiB,GAAG,IAAI,iBAAW,EAA8B,CAAC;YAClE,uBAAkB,GAAG,IAAI,iBAAW,EAA8B,CAAC;YACnE,wBAAmB,GAAG,IAAI,iBAAW,EAA8B,CAAC;YACpE,yBAAoB,GAAG,IAAI,iBAAW,EAA8B,CAAC;YACrE,eAAU,GAAG,IAAI,iBAAW,EAAwB,CAAC;YACrD,eAAU,GAAG,IAAI,iBAAW,EAAwB,CAAC;YACrD,cAAS,GAAG,IAAI,iBAAW,EAAwB,CAAC;YACpD,eAAU,GAAG,IAAI,iBAAW,EAA6B,CAAC;YAC1D,cAAS,GAAG,IAAI,iBAAW,EAAwB,CAAC;YACpD,YAAO,GAAG,IAAI,iBAAW,EAAwB,CAAC;YAClD,eAAU,GAAG,IAAI,iBAAW,EAAwB,CAAC;YACrD,eAAU,GAAG,IAAI,iBAAW,EAAwB,CAAC;YACrD,cAAS,GAAG,IAAI,iBAAW,EAAwB,CAAC;YACpD,oBAAe,GAAG,IAAI,iBAAW,EAAwB,CAAC;YAC1D,qBAAgB,GAAG,IAAI,iBAAW,EAAwB,CAAC;QA+B/D,CAAC;QA/HG,8BAAU,GAAV,cAAuB,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACjD,uCAAmB,GAAnB,cAA8C,MAAM,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;QAElF,sBAAI,qCAAc;iBAAlB,cAAgC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;;;WAAA;QAE/C,sBAAI,mCAAY;iBAAhB;gBACI,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;gBAC5C,EAAE,CAAC,CAAC,MAAM,CAAC;oBAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;gBAClC,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;;;WAAA;QAgBD,iCAAa,GAAb,UAAc,KAAyB;YACnC,MAAM,CAAC,KAAK,KAAK,SAAS,CAAC,yBAAyB,CAAC;QACzD,CAAC;QAED,sBAAI,kCAAW;iBAAf,cAAoB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;;;WAAA;QACvD,sBAAI,kCAAW;iBAAf;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW,CAAC;gBACxD,MAAM,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;YACjD,CAAC;;;WAAA;QACD,sBAAI,iCAAU;iBAAd;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC;gBACvD,MAAM,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;YACjD,CAAC;;;WAAA;QAkBD,yBAAK,GAAL,cAAmB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAClD,gCAAY,GAAZ,cAAyB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAC/D,uCAAmB,GAAnB,cAAwB,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;QAE9D,gCAAY,GAAZ,UAAa,GAAc;YACvB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAC,MAAM,CAAC,KAAK,CAAC;YACvB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACpD,CAAC;QACD,qCAAiB,GAAjB,UAAkB,GAAc;YAC5B,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC;YACtC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAChD,CAAC;QAED,qCAAiB,GAAjB,cAAsB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;QACxE,2BAAO,GAAP,UAAQ,aAA2B;YAC/B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACvD,CAAC;QACD,qCAAiB,GAAjB,cAAsB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;QACxE,2BAAO,GAAP,UAAQ,SAAuB;YAC3B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnD,CAAC;QAuBD,8BAAU,GAAV,UAAW,CAAkB,IAAI,CAAC;QAClC,+BAAW,GAAX,UAAY,CAAkB,IAAI,CAAC;QACnC,sCAAkB,GAAlB,UAAmB,CAAuB,IAAI,CAAC;QAC/C,6BAAS,GAAT,UAAU,CAAqB,IAAI,CAAC;QACpC,2BAAO,GAAP,UAAQ,CAAqB,IAAI,CAAC;QAClC,gCAAY,GAAZ,UAAa,CAAuB,IAAI,CAAC;QACzC,gCAAY,GAAZ,UAAa,CAAuB,IAAI,CAAC;QACzC,yCAAqB,GAArB,UAAsB,CAA6B,IAAI,CAAC;QACxD,uCAAmB,GAAnB,UAAoB,CAA6B,IAAI,CAAC;QACtD,+BAAW,GAAX,UAAY,CAAuB,IAAI,CAAC;QACxC,0CAAsB,GAAtB,UAAuB,CAA6B,IAAI,CAAC;QACzD,wCAAoB,GAApB,UAAqB,CAA6B,IAAI,CAAC;QACvD,gCAAY,GAAZ,UAAa,CAA4B,IAAI,CAAC;QAC9C,+BAAW,GAAX,UAAY,CAAuB,IAAI,CAAC;QACxC,6BAAS,GAAT,UAAU,CAAuB,IAAI,CAAC;QACtC,gCAAY,GAAZ,UAAa,CAAuB,IAAI,CAAC;QACzC,gCAAY,GAAZ,UAAa,CAAuB,IAAI,CAAC;QACzC,+BAAW,GAAX,UAAY,CAAuB,IAAI,CAAC;QACxC,qCAAiB,GAAjB,UAAkB,CAAuB,IAAI,CAAC;QAC9C,sCAAkB,GAAlB,UAAmB,CAAuB,IAAI,CAAC;QAEvC,oCAAgB,GAAxB,UAAyB,IAAyC;YAC9D,IAAI,WAAW,GAAsB,IAAI,CAAC,QAAQ,CAAC;YACnD,IAAI,WAAW,GAAsB,IAAI,CAAC,QAAQ,CAAC;YACnD,EAAE,CAAC,CAAC,WAAW,YAAY,uBAAiB,CAAC;gBACzC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YACnC,EAAE,CAAC,CAAC,WAAW,YAAY,uBAAiB,CAAC;gBACzC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;QAjHM,sBAAY,GAAG,kBAAkB,CAAC,YAAY,CAAC,MAAM,EAAE,cAAM,OAAA,WAAK,CAAC,QAAQ,EAAd,CAAc,EAAE,SAAS,CAAC,CAAC;QACxF,wBAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,WAAK,CAAC,OAAO,CAAC,MAAM,EAApB,CAAoB,EAAE,SAAS,CAAC,CAAC;QAC9F,kCAAwB,GAAG,kBAAkB,CAAC,YAAY,CAAC,kBAAkB,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;QAC/G,6BAAmB,GAAG,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,SAAS,CAAC,CAAC;QACnG,yBAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;QAC3F,iCAAuB,GAAG,kBAAkB,CAAC,YAAY,CAAC,iBAAiB,EAAE,cAAM,OAAA,WAAK,CAAC,SAAS,EAAf,CAAe,EAAE,SAAS,CAAC,CAAC;QAC/G,uCAA6B,GAAG,kBAAkB,CAAC,QAAQ,CAAC,uBAAuB,EAAE,cAAM,OAAA,KAAK,EAAL,CAAK,EAAE,SAAS,CAAC,CAAC;QAC7G,qBAAW,GAAG,kBAAkB,CAAC,QAAQ,CAAC,KAAK,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,CAAC,CAAC;QAC1E,0BAAgB,GAAuB,kBAAkB,CAAC,YAAY,CAAC,UAAU,EAAE,cAAM,OAAA,uBAAiB,EAAjB,CAAiB,EAAE,SAAS,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAY,CAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAArC,CAAqC,CAAC,CAAC;QACtL,mCAAyB,GAAG,sBAAgB,CAAC,yBAAyB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAC3F,4BAAkB,GAAG,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,gBAAU,CAAC,EAApB,CAAoB,EAAE,SAAS,EAAE,gBAAU,CAAC,OAAO,CAAC,CAAC;QAwGzI,gBAAC;IAAD,CAjIA,AAiIC,CAjI8B,sBAAgB,GAiI9C;IAjIY,eAAS,YAiIrB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAEjC,IAAO,SAAS,CAWf;IAXD,WAAO,SAAS,EAAC,CAAC;QACd,gBAAU,CAAoB,SAAS,CAAC,YAAY,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACjF,gBAAU,CAAkB,SAAS,CAAC,cAAc,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACnF,gBAAU,CAAU,SAAS,CAAC,wBAAwB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QACtG,gBAAU,CAAS,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QACnF,gBAAU,CAAkB,SAAS,CAAC,uBAAuB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;QACrG,gBAAU,CAAgB,SAAS,CAAC,6BAA6B,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAC5I,gBAAU,CAAqB,SAAS,CAAC,kBAAkB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI;YAC3E,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAC7C,aAAO,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC,EAAE,KAAK,CAAC,CAAC;IACd,CAAC,EAXM,SAAS,KAAT,SAAS,QAWf;AACL,CAAC,EAjVM,KAAK,KAAL,KAAK,QAiVX;ACtVD,IAAO,KAAK,CA8BX;AA9BD,WAAO,KAAK;IAAC,IAAA,SAAS,CA8BrB;IA9BY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAoC,kCAAa;YAAjD;gBAAoC,8BAAa;YA2BjD,CAAC;YAxBG,iCAAQ,GAAR,UAAU,OAAyB;gBAC/B,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;oBAC5B,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;gBACzB,IAAI,EAAE,GAAG,OAAO,CAAC,KAAK,GAAG,IAAI,wBAAkB,EAAE,CAAC;gBAClD,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBACvC,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;YAED,2CAAkB,GAAlB,UAAoB,OAAyB;gBACzC,MAAM,CAAC,4BAAkB,CAAC,UAAU,CAAC;YACzC,CAAC;YAED,sCAAa,GAAb,UAAe,OAAmC,EAAE,QAAgB;gBAChE,OAAO,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;YAC1C,CAAC;YAED,2CAAkB,GAAlB,UAAoB,OAAyB,EAAE,QAAa;YAC5D,CAAC;YAED,yCAAgB,GAAhB,UAAkB,OAAyB,EAAE,QAAa;YAC1D,CAAC;YAED,mCAAU,GAAV,UAAY,OAAmC,EAAE,eAAyB;YAC1E,CAAC;YACL,qBAAC;QAAD,CA3BA,AA2BC,CA3BmC,uBAAa,GA2BhD;QA3BY,wBAAc,iBA2B1B,CAAA;QACD,cAAc,CAAC,QAAQ,GAAG,IAAI,cAAc,EAAE,CAAC;IACnD,CAAC,EA9BY,SAAS,GAAT,eAAS,KAAT,eAAS,QA8BrB;AAAD,CAAC,EA9BM,KAAK,KAAL,KAAK,QA8BX;AC9BD,IAAO,KAAK,CAwBX;AAxBD,WAAO,KAAK;IAAC,IAAA,SAAS,CAwBrB;IAxBY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAqC,mCAAa;YAAlD;gBAAqC,8BAAa;YAqBlD,CAAC;YAlBG,kCAAQ,GAAR,UAAS,OAAyB;gBAC9B,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;oBAC5B,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;gBACzB,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACD,4CAAkB,GAAlB,UAAmB,OAAyB,IAAwB,MAAM,CAAC,4BAAkB,CAAC,UAAU,CAAC,CAAC,CAAC;YAE3G,uCAAa,GAAb,UAAc,OAAmC,EAAE,QAAgB;gBAC/D,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC7B,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;gBACzB,EAAE,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC;oBACtB,MAAM,CAAC;gBACX,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,4BAAkB,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACvF,CAAC;YACD,4CAAkB,GAAlB,UAAmB,OAAyB,EAAE,QAAa,IAAI,CAAC;YAChE,0CAAgB,GAAhB,UAAiB,OAAyB,EAAE,QAAa,IAAI,CAAC;YAE9D,oCAAU,GAAV,UAAW,OAAmC,EAAE,eAAyB,IAAI,CAAC;YAClF,sBAAC;QAAD,CArBA,AAqBC,CArBoC,uBAAa,GAqBjD;QArBY,yBAAe,kBAqB3B,CAAA;QACD,eAAe,CAAC,QAAQ,GAAG,IAAI,eAAe,EAAE,CAAC;IACrD,CAAC,EAxBY,SAAS,GAAT,eAAS,KAAT,eAAS,QAwBrB;AAAD,CAAC,EAxBM,KAAK,KAAL,KAAK,QAwBX;ACtBD,IAAO,KAAK,CAsNX;AAtND,WAAO,KAAK,EAAC,CAAC;IACV;QAA4B,0BAAM;QAM9B,gBAAY,IAAsB;YANtC,iBAoIC;YA7HO,kBAAM,IAAI,CAAC,CAAC;YACZ,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;YAC5B,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC;gBACvB,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;gBACzB,IAAI,MAAM,GAAG,KAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;gBAChD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;oBACd,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC3B,MAAM,CAAC,MAAM,CAAC;YAClB,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,cAAc,CAAC;gBACd,cAAc,YAAE,KAAa;oBACzB,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;gBACtE,CAAC;gBACD,eAAe,YAAE,KAAa;oBAC1B,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;gBACvE,CAAC;gBACD,aAAa,YAAE,OAAqB,EAAE,OAAqB;oBACvD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,0BAAoB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;gBAC7E,CAAC;aACJ,CAAC,CAAC;QACP,CAAC;QAED,+BAAc,GAAd,UAAe,WAAqB,EAAE,KAAa;YAC/C,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;gBAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAC5B,CAAC;YACD,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBAClD,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YAC/B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,uCAAsB,GAAtB;YACI,MAAM,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC1C,CAAC;QAED,wCAAuB,GAAvB;YACI,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YAC5C,MAAM,CAAC;gBACH,OAAO,EAAE,SAAS;gBAClB,QAAQ,EAAE;oBACN,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;wBACf,MAAM,CAAC,KAAK,CAAC;oBACjB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBACxD,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;aACJ,CAAC;QACN,CAAC;QAED,4BAAW,GAAX,UAAY,KAAc;YACtB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC;gBACxB,MAAM,CAAC;YACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAClC,CAAC;QACD,kCAAiB,GAAjB,UAAkB,WAAoB;YAClC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;YACzB,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACf,eAAS,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,EAAE,eAAS,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBAC1E,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,qBAAe,EAAE,CAAC,CAAC;YAErD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,eAAS,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,EAAE,eAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACrE,CAAC;YACD,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,uBAAuB,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;gBAC3D,EAAE,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YACxC,CAAC;YACD,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAEd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,qBAAe,EAAE,CAAC,CAAC;gBAC/C,IAAI,CAAC,YAAY,EAAE,CAAC;YAGxB,CAAC;QACL,CAAC;QACD,6BAAY,GAAZ,cAAiB,CAAC;QAElB,kCAAiB,GAAjB,UAAkB,GAAc,EAAE,KAAa;YAC3C,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;YAChC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC1C,MAAM,CAAC,KAAK,CAAC;YACjB,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACxC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,kCAAiB,GAAjB,UAAkB,GAAc,EAAE,KAAa;YAC3C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBAClC,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;YAChC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,uCAAsB,GAAtB,UAAuB,KAAa;YAChC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;gBACjB,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,MAAM,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;YAClD,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,EAAE,CAAC,CAAC,MAAM,CAAC;gBACP,IAAI,CAAC,eAAe,EAAE,CAAC;YAC3B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACvC,MAAM,CAAC,MAAM,CAAC;QAClB,CAAC;QACD,yCAAwB,GAAxB,UAAyB,KAAa,IAAa,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAClE,6CAA4B,GAA5B,UAA6B,GAAc,EAAE,KAAa;YACtD,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC;gBACtB,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YACnC,MAAM,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC;QACjC,CAAC;QAED,6BAAY,GAAZ;YACI,OAAO,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;QACxD,CAAC;QAEM,6BAAsB,GAA7B,UAA+B,IAAe;YAC1C,IAAI,MAAM,GAAW,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YACpD,EAAE,CAAC,CAAC,MAAM,YAAY,MAAM,CAAC,CAAC,CAAC;gBAC3B,IAAI,GAAG,GAAG,IAAI,MAAM,EAAE,CAAC;gBACvB,MAAM,CAAC,iBAAiB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;oBACZ,GAAG,CAAC,cAAc,EAAE,CAAC;YAC7B,CAAC;QACL,CAAC;QACL,aAAC;IAAD,CApIA,AAoIC,CApI2B,YAAM,GAoIjC;IApIY,YAAM,SAoIlB,CAAA;IAED;QAAsC,oCAAS;QAA/C;YAAsC,8BAAS;YA+C3C,gBAAW,GAAG,IAAI,iBAAW,EAAmB,CAAC;YACjD,WAAM,GAAG,IAAI,iBAAW,EAAmB,CAAC;YAC5C,aAAQ,GAAG,IAAI,iBAAW,EAAmB,CAAC;YAC9C,kBAAa,GAAG,IAAI,SAAS,CAAC,KAAK,EAAwB,CAAC;YAG5D,oBAAe,GAAG,IAAI,SAAS,CAAC,KAAK,EAAwB,CAAC;YAK9D,2BAAsB,GAAG,IAAI,SAAS,CAAC,KAAK,EAAuC,CAAC;QAGxF,CAAC;QA3DG,qCAAU,GAAV,cAAuB,MAAM,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAoBjD,wCAAa,GAAb,UAAc,KAAyB;YACnC,EAAE,CAAC,CAAC,KAAK,KAAK,gBAAgB,CAAC,qBAAqB,CAAC;gBACjD,MAAM,CAAC,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,KAAK,KAAK,gBAAgB,CAAC,gBAAgB,CAAC;gBAC5C,MAAM,CAAC,IAAI,CAAC;YAChB,MAAM,CAAC,gBAAK,CAAC,aAAa,YAAC,KAAK,CAAC,CAAC;QACtC,CAAC;QAwBD,0CAAe,GAAf,cAAoB,CAAC;QAGrB,mDAAwB,GAAxB,UAA0B,IAAyC;YAC/D,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAClD,CAAC;QAGD,uCAAY,GAAZ,cAAiB,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAxDzC,qCAAoB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,cAAc,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,CAAC,CAAC;QAC3G,oCAAmB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,CAAC,CAAC;QACzG,+BAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,gBAAU,CAAC,EAApB,CAAoB,EAAE,gBAAgB,EAAE,gBAAU,CAAC,OAAO,CAAC,CAAC;QACzH,sCAAqB,GAAG,sBAAgB,CAAC,qBAAqB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;QAC1F,+BAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;QAC5F,4CAA2B,GAAG,kBAAkB,CAAC,QAAQ,CAAC,qBAAqB,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,yBAAmB,CAAC,EAA7B,CAA6B,EAAE,gBAAgB,EAAE,yBAAmB,CAAC,OAAO,CAAC,CAAC;QACrK,iCAAgB,GAAG,sBAAgB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;QAChF,+BAAc,GAAG,kBAAkB,CAAC,YAAY,CAAC,QAAQ,EAAE,cAAM,OAAA,SAAS,EAAT,CAAS,EAAE,gBAAgB,CAAC,CAAC;QAC9F,kCAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACvH,iCAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACrH,kCAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;QAClG,iCAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;QAChG,8BAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,WAAK,EAAL,CAAK,EAAE,gBAAgB,EAAE,SAAS,EAAE,UAAC,IAAI,EAAE,IAAI,IAAK,OAAA,eAAS,CAAC,gBAAgB,CAAC,GAAG,CAAmB,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,EAArE,CAAqE,CAAC,CAAC;QACtL,0CAAyB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,mBAAmB,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,uBAAiB,CAAC,EAA3B,CAA2B,EAAE,gBAAgB,EAAE,uBAAiB,CAAC,OAAO,CAAC,CAAC;QAC7J,8BAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;QAC1F,kCAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,wBAAkB,EAAlB,CAAkB,EAAE,gBAAgB,CAAC,CAAC;QACzG,wCAAuB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAM,OAAA,QAAQ,EAAR,CAAQ,EAAE,gBAAgB,CAAC,CAAC;QAyCtH,uBAAC;IAAD,CA7DA,AA6DC,CA7DqC,eAAS,GA6D9C;IA7DY,sBAAgB,mBA6D5B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAExC,gBAAgB,CAAC,mBAAmB,CAAC,KAAK,GAAG,eAAS,CAAC,eAAe,CAAC,QAAQ,CAAC;IAChF,gBAAgB,CAAC,oBAAoB,CAAC,KAAK,GAAG,eAAS,CAAC,eAAe,CAAC,QAAQ,CAAC;IACjF,gBAAgB,CAAC,iBAAiB,CAAC,KAAK,GAAG,eAAS,CAAC,cAAc,CAAC,QAAQ,CAAC;IAE7E,IAAO,SAAS,CAUf;IAVD,WAAO,SAAS,EAAC,CAAC;QACd,gBAAU,CAAS,gBAAgB,CAAC,aAAa,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACtF,gBAAU,CAAS,gBAAgB,CAAC,cAAc,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACxF,gBAAU,CAAS,gBAAgB,CAAC,gBAAgB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC5F,gBAAU,CAAS,gBAAgB,CAAC,iBAAiB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QAC9F,gBAAU,CAAS,gBAAgB,CAAC,gBAAgB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC5F,gBAAU,CAAS,gBAAgB,CAAC,iBAAiB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QAC9F,gBAAU,CAAY,gBAAgB,CAAC,cAAc,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACrH,gBAAU,CAA8B,gBAAgB,CAAC,2BAA2B,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;QACvI,gBAAU,CAA4B,gBAAgB,CAAC,yBAAyB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;IACrI,CAAC,EAVM,SAAS,KAAT,SAAS,QAUf;AACL,CAAC,EAtNM,KAAK,KAAL,KAAK,QAsNX;AC1ND,IAAO,KAAK,CAgDX;AAhDD,WAAO,KAAK;IAAC,IAAA,MAAM,CAgDlB;IAhDY,WAAA,MAAM,EAAC,CAAC;QAKN,cAAO,GAAuB,CAAC;YACtC,YAAY,IAAc,EAAE,IAAwB;gBAChD,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACtD,CAAC;YACK,EAAG,CAAC,GAAG,GAAG,UAAU,IAAc;gBACpC,IAAI,GAAG,GAAG,IAAI,CAAC;gBACf,OAAO,GAAG,EAAE,CAAC;oBACT,IAAI,IAAI,GAAG,SAAS,CAAC,cAAc,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;oBACpD,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACP,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;wBACjB,EAAE,CAAC,CAAC,EAAE,CAAC;4BACH,MAAM,CAAC,EAAE,CAAC;oBAClB,CAAC;oBACD,GAAG,GAAG,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBACvC,CAAC;gBACD,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC,CAAC;YACF,MAAM,CAAC,EAAE,CAAC;QACd,CAAC,CAAC,EAAE,CAAC;QAMM,kBAAW,GAA2B,CAAC;YAC9C,aAAa,IAAc,EAAE,IAAwB;gBACjD,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1D,CAAC;YACK,GAAI,CAAC,GAAG,GAAG,UAAU,IAAc;gBACrC,IAAI,GAAG,GAAG,IAAI,CAAC;gBACf,OAAO,GAAG,EAAE,CAAC;oBACT,IAAI,IAAI,GAAG,SAAS,CAAC,cAAc,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;oBACxD,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACP,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;wBACjB,EAAE,CAAC,CAAC,EAAE,CAAC;4BACH,MAAM,CAAC,EAAE,CAAC;oBAClB,CAAC;oBACD,GAAG,GAAG,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBACvC,CAAC;gBACD,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC,CAAC;YACF,MAAM,CAAC,GAAG,CAAC;QACf,CAAC,CAAC,EAAE,CAAC;IACT,CAAC,EAhDY,MAAM,GAAN,YAAM,KAAN,YAAM,QAgDlB;AAAD,CAAC,EAhDM,KAAK,KAAL,KAAK,QAgDX;AC7CD,IAAO,KAAK,CAgDX;AAhDD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAgDpB;IAhDY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA4B,0BAAgB;YAkBxC;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;YAClC,CAAC;YApBD,oCAAmB,GAAnB;gBACI,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;YACvD,CAAC;YAEM,yBAAkB,GAAG,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,MAAM,CAAC,CAAC;YAC9F,0BAAmB,GAAG,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,MAAM,CAAC,CAAC;YAChG,8BAAuB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAM,OAAA,SAAS,EAAT,CAAS,EAAE,MAAM,CAAC,CAAC;YAClG,oBAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,eAAS,EAAT,CAAS,EAAE,MAAM,CAAC,CAAC;YAC9E,2BAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,YAAY,EAAZ,CAAY,EAAE,MAAM,CAAC,CAAC;YAC/F,sBAAe,GAAG,kBAAkB,CAAC,QAAQ,CAAC,SAAS,EAAE,cAAM,OAAA,SAAS,EAAT,CAAS,EAAE,MAAM,CAAC,CAAC;YAY7F,aAAC;QAAD,CAtBA,AAsBC,CAtB2B,sBAAgB,GAsB3C;QAtBY,eAAM,SAsBlB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC9B,YAAM,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,aAAa,CAAC,CAAC;QAE7C,gBAAU,CAAiB,MAAM,CAAC,kBAAkB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE;YAC9D,GAAG,CAAC,UAAU,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,gBAAU,CAAiB,MAAM,CAAC,mBAAmB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE;YAC/D,GAAG,CAAC,UAAU,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,gBAAU,CAAY,MAAM,CAAC,uBAAuB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,iBAAiB,EAAE,EAAvB,CAAuB,EAAE,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjI,gBAAU,CAAY,MAAM,CAAC,eAAe,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,iBAAiB,EAAE,EAAvB,CAAuB,EAAE,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACzH,gBAAU,CAAuB,MAAM,CAAC,oBAAoB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,UAAU,EAAE,EAAhB,CAAgB,EAAE,KAAK,EAAE,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QACrI,gBAAU,CAAY,MAAM,CAAC,aAAa,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,MAAe;YACrE,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;YAC3B,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,EAAE,YAAY,eAAS,CAAC;gBACxB,IAAI,CAAC,iBAAiB,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACtC,EAAE,CAAC,CAAC,EAAE,YAAY,eAAS,CAAC;gBACxB,IAAI,CAAC,iBAAiB,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACtC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;gBACd,KAAK,CAAC,cAAc,EAAE,CAAC;YAC3B,GAAG,CAAC,YAAY,EAAE,CAAC;YACnB,GAAG,CAAC,iBAAiB,EAAE,CAAC;QAC5B,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;IACrB,CAAC,EAhDY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAgDpB;AAAD,CAAC,EAhDM,KAAK,KAAL,KAAK,QAgDX;ACjDD,IAAO,KAAK,CAiEX;AAjED,WAAO,KAAK;IAAC,IAAA,SAAS,CAiErB;IAjEY,WAAA,SAAS,EAAC,CAAC;QAKpB;YAAoC,kCAAa;YAAjD;gBAAoC,8BAAa;YA0DjD,CAAC;YAxDG,iCAAQ,GAAR,UAAS,OAA0B;gBAC/B,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,KAAK,KAAK,CAAC;oBACjC,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,gBAAK,CAAC,QAAQ,YAAC,OAAO,CAAC,CAAC;YACnC,CAAC;YACD,2CAAkB,GAAlB,UAAmB,OAA0B;gBACzC,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,KAAK,KAAK,CAAC;oBACjC,MAAM,CAAC,4BAAkB,CAAC,SAAS,CAAC;gBACxC,MAAM,CAAC,gBAAK,CAAC,kBAAkB,YAAC,OAAO,CAAC,CAAC;YAC7C,CAAC;YAED,sCAAa,GAAb,UAAc,OAA0B,EAAE,QAAiB;gBACvD,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC7B,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;gBACzB,EAAE,CAAC,CAAC,QAAQ,KAAK,QAAQ,IAAI,OAAO,CAAC,cAAc,KAAK,KAAK,CAAC;oBAC1D,MAAM,CAAC;gBACX,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,4BAAkB,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACvF,CAAC;YAED,0CAAiB,GAAjB,UAAkB,OAAyB,EAAE,mBAAuC,EAAE,QAAa,EAAE,QAAa;gBAC9G,IAAI,IAAI,GAAG,gBAAK,CAAC,iBAAiB,YAAC,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBACrF,OAAO,CAAC,SAAS,CAAC,kBAAkB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBACzD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,sCAAa,GAAb,UAAc,IAAsB,EAAE,KAAyB;gBAC3D,MAAM,CAAC;oBACH,SAAS,EAAE,IAAI,CAAC,QAAQ;oBACxB,QAAQ,EAAE,KAAK;oBACf,UAAU,EAAE,4BAAkB,CAAC,YAAY;oBAC3C,cAAc,EAAE,IAAI;oBACpB,UAAU,EAAE,SAAS;oBACrB,KAAK,EAAE,SAAS;oBAChB,eAAe,EAAE,SAAS;oBAC1B,kBAAkB,EAAE,SAAS;oBAC7B,aAAa,EAAE,SAAS;iBAC3B,CAAC;YACN,CAAC;YAED,6CAAoB,GAApB,UAAqB,OAA0B,EAAE,YAAqB;gBAClE,IAAI,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC;gBAC1C,EAAE,CAAC,CAAC,YAAY,KAAK,KAAK,CAAC,CAAC,CAAC;oBACzB,OAAO,CAAC,UAAU,GAAG,gBAAK,CAAC,kBAAkB,YAAC,OAAO,CAAC,CAAC;oBACvD,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC;gBAClC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,OAAO,CAAC,cAAc,GAAG,KAAK,CAAC;gBACnC,CAAC;gBACD,EAAE,CAAC,CAAC,YAAY,KAAK,YAAY,CAAC;oBAC9B,MAAM,CAAC;gBACX,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,4BAAkB,CAAC,SAAS,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;YAC9F,CAAC;YACM,mCAAoB,GAA3B,UAA4B,EAAwB,EAAE,KAAc;gBAChE,IAAI,KAAK,GAAG,cAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC;gBAC/C,IAAI,OAAO,GAAgC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBACxD,KAAK,CAAC,KAAM,CAAC,oBAAoB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YACjF,CAAC;YACL,qBAAC;QAAD,CA1DA,AA0DC,CA1DmC,uBAAa,GA0DhD;QA1DY,wBAAc,iBA0D1B,CAAA;QACD,cAAc,CAAC,QAAQ,GAAG,IAAI,cAAc,EAAE,CAAC;IACnD,CAAC,EAjEY,SAAS,GAAT,eAAS,KAAT,eAAS,QAiErB;AAAD,CAAC,EAjEM,KAAK,KAAL,KAAK,QAiEX;ACnED,IAAO,KAAK,CAwDX;AAxDD,WAAO,KAAK;IAAC,IAAA,KAAK,CAwDjB;IAxDY,WAAA,KAAK,EAAC,CAAC;QAEhB,WAAY,sBAAsB;YAC9B,2EAAY,CAAA;YACZ,mEAAQ,CAAA;YACR,qEAAS,CAAA;YACT,mEAAQ,CAAA;YACR,6EAAa,CAAA;YACb,qEAAS,CAAA;QACb,CAAC,EAPW,4BAAsB,KAAtB,4BAAsB,QAOjC;QAPD,IAAY,sBAAsB,GAAtB,4BAOX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,sBAAsB,EAAE,wBAAwB,CAAC,CAAC;QAE5E,WAAY,YAAY;YACpB,+CAAQ,CAAA;YACR,6CAAO,CAAA;YACP,qDAAW,CAAA;YACX,iDAAS,CAAA;YACT,qDAAW,CAAA;YACX,kDAAU,CAAA;QACd,CAAC,EAPW,kBAAY,KAAZ,kBAAY,QAOvB;QAPD,IAAY,YAAY,GAAZ,kBAOX,CAAA;QAQD;YAAA;YA2BA,CAAC;YAxBU,yBAAgB,GAAvB,UAAwB,CAA2B;gBAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBACR,QAAQ,CAAC,SAAS,IAAI,YAAY,CAAC,KAAK,CAAC;gBAC7C,IAAI;oBACA,QAAQ,CAAC,SAAS,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBAC9C,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACP,QAAQ,CAAC,SAAS,IAAI,YAAY,CAAC,OAAO,CAAC;gBAC/C,IAAI;oBACA,QAAQ,CAAC,SAAS,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;gBAChD,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;oBACN,QAAQ,CAAC,SAAS,IAAI,YAAY,CAAC,GAAG,CAAC;gBAC3C,IAAI;oBACA,QAAQ,CAAC,SAAS,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;YAChD,CAAC;YAEM,mBAAU,GAAjB;gBACI,MAAM,CAAC,CAAC,QAAQ,CAAC,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,YAAY,CAAC,OAAO,CAAC;YAChF,CAAC;YACM,eAAM,GAAb;gBACI,MAAM,CAAC,CAAC,QAAQ,CAAC,SAAS,GAAG,YAAY,CAAC,GAAG,CAAC,KAAK,YAAY,CAAC,GAAG,CAAC;YACxE,CAAC;YACM,iBAAQ,GAAf;gBACI,MAAM,CAAC,CAAC,QAAQ,CAAC,SAAS,GAAG,YAAY,CAAC,KAAK,CAAC,KAAK,YAAY,CAAC,KAAK,CAAC;YAC5E,CAAC;YAzBM,kBAAS,GAAiB,YAAY,CAAC,IAAI,CAAC;YA0BvD,eAAC;QAAD,CA3BA,AA2BC,IAAA;QA3BY,cAAQ,WA2BpB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC,EAxDY,KAAK,GAAL,WAAK,KAAL,WAAK,QAwDjB;AAAD,CAAC,EAxDM,KAAK,KAAL,KAAK,QAwDX;ACpDD,IAAO,KAAK,CA4QX;AA5QD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA4QpB;IA5QY,WAAA,QAAQ,EAAC,CAAC;QAMnB;YAAiC,+BAAM;YAMnC,qBAAY,IAAa;gBACrB,kBAAM,IAAI,CAAC,CAAC;gBAJhB,cAAS,GAAY,KAAK,CAAC;YAK3B,CAAC;YAED,2BAAK,GAAL;gBACI,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACxB,MAAM,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;YAC5D,CAAC;YAED,4CAAsB,GAAtB,UAAuB,KAAa;gBAChC,EAAE,CAAC,CAAC,CAAC,gBAAK,CAAC,sBAAsB,YAAC,KAAK,CAAC,CAAC;oBACrC,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;gBACrC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,8CAAwB,GAAxB,UAAyB,KAAa;gBAClC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACxB,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACtB,IAAI,IAAe,CAAC;gBACpB,EAAE,CAAC,CAAC,CAAC,CAAC;oBAAC,IAAI,GAAG,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;oBAC/C,MAAM,CAAC,KAAK,CAAC;gBAEjB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC;oBAChD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAA;gBACpD,IAAI,CAAC,YAAY,GAAqB,IAAI,CAAC;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBAClB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBACrD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAIjB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,0CAAoB,GAApB,cAAoC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;YAEvD,yCAAmB,GAAnB,UAAoB,aAAsB;gBACtC,gBAAK,CAAC,mBAAmB,YAAC,aAAa,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;oBACf,WAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC7E,IAAI;oBACA,WAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAC/E,CAAC;YAED,qCAAe,GAAf,UAAgB,aAAuB,EAAE,aAAuB;gBAC5D,gBAAK,CAAC,eAAe,YAAC,aAAa,EAAE,aAAa,CAAC,CAAC;gBACpD,IAAI,CAAC,SAAS,GAAG,aAAa,GAAG,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;YACpE,CAAC;YAED,uCAAiB,GAAjB,UAAkB,WAA4B,EAAE,WAA4B;gBACxE,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC/B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACV,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAY,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;wBAC3D,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC/B,CAAC;gBACD,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;YAC3C,CAAC;YAED,sBAAI,kCAAS;qBAAb,cAA2B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;qBAC3D,UAAc,KAAc;oBACxB,eAAS,CAAC,cAAc,CAAC,oBAAoB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;oBAC3D,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC9C,CAAC;;;eAJ0D;YAK3D,wCAAkB,GAAlB,UAAmB,QAAiB,EAAE,QAAiB;gBACnD,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACZ,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,EAAE,CAAC,CAAC,aAAO,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wBACxC,yBAAmB,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC1C,CAAC;oBACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC/B,CAAC;gBACD,gBAAK,CAAC,kBAAkB,YAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACjD,CAAC;YAED,2BAAK,GAAL,UAAM,OAAiB;gBACnB,MAAM,CAAC,aAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAChD,CAAC;YAED,qCAAe,GAAf,cAA6B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;YACjE,kBAAC;QAAD,CAvFA,AAuFC,CAvFgC,YAAM,GAuFtC;QAvFY,oBAAW,cAuFvB,CAAA;QAED;YAA6B,2BAAgB;YAKzC;gBACI,iBAAO,CAAC;gBAwFZ,qBAAgB,GAAG,IAAI,SAAS,CAAC,KAAK,EAAsC,CAAC;gBAvFzE,gBAAU,CAAU,OAAO,CAAC,iBAAiB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,OAAiB;oBAC1E,IAAI,IAAI,GAAG;wBACP,QAAQ,EAAE,OAAO,CAAC,iBAAiB;wBACnC,QAAQ,EAAE,EAAE;wBACZ,QAAQ,EAAE,EAAE;qBACf,CAAC;oBACF,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;oBACjC,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC;wBACZ,OAAO,CAAC,QAAQ,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzC,OAAO,CAAC,iBAAiB,EAAE,CAAC;oBAC5B,OAAO,CAAC,gBAAgB,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBACvD,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBAEtB,gBAAU,CAAoB,OAAO,CAAC,eAAe,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,iBAAiB,EAAE,EAAvB,CAAuB,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACpH,gBAAU,CAAoB,OAAO,CAAC,uBAAuB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,iBAAiB,EAAE,EAAvB,CAAuB,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC5H,gBAAU,CAAsB,OAAO,CAAC,kCAAkC,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,iBAAiB,EAAE,EAAvB,CAAuB,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACzI,gBAAU,CAAoB,OAAO,CAAC,gCAAgC,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,iBAAiB,EAAE,EAAvB,CAAuB,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACzI,CAAC;YAtBD,4BAAU,GAAV,cAA4B,MAAM,CAAC,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC3D,qCAAmB,GAAnB,cAAwB,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YAyC/E,+BAAa,GAAb,UAAc,KAAyB;gBACnC,EAAE,CAAC,CAAC,0BAA0B,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC/C,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,gBAAK,CAAC,aAAa,YAAC,KAAK,CAAC,CAAC;YACtC,CAAC;YAoBD,sBAAI,8BAAS;qBAAb,cAAkB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;;;eAAA;YAEnD,kCAAgB,GAAhB,UAAiB,SAAiB,EAAE,IAAe;gBAC/C,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;gBACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC;gBACX,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;gBAC1C,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC;gBACX,IAAI,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,YAAY,IAAI,CAAC,CAAC;oBAChC,MAAM,CAAmB,IAAI,CAAC;YACtC,CAAC;YAED,+BAAa,GAAb;gBACI,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;gBACzB,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;gBACzD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;oBACd,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC3B,MAAM,CAAC,MAAM,CAAC;YAClB,CAAC;YAED,iCAAe,GAAf;gBACI,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;YAGD,oCAAkB,GAAlB,UAAmB,CAAsC,IAAI,CAAC;YAE9D,4BAAU,GAAV,UAAW,CAAkB;gBACzB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;gBAC/B,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACjC,CAAC;YACD,6BAAW,GAAX,UAAY,CAAkB;gBAC1B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC;gBAChC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACjC,CAAC;YAED,mCAAiB,GAAjB,UAAkB,cAAwB;gBAA1C,iBAIC;gBAHG,cAAc,GAAG,cAAc,KAAK,KAAK,CAAC;gBAC1C,IAAI,QAAQ,GAAG,UAAC,KAAa,IAAK,OAAA,WAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAI,EAAE,KAAK,EAAE,cAAc,CAAC,EAAnE,CAAmE,CAAC;gBACtG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC9B,CAAC;YACD,4BAAU,GAAV,UAAW,QAAoC;gBAC3C,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;gBAC/B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;gBAC9B,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;YACtC,CAAC;YACD,iCAAe,GAAf,UAAgB,QAAoC;gBAChD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBAChB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;oBACjB,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;gBACjC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC9B,CAAC;YACD,gCAAc,GAAd,UAAe,QAAoC;gBAC/C,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC;oBACjC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;gBAC/B,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YACjC,CAAC;YACD,oCAAkB,GAAlB,UAAmB,QAAoC;gBACnD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAED,uCAAqB,GAArB,UAAuB,KAAe;gBAAtC,iBAOC;gBANG,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;oBACtB,IAAI,MAAM,GAAG,gBAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;oBACxC,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC7B,CAAC;gBACD,IAAI,QAAQ,GAAG,UAAC,KAAa,IAAK,OAAA,WAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAI,EAAE,KAAK,EAAE,IAAI,CAAC,EAAzD,CAAyD,CAAC;gBAC5F,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YAC9C,CAAC;YAED,qCAAmB,GAAnB,UAAqB,KAAc,EAAE,QAAoC;gBACrE,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBAC7B,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBACpB,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;gBACtC,MAAM,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACxC,CAAC;YAzHM,0BAAkB,GAAG,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,OAAO,CAAC,CAAC;YAC/F,2BAAmB,GAAG,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,OAAO,CAAC,CAAC;YACjG,+BAAuB,GAAG,kBAAkB,CAAC,YAAY,CAAC,iBAAiB,EAAE,cAAM,OAAA,SAAS,EAAT,CAAS,EAAE,OAAO,CAAC,CAAC;YACvG,0BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC3E,wBAAgB,GAAG,sBAAgB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACvE,2BAAmB,GAAG,sBAAgB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC7E,yBAAiB,GAAG,sBAAgB,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACzE,0BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC3E,0BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC3E,0CAAkC,GAAuB,kBAAkB,CAAC,QAAQ,CAAC,4BAA4B,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,yBAAmB,CAAC,EAA7B,CAA6B,EAAE,OAAO,EAAE,yBAAmB,CAAC,MAAM,CAAC,CAAC;YAC7L,yBAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;YAC3F,yBAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;YAC3F,uBAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,SAAS,EAAT,CAAS,EAAE,OAAO,CAAC,CAAC;YACvF,wBAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,OAAO,CAAC,CAAC;YAClF,6BAAqB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,eAAe,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,WAAK,CAAC,sBAAsB,CAAC,EAAtC,CAAsC,EAAE,OAAO,EAAE,WAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YAChK,wBAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,wBAAe,EAAf,CAAe,EAAE,OAAO,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAU,CAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAArE,CAAqE,CAAC,CAAC;YAC1L,wCAAgC,GAAG,kBAAkB,CAAC,QAAQ,CAAC,0BAA0B,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,uBAAiB,CAAC,EAA3B,CAA2B,EAAE,OAAO,EAAE,uBAAiB,CAAC,MAAM,CAAC,CAAC;YA0G5K,cAAC;QAAD,CApJA,AAoJC,CApJ4B,sBAAgB,GAoJ5C;QApJY,gBAAO,UAoJnB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAE/B,OAAO,CAAC,iBAAiB,CAAC,KAAK,GAAG,eAAS,CAAC,cAAc,CAAC,QAAQ,CAAC;QAEpE,IAAI,0BAA0B,GAAG;YAC7B,OAAO,CAAC,kBAAkB;YAC1B,OAAO,CAAC,gBAAgB;YACxB,OAAO,CAAC,mBAAmB;YAC3B,OAAO,CAAC,iBAAiB;YACzB,OAAO,CAAC,kBAAkB;YAC1B,OAAO,CAAC,kBAAkB;SAC7B,CAAC;QAMS,6BAAoB,GAAG,SAAS,CAAC,qBAAqB,CAAiC,qBAAqB,CAAC,CAAC;QAM9G,sBAAa,GAAG,SAAS,CAAC,qBAAqB,CAA0B,cAAc,CAAC,CAAC;IACxG,CAAC,EA5QY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA4QpB;AAAD,CAAC,EA5QM,KAAK,KAAL,KAAK,QA4QX;AC9QD,IAAO,KAAK,CAgHX;AAhHD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAgHpB;IAhHY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAwC,sCAAW;YAK/C,4BAAa,IAAoB;gBAC7B,kBAAM,IAAI,CAAC,CAAC;gBALR,sBAAiB,GAAqB,IAAI,CAAC;YAMnD,CAAC;YAED,iDAAoB,GAApB;gBACI,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACxB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3B,EAAE,CAAC,CAAC,OAAO,YAAY,eAAS,CAAC;oBAC7B,MAAM,CAAY,OAAO,CAAC;gBAE9B,IAAI,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBACvC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACb,SAAS,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,yBAAgB,EAAE,CAAC;oBAC5D,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3C,CAAC;gBACD,SAAS,CAAC,QAAQ,CAAC,yBAAgB,CAAC,eAAe,EAAE,IAAI,+BAAyB,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC/F,SAAS,CAAC,QAAQ,CAAC,yBAAgB,CAAC,uBAAuB,EAAE,IAAI,+BAAyB,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC/G,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;YAED,6CAAgB,GAAhB,UAAkB,CAAM,EAAE,CAAM;gBAC5B,EAAE,CAAC,CAAC,CAAC,YAAY,eAAS,IAAI,CAAC,YAAY,eAAS,CAAC;oBACjD,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAChC,CAAC;YAED,8CAAiB,GAAjB,UAAmB,WAA4B,EAAE,WAA4B;gBACzE,EAAE,CAAC,CAAC,WAAW,CAAC;oBACZ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAC/C,gBAAK,CAAC,iBAAiB,YAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YACtD,CAAC;YAEO,4CAAe,GAAvB,UAAyB,OAAY;gBACjC,EAAE,CAAC,CAAC,OAAO,YAAY,eAAS,CAAC,CAAC,CAAC;oBAC/B,YAAM,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;oBACvC,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBAC3C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC;oBACvC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACZ,SAAS,CAAC,UAAU,CAAC,yBAAgB,CAAC,eAAe,CAAC,CAAC;wBACvD,SAAS,CAAC,UAAU,CAAC,yBAAgB,CAAC,uBAAuB,CAAC,CAAC;wBAC/D,YAAM,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;wBACzC,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC3C,CAAC;gBACL,CAAC;YACL,CAAC;YACL,yBAAC;QAAD,CAlDA,AAkDC,CAlDuC,oBAAW,GAkDlD;QAlDY,2BAAkB,qBAkD9B,CAAA;QAED;YAAoC,kCAAO;YAkCvC;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;YAC1C,CAAC;YAlCD,mCAAU,GAAV;gBACI,MAAM,CAAC,IAAI,kBAAkB,CAAC,IAAI,CAAC,CAAC;YACxC,CAAC;YASO,iDAAwB,GAAhC,UAAkC,IAAwC;gBACtE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC7D,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACxD,CAAC;YAEO,oDAA2B,GAAnC,UAAqC,IAAwC;gBAA7E,iBAaC;gBAZG,IAAI,MAAW,CAAC;gBAChB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,SAAG,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;oBACzB,MAAM,GAAQ,IAAI,CAAC,QAAQ,CAAC;gBAChC,CAAC;gBACD,IAAI,MAAW,CAAC;gBAChB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,SAAG,CAAC,CAAC,CAAC;oBAC/B,MAAM,GAAQ,IAAI,CAAC,QAAQ,CAAC;oBAC5B,YAAM,CAAC,OAAO,CAAC,MAAM,CAAC;yBACjB,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAApB,CAAoB,EAAE,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,GAAG,EAAE,MAAM,CAAC,EAA/B,CAA+B,CAAC,CAAA;gBAChF,CAAC;gBACD,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAC7C,CAAC;YAOD,yCAAgB,GAAhB,UAAkB,UAAe,EAAE,UAAe;YAClD,CAAC;YAED,iDAAwB,GAAxB,UAA0B,kBAAgC,EAAE,kBAAgC;YAC5F,CAAC;YAED,4CAAmB,GAAnB,UAAqB,YAAiB,EAAE,YAAiB;YACzD,CAAC;YAEO,qCAAY,GAApB,UAAsB,EAAgC;gBAClD,IAAI,CAAC,OAAO,GAAG,YAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;YAC7C,CAAC;YAEO,sCAAa,GAArB,UAAuB,GAAQ,EAAE,GAAQ;gBACrC,OAAO,CAAC,IAAI,CAAC,iCAAiC,GAAG,GAAG,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,CAAC;YAE5E,CAAC;YAhDM,8BAAe,GAAG,kBAAkB,CAAC,QAAQ,CAAC,SAAS,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,cAAc,EAAE,SAAS,EAAE,UAAC,CAAiB,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAhC,CAAgC,CAAC,CAAC;YACjK,sCAAuB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAM,OAAA,kBAAY,EAAZ,CAAY,EAAE,cAAc,EAAE,SAAS,EAAE,UAAC,CAAiB,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,wBAAwB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAxD,CAAwD,CAAC,CAAC;YAC/M,iCAAkB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAM,OAAA,SAAG,EAAH,CAAG,EAAE,cAAc,EAAE,SAAS,EAAE,UAAC,CAAiB,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,2BAA2B,CAAC,IAAI,CAAC,EAAnC,CAAmC,CAAC,CAAC;YA+ClL,qBAAC;QAAD,CAxDA,AAwDC,CAxDmC,gBAAO,GAwD1C;QAxDY,uBAAc,iBAwD1B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACtC,YAAM,CAAC,OAAO,CAAC,cAAc,EAAE,cAAc,CAAC,eAAe,CAAC,CAAC;IACnE,CAAC,EAhHY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAgHpB;AAAD,CAAC,EAhHM,KAAK,KAAL,KAAK,QAgHX;ACjHD,IAAO,KAAK,CAoEX;AApED,WAAO,KAAK;IAAC,IAAA,QAAQ,CAoEpB;IApEY,WAAA,QAAQ,EAAC,CAAC;QACnB,WAAY,YAAY;YACpB,mDAAU,CAAA;YACV,+CAAQ,CAAA;YACR,uEAAoB,CAAA;QACxB,CAAC,EAJW,qBAAY,KAAZ,qBAAY,QAIvB;QAJD,IAAY,YAAY,GAAZ,qBAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;QAExD,WAAY,mBAAmB;YAC3B,qEAAY,CAAA;YACZ,6DAAQ,CAAA;YACR,iEAAU,CAAA;YACV,mEAAW,CAAA;QACf,CAAC,EALW,4BAAmB,KAAnB,4BAAmB,QAK9B;QALD,IAAY,mBAAmB,GAAnB,4BAKX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;QAEtE,WAAY,YAAY;YACpB,+CAAQ,CAAA;YACR,+DAAgB,CAAA;YAChB,yEAAqB,CAAA;QACzB,CAAC,EAJW,qBAAY,KAAZ,qBAAY,QAIvB;QAJD,IAAY,YAAY,GAAZ,qBAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;QAExD,WAAY,SAAS;YACjB,+CAAW,CAAA;YACX,2CAAS,CAAA;YACT,2CAAS,CAAA;QACb,CAAC,EAJW,kBAAS,KAAT,kBAAS,QAIpB;QAJD,IAAY,SAAS,GAAT,kBAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;QAElD,WAAY,aAAa;YACrB,qDAAU,CAAA;YACV,mDAAS,CAAA;YACT,mDAAS,CAAA;YACT,iDAAQ,CAAA;YACR,+CAAO,CAAA;QACX,CAAC,EANW,sBAAa,KAAb,sBAAa,QAMxB;QAND,IAAY,aAAa,GAAb,sBAMX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;QAE1D,WAAY,aAAa;YACrB,qDAAU,CAAA;YACV,yDAAY,CAAA;YACZ,yDAAY,CAAA;QAChB,CAAC,EAJW,sBAAa,KAAb,sBAAa,QAIxB;QAJD,IAAY,aAAa,GAAb,sBAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;QAE1D,WAAY,iBAAiB;YACzB,6DAAU,CAAA;YACV,+DAAW,CAAA;YAGX,mEAAa,CAAA;YACb,+DAAW,CAAA;YACX,6DAAU,CAAA;YACV,+DAAW,CAAA;QACf,CAAC,EATW,0BAAiB,KAAjB,0BAAiB,QAS5B;QATD,IAAY,iBAAiB,GAAjB,0BASX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,CAAC;QAElE,WAAY,gBAAgB;YACxB,iEAAa,CAAA;YACb,iEAAa,CAAA;YACb,+EAAoB,CAAA;YACpB,mEAAc,CAAA;YACd,6DAAW,CAAA;YACX,+EAAoB,CAAA;QACxB,CAAC,EAPW,yBAAgB,KAAhB,yBAAgB,QAO3B;QAPD,IAAY,gBAAgB,GAAhB,yBAOX,CAAA;QAED,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;IACpE,CAAC,EApEY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAoEpB;AAAD,CAAC,EApEM,KAAK,KAAL,KAAK,QAoEX;AClED,IAAO,KAAK,CA4OX;AA5OD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA4OpB;IA5OY,WAAA,QAAQ;QAAC,IAAA,UAAU,CA4O/B;QA5OqB,WAAA,UAAU,EAAC,CAAC;YAC9B;gBAAgC,8BAAc;gBAoB1C;oBACI,iBAAO,CAAC;oBAVZ,UAAK,GAAG,IAAI,iBAAW,EAAmB,CAAC;oBAEnC,qBAAgB,GAAY,KAAK,CAAC;oBAElC,2BAAsB,GAAY,KAAK,CAAC;oBACxC,oBAAe,GAAY,KAAK,CAAC;oBACzC,mBAAc,GAAU,IAAI,KAAK,EAAE,CAAC;oBAC5B,yBAAoB,GAAY,KAAK,CAAC;oBAI1C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAC1B,CAAC;gBAED,uCAAkB,GAAlB,UAAmB,IAAyC;oBACxD,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBAED,uCAAkB,GAAlB,UAAmB,CAAsC;oBAAzD,iBAUC;oBATG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;wBACb,MAAM,CAAC;oBACX,IAAI,CAAC,cAAc,CAAC;wBAChB,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;wBAC1D,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;wBAC1D,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;wBAC9B,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;wBAC7B,KAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBACxC,CAAC,CAAC,CAAC;gBACP,CAAC;gBACD,iCAAY,GAAZ,UAAa,CAAuB;oBAApC,iBAWC;oBAVG,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBAEzB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBACtD,MAAM,CAAC;oBAEX,IAAI,CAAC,cAAc,CAAC;wBAChB,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;wBACzD,KAAI,CAAC,OAAO,EAAE,CAAC;oBACnB,CAAC,CAAC,CAAC;gBACP,CAAC;gBACD,iCAAY,GAAZ,UAAa,CAAuB;oBAApC,iBAUC;oBATG,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBAEzB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBACtD,MAAM,CAAC;oBAEX,IAAI,CAAC,cAAc,CAAC;wBAChB,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;oBAC9D,CAAC,CAAC,CAAC;gBACP,CAAC;gBACD,gCAAW,GAAX,UAAY,CAAuB;oBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBAErB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAE1C,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,IAAI,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;wBACxI,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;oBACnG,CAAC;gBACL,CAAC;gBACD,0CAAqB,GAArB,UAAsB,CAA6B;oBAAnD,iBAoBC;oBAnBG,gBAAK,CAAC,qBAAqB,YAAC,CAAC,CAAC,CAAC;oBAE/B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;oBACnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChB,MAAM,CAAC;oBACX,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC/B,EAAE,CAAC,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC;wBAC9B,MAAM,CAAC;oBAEX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,cAAc,CAAC;wBAChB,KAAI,CAAC,KAAK,EAAE,CAAC;wBACb,KAAI,CAAC,qBAAqB,EAAE,CAAC;wBAC7B,EAAE,CAAC,CAAC,KAAI,CAAC,gBAAgB,CAAC;4BACtB,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;oBACjE,CAAC,CAAC,CAAC;oBAEH,EAAE,CAAC,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC;wBAC9B,IAAI,CAAC,OAAO,EAAE,CAAC;gBACvB,CAAC;gBACD,wCAAmB,GAAnB,UAAoB,CAA6B;oBAC7C,gBAAK,CAAC,qBAAqB,YAAC,CAAC,CAAC,CAAC;oBAE/B,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBACpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChB,MAAM,CAAC;oBACX,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC/B,EAAE,CAAC,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC;wBAC9B,MAAM,CAAC;oBAEX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,SAAS,IAAI,SAAS,KAAK,kBAAS,CAAC,OAAO,CAAC;wBAC3E,IAAI,CAAC,OAAO,EAAE,CAAC;oBAEnB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;wBACxB,IAAI,CAAC,4BAA4B,EAAE,CAAC;wBACpC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;oBAC9D,CAAC;gBACL,CAAC;gBAED,+BAAU,GAAV,UAAW,CAAkB;oBACzB,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;oBACzD,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBACD,gCAAW,GAAX,UAAY,CAAkB;oBAA9B,iBAYC;oBAXG,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBACrB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;oBAE1D,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC;wBACnC,MAAM,CAAC;oBAEX,IAAI,CAAC,cAAc,CAAC;wBAChB,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;wBAC1D,KAAI,CAAC,4BAA4B,EAAE,CAAC;wBACpC,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBACjC,CAAC,CAAC,CAAC;gBACP,CAAC;gBAED,gCAAW,GAAX,UAAY,CAAuB;oBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,IAAI,CAAC;wBAC9C,MAAM,CAAC;oBACX,IAAI,EAAE,GAAG,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;oBAC/B,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC3F,CAAC;gBACD,gCAAW,GAAX,UAAY,CAAuB;oBAAnC,iBAaC;oBAZG,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChB,MAAM,CAAC;oBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,cAAc,CAAC;wBAChB,KAAI,CAAC,KAAK,EAAE,CAAC;wBACb,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,KAAI,CAAC,CAAC;4BACvB,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;oBACjE,CAAC,CAAC,CAAC;oBAEH,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC;wBACnC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACvB,CAAC;gBACD,8BAAS,GAAT,UAAU,CAAuB;oBAC7B,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;oBACnB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChB,MAAM,CAAC;oBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,OAAO,CAAC;wBACvD,IAAI,CAAC,OAAO,EAAE,CAAC;oBACnB,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAC9B,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;gBAC9D,CAAC;gBAED,4BAAO,GAAP;oBACI,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC;oBAChC,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;wBACd,IAAI,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC;wBAC1B,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,UAAU,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,IAAI,OAAO,GAAG,CAAC,OAAO,KAAK,UAAU,CAAC,CAAC;4BAChH,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACzB,CAAC;oBAED,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,qBAAe,EAAE,CAAC,CAAC;gBAClD,CAAC;gBAEO,mCAAc,GAAtB,UAAuB,MAAkB;oBACrC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;oBACjC,IAAI,CAAC;wBACD,MAAM,EAAE,CAAC;oBACb,CAAC;4BAAS,CAAC;wBACP,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;wBAClC,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBAC7B,CAAC;gBACL,CAAC;gBAED,sCAAiB,GAAjB,UAAkB,cAAwB;oBACtC,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC;wBAC1B,MAAM,CAAC;oBACX,gBAAK,CAAC,iBAAiB,YAAC,cAAc,CAAC,CAAC;gBAC5C,CAAC;gBACD,oCAAe,GAAf,UAAgB,QAAoC;oBAChD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;oBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBACf,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;oBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;wBACjB,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBACjC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAC9B,CAAC;gBAEO,0CAAqB,GAA7B;oBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC;wBACvB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpD,CAAC;gBACO,iDAA4B,GAApC;oBACI,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAClC,CAAC;gBACO,qCAAgB,GAAxB,UAAyB,GAAU;oBAC/B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW;2BACzC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC;gBACtD,CAAC;gBAEO,qCAAgB,GAAxB,UAAyB,IAAyC;oBAC9D,IAAI,GAAG,GAAG,WAAK,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC5C,EAAE,CAAC,CAAC,GAAG,CAAC;wBACJ,GAAG,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;oBAErE,GAAG,GAAG,WAAK,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACxC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBACN,GAAG,CAAC,iBAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;wBAChE,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;oBAC3D,CAAC;gBACL,CAAC;gBACO,+CAA0B,GAAlC,UAAmC,MAAM,EAAE,CAAC;oBACxC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACpE,CAAC;gBACO,8CAAyB,GAAjC,UAAkC,IAAyC;oBACvE,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBACvB,EAAE,CAAC,CAAC,GAAG,CAAC;wBACJ,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACvD,CAAC;gBAvOM,4BAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,kBAAS,CAAC,EAAnB,CAAmB,EAAE,UAAU,EAAE,kBAAS,CAAC,OAAO,CAAC,CAAC;gBACvH,4BAAiB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,UAAU,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAa,CAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAxC,CAAwC,CAAC,CAAC;gBAC9J,4BAAiB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;gBACvG,0BAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,WAAK,CAAC,SAAS,EAAf,CAAe,EAAE,UAAU,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAa,CAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAtC,CAAsC,CAAC,CAAC;gBAChK,mCAAwB,GAAG,kBAAkB,CAAC,YAAY,CAAC,kBAAkB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,UAAU,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAa,CAAE,CAAC,yBAAyB,CAAC,IAAI,CAAC,EAA/C,CAA+C,CAAC,CAAC;gBAoO7L,iBAAC;YAAD,CAzOA,AAyOC,CAzO+B,uBAAc,GAyO7C;YAzOY,qBAAU,aAyOtB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACtC,CAAC,EA5OqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QA4O/B;IAAD,CAAC,EA5OY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA4OpB;AAAD,CAAC,EA5OM,KAAK,KAAL,KAAK,QA4OX;AC7OD,IAAO,KAAK,CAyBX;AAzBD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAyBpB;IAzBY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA4B,0BAAqB;YAC7C;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;YAClC,CAAC;YAED,gCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;YAED,mCAAkB,GAAlB,UAAmB,CAAsC;gBACrD,gBAAK,CAAC,kBAAkB,YAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC;YAChC,CAAC;YACL,aAAC;QAAD,CAfA,AAeC,CAf2B,mBAAU,CAAC,UAAU,GAehD;QAfY,eAAM,SAelB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC9B,6BAAoB,CAAC,MAAM,EACvB,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAE,EAC9C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;IACvD,CAAC,EAzBY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAyBpB;AAAD,CAAC,EAzBM,KAAK,KAAL,KAAK,QAyBX;ACzBD,IAAO,KAAK,CAmKX;AAnKD,WAAO,KAAK,EAAC,CAAC;IACV;QAAgE,wCAAU;QAA1E;YAAgE,8BAAU;YACtE,QAAG,GAAa,EAAE,CAAC;QA+JvB,CAAC;QA7JG,uCAAQ,GAAR,UAAU,IAAgB;YACtB,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC9C,KAAK,CAAC,cAAc,EAAE,CAAC;QAC/B,CAAC;QAED,sBAAI,uCAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;YAC3B,CAAC;;;WAAA;QAED,uCAAQ,GAAR,UAAU,UAAkB,EAAE,QAAgB;YAC1C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;QAChD,CAAC;QAED,yCAAU,GAAV,UAAY,KAAa;YACrB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QAED,yCAAU,GAAV,UAAY,KAAa,EAAE,KAAQ;YAC/B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACpB,MAAM,CAAC,KAAK,CAAC;YAEjB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;gBACtC,MAAM,CAAC,KAAK,CAAC;YAEjB,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,KAAK,GAAG,KAAK,CAAC;YAElB,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBAC1C,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gBAC/C,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED,kCAAG,GAAH,UAAK,KAAQ;YACT,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC7C,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACzC,CAAC;QAED,qCAAM,GAAN,UAAQ,KAAa,EAAE,KAAQ;YAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACpB,MAAM,CAAC,KAAK,CAAC;YACjB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;gBACV,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;YAC5B,EAAE,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;gBACd,KAAK,GAAG,KAAK,CAAC;YAElB,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBACjC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBACnC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;gBACd,MAAM,IAAI,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACvC,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED,qCAAM,GAAN,UAAQ,KAAQ;YACZ,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAChC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;gBACb,MAAM,CAAC,KAAK,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC;QAED,uCAAQ,GAAR,UAAU,KAAa;YACnB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;gBACtC,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YACxC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACrC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,oCAAK,GAAL;YACI,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YAEnB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;YACd,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;YACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAC7C,CAAC;YACD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACxB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,sCAAO,GAAP,UAAS,KAAQ;YACb,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC;QAED,uCAAQ,GAAR,UAAU,KAAQ;YACd,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;QACpC,CAAC;QAED,qCAAM,GAAN,UAAQ,KAAQ;YACZ,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,iDAAkB,GAAlB,UAAoB,KAAQ,EAAE,KAAa;YACvC,EAAE,CAAC,CAAC,KAAK,YAAY,gBAAU,CAAC;gBAC5B,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YACzD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,oDAAqB,GAArB,UAAuB,KAAQ,EAAE,WAAoB;YACjD,EAAE,CAAC,CAAC,KAAK,YAAY,gBAAU,CAAC;gBAC5B,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAChC,CAAC;QAED,4CAAa,GAAb,UAAe,OAAiB;YAC5B,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QAC/D,CAAC;QAED,gDAAiB,GAAjB,UAAsC,OAAiB;YACnD,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACvC,MAAM,CAAC;gBACH,OAAO,EAAE,SAAS;gBAClB,QAAQ,EAAE;oBACN,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;wBACnB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;wBACzB,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;oBACD,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;oBACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC7B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;aACJ,CAAC;QACN,CAAC;QAED,8CAAe,GAAf,UAAiB,KAAQ,EAAE,KAAa;QACxC,CAAC;QAED,gDAAiB,GAAjB,UAAmB,KAAQ,EAAE,KAAa;QAC1C,CAAC;QAED,iDAAkB,GAAlB,UAAoB,OAAU,EAAE,KAAQ,EAAE,KAAa;QACvD,CAAC;QAGD,4CAAa,GAAb,UAAe,GAAQ;QACvB,CAAC;QAED,wCAAS,GAAT,UAAW,MAA+B;YACtC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,MAAM,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;gBACnD,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;YACtC,CAAC;QACL,CAAC;QAED,sCAAO,GAAP;YACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC;QACL,2BAAC;IAAD,CAhKA,AAgKC,CAhK+D,gBAAU,GAgKzE;IAhKY,0BAAoB,uBAgKhC,CAAA;IACD,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;AACtD,CAAC,EAnKM,KAAK,KAAL,KAAK,QAmKX;ACjKD,IAAO,KAAK,CA8EX;AA9ED,WAAO,KAAK;IAAC,IAAA,QAAQ,CA8EpB;IA9EY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAsC,2CAA+B;YAArE;gBAAsC,8BAA+B;gBACjE,eAAU,GAA2B,EAAE,CAAC;YAwB5C,CAAC;YAvBG,oDAAkB,GAAlB,UAAmB,KAAgB,EAAE,KAAa;gBAC9C,IAAI,SAAS,GAAc,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;gBACpD,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,iBAAiB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;oBAC3C,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,gBAAK,CAAC,kBAAkB,YAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAClD,CAAC;YACD,uDAAqB,GAArB,UAAsB,KAAgB,EAAE,WAAoB;gBACxD,IAAI,SAAS,GAAc,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;gBACpD,SAAS,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBACzC,gBAAK,CAAC,qBAAqB,YAAC,KAAK,EAAE,WAAW,CAAC,CAAC;YACpD,CAAC;YACD,+CAAa,GAAb,UAAe,MAAmB;gBAC9B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;YAC/B,CAAC;YACD,iDAAe,GAAf,UAAgB,KAAgB,EAAE,KAAa;gBAC3C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YACnE,CAAC;YACD,mDAAiB,GAAjB,UAAkB,KAAgB,EAAE,KAAa;gBAC7C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACrC,CAAC;YACD,oDAAkB,GAAlB,UAAmB,OAAkB,EAAE,KAAgB,EAAE,KAAa;gBAClE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YACnE,CAAC;YACL,8BAAC;QAAD,CAzBA,AAyBC,CAzBqC,0BAAoB,GAyBzD;QAED;YAA+B,6BAAM;YAGjC,mBAAY,IAAW;gBACnB,kBAAM,IAAI,CAAC,CAAC;YAChB,CAAC;YACD,qCAAiB,GAAjB,UAAkB,GAAc,EAAE,KAAa;gBAC3C,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;gBAChC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACxC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,qCAAiB,GAAjB,UAAkB,GAAc,EAAE,KAAa;gBAC3C,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;gBAChC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,gBAAC;QAAD,CAhBA,AAgBC,CAhB8B,YAAM,GAgBpC;QAhBY,kBAAS,YAgBrB,CAAA;QAED;YAA2B,yBAAgB;YAavC;gBACI,iBAAO,CAAC;gBACR,IAAI,IAAI,GAA4B,KAAK,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC5E,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACzD,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;gBACzB,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YACvD,CAAC;YAjBD,0BAAU,GAAV,cAA0B,MAAM,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACvD,mCAAmB,GAAnB,cAAwB,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;YAKpE,eAAS,GAAhB,UAAiB,GAAc,IAAY,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAChF,eAAS,GAAhB,UAAiB,GAAc,EAAE,KAAa,IAAI,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAJvF,wBAAkB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,KAAK,CAAC,CAAC;YACzF,sBAAgB,GAAG,kBAAkB,CAAC,iBAAiB,CAAkC,UAAU,EAAE,cAAM,OAAA,uBAAuB,EAAvB,CAAuB,EAAE,KAAK,CAAC,CAAC;YAC3I,oBAAc,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;YAalG,YAAC;QAAD,CApBA,AAoBC,CApB0B,sBAAgB,GAoB1C;QApBY,cAAK,QAoBjB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC7B,YAAM,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAE9C,IAAO,SAAS,CAOf;QAPD,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAiB,KAAK,CAAC,kBAAkB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE;gBAC7D,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC;oBACV,GAAG,CAAC,YAAY,EAAE,CAAC;gBACvB,GAAG,CAAC,UAAU,EAAE,CAAC;YACrB,CAAC,CAAC,CAAC;YACH,wBAAkB,CAAS,KAAK,CAAC,cAAc,EAAE,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC5F,CAAC,EAPM,SAAS,KAAT,SAAS,QAOf;IACL,CAAC,EA9EY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA8EpB;AAAD,CAAC,EA9EM,KAAK,KAAL,KAAK,QA8EX;AChFD,IAAO,KAAK,CAiBX;AAjBD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAiBpB;IAjBY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA4B,0BAAK;YAAjC;gBAA4B,8BAAK;YASjC,CAAC;YARG,oCAAmB,GAAnB,cAAwB,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;YAGtE,aAAM,GAAb,UAAc,CAAmB,IAAY,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC9E,aAAM,GAAb,UAAc,CAAmB,EAAE,KAAa,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAErF,cAAO,GAAd,UAAe,CAAmB,IAAY,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAChF,cAAO,GAAd,UAAe,CAAmB,EAAE,KAAa,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YALvF,kBAAW,GAAuB,kBAAkB,CAAC,gBAAgB,CAAC,KAAK,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;YAGxG,mBAAY,GAAuB,kBAAkB,CAAC,gBAAgB,CAAC,MAAM,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;YAGrH,aAAC;QAAD,CATA,AASC,CAT2B,cAAK,GAShC;QATY,eAAM,SASlB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAE9B,IAAO,SAAS,CAGf;QAHD,WAAO,SAAS,EAAC,CAAC;YACd,wBAAkB,CAAS,MAAM,CAAC,WAAW,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACpF,wBAAkB,CAAS,MAAM,CAAC,YAAY,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC1F,CAAC,EAHM,SAAS,KAAT,SAAS,QAGf;IACL,CAAC,EAjBY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAiBpB;AAAD,CAAC,EAjBM,KAAK,KAAL,KAAK,QAiBX;ACjBD,IAAO,KAAK,CA8EX;AA9ED,WAAO,KAAK;IAAC,IAAA,QAAQ,CA8EpB;IA9EY,WAAA,QAAQ;QAAC,IAAA,UAAU,CA8E/B;QA9EqB,WAAA,UAAU,EAAC,CAAC;YAC9B;gBAAkC,gCAAU;gBAUxC;oBACI,iBAAO,CAAC;oBAVZ,YAAO,GAAG,IAAI,iBAAW,EAAmB,CAAC;oBAC7C,kBAAa,GAAG,IAAI,iBAAW,EAAmB,CAAC;oBACnD,cAAS,GAAG,IAAI,iBAAW,EAAmB,CAAC;oBAS3C,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;gBACxC,CAAC;gBAED,sCAAe,GAAf;oBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;oBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;gBAED,uCAAgB,GAAhB,UAAiB,UAAe,EAAE,UAAe;oBAC7C,gBAAK,CAAC,gBAAgB,YAAC,UAAU,EAAE,UAAU,CAAC,CAAC;oBAC/C,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBACD,8BAAO,GAAP;oBACI,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAChB,gBAAK,CAAC,OAAO,WAAE,CAAC;gBACpB,CAAC;gBACD,wCAAiB,GAAjB,UAAkB,cAAwB;oBACtC,cAAc,GAAG,cAAc,KAAK,KAAK,CAAC;oBAC1C,gBAAK,CAAC,iBAAiB,YAAC,cAAc,CAAC,CAAC;oBAExC,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC/B,IAAI,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC;oBAC7C,EAAE,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;wBACrB,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;oBACnD,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC;wBAC7B,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;oBACrD,CAAC;oBAAC,IAAI,CAAC,CAAC;wBAEJ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,eAAe,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC;4BACxD,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,WAAW,EAAE,cAAc,CAAC,CAAA;wBACpD,CAAC;oBACL,CAAC;gBACL,CAAC;gBAED,yCAAkB,GAAlB,UAAmB,IAAyC;oBACxD,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC9B,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACzB,IAAI,KAAK,GAAG,IAAI,qBAAe,EAAE,CAAC;oBAClC,EAAE,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;wBACrB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;oBACpC,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC;wBAC7B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;oBACtC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;oBAC1C,CAAC;gBACL,CAAC;gBACD,+BAAQ,GAAR;oBACI,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC/B,EAAE,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;wBACrB,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,iBAAiB,EAAE,IAAI,CAAC,YAAY,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;oBAC3F,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,iBAAiB,EAAE,SAAS,IAAI,IAAI,CAAC,CAAC;oBAC5E,CAAC;gBACL,CAAC;gBA5DM,8BAAiB,GAAuB,kBAAkB,CAAC,YAAY,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,YAAY,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAe,CAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAA1C,CAA0C,CAAC,CAAC;gBAClL,iCAAoB,GAAuB,kBAAkB,CAAC,YAAY,CAAC,cAAc,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;gBA4D1I,mBAAC;YAAD,CAlEA,AAkEC,CAlEiC,qBAAU,GAkE3C;YAlEY,uBAAY,eAkExB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YACpC,6BAAoB,CAAC,YAAY,EAAE,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7E,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;QAC7D,CAAC,EA9EqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QA8E/B;IAAD,CAAC,EA9EY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA8EpB;AAAD,CAAC,EA9EM,KAAK,KAAL,KAAK,QA8EX;AC9ED,IAAO,KAAK,CAqBX;AArBD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAqBpB;IArBY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA8B,4BAAuB;YACjD;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC;YACpC,CAAC;YACL,eAAC;QAAD,CALA,AAKC,CAL6B,mBAAU,CAAC,YAAY,GAKpD;QALY,iBAAQ,WAKpB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAChC,6BAAoB,CAAC,QAAQ,EACzB,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAE,EAC9C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,eAAe,EAAE,EACnD,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,kBAAkB,EAAE,EAC3D,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,gBAAgB,EAAE,EACzD,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;IAC1D,CAAC,EArBY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAqBpB;AAAD,CAAC,EArBM,KAAK,KAAL,KAAK,QAqBX;ACpBD,IAAO,KAAK,CA8EX;AA9ED,WAAO,KAAK;IAAC,IAAA,QAAQ,CA8EpB;IA9EY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAsC,oCAAgB;YAAtD;gBAAsC,8BAAgB;YActD,CAAC;YAHG,yCAAc,GAAd,UAAgB,KAAa;gBACzB,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;YACtE,CAAC;YAXM,8BAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,mBAAU,EAAV,CAAU,EAAE,gBAAgB,EAAE,SAAS,EAAE,YAAM,CAAC,CAAC;YAC5G,iCAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,MAAM,CAAC,iBAAiB,EAAE,YAAM,CAAC,CAAC;YAC7H,iCAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,GAAG,EAAE,YAAM,CAAC,CAAC;YACxG,oCAAmB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;YASzH,uBAAC;QAAD,CAdA,AAcC,CAdqC,sBAAgB,GAcrD;QAdY,yBAAgB,mBAc5B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAExC,IAAO,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;QACzD,iCAAkC,CAAM;YACpC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,gBAAgB,CAAC;gBACpC,MAAM,CAAmB,CAAC,CAAC;YAC/B,IAAI,CAAC,GAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;YAC7B,IAAI,EAAE,GAAG,IAAI,gBAAgB,EAAE,CAAC;YAChC,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC,CAAC,CAAC;gBAC7B,EAAE,CAAC,KAAK,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;gBAChD,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACZ,EAAE,CAAC,KAAK,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;gBAChD,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;YACD,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YACtB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACT,MAAM,IAAI,kBAAkB,CAAC,6BAA6B,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;YAC3E,EAAE,CAAC,KAAK,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;YAC/F,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QAED,SAAS,CAAC,qBAAqB,CAAC,gBAAgB,EAAE,uBAAuB,CAAC,CAAC;QAE3E;YAAgD,8CAAsC;YAAtF;gBAAgD,8BAAsC;YAgBtF,CAAC;YAfG,oDAAe,GAAf,UAAiB,KAAuB,EAAE,KAAa;gBACnD,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,IAAI;iBACZ,CAAC,CAAC;YACP,CAAC;YAED,sDAAiB,GAAjB,UAAmB,KAAuB,EAAE,KAAa;gBACrD,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,KAAK;iBACb,CAAC,CAAC;YACP,CAAC;YACL,iCAAC;QAAD,CAhBA,AAgBC,CAhB+C,0BAAoB,GAgBnE;QAhBY,mCAA0B,6BAgBtC,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAElD,2CAA4C,CAAM;YAC9C,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,0BAA0B,CAAC;gBAC9C,MAAM,CAA6B,CAAC,CAAC;YACzC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACxB,IAAI,MAAM,GAAY,CAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACpC,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;gBACxB,IAAI,GAAG,GAAG,IAAI,0BAA0B,EAAE,CAAC;gBAC3C,IAAI,EAAoB,CAAC;gBACzB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3B,EAAE,CAAC,CAAC,EAAE,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBACxC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;gBACpB,CAAC;gBACD,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACD,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAED,SAAS,CAAC,qBAAqB,CAAC,0BAA0B,EAAE,iCAAiC,CAAC,CAAC;IACnG,CAAC,EA9EY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA8EpB;AAAD,CAAC,EA9EM,KAAK,KAAL,KAAK,QA8EX;AC/ED,IAAO,KAAK,CAwOX;AAxOD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAwOpB;IAxOY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAsC,oCAAW;YAE7C,0BAAY,IAAkB;gBAC1B,kBAAM,IAAI,CAAC,CAAC;gBAGhB,mBAAc,GAAmB,IAAI,CAAC;YAFtC,CAAC;YAGD,+CAAoB,GAApB;gBACI,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;gBACpC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;oBACX,CAAC,SAAS,GAAG,IAAI,uBAAc,EAAE,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC;gBACpE,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;YACL,uBAAC;QAAD,CAbA,AAaC,CAbqC,oBAAW,GAahD;QAbY,yBAAgB,mBAa5B,CAAA;QAED;YAAkC,gCAAO;YAwErC;gBACI,iBAAO,CAAC;gBA2BJ,iBAAY,GAAG,KAAK,CAAC;gBACrB,yBAAoB,GAAG,KAAK,CAAC;gBAmF7B,2BAAsB,GAAiB,IAAI,CAAC;gBA9GhD,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;gBACpC,IAAI,IAAI,GAAmB,YAAY,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACvE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;gBAEjD,IAAI,CAAC,sBAAsB,GAAG,IAAI,iBAAQ,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAC3E,CAAC;YA7ED,iCAAU,GAAV,cAAiC,MAAM,CAAC,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAErE,sBAAI,wCAAc;qBAAlB,cAAgC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;;eAAA;YASvC,2BAAc,GAArB,UAAsB,CAAmB,IAAa,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,mBAAmB,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9G,2BAAc,GAArB,UAAsB,CAAmB,EAAE,KAAc,IAAI,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,mBAAmB,EAAE,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;YAQ5H,iDAA0B,GAA1B,UAA2B,CAAsC;gBAC7D,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,qBAAqB,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;oBACvE,IAAI,CAAC,uBAAuB,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;gBAC7D,CAAC;YACL,CAAC;YACD,2CAAoB,GAApB,UAAqB,CAAsC;gBAEvD,IAAI,EAAE,GAAG,iBAAW,CAAC,yBAAyB,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAC9D,EAAE,CAAC,CAAC,EAAE,CAAC;oBACH,EAAE,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;gBAC/D,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACvB,IAAI,SAAS,GAAG,iBAAW,CAAC,0BAA0B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBAG9E,IAAI,CAAC;oBACD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;oBACjC,KAAK,CAAC,KAAK,EAAE,CAAC;gBAClB,CAAC;wBAAS,CAAC;oBACP,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBACtC,CAAC;gBACD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;gBAG/B,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBACjC,IAAI,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAC9B,IAAI,CAAC;oBACD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;oBACjC,EAAE,CAAC,CAAC,GAAG,CAAC;wBACJ,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC5B,CAAC;wBAAS,CAAC;oBACP,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBACtC,CAAC;gBACD,EAAE,CAAC,CAAC,GAAG,CAAC;oBACJ,IAAI,CAAC,cAAc,CAAC,iBAAW,CAAC,0BAA0B,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBAGjF,IAAI,EAAE,GAAG,iBAAW,CAAC,yBAAyB,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAC9D,EAAE,CAAC,CAAC,EAAE,CAAC;oBACH,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;YAClE,CAAC;YAED,4CAAqB,GAArB,UAAuB,CAAsC;gBACzD,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,qBAAqB,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;oBACvE,IAAI,CAAC,uBAAuB,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;gBAC7D,CAAC;YACL,CAAC;YAGD,sBAAI,+CAAqB;qBAAzB,cAA+D,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;;;eAAA;YAWpG,8CAAuB,GAAvB,UAAwB,SAAoB,EAAE,IAAS;gBACnD,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC;oBAC5D,MAAM,IAAI,yBAAyB,CAAC,kEAAkE,CAAC,CAAC;gBAC5G,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YAClD,CAAC;YACD,4CAAqB,GAArB,UAAsB,SAAoB,EAAE,IAAS;gBACjD,EAAE,CAAC,CAAC,SAAS,YAAY,yBAAgB,CAAC,CAAC,CAAC;oBACxC,IAAI,EAAE,GAAqB,SAAS,CAAC;oBACrC,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,KAAK,IAAI,CAAC;wBACpB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,YAAY,uBAAc,CAAC,CAAC,CAAC;oBAC7C,IAAI,EAAE,GAAmB,SAAS,CAAC;oBACnC,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,KAAK,IAAI,CAAC;wBACpB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;gBAC1B,CAAC;YACL,CAAC;YACD,0CAAmB,GAAnB,cAAmC,MAAM,CAAC,IAAI,yBAAgB,EAAE,CAAC,CAAC,CAAC;YACnE,4CAAqB,GAArB,UAAsB,IAAS,IAAa,MAAM,CAAC,IAAI,YAAY,eAAS,CAAC,CAAC,CAAC;YAIvE,sCAAe,GAAvB,UAAwB,MAAW,EAAE,CAAyC;gBAC1E,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC;oBAC1B,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBAClB,MAAM,IAAI,yBAAyB,CAAC,iDAAiD,CAAC,CAAC;gBAC3F,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;YACO,4CAAqB,GAA7B,UAA8B,MAAW,EAAE,CAAyC;gBAChF,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACvB,IAAI,CAAC;oBACD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;oBACjC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;wBACf,KAAK,iBAAW,CAAC,uBAAuB,CAAC,GAAG;4BACxC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gCACpD,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,gBAAgB,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;4BACxD,CAAC;4BACD,KAAK,CAAC;wBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,MAAM;4BAC3C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gCACpD,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC;4BACvC,CAAC;4BACD,KAAK,CAAC;wBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,OAAO;4BAC5C,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;4BACpD,KAAK,CAAC;wBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,KAAK;4BAC1C,KAAK,CAAC,KAAK,EAAE,CAAC;4BACd,KAAK,CAAC;oBACd,CAAC;gBACL,CAAC;wBAAS,CAAC;oBACP,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBACtC,CAAC;gBACD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;YACD,qCAAc,GAAd,UAAe,CAAyC;gBACpD,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACf,KAAK,iBAAW,CAAC,uBAAuB,CAAC,GAAG;wBACxC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;wBAClD,KAAK,CAAC;oBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,MAAM;wBAC3C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACpD,KAAK,CAAC;oBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,OAAO;wBAC5C,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACpD,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;wBAClD,KAAK,CAAC;oBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,KAAK;wBAC1C,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;wBACnC,KAAK,CAAC;gBACd,CAAC;YACL,CAAC;YACD,mCAAY,GAAZ,UAAa,KAAa,EAAE,QAAe;gBACvC,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAC1D,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;gBAC7C,EAAE,CAAC,CAAC,SAAS,CAAC;oBACV,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YAChD,CAAC;YACD,qCAAc,GAAd,UAAe,KAAa,EAAE,QAAe;gBACzC,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;gBAC7C,EAAE,CAAC,CAAC,SAAS,CAAC;oBACV,SAAS,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAC9C,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YAChE,CAAC;YAEO,8CAAuB,GAA/B,UAAgC,SAAoB,EAAE,IAAS;gBAC3D,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,SAAS,KAAK,IAAI,CAAC;oBACjC,MAAM,CAAC;gBAEX,IAAI,QAAsB,CAAC;gBAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,eAAS,CAAC,CAAC;oBAC7B,QAAQ,GAAG,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBAErE,EAAE,CAAC,CAAC,SAAS,YAAY,yBAAgB,CAAC,CAAC,CAAC;oBACxC,IAAI,EAAE,GAAqB,SAAS,CAAC;oBACrC,EAAE,CAAC,eAAe,GAAG,QAAQ,CAAC;oBAC9B,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;gBACtB,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,YAAY,uBAAc,CAAC,CAAC,CAAC;oBAC7C,IAAI,EAAE,GAAmB,SAAS,CAAC;oBACnC,EAAE,CAAC,eAAe,GAAG,QAAQ,CAAC;oBAC9B,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;gBACtB,CAAC;YACL,CAAC;YAEO,gDAAyB,GAAjC;gBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;oBAC/B,IAAI,EAAE,GAAG,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,IAAI,EAAE,CAAC,CAAC;oBAC9D,IAAI,CAAC,sBAAsB,GAAG,YAAM,CAAC,IAAI,CAAe,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;gBAC1E,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC;YACvC,CAAC;YAzLM,sCAAyB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,mBAAmB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,EAAE,IAAI,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAe,CAAE,CAAC,0BAA0B,CAAC,IAAI,CAAC,EAAlD,CAAkD,CAAC,CAAC;YAChL,+BAAkB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAM,OAAA,2BAAkB,EAAlB,CAAkB,EAAE,YAAY,CAAC,CAAC;YACvG,gCAAmB,GAAG,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,SAAS,CAAC,YAAY,EAAtB,CAAsB,EAAE,YAAY,EAAE,IAAI,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAe,CAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,EAA5C,CAA4C,CAAC,CAAC;YAClL,0BAAa,GAAG,kBAAkB,CAAC,iBAAiB,CAAiB,OAAO,EAAE,cAAM,OAAA,uBAAc,EAAd,CAAc,EAAE,YAAY,CAAC,CAAC;YAClH,iCAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,kBAAY,EAAZ,CAAY,EAAE,YAAY,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAe,CAAE,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAA7C,CAA6C,CAAC,CAAC;YAE5K,gCAAmB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,aAAa,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;YAoLxH,mBAAC;QAAD,CAhMA,AAgMC,CAhMiC,gBAAO,GAgMxC;QAhMY,qBAAY,eAgMxB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACpC,YAAM,CAAC,OAAO,CAAC,YAAY,EAAE,YAAY,CAAC,aAAa,CAAC,CAAC;QAEzD,iBAAiB,KAAU;YACvB,EAAE,CAAC,CAAC,KAAK,YAAY,KAAK,CAAC;gBACvB,MAAM,CAAQ,KAAK,CAAC;YACxB,IAAI,GAAG,GAAG,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;oBAChD,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;gBACzB,CAAC;gBACD,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,IAAO,eAAe,CAKrB;QALD,WAAO,eAAe,EAAC,CAAC;YACpB,gBAAwB,GAAW;gBAC/B,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,wBAAwB,GAAG,KAAK,CAAC,KAAK,GAAG,sCAAsC,GAAG,GAAG,GAAG,8BAA8B,EAC/I,KAAK,CAAC,KAAK,GAAG,8BAA8B,GAAG,GAAG,CAAC,CAAC;YAC9D,CAAC;YAHe,sBAAM,SAGrB,CAAA;QACL,CAAC,EALM,eAAe,KAAf,eAAe,QAKrB;IACL,CAAC,EAxOY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAwOpB;AAAD,CAAC,EAxOM,KAAK,KAAL,KAAK,QAwOX;ACxOD,IAAO,KAAK,CA+QX;AA/QD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA+QpB;IA/QY,WAAA,QAAQ;QAAC,IAAA,UAAU,CA+Q/B;QA/QqB,WAAA,UAAU,EAAC,CAAC;YAC9B;gBAA8B,4BAAY;gBA6BtC;oBACI,iBAAO,CAAC;oBAdZ,qBAAgB,GAA2C,IAAI,iBAAW,EAA6B,CAAC;oBAEhG,mBAAc,GAA0C,IAAI,iBAAW,CAAC,oBAAoB,EAAO,CAAC;oBAC5G,4BAAuB,GAAY,KAAK,CAAC;oBACzC,0BAAqB,GAAiB,IAAI,CAAC;oBACnC,yBAAoB,GAA4B,IAAI,CAAC;oBAUzD,IAAI,CAAC,UAAU,GAAG,IAAI,4BAAiB,CAAC,IAAI,CAAC,CAAC;gBAClD,CAAC;gBATD,sBAAY,gDAA0B;yBAAtC;wBACI,EAAE,CAAC,CAAC,CAAC,UAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4BAC5C,MAAM,CAAC,KAAK,CAAC;wBACjB,MAAM,CAAC,IAAI,CAAC,6BAA6B,KAAK,KAAK,CAAC;oBACxD,CAAC;;;mBAAA;gBAOD,sBAAI,mCAAa;yBAAjB;wBACI,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC;4BAC7B,IAAI,CAAC,UAAU,CAAC,uBAAuB,EAAE,CAAC;wBAC9C,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;oBAC/B,CAAC;;;mBAAA;gBAEO,0DAAuC,GAA/C,UAAgD,IAAyC;oBACrF,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC;wBACvB,MAAM,IAAI,iBAAiB,CAAC,kEAAkE,CAAC,CAAC;oBAEpG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC;wBACtB,MAAM,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBACpC,IAAI,GAAG,GAAG,UAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACrD,EAAE,CAAC,CAAC,GAAG,CAAC;wBACJ,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,WAAW,CAAC;gBAC5C,CAAC;gBACO,0CAAuB,GAA/B,UAAgC,IAAyC;oBACrE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;wBAC3B,MAAM,CAAC;oBAEX,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACvB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC;wBAClD,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;oBACrC,IAAI;wBACA,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAChE,CAAC;gBACO,yCAAsB,GAA9B,UAA+B,IAAyC;oBACpE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;wBAC3B,MAAM,CAAC;oBAEX,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC;wBACtB,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;oBACrC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC9C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC1C,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC9C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC1C,IAAI;wBACA,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;gBACzC,CAAC;gBACO,0CAAuB,GAA/B,UAAgC,IAAyC;oBACrE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;wBAC3B,MAAM,CAAC;oBACX,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gBACpD,CAAC;gBACO,8CAA2B,GAAnC,UAAoC,IAAyC;oBACzE,IAAI,CAAC,oBAAoB,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,IAAI,UAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC/F,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBACxD,CAAC;gBACO,0CAAuB,GAA/B,UAAgC,IAAwC;oBACpE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,sBAAa,CAAC,MAAM,CAAC;wBACvC,MAAM,CAAC;oBACX,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;oBAClC,EAAE,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,CAAC;wBAChB,MAAM,CAAC;oBACX,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAChE,CAAC;gBAED,kCAAe,GAAf;oBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;oBACxB,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,qBAAY,CAAC,CAAC;oBACzG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBACN,GAAG,CAAC,gCAAgC,GAAG,IAAI,CAAC;wBAC5C,GAAG,CAAC,6BAA6B,GAAG,QAAQ,CAAC,YAAY,CAAC,gCAAgC,CAAC,IAAI,CAAC,CAAC;wBACjG,GAAG,CAAC,2BAA2B,GAAG,QAAQ,CAAC,YAAY,CAAC,8BAA8B,CAAC,IAAI,CAAC,CAAC;oBACjG,CAAC;gBACL,CAAC;gBAED,iCAAc,GAAd,UAAe,CAAyC;oBACpD,gBAAK,CAAC,cAAc,YAAC,CAAC,CAAC,CAAC;oBACxB,IAAI,IAAS,CAAC;oBACd,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;wBACf,KAAK,iBAAW,CAAC,uBAAuB,CAAC,GAAG;4BACxC,IAAI,GAAgB,CAAC;4BACrB,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,oBAAW,CAAC;gCAAC,GAAG,GAAgB,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;4BAC3E,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gCACrE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;4BAChC,CAAC;4BAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;gCACnC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC9C,CAAC;4BACD,KAAK,CAAC;wBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,KAAK;4BAC1C,IAAI,CAAM,CAAC;4BACX,IAAI,GAAG,GAAG,UAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4BACrD,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,0BAA0B,CAAC;gCACvC,CAAC,GAAG,GAAG,CAAC,WAAW,CAAC;4BACxB,IAAI;gCACA,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;4BAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gCACvB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;4BAC9B,IAAI;gCACA,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;4BACrC,KAAK,CAAC;wBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,MAAM;4BAC3C,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;4BACrB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gCAClC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;4BACnC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,gBAAgB,IAAI,IAAI,CAAC,aAAa,CAAC;gCAC9C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC9C,KAAK,CAAC;wBACV,KAAK,iBAAW,CAAC,uBAAuB,CAAC,OAAO;4BAC5C,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;4BACrB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;4BAC/B,KAAK,CAAC;wBACV;4BACI,MAAM,IAAI,qBAAqB,CAAC,6BAA6B,GAAG,CAAC,CAAC,MAAM,GAAG,iBAAiB,CAAC,CAAC;oBACtG,CAAC;gBACL,CAAC;gBACD,uCAAoB,GAApB,UAAqB,IAAyC;oBAC1D,gBAAK,CAAC,oBAAoB,YAAC,IAAI,CAAC,CAAC;oBAEjC,IAAI,IAAI,GAAG,UAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACnD,EAAE,CAAC,CAAC,IAAI,CAAC;wBACL,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;oBAE9D,IAAI,GAAG,UAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC/C,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACP,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;wBACzD,EAAE,CAAC,CAAC,IAAI,CAAC,0BAA0B,CAAC;4BAChC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACjD,IAAI;4BACA,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;oBACzC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;oBACrC,CAAC;gBACL,CAAC;gBACD,8CAA2B,GAA3B,UAA4B,QAAQ,EAAE,QAAQ,IAAI,CAAC;gBAEnD,wCAAqB,GAArB,UAAsB,OAAkB,EAAE,IAAS;oBAC/C,gBAAK,CAAC,qBAAqB,YAAC,OAAO,EAAE,IAAI,CAAC,CAAC;oBAC3C,IAAI,GAAG,GAAgB,OAAO,CAAC;oBAC/B,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC1B,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC;wBACb,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC;gBAC3B,CAAC;gBACD,0CAAuB,GAAvB,UAAwB,OAAkB,EAAE,IAAS;oBACjD,gBAAK,CAAC,uBAAuB,YAAC,OAAO,EAAE,IAAI,CAAC,CAAC;oBAC7C,IAAI,GAAG,GAAgB,OAAO,CAAC;oBAC/B,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;wBAClC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;oBAC1B,EAAE,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;wBACrD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACrC,CAAC;gBAED,oCAAiB,GAAjB,UAAkB,IAAS;oBACvB,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,IAAI,IAAI,CAAC;wBAClC,MAAM,CAAC,IAAI,CAAC;oBAChB,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC;wBACb,MAAM,CAAC,IAAI,CAAC;oBAChB,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpD,CAAC;gBACO,uCAAoB,GAA5B,UAA6B,aAAkB,EAAE,mBAA6B;oBAC1E,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;wBACxB,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;wBACpD,MAAM,CAAC;oBACX,CAAC;oBAED,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACvB,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;oBACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC7B,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;wBACvC,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;4BACvC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gCACnC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;4BACjC,MAAM,CAAC;wBACX,CAAC;oBACL,CAAC;oBACD,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;gBACxD,CAAC;gBAED,4BAAS,GAAT;oBACI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBACpD,CAAC;gBAEO,wCAAqB,GAA7B,UAA8B,MAAM,EAAE,CAAuB;oBACzD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC;wBACjE,IAAI,GAAG,GAAyB,IAAI,CAAC,WAAW,CAAC;wBACjD,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;4BACtD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;oBACpD,CAAC;gBACL,CAAC;gBAED,yCAAsB,GAAtB,UAAuB,OAAc,EAAE,OAAc;oBACjD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;wBAAC,OAAO,GAAG,EAAE,CAAC;oBAC3B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;wBAAC,OAAO,GAAG,EAAE,CAAC;oBAE3B,IAAI,GAAgB,CAAC;oBACrB,IAAI,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC;oBAC9B,IAAI,QAAQ,CAAC;oBACb,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChC,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;wBACtB,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;4BACjB,QAAQ,CAAC;wBACb,GAAG,GAAG,IAAI,CAAC;wBACX,EAAE,CAAC,CAAC,QAAQ,YAAY,oBAAW,CAAC;4BAAC,GAAG,GAAgB,QAAQ,CAAC;wBACjE,GAAG,GAAG,GAAG,IAAiB,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;wBACjF,EAAE,CAAC,CAAC,GAAG,CAAC;4BACJ,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC;oBAC/B,CAAC;oBAED,IAAI,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC;oBAC9B,IAAI,QAAQ,CAAC;oBACb,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChC,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;wBACtB,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC;4BACjB,QAAQ,CAAC;wBACb,GAAG,GAAG,IAAI,CAAC;wBACX,EAAE,CAAC,CAAC,QAAQ,YAAY,oBAAW,CAAC;4BAAC,GAAG,GAAgB,QAAQ,CAAC;wBACjE,GAAG,GAAG,GAAG,IAAiB,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;wBACjF,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;4BACN,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;4BACtB,GAAG,CAAC,KAAK,EAAE,CAAC;wBAChB,CAAC;oBACL,CAAC;oBAED,IAAI,IAAI,GAAG,IAAI,oCAAyB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;oBAC3D,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;oBAC9B,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC5C,CAAC;gBACD,qCAAkB,GAAlB,UAAmB,IAA+B,IAAI,CAAC;gBAEvD,wCAAqB,GAArB,UAAsB,GAAgB;oBAClC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9E,CAAC;gBACD,uCAAoB,GAApB,UAAqB,GAAgB;oBACjC,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC1E,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;wBACtB,GAAG,CAAC,KAAK,EAAE,CAAC;oBAChB,CAAC;gBACL,CAAC;gBACD,yCAAsB,GAAtB,UAAuB,GAAgB,IAAI,CAAC;gBAC5C,0CAAuB,GAAvB,UAAwB,GAAgB,IAAI,CAAC;gBA1QtC,8CAAqC,GAAG,kBAAkB,CAAC,QAAQ,CAAC,+BAA+B,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAC,CAAW,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,uCAAuC,CAAC,IAAI,CAAC,EAA/C,CAA+C,CAAC,CAAC;gBAC5M,8BAAqB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,eAAe,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,UAAC,CAAW,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,uBAAuB,CAAC,IAAI,CAAC,EAA/B,CAA+B,CAAC,CAAC;gBACzJ,6BAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAC,CAAW,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAA9B,CAA8B,CAAC,CAAC;gBAC7J,8BAAqB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,eAAe,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAC,CAAW,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,uBAAuB,CAAC,IAAI,CAAC,EAA/B,CAA+B,CAAC,CAAC;gBAChK,kCAAyB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,mBAAmB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,UAAC,CAAW,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,2BAA2B,CAAC,IAAI,CAAC,EAAnC,CAAmC,CAAC,CAAC;gBACrK,kCAAyB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,mBAAmB,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,QAAQ,CAAC,CAAC;gBAClH,8BAAqB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,eAAe,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,sBAAa,CAAC,EAAvB,CAAuB,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAC,CAAW,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,uBAAuB,CAAC,IAAI,CAAC,EAA/B,CAA+B,CAAC,CAAC;gBAqQ5L,eAAC;YAAD,CA5QA,AA4QC,CA5Q6B,qBAAY,GA4QzC;YA5QY,mBAAQ,WA4QpB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACpC,CAAC,EA/QqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QA+Q/B;IAAD,CAAC,EA/QY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA+QpB;AAAD,CAAC,EA/QM,KAAK,KAAL,KAAK,QA+QX;ACjRD,IAAO,KAAK,CAkBX;AAlBD,WAAO,KAAK;IAAC,IAAA,MAAM,CAkBlB;IAlBY,WAAA,MAAM,EAAC,CAAC;QACjB,IAAO,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACrD,IAAI,MAAM,GAAG,CAAC,CAAC;QAIf,oBAA4B,GAAQ,EAAE,GAAY;YAC9C,MAAM,EAAE,CAAC;YACT,GAAG,GAAG,GAAG,IAAI,aAAa,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC/C,IAAI,EAAE,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;YAC7B,IAAI,IAAI,GAAG,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC;kBAC9B,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC;kBAChB,GAAG,CAAC;YACV,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACtC,MAAM,IAAI,kBAAkB,CAAC,8BAA8B,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;YACvG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACjB,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QAXe,iBAAU,aAWzB,CAAA;IACL,CAAC,EAlBY,MAAM,GAAN,YAAM,KAAN,YAAM,QAkBlB;AAAD,CAAC,EAlBM,KAAK,KAAL,KAAK,QAkBX;ACfD,IAAO,KAAK,CA2HX;AA3HD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA2HpB;IA3HY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAI,GAAG,GAAG,YAAM,CAAC,UAAU,CAAC,wBAAwB,GAAG,KAAK,CAAC,KAAK,GAAG,iEAAiE,EAChI,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC,CAAC;QACjD,IAAI,gBAA8B,CAAC;QACnC,6BAA8B,GAAgB;YAC1C,MAAM,CAAC,gBAAgB,GAAG,gBAAgB,IAAI,YAAM,CAAC,IAAI,CAAe,GAAG,EAAE,GAAG,CAAC,CAAC;QACtF,CAAC;QAED;YAA0C,wCAAM;YAK5C,8BAAY,IAAsB;gBAC9B,kBAAM,IAAI,CAAC,CAAC;YAChB,CAAC;YALD,sBAAI,6CAAW;qBAAf,cAA+B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;;;eAAA;YAO1D,uDAAwB,GAAxB,UAAyB,KAAa;gBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBAClB,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBAGxB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,YAAY,uBAAc,CAAC,CAAC,CAAC;oBAC/C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;wBAC/D,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,eAAe,EAAE,IAAI,+BAAyB,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC9F,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC;wBACvE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,IAAI,+BAAyB,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBAC9G,CAAC;gBACL,CAAC;gBAED,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3B,EAAE,CAAC,CAAC,OAAO,YAAY,eAAS,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;oBAC5B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;gBACjC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,WAAW,GAAG,OAAO,IAAI,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC;oBACpD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,GAAG,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAC3G,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBACnB,MAAM,CAAC,KAAK,CAAC;gBAEjB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YAC5D,CAAC;YAED,wCAAS,GAAT;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBAClB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBACpD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC7B,CAAC;YAED,8CAAe,GAAf,UAAgB,IAAyC;gBACrD,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,YAAY,eAAS,CAAC;gBACrD,EAAE,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,YAAY,eAAS,CAAC,CAAC,CAAC;oBACpD,IAAI,CAAC,SAAS,EAAE,CAAC;gBACrB,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACrE,IAAI,CAAC,SAAS,EAAE,CAAC;oBACrB,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC5E,CAAC;gBACD,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;YAC3C,CAAC;YACD,sDAAuB,GAAvB;gBACI,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;YAC3C,CAAC;YAEO,gEAAiC,GAAzC,UAA0C,QAAa,EAAE,QAAa;gBAElE,IAAI,KAAK,GAAG,QAAQ,GAAG,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;gBACnD,IAAI,KAAK,GAAG,QAAQ,GAAG,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;gBACnD,EAAE,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC;oBAChB,MAAM,CAAC,IAAI,CAAC;gBAChB,EAAE,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC;oBACjB,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAEO,kDAAmB,GAA3B,UAA4B,IAAc;gBACtC,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;gBACtC,EAAE,CAAC,CAAC,EAAE,CAAC;oBACH,MAAM,CAAC,EAAE,CAAC;gBAEd,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC;oBAErC,IAAI,IAAI,GAAa,IAAI,CAAC;oBAC1B,IAAI,EAAsB,CAAC;oBAC3B,OAAO,IAAI,EAAE,CAAC;wBACV,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;wBACxB,EAAE,CAAC,CAAC,IAAI,YAAY,sBAAgB,IAAI,CAAC,EAAE,GAAsB,IAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;4BAChF,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;4BAClB,EAAE,CAAC,CAAC,EAAE,YAAY,kBAAY,CAAC;gCAC3B,MAAM,CAAC,EAAE,CAAC;wBAClB,CAAC;wBACD,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;oBAC3B,CAAC;oBACD,IAAI,OAAO,GAAY,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;oBACvD,IAAI,GAAG,GAAG,OAAO,GAAG,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC;oBACvC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBACN,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAC7B,EAAE,CAAC,CAAC,EAAE,YAAY,kBAAY,CAAC;4BAC3B,MAAM,CAAC,EAAE,CAAC;oBAClB,CAAC;gBACL,CAAC;gBAED,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACjD,CAAC;YACL,2BAAC;QAAD,CAtGA,AAsGC,CAtGyC,YAAM,GAsG/C;QAtGY,6BAAoB,uBAsGhC,CAAA;QAED;YAAsC,oCAAgB;YAAtD;gBAAsC,8BAAgB;YAQtD,CAAC;YANG,qCAAU,GAAV,cAAqC,MAAM,CAAC,IAAI,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAEtE,gCAAe,GAAG,kBAAkB,CAAC,QAAQ,CAAC,SAAS,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,gBAAgB,EAAE,SAAS,EAAE,UAAC,CAAmB,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,EAAhC,CAAgC,CAAC,CAAC;YACrK,wCAAuB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAM,OAAA,kBAAY,EAAZ,CAAY,EAAE,gBAAgB,EAAE,SAAS,EAAE,UAAC,CAAmB,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,QAAQ,CAAC,uBAAuB,EAAE,EAApC,CAAoC,CAAC,CAAC;YAG1M,uBAAC;QAAD,CARA,AAQC,CARqC,sBAAgB,GAQrD;QARY,yBAAgB,mBAQ5B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACxC,YAAM,CAAC,OAAO,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,eAAe,CAAC,CAAC;IACvE,CAAC,EA3HY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA2HpB;AAAD,CAAC,EA3HM,KAAK,KAAL,KAAK,QA2HX;AC5HD,IAAO,KAAK,CAqHX;AArHD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAqHpB;IArHY,WAAA,QAAQ;QAAC,IAAA,UAAU,CAqH/B;QArHqB,WAAA,UAAU,EAAC,CAAC;YAC9B,IAAO,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC;YAE1D;gBAA+B,6BAAM;gBAArC;oBAA+B,8BAAM;oBAIjC,mBAAc,GAAG,IAAI,SAAS,CAAC,KAAK,EAAwB,CAAC;oBASrD,aAAQ,GAAW,IAAI,CAAC;oBACxB,aAAQ,GAAW,IAAI,CAAC;gBA+CpC,CAAC;gBAvDG,uCAAmB,GAAnB,UAAqB,aAAsB;oBACvC,gBAAK,CAAC,mBAAmB,YAAC,aAAa,CAAC,CAAC;oBACzC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBACtD,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;wBACtC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpC,CAAC;gBAKD,iCAAa,GAAb;oBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,eAAM,EAAE,CAAC;wBAC7B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;oBACtE,CAAC;oBACD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACzB,CAAC;gBAED,iCAAa,GAAb;oBACI,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;wBACtC,OAAO,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,eAAM,EAAE,CAAC;wBACvC,OAAO,CAAC,UAAU,GAAG,WAAK,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;wBACvF,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;wBACnD,OAAO,CAAC,mBAAmB,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;wBAChE,IAAI,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;oBACrD,CAAC;oBACD,MAAM,CAAC,OAAO,CAAC;gBACnB,CAAC;gBAED,iCAAa,GAAb;oBACI,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;wBACN,MAAM,CAAC;oBACX,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC;oBACvD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;wBACT,MAAM,CAAC;oBACX,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;oBAC3B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;oBAC7B,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC5B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;wBACT,MAAM,CAAC;oBACX,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC3B,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACjC,CAAC;gBAEO,wCAAoB,GAA5B,UAA8B,MAAM,EAAE,CAAC;oBACnC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC1C,CAAC;gBAED,qCAAiB,GAAjB,UAAmB,SAAoB;oBACnC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,YAAY,eAAS,CAAC,CAAC;wBAClC,MAAM,CAAC;oBACX,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;gBACtE,CAAC;gBACL,gBAAC;YAAD,CA7DA,AA6DC,CA7D8B,YAAM,GA6DpC;YA7DY,oBAAS,YA6DrB,CAAA;YAED;gBAA2B,yBAAgB;gBAA3C;oBAA2B,8BAAgB;oBAcvC,WAAM,GAAG,IAAI,SAAS,CAAC,KAAK,EAAwB,CAAC;oBACrD,WAAM,GAAG,IAAI,SAAS,CAAC,KAAK,EAAwB,CAAC;gBAMzD,CAAC;gBAnBG,0BAAU,GAAV,cAA2B,MAAM,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxD,mCAAmB,GAAnB,cAAyB,MAAM,CAAC,IAAI,YAAY,EAAE,CAAC,CAAC,CAAC;gBAcrD,iCAAiB,GAAjB,UAAmB,QAAoB,EAAE,OAAY;oBACjD,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;oBACnD,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;gBAClC,CAAC;gBAfM,mBAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,eAAS,EAAT,CAAS,EAAE,KAAK,CAAC,CAAC;gBAC7E,8BAAwB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,kBAAkB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;gBACrG,4BAAsB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;gBACjG,oBAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gBAa/F,YAAC;YAAD,CArBA,AAqBC,CArB0B,sBAAgB,GAqB1C;YArBY,gBAAK,QAqBjB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC7B,YAAM,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,aAAa,CAAC,CAAC;YAE3C,IAAO,SAAS,CAyBf;YAzBD,WAAO,SAAS,EAAC,CAAC;gBACd,gBAAU,CAAU,KAAK,CAAC,cAAc,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,KAAa;oBACjE,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;wBACd,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;wBACrC,KAAK,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;oBACnC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;oBACzC,CAAC;oBACD,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;gBACvD,CAAC,EAAE,KAAK,CAAC,CAAC;gBACV,gBAAU,CAAY,KAAK,CAAC,aAAa,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,KAAa;oBAClE,IAAI,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;oBAC7C,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACL,eAAS,CAAC,cAAc,CAAC,sBAAsB,CAAC,KAAK,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;wBACpE,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;oBAChC,CAAC;oBACD,GAAG,CAAC,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC;oBACpD,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACL,KAAK,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;wBAC/B,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;wBACzB,eAAS,CAAC,cAAc,CAAC,uBAAuB,CAAC,KAAK,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;oBACzE,CAAC;gBACL,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gBACjB,gBAAU,CAAS,KAAK,CAAC,wBAAwB,EAAE,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;gBAC3G,gBAAU,CAAS,KAAK,CAAC,sBAAsB,EAAE,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;YAC3G,CAAC,EAzBM,SAAS,KAAT,SAAS,QAyBf;QACL,CAAC,EArHqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QAqH/B;IAAD,CAAC,EArHY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAqHpB;AAAD,CAAC,EArHM,KAAK,KAAL,KAAK,QAqHX;ACvHD,IAAO,KAAK,CAkCX;AAlCD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAkCpB;IAlCY,WAAA,QAAQ;QAAC,IAAA,UAAU,CAkC/B;QAlCqB,WAAA,UAAU,EAAC,CAAC;YAiCnB,uBAAY,GAAG,IAAI,SAAS,CAAC,SAAS,CAAc,aAAa,CAAC,CAAC;QAClF,CAAC,EAlCqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QAkC/B;IAAD,CAAC,EAlCY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAkCpB;AAAD,CAAC,EAlCM,KAAK,KAAL,KAAK,QAkCX;AC/BD,IAAO,KAAK,CA0JX;AA1JD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA0JpB;IA1JY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA4C,0CAAgB;YAA5D;gBAA4C,8BAAgB;gBAQhD,uBAAkB,GAAY,KAAK,CAAC;gBACpC,uBAAkB,GAA4B,IAAI,CAAC;YAgI/D,CAAC;YAxIG,oDAAmB,GAAnB;gBACI,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,QAAQ,CAAC,sBAAsB,CAAC,6BAA6B,EAAE,CAAC;gBAC1F,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,mBAAU,CAAC,UAAU,EAAE,CAAC;gBAC3E,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YAMD,sBAAI,+CAAW;qBAAf,cAAkC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;qBACxE,UAAgB,KAAmB,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC;;;eADN;YAExE,sBAAI,yDAAqB;qBAAzB,cAAuC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAA,CAAC,CAAC,CAAC;qBACxF,UAA0B,KAAc;oBACpC,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;oBAC1B,EAAE,CAAC,CAAC,EAAE,CAAC,qBAAqB,KAAK,KAAK,CAAC,CAAC,CAAC;wBACrC,EAAE,CAAC,qBAAqB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBACpD,CAAC;gBACL,CAAC;;;eAPuF;YAQxF,sBAAI,uDAAmB;qBAAvB,cAAqC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAAC;qBACnF,UAAwB,KAAc;oBAClC,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;oBAC1B,EAAE,CAAC,CAAC,EAAE,CAAC,mBAAmB,KAAK,KAAK,CAAC,CAAC,CAAC;wBACnC,EAAE,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBAC/B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBACpD,CAAC;gBACL,CAAC;;;eAPkF;YAQnF,sBAAI,+CAAW;qBAAf,cAA4B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;;;eAAA;YAClE,sBAAI,gDAAY;qBAAhB,cAA6B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC;;;eAAA;YACpE,sBAAI,iDAAa;qBAAjB,cAA8B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;;;eAAA;YACtE,sBAAI,kDAAc;qBAAlB,cAA+B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC;;;eAAA;YACxE,sBAAI,oDAAgB;qBAApB,cAAiC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;;;eAAA;YACnE,sBAAI,kDAAc;qBAAlB,cAA+B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;;;eAAA;YACjE,uCAAM,GAAN,cAAoB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACnF,yCAAQ,GAAR,cAAsB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACrF,yCAAQ,GAAR,cAAsB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACvF,0CAAS,GAAT,cAAuB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACxF,6CAAY,GAAZ,cAA0B,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACzF,+CAAc,GAAd,cAA4B,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC3F,+CAAc,GAAd,cAA4B,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC7F,gDAAe,GAAf,cAA6B,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9F,uCAAM,GAAN,cAAoB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAChH,yCAAQ,GAAR,cAAsB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAClH,yCAAQ,GAAR,cAAsB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACnH,0CAAS,GAAT,cAAuB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACpH,4CAAW,GAAX,UAAY,GAAc,EAAE,QAAsB;gBAC9C,IAAI,GAAG,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;gBAC7B,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACpG,MAAM,CAAC,GAAG,CAAC;gBAEf,IAAI,gBAAgB,GAAG,GAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBACnD,IAAI,MAAM,GAAG,gBAAgB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBAClD,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;gBACnC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBAClC,MAAM,CAAC,GAAG,CAAC;YAqBf,CAAC;YACD,oDAAmB,GAAnB,UAAoB,MAAc;gBAC9B,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBACd,MAAM,IAAI,iBAAiB,CAAC,yBAAyB,CAAC,CAAC;gBAC3D,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,qBAAqB,CAAC;oBAC1B,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC;gBAC1E,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;oBACpD,MAAM,CAAC,KAAK,CAAC;gBAEjB,EAAE,CAAC,aAAa,GAAG,MAAM,CAAC;gBAC1B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBAChD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,kDAAiB,GAAjB,UAAkB,MAAc;gBAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBACd,MAAM,IAAI,iBAAiB,CAAC,yBAAyB,CAAC,CAAC;gBAC3D,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,mBAAmB,CAAC;oBACxB,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,YAAY,GAAG,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC;gBAC5E,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;oBACpD,MAAM,CAAC,KAAK,CAAC;gBAEjB,EAAE,CAAC,aAAa,GAAG,MAAM,CAAC;gBAC1B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBAChD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,gDAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBAExB,IAAI,EAAgB,CAAC;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,YAAY,qBAAY,CAAC;oBAC3C,EAAE,GAAiB,IAAI,CAAC,aAAa,CAAC;gBAC1C,IAAI;oBACA,MAAM,CAAC;gBAEX,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3B,IAAI,IAAI,GAAG,mBAAU,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;gBAC/C,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,OAAO,YAAY,uBAAc,CAAC,CAAC,CAAC;oBAC7C,IAAI,EAAE,GAAmB,OAAO,CAAC;oBACjC,IAAI,GAAG,GAAG,IAAI,MAAM,EAAE,CAAC;oBACvB,EAAE,CAAC,QAAQ,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;oBACxC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;wBACZ,GAAG,CAAC,cAAc,EAAE,CAAC;oBACzB,IAAI,GAAG,mBAAU,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAChD,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,IAAI,GAAG,IAAI,CAAC;gBAEhB,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC,6BAA6B,KAAK,4BAAmB,CAAC,QAAQ,CAAC;gBAC/F,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC,2BAA2B,KAAK,4BAAmB,CAAC,QAAQ,CAAC;gBAC3F,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,EAAE,CAAC,UAAU,GAAG,IAAI,CAAC;gBACrB,EAAE,CAAC,oBAAoB,EAAE,CAAC;YAC9B,CAAC;YAEL,6BAAC;QAAD,CAzIA,AAyIC,CAzI2C,yBAAgB,GAyI3D;QAzIY,+BAAsB,yBAyIlC,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QAC9C,SAAS,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,mBAAU,CAAC,YAAY,CAAC,CAAC;QAE7E,8CAA8C,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW;YACpF,IAAI,IAAI,GAAG,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,OAAO,CAAC,IAAI,QAAQ,CAAC,eAAe,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;YAC5G,IAAI,KAAK,GAAG,QAAQ,CAAC,kBAAkB,CAAC,QAAQ,EAAE,OAAO,CAAC,IAAI,QAAQ,CAAC,kBAAkB,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;YAEnH,IAAI,KAAK,GAAG,CAAC,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,CAAC;YAC9D,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,IAAI,IAAI,KAAK,CAAC;oBACd,MAAM,CAAC,WAAW,GAAG,UAAU,GAAG,OAAO,CAAC;gBAC9C,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YACD,MAAM,CAAC,QAAQ,CAAC;QACpB,CAAC;IACL,CAAC,EA1JY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA0JpB;AAAD,CAAC,EA1JM,KAAK,KAAL,KAAK,QA0JX;AC3JD,IAAO,KAAK,CA8CX;AA9CD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA8CpB;IA9CY,WAAA,QAAQ;QAAC,IAAA,UAAU,CA8C/B;QA9CqB,WAAA,UAAU,EAAC,CAAC;YAC9B;gBAA+B,6BAAgB;gBAsB3C;oBAtBJ,iBA4BC;oBALO,iBAAO,CAAC;oBALZ,iBAAY,GAAG,IAAI,gCAA0B,EAAU,CAAC;oBAMpD,IAAI,CAAC,QAAQ,GAAG,IAAI,iBAAQ,CAAC,YAAY,CAAC,IAAI,EAC1C,UAAC,GAAG,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,eAAe,EAAE,GAAG,CAAC,EAApD,CAAoD,EAC7D,UAAC,GAAG,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,aAAa,EAAE,GAAG,CAAC,EAAlD,CAAkD,CAAC,CAAC;gBACrE,CAAC;gBAdD,oCAAgB,GAAhB,UAAiB,MAAc,EAAE,MAAc,IAAI,CAAC;gBACpD,oCAAgB,GAAhB,UAAiB,MAAc,EAAE,MAAc,IAAI,CAAC;gBACpD,kCAAc,GAAd,UAAe,MAAc,EAAE,MAAc;oBACzC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,oCAA8B,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;gBACtF,CAAC;gBAhBM,yBAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,CAAC,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAY,CAAE,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAtE,CAAsE,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;gBACjN,yBAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,CAAC,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAY,CAAE,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAtE,CAAsE,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;gBACjN,6BAAmB,GAAG,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;gBAC/I,6BAAmB,GAAG,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;gBACjJ,uBAAa,GAAG,kBAAkB,CAAC,YAAY,CAAC,OAAO,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,CAAC,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAY,CAAE,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAApE,CAAoE,EAAE,SAAS,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;gBAuBtN,gBAAC;YAAD,CA5BA,AA4BC,CA5B8B,QAAQ,CAAC,OAAO,GA4B9C;YA5BY,oBAAS,YA4BrB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAEjC,yBAAyB,CAAmB,EAAE,KAAyB,EAAE,KAAU;gBAC/E,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;oBAC1B,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBACb,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;oBACjB,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,yBAAyB,CAAmB,EAAE,KAAyB,EAAE,KAAU;gBAC/E,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;oBAClC,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC;YACtB,CAAC;QACL,CAAC,EA9CqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QA8C/B;IAAD,CAAC,EA9CY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA8CpB;AAAD,CAAC,EA9CM,KAAK,KAAL,KAAK,QA8CX;AC9CD,IAAO,KAAK,CA6JX;AA7JD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA6JpB;IA7JY,WAAA,QAAQ;QAAC,IAAA,UAAU,CA6J/B;QA7JqB,WAAA,UAAU,EAAC,CAAC;YAC9B;gBAAkC,gCAAU;gBAYxC;oBACI,iBAAO,CAAC;oBAPJ,2BAAsB,GAAY,KAAK,CAAC;oBACxC,wBAAmB,GAAY,KAAK,CAAC;oBAC7C,mBAAc,GAAU,IAAI,CAAC;oBACrB,gBAAW,GAAW,IAAI,CAAC;oBAC3B,iBAAY,GAAW,IAAI,CAAC;oBAIhC,IAAI,CAAC,SAAS,GAAG,kBAAS,CAAC,KAAK,CAAC;oBACjC,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;gBACxC,CAAC;gBAED,sCAAe,GAAf;oBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;oBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;gBAED,qCAAc,GAAd,UAAe,IAAyC;oBACpD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;wBAClB,MAAM,IAAI,iBAAiB,CAAC,oCAAoC,CAAC,CAAC;gBAC1E,CAAC;gBACD,wCAAiB,GAAjB,UAAkB,IAAyC;oBACvD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;wBAClB,MAAM,IAAI,iBAAiB,CAAC,uCAAuC,CAAC,CAAC;oBACzE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACtC,CAAC;gBAED,yCAAkB,GAAlB,UAAmB,CAAsC;oBACrD,gBAAK,CAAC,kBAAkB,YAAC,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;oBACpC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;oBACjC,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC9B,CAAC;gBACD,gCAAS,GAAT,UAAU,CAAqB;oBAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBAClE,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;wBACnC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC;oBACD,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBACvB,CAAC;gBACD,8BAAO,GAAP,UAAQ,CAAqB;oBACzB,gBAAK,CAAC,OAAO,YAAC,CAAC,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBAClE,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC;oBACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBACD,kCAAW,GAAX,UAAY,CAAkB;oBAC1B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBACrC,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC;gBACL,CAAC;gBACD,mCAAY,GAAZ,UAAa,CAAuB;oBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBACrC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;wBAChC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC;oBACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACzB,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBACjC,CAAC;gBACD,mCAAY,GAAZ,UAAa,CAAuB;oBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBACrC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC;oBACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBACD,4CAAqB,GAArB,UAAsB,CAA6B;oBAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;wBACV,MAAM,CAAC;oBACX,gBAAK,CAAC,qBAAqB,YAAC,CAAC,CAAC,CAAC;oBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBACrC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;wBAChC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC;gBACL,CAAC;gBACD,0CAAmB,GAAnB,UAAoB,CAA6B;oBAC7C,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;wBACV,MAAM,CAAC;oBACX,gBAAK,CAAC,mBAAmB,YAAC,CAAC,CAAC,CAAC;oBAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,kBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;wBACrC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC;oBACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBACD,kCAAW,GAAX,UAAY,CAAuB;oBAC/B,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBACjC,CAAC;gBAEO,2CAAoB,GAA5B,UAA6B,CAAuB;oBAChD,IAAI,OAAO,GAAa,IAAI,CAAC,QAAQ,CAAC;oBACtC,IAAI,UAAU,GAAmB,OAAO,CAAC;oBACzC,OAAO,OAAO,YAAY,YAAM,EAAE,CAAC;wBAC/B,UAAU,GAAW,OAAO,CAAC;wBAC7B,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;oBACjC,CAAC;oBACD,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC5D,CAAC;gBAEO,yCAAkB,GAA1B;oBAAA,iBASC;oBARG,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAC1D,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC;4BACzB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,cAAM,OAAA,KAAI,CAAC,yBAAyB,EAAE,EAAhC,CAAgC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;oBAClG,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC;4BACzB,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBAC3C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBAC5B,CAAC;gBACL,CAAC;gBAEO,gDAAyB,GAAjC;oBAAA,iBAGC;oBAFG,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACvC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,cAAM,OAAA,KAAI,CAAC,UAAU,EAAE,EAAjB,CAAiB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAClF,CAAC;gBACO,iCAAU,GAAlB;oBAAA,iBAmBC;oBAlBG,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;wBAC5B,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACvC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,cAAM,OAAA,KAAI,CAAC,UAAU,EAAE,EAAjB,CAAiB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;wBAClF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBAC7B,CAAC;oBAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChB,MAAM,CAAC;oBAEX,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAC9B,IAAI,CAAC,OAAO,EAAE,CAAC;wBACf,MAAM,CAAC;oBACX,CAAC;oBAED,IAAI,GAAG,GAAG,sBAAgB,CAAC,6BAA6B,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;oBACpF,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACzB,IAAI,CAAC,OAAO,EAAE,CAAC;oBACnB,CAAC;gBACL,CAAC;gBAjJM,0BAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,EAAE,GAAG,EAAE,UAAC,CAAe,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBACzI,6BAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,EAAE,EAAE,EAAE,UAAC,CAAe,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAzB,CAAyB,CAAC,CAAC;gBAiJ5J,mBAAC;YAAD,CAnJA,AAmJC,CAnJiC,qBAAU,GAmJ3C;YAnJY,uBAAY,eAmJxB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YACpC,6BAAoB,CAAC,YAAY,EAC7B,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAE,EAC9C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QACvD,CAAC,EA7JqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QA6J/B;IAAD,CAAC,EA7JY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA6JpB;AAAD,CAAC,EA7JM,KAAK,KAAL,KAAK,QA6JX;AC7JD,IAAO,KAAK,CAiLX;AAjLD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAiLpB;IAjLY,WAAA,QAAQ;QAAC,IAAA,UAAU,CAiL/B;QAjLqB,WAAA,UAAU,EAAC,CAAC;YAC9B;gBAA2B,yBAAO;gBAa9B;oBACI,iBAAO,CAAC;oBAbJ,sBAAiB,GAAU,IAAI,CAAC;oBAChC,YAAO,GAAU,IAAI,CAAC;oBAE9B,kBAAa,GAAG,IAAI,iBAAW,EAA0B,CAAC;oBAC1D,cAAS,GAAG,IAAI,iBAAW,EAAsB,CAAC;oBAClD,gBAAW,GAAG,IAAI,iBAAW,EAAwB,CAAC;oBASlD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBACjC,CAAC;gBAED,+BAAe,GAAf;oBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;oBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;gBAEO,iCAAiB,GAAzB,UAA0B,IAAyC;oBAC/D,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBAED,0BAAU,GAAV,UAAW,CAAkB;oBACzB,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,aAAa,CAAC,aAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC/C,CAAC;gBACD,2BAAW,GAAX,UAAY,CAAkB;oBAC1B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBACrB,IAAI,CAAC,aAAa,CAAC,aAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC/C,CAAC;gBACO,6BAAa,GAArB,UAAsB,QAAiB;oBACnC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;oBACxD,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;gBAED,kCAAkB,GAAlB,UAAmB,CAAuB;oBACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBACpC,MAAM,CAAC;oBACX,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;oBACtD,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBACpC,CAAC;gBACD,4BAAY,GAAZ,UAAa,CAAuB;oBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACjC,CAAC;gBACD,4BAAY,GAAZ,UAAa,CAAuB;oBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACjC,CAAC;gBACD,qCAAqB,GAArB,UAAsB,CAA6B;oBAC/C,gBAAK,CAAC,qBAAqB,YAAC,CAAC,CAAC,CAAC;oBAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChD,MAAM,CAAC;oBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;oBAErD,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;oBAC5C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;oBAC7F,IAAI,OAAO,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC;wBACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;wBACzB,OAAO,GAAG,IAAI,CAAC;oBACnB,CAAC;4BAAS,CAAC;wBACP,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;4BACT,IAAI,CAAC,UAAU,EAAE,CAAC;oBAC1B,CAAC;gBACL,CAAC;gBACD,2BAAW,GAAX,UAAY,CAAuB;oBAC/B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;wBACjB,MAAM,CAAC;oBACX,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;oBAC5C,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;oBAC7D,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;wBACpD,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;wBACrF,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;oBAC/B,CAAC;gBACL,CAAC;gBAED,kCAAkB,GAAlB,UAAmB,CAAuB;oBACtC,gBAAK,CAAC,kBAAkB,YAAC,CAAC,CAAC,CAAC;oBAC5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBACpC,MAAM,CAAC;oBACX,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;oBACtD,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBACpC,CAAC;gBACD,4BAAY,GAAZ,UAAa,CAAuB;oBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACjC,CAAC;gBACD,4BAAY,GAAZ,UAAa,CAAuB;oBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACjC,CAAC;gBACD,2BAAW,GAAX,UAAY,CAAuB;oBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChD,MAAM,CAAC;oBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBACvB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;oBAErD,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;oBAC5C,IAAI,EAAE,GAAG,CAAC,CAAC,aAAa,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;oBAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC,QAAQ,CAAC;oBACpD,IAAI,OAAO,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC;wBACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;wBACzB,OAAO,GAAG,IAAI,CAAC;oBACnB,CAAC;4BAAS,CAAC;wBACP,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;4BACT,IAAI,CAAC,UAAU,EAAE,CAAC;oBAC1B,CAAC;gBACL,CAAC;gBACD,yBAAS,GAAT,UAAU,CAAuB;oBAC7B,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;oBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBACjD,MAAM,CAAC;oBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAClC,CAAC;gBACD,2BAAW,GAAX,UAAY,CAAuB;oBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,IAAI,CAAC;wBAC/C,MAAM,CAAC;oBACX,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;oBAC5C,IAAI,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;oBACrE,IAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC;oBACtB,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;wBACtD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;wBACzF,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC;oBACjC,CAAC;gBACL,CAAC;gBAED,0BAAU,GAAV;oBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;wBACjB,MAAM,CAAC;oBACX,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;oBACtD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBACnC,CAAC;gBAEO,iCAAiB,GAAzB;oBACI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,+BAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3F,CAAC;gBACO,+BAAe,GAAvB,UAAwB,CAAS,EAAE,CAAS;oBACxC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,6BAAkB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC7D,CAAC;gBACO,mCAAmB,GAA3B,UAA4B,QAAiB;oBACzC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,iCAAsB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;gBAC/J,CAAC;gBAED,+BAAe,GAAf,UAAgB,QAAoC;oBAChD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;wBAChB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;oBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;wBAChB,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;oBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;wBACjB,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBACjC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAC9B,CAAC;gBA9JM,wBAAkB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,YAAY,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,KAAK,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAQ,CAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAlC,CAAkC,CAAC,CAAC;gBACrJ,uBAAiB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,KAAK,CAAC,CAAC;gBA8JtG,YAAC;YAAD,CAvKA,AAuKC,CAvK0B,gBAAO,GAuKjC;YAvKY,gBAAK,QAuKjB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC7B,6BAAoB,CAAC,KAAK,EACtB,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAE,EAC9C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QACvD,CAAC,EAjLqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QAiL/B;IAAD,CAAC,EAjLY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAiLpB;AAAD,CAAC,EAjLM,KAAK,KAAL,KAAK,QAiLX;AC/KD,IAAO,KAAK,CAgSX;AAhSD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAgSpB;IAhSY,WAAA,QAAQ;QAAC,IAAA,UAAU,CAgS/B;QAhSqB,WAAA,UAAU,EAAC,CAAC;YAC9B;gBAA+B,6BAAS;gBAkBpC;oBACI,iBAAO,CAAC;oBAlBJ,eAAU,GAAW,CAAC,CAAC;oBAE/B,WAAM,GAAG,IAAI,iBAAW,EAAmB,CAAC;oBAiBxC,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;oBACjC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;gBACvD,CAAC;gBAZD,sBAAI,iCAAU;yBAAd;wBACI,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC;4BACtB,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;wBAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC;4BACpB,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC;wBAC1C,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;;;mBAAA;gBAsBD,mCAAe,GAAf;oBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;oBACxB,IAAI,CAAC,mBAAmB,GAAqB,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,sBAAgB,CAAC,CAAC;oBACvG,IAAI,CAAC,wBAAwB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,EAAE,uBAAY,CAAC,CAAC;oBAC7G,IAAI,CAAC,wBAAwB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,EAAE,uBAAY,CAAC,CAAC;oBAC7G,IAAI,CAAC,wBAAwB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,EAAE,uBAAY,CAAC,CAAC;oBAC7G,IAAI,CAAC,wBAAwB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,EAAE,uBAAY,CAAC,CAAC;oBAC7G,IAAI,CAAC,gBAAgB,GAAU,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,gBAAK,CAAC,CAAC;oBAC/E,IAAI,CAAC,iBAAiB,GAAqB,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,sBAAgB,CAAC,CAAC;oBACnG,IAAI,CAAC,sBAAsB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,uBAAY,CAAC,CAAC;oBACzG,IAAI,CAAC,sBAAsB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,uBAAY,CAAC,CAAC;oBACzG,IAAI,CAAC,sBAAsB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,uBAAY,CAAC,CAAC;oBACzG,IAAI,CAAC,sBAAsB,GAAiB,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,EAAE,uBAAY,CAAC,CAAC;oBACzG,IAAI,CAAC,cAAc,GAAU,IAAI,CAAC,gBAAgB,CAAC,eAAe,EAAE,gBAAK,CAAC,CAAC;oBAE3E,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;wBACxB,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;wBACrE,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;wBACjE,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;oBAC7E,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;wBAChC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACvE,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;wBAChC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACvE,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;wBAChC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACvE,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;wBAChC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACvE,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;wBACtB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;wBACnE,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;wBAC/D,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;oBAC3E,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAC9B,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACrE,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAC9B,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACrE,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAC9B,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACrE,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAC9B,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBACrE,CAAC;oBAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAClC,CAAC;gBAED,oCAAgB,GAAhB,UAAiB,MAAc,EAAE,MAAc;oBAC3C,gBAAK,CAAC,gBAAgB,YAAC,MAAM,EAAE,MAAM,CAAC,CAAC;oBACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC9B,CAAC;gBACD,oCAAgB,GAAhB,UAAiB,MAAc,EAAE,MAAc;oBAC3C,gBAAK,CAAC,gBAAgB,YAAC,MAAM,EAAE,MAAM,CAAC,CAAC;oBACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC9B,CAAC;gBACD,kCAAc,GAAd,UAAe,QAAgB,EAAE,QAAgB;oBAC7C,gBAAK,CAAC,cAAc,YAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;oBACzC,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC9B,CAAC;gBAEO,uCAAmB,GAA3B,UAA4B,MAAM,EAAE,CAAuB;oBACvD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC;gBACjC,CAAC;gBACO,qCAAiB,GAAzB,UAA0B,MAAM,EAAE,CAAqB;oBACnD,IAAI,MAAM,GAAG,CAAC,CAAC;oBACf,IAAI,UAAU,GAAG,CAAC,CAAC;oBACnB,IAAI,GAAG,GAAG,UAAU,CAAC;oBACrB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBACvB,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;oBACrB,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;oBACzC,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;oBAC/D,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;wBACvC,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC,cAAc,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;oBAC9F,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,YAAY,CAAC,CAAC,CAAC;wBACxC,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC,gBAAgB,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;oBACjG,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;wBACrC,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC;wBAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;wBACzD,EAAE,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;4BACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;4BAClB,IAAI,CAAC,YAAY,CAAC,0BAAe,CAAC,UAAU,CAAC,CAAC;wBAClD,CAAC;oBACL,CAAC;gBACL,CAAC;gBACO,yCAAqB,GAA7B,UAA8B,MAAM,EAAE,CAAyB;oBAC3D,IAAI,CAAC,YAAY,CAAC,0BAAe,CAAC,SAAS,CAAC,CAAC;gBACjD,CAAC;gBAEO,mCAAe,GAAvB,UAAwB,MAAM,EAAE,CAAkB;oBAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC9D,EAAE,CAAC,CAAC,QAAQ,KAAK,GAAG,CAAC,CAAC,CAAC;wBACnB,IAAI,CAAC,eAAe,CAAC,oBAAS,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;wBACnD,IAAI,CAAC,YAAY,CAAC,0BAAe,CAAC,cAAc,CAAC,CAAC;oBACtD,CAAC;gBACL,CAAC;gBACO,mCAAe,GAAvB,UAAwB,MAAM,EAAE,CAAkB;oBAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC9D,EAAE,CAAC,CAAC,QAAQ,KAAK,GAAG,CAAC,CAAC,CAAC;wBACnB,IAAI,CAAC,eAAe,CAAC,oBAAS,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;wBACnD,IAAI,CAAC,YAAY,CAAC,0BAAe,CAAC,cAAc,CAAC,CAAC;oBACtD,CAAC;gBACL,CAAC;gBACO,mCAAe,GAAvB,UAAwB,MAAM,EAAE,CAAkB;oBAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC9D,EAAE,CAAC,CAAC,QAAQ,KAAK,GAAG,CAAC,CAAC,CAAC;wBACnB,IAAI,CAAC,eAAe,CAAC,oBAAS,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;wBACnD,IAAI,CAAC,YAAY,CAAC,0BAAe,CAAC,cAAc,CAAC,CAAC;oBACtD,CAAC;gBACL,CAAC;gBACO,mCAAe,GAAvB,UAAwB,MAAM,EAAE,CAAkB;oBAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC9D,EAAE,CAAC,CAAC,QAAQ,KAAK,GAAG,CAAC,CAAC,CAAC;wBACnB,IAAI,CAAC,eAAe,CAAC,oBAAS,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;wBACnD,IAAI,CAAC,YAAY,CAAC,0BAAe,CAAC,cAAc,CAAC,CAAC;oBACtD,CAAC;gBACL,CAAC;gBAEO,sCAAkB,GAA1B,UAA2B,MAAM,EAAE,CAAuB;oBACtD,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC9B,CAAC;gBACO,yCAAqB,GAA7B;oBACI,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;oBAC/D,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;wBAC3B,IAAI,CAAC,mBAAmB,CAAC,UAAU,GAAG,YAAY,GAAG,gBAAU,CAAC,OAAO,GAAG,gBAAU,CAAC,SAAS,CAAC;oBACnG,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;wBACzB,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,YAAY,GAAG,gBAAU,CAAC,SAAS,GAAG,gBAAU,CAAC,OAAO,CAAC;oBACjG,CAAC;oBACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC9B,CAAC;gBACO,sCAAkB,GAA1B;oBACI,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;oBACzC,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;oBACrB,IAAI,UAAU,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;oBAC3C,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;oBAEnD,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;oBAC/D,EAAE,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;wBACzE,IAAI,CAAC,wBAAwB,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,CAAC,CAAC;oBAC9F,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;wBAC7E,IAAI,CAAC,sBAAsB,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,CAAC,CAAC;oBAC7F,CAAC;gBACL,CAAC;gBACO,oCAAgB,GAAxB,UAAyB,WAAmB;oBACxC,IAAI,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC;oBACxB,IAAI,SAAS,GAAG,WAAW,IAAI,CAAC,CAAC;oBACjC,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;wBAClB,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;wBAC/D,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;wBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;wBACvB,EAAE,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;4BACxC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC;gCAChB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC,CAAC;4BAC5G,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,IAAI,WAAW,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;gCAChG,SAAS,GAAG,IAAI,CAAC;4BACrB,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,IAAI,CAAC,gBAAgB,CAAC,UAAU,GAAG,gBAAU,CAAC,OAAO,CAAC;gCACtD,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAG,MAAM,CAAC;4BACzC,CAAC;wBACL,CAAC;wBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;4BAC9C,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC;gCAChB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,kCAAkC,CAAC,WAAW,CAAC,CAAC,CAAC;4BAC3G,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,IAAI,WAAW,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;gCAChG,SAAS,GAAG,IAAI,CAAC;4BACrB,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,gBAAU,CAAC,OAAO,CAAC;gCACpD,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,MAAM,CAAC;4BACxC,CAAC;wBACL,CAAC;oBACL,CAAC;oBACD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACZ,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;4BACxB,IAAI,CAAC,gBAAgB,CAAC,UAAU,GAAG,gBAAU,CAAC,SAAS,CAAC;wBAC5D,CAAC;wBACD,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;4BACtB,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,gBAAU,CAAC,SAAS,CAAC;wBAC1D,CAAC;oBACL,CAAC;oBACD,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;gBACO,mCAAe,GAAvB;oBACI,IAAI,MAAM,GAAG,GAAG,CAAC;oBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC,CAAC,CAAC;wBAC9C,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;wBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;4BAChC,IAAI,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC;4BACrD,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,wBAAwB,CAAC,WAAW,GAAG,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;wBACrG,CAAC;wBACD,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC;4BAChC,IAAI,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC;4BACrD,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,wBAAwB,CAAC,WAAW,GAAG,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;wBACrG,CAAC;oBACL,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;wBAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;4BAC9B,IAAI,SAAS,GAAG,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC;4BACnD,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,YAAY,GAAG,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;wBACpG,CAAC;wBACD,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;4BAC9B,IAAI,SAAS,GAAG,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC;4BACnD,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,YAAY,GAAG,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;wBACpG,CAAC;oBACL,CAAC;oBACD,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;gBACO,sDAAkC,GAA1C,UAA2C,WAAmB;oBAC1D,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;oBACrC,MAAM,CAAC,WAAW,GAAG,YAAY,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBACrF,CAAC;gBACO,gCAAY,GAApB,UAAqB,IAAgC;oBACjD,IAAI,IAAI,GAAG,IAAI,0BAAe,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;oBACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAClC,CAAC;gBAtQM,6BAAmB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,iBAAW,CAAC,EAArB,CAAqB,EAAE,SAAS,EAAE,iBAAW,CAAC,UAAU,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAY,CAAE,CAAC,qBAAqB,EAAE,EAAtC,CAAsC,CAAC,CAAC;gBACtL,8BAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,CAAC,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAY,CAAE,CAAC,kBAAkB,EAAE,EAAnC,CAAmC,CAAC,CAAC;gBAsQ5J,gBAAC;YAAD,CA5QA,AA4QC,CA5Q8B,oBAAS,GA4QvC;YA5QY,oBAAS,YA4QrB,CAAA;YACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACjC,6BAAoB,CAAC,SAAS,EAC1B,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;YACrD,sBAAa,CAAC,SAAS,EACnB,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,sBAAgB,EAAE,EAChD,EAAE,IAAI,EAAE,uBAAuB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACrD,EAAE,IAAI,EAAE,uBAAuB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACrD,EAAE,IAAI,EAAE,uBAAuB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACrD,EAAE,IAAI,EAAE,uBAAuB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACrD,EAAE,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,gBAAK,EAAE,EACtC,EAAE,IAAI,EAAE,gBAAgB,EAAE,IAAI,EAAE,sBAAgB,EAAE,EAClD,EAAE,IAAI,EAAE,yBAAyB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACvD,EAAE,IAAI,EAAE,yBAAyB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACvD,EAAE,IAAI,EAAE,yBAAyB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACvD,EAAE,IAAI,EAAE,yBAAyB,EAAE,IAAI,EAAE,uBAAY,EAAE,EACvD,EAAE,IAAI,EAAE,iBAAiB,EAAE,IAAI,EAAE,gBAAK,EAAE,CAAC,CAAC;QAClD,CAAC,EAhSqB,UAAU,GAAV,mBAAU,KAAV,mBAAU,QAgS/B;IAAD,CAAC,EAhSY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAgSpB;AAAD,CAAC,EAhSM,KAAK,KAAL,KAAK,QAgSX;AChSD,IAAO,KAAK,CA8ZX;AA9ZD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA8ZpB;IA9ZY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAkC,gCAAc;YA8D5C;gBACI,iBAAO,CAAC;gBANZ,qCAAgC,GAAY,KAAK,CAAC;gBAmJ1C,WAAM,GAAG,IAAI,KAAK,EAAE,CAAC;gBACrB,wBAAmB,GAAG,IAAI,KAAK,EAAE,CAAC;gBA5ItC,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;YACxC,CAAC;YAjEc,wCAA2B,GAA1C,UAA2C,CAAmB,EAAE,IAAyC;gBACrG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;oBAAC,MAAM,CAAC;gBACf,EAAE,CAAC,CAAC,CAAC,YAAY,YAAY,CAAC,CAAC,CAAC;oBAC5B,IAAI,EAAE,GAAiB,CAAC,CAAC;oBACzB,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBAC9C,IAAI,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;oBAC/B,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;wBACb,UAAU,CAAC,qBAAqB,GAAG,EAAE,CAAC,6BAA6B,KAAK,4BAAmB,CAAC,QAAQ,CAAC;wBACrG,UAAU,CAAC,mBAAmB,GAAG,EAAE,CAAC,2BAA2B,KAAK,4BAAmB,CAAC,QAAQ,CAAC;oBACrG,CAAC;oBACD,EAAE,CAAC,0BAA0B,EAAE,CAAC;oBAChC,MAAM,CAAC;gBACX,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,YAAY,gBAAO,CAAC,CAAC,CAAC;oBACvB,IAAI,OAAO,GAAY,CAAC,CAAC;oBACzB,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC;wBAC9B,OAAO,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACzE,MAAM,CAAC;gBACX,CAAC;YACL,CAAC;YAGM,6CAAgC,GAAvC,UAAwC,CAAmB,IAAyB,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,qCAAqC,CAAC,CAAC,CAAC,CAAC;YACrJ,6CAAgC,GAAvC,UAAwC,CAAmB,EAAE,KAA0B,IAAI,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,qCAAqC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YACnK,sBAAI,uDAA6B;qBAAjC,cAA2D,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,qCAAqC,CAAC,CAAC,CAAC,CAAC;qBACtI,UAAkC,KAA0B,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,qCAAqC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;;;eADL;YAI/H,2CAA8B,GAArC,UAAsC,CAAmB,IAAyB,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,mCAAmC,CAAC,CAAC,CAAC,CAAC;YACjJ,2CAA8B,GAArC,UAAsC,CAAmB,EAAE,KAA0B,IAAI,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,mCAAmC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAC/J,sBAAI,qDAA2B;qBAA/B,cAAyD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,mCAAmC,CAAC,CAAC,CAAC,CAAC;qBAClI,UAAgC,KAA0B,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,mCAAmC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;;;eADL;YAqClI,sBAAI,oCAAU;qBAAd,cAA2C,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;qBACrE,UAAe,KAA6B;oBACxC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;oBACzB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;wBACR,KAAK,CAAC,qBAAqB,GAAG,IAAI,CAAC,6BAA6B,KAAK,4BAAmB,CAAC,QAAQ,CAAC;wBAClG,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC,2BAA2B,KAAK,4BAAmB,CAAC,QAAQ,CAAC;oBAClG,CAAC;gBACL,CAAC;;;eAPoE;YASrE,2CAAoB,GAApB;gBACI,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACjC,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;oBACb,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,mBAAmB,EAAE,UAAU,CAAC,WAAW,CAAC,CAAC;oBAC/E,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,oBAAoB,EAAE,UAAU,CAAC,YAAY,CAAC,CAAC;oBACjF,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,qBAAqB,EAAE,UAAU,CAAC,aAAa,CAAC,CAAC;oBACnF,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,sBAAsB,EAAE,UAAU,CAAC,cAAc,CAAC,CAAC;oBACrF,IAAI,CAAC,gBAAgB,CAAC,iBAAW,CAAC,UAAU,EAAE,UAAU,CAAC,gBAAgB,CAAC,CAAC;oBAC3E,IAAI,CAAC,gBAAgB,CAAC,iBAAW,CAAC,QAAQ,EAAE,UAAU,CAAC,cAAc,CAAC,CAAC;oBACvE,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBACtC,CAAC;gBAED,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;gBAErC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC3D,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;oBAC7B,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;oBAC9D,EAAE,CAAC,iBAAiB,EAAE,CAAC;gBAC3B,CAAC;gBAED,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC7D,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;oBAC/D,EAAE,CAAC,iBAAiB,EAAE,CAAC;gBAC3B,CAAC;YACL,CAAC;YACO,iDAA0B,GAAlC;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;gBACrC,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAEjC,IAAI,oBAAoB,GAAG,gBAAU,CAAC,OAAO,CAAC;gBAC9C,IAAI,IAAI,GAAG,IAAI,CAAC,6BAA6B,CAAC;gBAC9C,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACX,KAAK,4BAAmB,CAAC,OAAO;wBAC5B,KAAK,CAAC;oBACV,KAAK,4BAAmB,CAAC,QAAQ,CAAC;oBAClC,KAAK,4BAAmB,CAAC,MAAM;wBAC3B,oBAAoB,GAAG,gBAAU,CAAC,SAAS,CAAC;wBAC5C,KAAK,CAAC;oBACV,KAAK,4BAAmB,CAAC,IAAI,CAAC;oBAC9B;wBACI,oBAAoB,GAAG,CAAC,CAAC,UAAU,IAAI,UAAU,CAAC,WAAW,IAAI,UAAU,CAAC,aAAa,CAAC,GAAG,gBAAU,CAAC,SAAS,GAAG,gBAAU,CAAC,OAAO,CAAC;wBACvI,KAAK,CAAC;gBACd,CAAC;gBAED,EAAE,CAAC,CAAC,oBAAoB,KAAK,IAAI,CAAC,qCAAqC,CAAC,CAAC,CAAC;oBACtE,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,6CAA6C,EAAE,oBAAoB,CAAC,CAAC;oBACvG,EAAE,CAAC,iBAAiB,EAAE,CAAC;gBAC3B,CAAC;gBAED,IAAI,kBAAkB,GAAG,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;gBAClD,IAAI,IAAI,GAAG,IAAI,CAAC,2BAA2B,CAAC;gBAC5C,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACX,KAAK,4BAAmB,CAAC,OAAO;wBAC5B,KAAK,CAAC;oBACV,KAAK,4BAAmB,CAAC,QAAQ,CAAC;oBAClC,KAAK,4BAAmB,CAAC,MAAM;wBAC3B,kBAAkB,GAAG,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC;wBAChD,KAAK,CAAC;oBACV,KAAK,4BAAmB,CAAC,IAAI,CAAC;oBAC9B;wBACI,kBAAkB,GAAG,CAAC,CAAC,UAAU,IAAI,UAAU,CAAC,YAAY,IAAI,UAAU,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;wBACnJ,KAAK,CAAC;gBACd,CAAC;gBAED,EAAE,CAAC,CAAC,kBAAkB,KAAK,IAAI,CAAC,mCAAmC,CAAC,CAAC,CAAC;oBAClE,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,2CAA2C,EAAE,kBAAkB,CAAC,CAAC;oBACnG,EAAE,CAAC,iBAAiB,EAAE,CAAC;gBAC3B,CAAC;YACL,CAAC;YAEO,uCAAgB,GAAxB,UAA0B,WAAwB,EAAE,KAAa;gBAC7D,IAAI,KAAyB,CAAC;gBAC9B,IAAI,EAAwB,CAAC;gBAC7B,EAAE,CAAC,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC,CAAC,CAAC;oBACzC,KAAK,GAAG,YAAY,CAAC,wBAAwB,CAAC;oBAC9C,EAAE,GAAG,IAAI,CAAC,oBAAoB,CAAC;gBACnC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,KAAK,GAAG,YAAY,CAAC,sBAAsB,CAAC;oBAC5C,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBACjC,CAAC;gBAED,IAAI,CAAC;oBACD,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;oBACnC,EAAE,CAAC,CAAC,EAAE,CAAC;wBACH,EAAE,CAAC,eAAe,CAAC,mBAAU,CAAC,SAAS,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;gBACtE,CAAC;wBAAS,CAAC;gBACX,CAAC;YACL,CAAC;YAED,sCAAe,GAAf;gBAAA,iBAYC;gBAXG,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,uBAAuB,GAA2B,IAAI,CAAC,gBAAgB,CAAC,wBAAwB,EAAE,+BAAsB,CAAC,CAAC;gBAC/H,IAAI,CAAC,oBAAoB,GAAyB,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC;gBACrH,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC,UAAC,MAAM,EAAE,CAA6B,IAAK,OAAA,KAAI,CAAC,aAAa,CAAC,iBAAW,CAAC,UAAU,EAAE,CAAC,CAAC,EAA7C,CAA6C,EAAE,IAAI,CAAC,CAAC;gBACxI,CAAC;gBACD,IAAI,CAAC,kBAAkB,GAAyB,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC;gBACjH,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBAC1B,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE,CAAC,UAAC,MAAM,EAAE,CAA6B,IAAK,OAAA,KAAI,CAAC,aAAa,CAAC,iBAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,EAA3C,CAA2C,EAAE,IAAI,CAAC,CAAC;gBACpI,CAAC;gBACD,IAAI,CAAC,0BAA0B,EAAE,CAAC;YACtC,CAAC;YAED,4CAAqB,GAArB,UAAsB,CAA6B;gBAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;oBAC3B,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACrB,gBAAK,CAAC,qBAAqB,YAAC,CAAC,CAAC,CAAC;YACnC,CAAC;YACD,mCAAY,GAAZ,UAAa,CAA4B;gBACrC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACjC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;oBACZ,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,UAAU,CAAC,cAAc,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,UAAU,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBACzH,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;wBACb,UAAU,CAAC,YAAY,EAAE,CAAC;oBAC9B,IAAI;wBACA,UAAU,CAAC,cAAc,EAAE,CAAC;oBAChC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACrB,CAAC;YACL,CAAC;YAKD,kCAAW,GAAX,UAAY,CAAuB;gBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACjC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,UAAU,CAAC;oBAC5C,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAEvB,IAAI,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBACtC,MAAM,CAAC,CAAC,GAAG,UAAU,CAAC,gBAAgB,CAAC;gBACvC,MAAM,CAAC,CAAC,GAAG,UAAU,CAAC,cAAc,CAAC;gBAErC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;YACvD,CAAC;YACD,gCAAS,GAAT,UAAU,CAAuB;gBAC7B,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;oBAC7B,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC;YACD,kCAAW,GAAX,UAAY,CAAuB;gBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,IAAI,CAAC;oBACxC,MAAM,CAAC;gBAEpB,IAAI,EAAE,GAAG,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACtB,IAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC;gBACtB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;gBACxC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBAC3B,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBACpE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7D,CAAC;YAED,gCAAS,GAAT,UAAU,CAAqB;gBAC3B,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBAEnB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBAEX,EAAE,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC;oBACtC,MAAM,CAAC;gBAEX,IAAI,WAAW,GAAG,iBAAW,CAAC,QAAQ,CAAC;gBACvC,IAAI,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,UAAU,CAAC;gBAG5D,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACZ,KAAK,WAAK,CAAC,GAAG,CAAC,MAAM;wBACjB,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,cAAc,CAAC;wBAC5D,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,QAAQ;wBACnB,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,cAAc,CAAC;wBAC5D,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,GAAG;wBACd,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;4BAClB,WAAW,GAAG,iBAAW,CAAC,UAAU,CAAC;wBACzC,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,IAAI,CAAC;wBAClD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;4BAClB,WAAW,GAAG,iBAAW,CAAC,UAAU,CAAC;wBACzC,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,KAAK,CAAC;wBACnD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,WAAW,GAAG,iBAAW,CAAC,UAAU,CAAC;wBACrC,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,cAAc,CAAC;oBAChE,KAAK,WAAK,CAAC,GAAG,CAAC,EAAE;wBACb,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,cAAc,CAAC;wBAC5D,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK;wBAChB,WAAW,GAAG,iBAAW,CAAC,UAAU,CAAC;wBACrC,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,cAAc,CAAC;oBAChE,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,eAAe,GAAG,mBAAU,CAAC,eAAe,CAAC,cAAc,CAAC;wBAC5D,KAAK,CAAC;gBACd,CAAC;gBACD,EAAE,CAAC,CAAC,eAAe,KAAK,mBAAU,CAAC,eAAe,CAAC,UAAU,CAAC;oBAC1D,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,IAAI,mBAAU,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC;YAC1G,CAAC;YAED,wCAAiB,GAAjB,UAAkB,GAAc;gBAC5B,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,MAAM;wBACjB,IAAI,CAAC,MAAM,EAAE,CAAC;wBACd,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,QAAQ;wBACnB,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAChB,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,GAAG;wBACd,IAAI,CAAC,OAAO,EAAE,CAAC;wBACf,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAChB,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAChB,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,EAAE;wBACb,IAAI,CAAC,MAAM,EAAE,CAAC;wBACd,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK;wBAChB,IAAI,CAAC,SAAS,EAAE,CAAC;wBACjB,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAChB,KAAK,CAAC;gBACd,CAAC;YACL,CAAC;YACD,+CAAwB,GAAxB,UAAyB,MAAc,IAAI,IAAI,CAAC,uBAAuB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5J,6CAAsB,GAAtB,UAAuB,MAAc,IAAI,IAAI,CAAC,qBAAqB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAExJ,6BAAM,GAAN,cAAW,IAAI,CAAC,qBAAqB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtH,+BAAQ,GAAR,cAAa,IAAI,CAAC,qBAAqB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxH,+BAAQ,GAAR,cAAa,IAAI,CAAC,uBAAuB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1H,gCAAS,GAAT,cAAc,IAAI,CAAC,uBAAuB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAE3H,+BAAQ,GAAR,cAAa,IAAI,CAAC,uBAAuB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjH,8BAAO,GAAP,cAAY,IAAI,CAAC,uBAAuB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAE/G,6BAAM,GAAN,cAAW,IAAI,CAAC,qBAAqB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtH,+BAAQ,GAAR,cAAa,IAAI,CAAC,qBAAqB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxH,+BAAQ,GAAR,cAAa,IAAI,CAAC,uBAAuB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1H,gCAAS,GAAT,cAAc,IAAI,CAAC,uBAAuB,CAAC,IAAI,mBAAU,CAAC,eAAe,CAAC,mBAAU,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAEnH,oCAAa,GAArB,UAAsB,WAAwB,EAAE,CAA6B;gBACzE,EAAE,CAAC,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;oBACvC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC;YAC3C,CAAC;YACO,8CAAuB,GAA/B,UAAgC,CAA6B;gBACzD,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACjC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;oBACZ,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,MAAM,GAAG,UAAU,CAAC,gBAAgB,CAAC;gBACzC,IAAI,QAAQ,GAAG,MAAM,CAAC;gBACtB,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;oBACxB,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;oBACjC,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;oBAClC,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;oBACjC,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;oBAClC,KAAK,mBAAU,CAAC,eAAe,CAAC,aAAa,CAAC;oBAC9C,KAAK,mBAAU,CAAC,eAAe,CAAC,UAAU;wBACtC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC;wBACnB,KAAK,CAAC;oBACV,KAAK,mBAAU,CAAC,eAAe,CAAC,KAAK;wBACjC,QAAQ,GAAG,MAAM,CAAC,iBAAiB,CAAC;wBACpC,KAAK,CAAC;oBACV,KAAK,mBAAU,CAAC,eAAe,CAAC,IAAI;wBAChC,QAAQ,GAAG,MAAM,CAAC,iBAAiB,CAAC;wBACpC,KAAK,CAAC;gBACd,CAAC;gBACD,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACjC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;gBACpD,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;oBACpC,MAAM,CAAC,KAAK,CAAC;gBACjB,UAAU,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACO,4CAAqB,GAA7B,UAA8B,CAA6B;gBACvD,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACjC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;oBACZ,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,MAAM,GAAG,UAAU,CAAC,cAAc,CAAC;gBACvC,IAAI,QAAQ,GAAG,MAAM,CAAC;gBACtB,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;oBACxB,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;oBAC/B,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;wBAC7B,KAAK,CAAC;oBACV,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;wBAC3B,KAAK,CAAC;oBACV,KAAK,mBAAU,CAAC,eAAe,CAAC,cAAc;wBAC1C,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;wBAC7B,KAAK,CAAC;oBACV,KAAK,mBAAU,CAAC,eAAe,CAAC,aAAa,CAAC;oBAC9C,KAAK,mBAAU,CAAC,eAAe,CAAC,UAAU;wBACtC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC;wBACnB,KAAK,CAAC;oBACV,KAAK,mBAAU,CAAC,eAAe,CAAC,KAAK;wBACjC,QAAQ,GAAG,MAAM,CAAC,iBAAiB,CAAC;wBACpC,KAAK,CAAC;oBACV,KAAK,mBAAU,CAAC,eAAe,CAAC,IAAI;wBAChC,QAAQ,GAAG,MAAM,CAAC,iBAAiB,CAAC;wBACpC,KAAK,CAAC;gBACd,CAAC;gBACD,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACjC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;gBACrD,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;oBACpC,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAClD,CAAC;YA/XM,kDAAqC,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,+BAA+B,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,4BAAmB,CAAC,EAA7B,CAA6B,EAAE,YAAY,EAAE,4BAAmB,CAAC,QAAQ,EAAE,YAAY,CAAC,2BAA2B,CAAC,CAAC;YAM5O,gDAAmC,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,6BAA6B,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,4BAAmB,CAAC,EAA7B,CAA6B,EAAE,YAAY,EAAE,4BAAmB,CAAC,QAAQ,EAAE,YAAY,CAAC,2BAA2B,CAAC,CAAC;YAMxO,0DAA6C,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,uCAAuC,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,gBAAU,CAAC,EAApB,CAAoB,EAAE,YAAY,CAAC,CAAC;YAC3K,wDAA2C,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,qCAAqC,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,gBAAU,CAAC,EAApB,CAAoB,EAAE,YAAY,CAAC,CAAC;YACvK,qCAAwB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,kBAAkB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YACnH,mCAAsB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,gBAAgB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YAC/G,oCAAuB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,iBAAiB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YACjH,qCAAwB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,kBAAkB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YACnH,kCAAqB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,eAAe,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YAC7G,mCAAsB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,gBAAgB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YAC/G,gCAAmB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YACzG,iCAAoB,GAAG,kBAAkB,CAAC,oBAAoB,CAAC,cAAc,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;YA2WtH,mBAAC;QAAD,CAvZA,AAuZC,CAvZiC,uBAAc,GAuZ/C;QAvZY,qBAAY,eAuZxB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACpC,sBAAa,CAAC,YAAY,EACtB,EAAE,IAAI,EAAE,wBAAwB,EAAE,IAAI,EAAE,+BAAsB,EAAE,EAChE,EAAE,IAAI,EAAE,qBAAqB,EAAE,IAAI,EAAE,mBAAU,CAAC,SAAS,EAAE,EAC3D,EAAE,IAAI,EAAE,mBAAmB,EAAE,IAAI,EAAE,mBAAU,CAAC,SAAS,EAAE,CAAC,CAAC;IACnE,CAAC,EA9ZY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA8ZpB;AAAD,CAAC,EA9ZM,KAAK,KAAL,KAAK,QA8ZX;AC5ZD,IAAO,KAAK,CAmZX;AAnZD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAmZpB;IAnZY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA8B,4BAAmB;YAwB7C;gBACI,iBAAO,CAAC;gBAxBZ,mBAAc,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBACvC,mBAAc,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBAe/B,mBAAc,GAAiB,IAAI,CAAC;gBACpC,sBAAiB,GAAQ,IAAI,CAAC;gBAC9B,8BAAyB,GAAiB,IAAI,CAAC;gBAG/C,kBAAa,GAAW,CAAC,CAAC,CAAC;gBAI/B,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC;YACpC,CAAC;YAEO,yCAAsB,GAA9B,UAA+B,IAAyC;gBACpE,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAEzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC;oBAC7B,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,CAAC;gBAE1C,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACP,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACjF,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC1B,IAAI,WAAW,GAAG,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACpF,EAAE,CAAC,CAAC,WAAW,YAAY,qBAAY,CAAC;4BACrB,WAAY,CAAC,KAAK,EAAE,CAAC;oBAC5C,CAAC;oBAED,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;oBAC9D,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC1C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,KAAK,EAAE,CAAC;oBACb,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;oBAC/D,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC1C,CAAC;gBAED,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACrC,IAAI,CAAC,oBAAoB,CAAC,IAAI,IAAI,YAAY,YAAY,KAAK,CAAC,SAAS,GAAG,IAAI,GAAG,YAAY,CAAC,CAAC;gBACjG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAC7B,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACrC,CAAC;YACO,4CAAyB,GAAjC,UAAkC,IAAyC;gBACvE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC9C,CAAC;YAEO,kCAAe,GAAvB,UAAwB,IAAY,EAAE,IAAc;gBAChD,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBACvC,EAAE,CAAC,CAAC,IAAI,YAAY,IAAI,CAAC;oBACrB,MAAM,CAAC,IAAI,CAAC;YACpB,CAAC;YAED,kCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAE9B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE,yBAAgB,CAAC,CAAC;gBACpF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,mBAAU,CAAC,KAAK,CAAC,CAAC;gBAC9D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,gBAAgB,EAAE,mBAAU,CAAC,YAAY,CAAC,CAAC;gBACvF,IAAI,CAAC,iBAAiB,GAAqB,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,sBAAgB,CAAC,CAAC;gBAEvG,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC;oBAC/B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;gBAE3D,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBACnD,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;oBAE/D,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;oBAC9B,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;wBAChB,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;wBAC1B,KAAM,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC;oBACrF,CAAC;gBACL,CAAC;gBAED,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;oBAC7D,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;gBACrE,CAAC;gBAED,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAC9B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACjD,CAAC;YAED,8CAA2B,GAA3B,UAA4B,IAAyC;gBACjE,IAAI,QAAQ,GAAU,IAAI,CAAC,QAAQ,CAAC;gBACpC,IAAI,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAC,aAAa,EAAE,CAAC;gBAC5D,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBAC3B,IAAI,SAAS,GAAqB,UAAU,CAAC,OAAO,CAAC;oBACrD,EAAE,CAAC,CAAC,SAAS,IAAI,SAAS,KAAK,UAAU,CAAC,WAAW,CAAC;wBAClD,SAAS,CAAC,KAAK,GAAG,QAAQ,CAAC;gBACnC,CAAC;YACL,CAAC;YACD,wCAAqB,GAArB,UAAsB,IAAS;gBAC3B,MAAM,CAAC,IAAI,YAAY,qBAAY,CAAC;YACxC,CAAC;YACD,sCAAmB,GAAnB;gBACI,MAAM,CAAC,IAAI,qBAAY,EAAE,CAAC;YAC9B,CAAC;YACD,0CAAuB,GAAvB,UAAwB,SAAoB,EAAE,IAAS;gBACnD,gBAAK,CAAC,uBAAuB,YAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC/C,IAAI,GAAG,GAAiB,SAAS,CAAC;gBAClC,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;oBACf,IAAI,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC;oBAClC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC;wBAClB,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC;gBACxB,CAAC;YACL,CAAC;YAED,iCAAc,GAAd,UAAe,QAAoC;gBAC/C,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,SAAS,CAAC;oBACjC,MAAM,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;gBACvC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,SAAS,CAAC;oBACjC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;gBAC/B,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YACjC,CAAC;YAED,qCAAkB,GAAlB,UAAmB,CAAsC;gBACrD,gBAAK,CAAC,kBAAkB,YAAC,CAAC,CAAC,CAAC;gBAC5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBAChB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YACpC,CAAC;YAED,wCAAqB,GAArB,UAAsB,CAA6B;gBAC/C,gBAAK,CAAC,qBAAqB,YAAC,CAAC,CAAC,CAAC;gBAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACb,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;oBAChE,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;gBAC/C,CAAC;YACL,CAAC;YACD,+BAAY,GAAZ,UAAa,CAAuB;gBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,+BAAY,GAAZ,UAAa,CAAuB;gBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YAEP,8BAAW,GAAX,UAAY,CAAuB;gBAClC,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACZ,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACvC,CAAC;YAED,8BAAW,GAAX,UAAY,CAAuB;gBAClC,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACZ,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACb,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;oBAChE,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;gBAC/C,CAAC;YACX,CAAC;YAED,+BAAY,GAAZ,UAAa,CAAuB;gBACnC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACvC,CAAC;YAEK,4BAAS,GAAT,UAAU,CAAqB;gBAC3B,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBAEjB,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;gBAChB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,mBAAa,CAAC,WAAW,CAAC,CAAC,CAAC;oBACnD,EAAE,CAAC,CAAC,GAAG,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI,CAAC;wBACvB,GAAG,GAAG,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC;oBAC1B,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC;wBAC7B,GAAG,GAAG,WAAK,CAAC,GAAG,CAAC,IAAI,CAAC;gBAC7B,CAAC;gBACD,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,MAAM;wBACjB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC5B,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC;oBACrB,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK;wBAChB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;4BACnE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;4BACxC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAChC,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;wBAC/B,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC;oBACrB,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;4BACtB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAC9C,IAAI,CAAC,aAAa,EAAE,CAAC;gCACT,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAE,CAAC,KAAK,EAAE,CAAC;4BAC3F,CAAC;wBACL,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;wBAChF,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI,CAAC;oBACpB,KAAK,WAAK,CAAC,GAAG,CAAC,EAAE;wBACb,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;4BACtB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC;gCACzB,IAAI,CAAC,aAAa,EAAE,CAAC;gCACT,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAE,CAAC,KAAK,EAAE,CAAC;4BAC3F,CAAC;wBACL,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;wBAC7D,CAAC;wBACD,KAAK,CAAC;oBACV;wBACI,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;wBAClB,KAAK,CAAC;gBACd,CAAC;YACL,CAAC;YAEO,4CAAyB,GAAjC;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC;oBACpD,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,IAAI,IAAI,GAAG,gBAAU,CAAC,SAAS,GAAG,gBAAU,CAAC,OAAO,CAAC;YACvH,CAAC;YAED,6BAAU,GAAV,UAAW,CAAkB;gBACzB,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,8BAAW,GAAX,UAAY,CAAkB;gBAC1B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,yBAAyB,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC5G,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YAEO,kCAAe,GAAvB,UAAwB,MAAM,EAAE,CAAqB;gBACjD,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACtB,CAAC;YACD,qCAAkB,GAAlB,UAAmB,CAAuC;gBACtD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC;oBACrB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBACjD,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACrC,CAAC;YACO,mCAAgB,GAAxB,UAAyB,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,CAAC,CAAC;YAC3D,qCAAkB,GAA1B,UAA2B,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,CAAC,CAAC;YAE9D,uCAAoB,GAA5B;gBACI,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAChC,CAAC;YACO,uCAAoB,GAA5B,UAA6B,YAAiB;gBAC1C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC;oBACxB,MAAM,CAAC;gBAEX,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;oBAC7D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC/B,CAAC;gBACD,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG,IAAI,CAAC;gBAEtC,EAAE,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;oBACvB,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC;oBACvD,IAAI,CAAC,iBAAiB,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC9C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAC9B,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;oBACtC,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,OAAO,GAAG,YAAY,CAAC;gBAC3B,EAAE,CAAC,CAAC,OAAO,YAAY,qBAAY,CAAC;oBAChC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;gBAE9B,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBACrC,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;gBACvC,IAAI,IAAI,GAAG,GAAG,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAC;gBACjD,EAAE,CAAC,CAAC,IAAI,YAAY,qBAAY,CAAC;oBAAC,IAAI,CAAC,cAAc,GAAiB,IAAI,CAAC;gBAE3E,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;gBACjC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,YAAY,CAAC;gBAEnD,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC;oBACrE,EAAE,CAAC,CAAC,OAAO,YAAY,KAAK,CAAC,SAAS,CAAC;wBACnC,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC;oBACvC,IAAI;wBACA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBACnC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,GAAG,GAAG,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAC;oBAC7C,IAAI,SAAuB,CAAC;oBAC5B,EAAE,CAAC,CAAC,IAAI,YAAY,qBAAY,CAAC;wBAAC,SAAS,GAAiB,IAAI,CAAC;oBACjE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACb,IAAI,SAAS,GAAG,GAAG,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;wBACtD,EAAE,CAAC,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,SAAS,CAAC,OAAO,YAAY,qBAAY,CAAC,CAAC,CAAC;4BACpE,SAAS,GAAiB,SAAS,CAAC,OAAO,CAAC;4BAC5C,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE,SAAS,CAAC,WAAW,CAAC,CAAC;wBACnE,CAAC;oBACL,CAAC;oBACD,EAAE,CAAC,CAAC,SAAS,CAAC;wBACV,IAAI,CAAC,yBAAyB,GAAG,SAAS,CAAC,eAAe,CAAC;gBACnE,CAAC;gBAED,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBACxD,IAAI,CAAC,iBAAiB,CAAC,eAAe,GAAG,IAAI,CAAC,yBAAyB,CAAC;YAC5E,CAAC;YACO,8CAA2B,GAAnC,UAAoC,MAAM,EAAE,CAAuB;gBAC/D,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;oBACP,MAAM,CAAC;gBACX,IAAI,KAAK,GAAqB,KAAK,CAAC,KAAK,CAAC;gBAC1C,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,YAAY,sBAAgB,CAAC,CAAC;oBACrC,MAAM,CAAC;gBAEX,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC;gBAElC,IAAI,IAAI,GAAqB,sBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC5D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC;gBAEX,IAAI,CAAC;oBACD,IAAI,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAC7C,CAAE;gBAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBAEX,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,MAAM,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC7C,IAAI,WAAW,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;gBAEzF,IAAI,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBACtC,WAAW,GAAG,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;gBAE3C,IAAI,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,KAAK,mBAAa,CAAC,WAAW,CAAC,CAAC;gBACvE,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;oBAChB,IAAI,IAAI,GAAG,WAAW,CAAC,CAAC,CAAC;oBACzB,WAAW,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;oBAC1B,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC;gBACrB,CAAC;gBAED,IAAI,WAAW,GAAG,IAAI,KAAK,EAAE,CAAC;gBAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC3B,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBACtB,WAAW,CAAC,CAAC,GAAG,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC;gBACxC,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACvB,WAAW,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;gBACzC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,WAAW,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBAC7B,CAAC;gBAED,EAAE,CAAC,CAAC,aAAa,CAAC;oBACd,WAAW,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;gBAEnC,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;gBAC5B,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;oBACtB,WAAW,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,YAAY,CAAC;gBACxC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC3C,CAAC;gBAED,KAAK,CAAC,gBAAgB,GAAG,WAAW,CAAC,CAAC,CAAC;gBACvC,KAAK,CAAC,cAAc,GAAG,WAAW,CAAC,CAAC,CAAC;gBAErC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACvD,CAAC;YACO,wCAAqB,GAA7B,UAA8B,MAAc;gBACxC,IAAI,KAAuB,CAAC;gBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,KAAK,GAAqB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,KAAK,YAAY,sBAAgB,CAAC,CAAC,CAAC;oBACpG,EAAE,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC;wBACtC,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;wBACvD,EAAE,CAAC,CAAC,OAAO,CAAC;4BACR,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,GAAG,CAAC;oBACtC,CAAC;oBACD,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;gBAC7B,CAAC;YACL,CAAC;YA1XM,+BAAsB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAW,CAAE,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAA1C,CAA0C,CAAC,CAAC;YAChK,mCAA0B,GAAG,kBAAkB,CAAC,QAAQ,CAAC,oBAAoB,EAAE,cAAM,OAAA,WAAK,EAAL,CAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAU,CAAE,CAAC,2BAA2B,CAAC,IAAI,CAAC,EAA9C,CAA8C,CAAC,CAAC;YAC9K,kCAAyB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,mBAAmB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,QAAQ,EAAE,MAAM,CAAC,iBAAiB,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAW,CAAE,CAAC,yBAAyB,CAAC,IAAI,CAAC,EAA7C,CAA6C,CAAC,CAAC;YAC3L,kCAAyB,GAAG,mBAAU,CAAC,QAAQ,CAAC,yBAAyB,CAAC;YAC1E,0BAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;YAuXpG,eAAC;QAAD,CA/XA,AA+XC,CA/X6B,mBAAU,CAAC,QAAQ,GA+XhD;QA/XY,iBAAQ,WA+XpB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAChC,sBAAa,CAAC,QAAQ,EAClB,EAAE,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,yBAAgB,EAAE,EACpD,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,mBAAU,CAAC,KAAK,EAAE,EACzC,EAAE,IAAI,EAAE,wBAAwB,EAAE,IAAI,EAAE,sBAAgB,EAAE,EAC1D,EAAE,IAAI,EAAE,gBAAgB,EAAE,IAAI,EAAE,mBAAU,CAAC,YAAY,EAAE,EACzD,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,qBAAY,EAAE,EAC5C,EAAE,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,sBAAgB,EAAE,CAAC,CAAC;QAC1D,6BAAoB,CAAC,QAAQ,EACzB,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,iBAAiB,EAAE,EACrD,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAAE,EAChD,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,kBAAkB,EAAE,EAC3D,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC,CAAC;IACnE,CAAC,EAnZY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAmZpB;AAAD,CAAC,EAnZM,KAAK,KAAL,KAAK,QAmZX;ACvZD,IAAO,KAAK,CAoGX;AApGD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAoGpB;IApGY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAiC,+BAAc;YAc3C;gBACI,iBAAO,CAAC;gBANZ,0BAAqB,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBAO1C,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;YACvC,CAAC;YAfD,sBAAI,uCAAc;qBAAlB,cAA4C,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;qBAC1E,UAAmB,KAA0B;oBACzC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,KAAK,KAAK,CAAC;wBAC/B,MAAM,CAAC;oBACX,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACjD,CAAC;;;eANyE;YAiB1E,qCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;YAED,2CAAqB,GAArB,UAAsB,CAA6B;gBAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC3B,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC;oBAC7B,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YACzD,CAAC;YACD,kCAAY,GAAZ,UAAa,CAAuB;gBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YACD,kCAAY,GAAZ,UAAa,CAAuB;gBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAEP,iCAAW,GAAX,UAAY,CAAuB;gBAClC,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC1B,CAAC;YAED,iCAAW,GAAX,UAAY,CAAuB;gBAClC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACD,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC3B,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC;oBAC7B,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAC/D,CAAC;YAED,+BAAS,GAAT,UAAU,CAAuB;gBAChC,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBACV,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACnC,CAAC;YAEK,gCAAU,GAAV,UAAW,CAAkB;gBACzB,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;gBACtD,CAAC;YACL,CAAC;YACD,iCAAW,GAAX,UAAY,CAAkB;gBAC1B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,eAAe,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACvD,CAAC;YACL,CAAC;YAED,wCAAkB,GAAlB,UAAmB,QAAoC;gBACnD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBACjB,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;gBAClC,EAAE,CAAC,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;oBAC9B,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAChC,CAAC;YAEO,yCAAmB,GAA3B,UAA4B,IAAyC;gBACjE,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YA5EM,8BAAkB,GAAuB,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,WAAW,EAAE,IAAI,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAc,CAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAA1C,CAA0C,CAAC,CAAC;YA6E7L,kBAAC;QAAD,CAxFA,AAwFC,CAxFgC,uBAAc,GAwF9C;QAxFY,oBAAW,cAwFvB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACnC,6BAAoB,CAAC,WAAW,EAC5B,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAE,YAAY,EAAE,EACpD,EAAE,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAE,UAAU,EAAE,EAClD,EAAE,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC,CAAC;IACrE,CAAC,EApGY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAoGpB;AAAD,CAAC,EApGM,KAAK,KAAL,KAAK,QAoGX;ACpGD,IAAO,KAAK,CA4BX;AA5BD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA4BpB;IA5BY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAkC,gCAAW;YACzC;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;YACxC,CAAC;YAED,0CAAmB,GAAnB,UAAoB,CAA6B;gBAC7C,gBAAK,CAAC,mBAAmB,YAAC,CAAC,CAAC,CAAC;gBAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,YAAY,iBAAQ,CAAC;oBAC7B,IAAI,CAAC,cAAe,CAAC,cAAc,GAAG,KAAK,CAAC;YAC/D,CAAC;YAEP,gCAAS,GAAT,UAAU,CAAuB;gBAChC,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBACV,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,YAAY,iBAAQ,CAAC;oBAC7B,IAAI,CAAC,cAAe,CAAC,cAAc,GAAG,KAAK,CAAC;YACrE,CAAC;YACC,mBAAC;QAAD,CAjBA,AAiBC,CAjBiC,oBAAW,GAiB5C;QAjBY,qBAAY,eAiBxB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACpC,6BAAoB,CAAC,YAAY,EAC7B,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAE,YAAY,EAAE,EACpD,EAAE,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAE,UAAU,EAAE,EAClD,EAAE,SAAS,EAAE,iBAAiB,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC,CAAC;IACrE,CAAC,EA5BY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA4BpB;AAAD,CAAC,EA5BM,KAAK,KAAL,KAAK,QA4BX;AC5BD,IAAO,KAAK,CA2LX;AA3LD,WAAO,KAAK;IAAC,IAAA,MAAM,CA2LlB;IA3LY,WAAA,MAAM,EAAC,CAAC;QACjB;YAAuC,qCAAgB;YAAvD;gBAAuC,8BAAgB;YAcvD,CAAC;YAVG,oCAAQ,GAAR;gBACI,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;YAED,yCAAa,GAAb,UAAc,aAA+B;gBACzC,IAAI,GAAG,GAAG,QAAQ,CAAY,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;gBACxF,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,eAAS,CAAC,CAAC;oBAC5B,MAAM,IAAI,kBAAkB,CAAC,0CAA0C,CAAC,CAAC;gBAC7E,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACL,wBAAC;QAAD,CAdA,AAcC,CAdsC,sBAAgB,GActD;QAdY,wBAAiB,oBAc7B,CAAA;QAED,yBAAyB,EAAqB,EAAE,IAAS;YACrD,EAAE,CAAC,CAAC,IAAI,YAAY,OAAO,CAAC;gBAClB,EAAG,CAAC,QAAQ,GAAG,iBAAU,CAAC,IAAI,CAAC,CAAC;QAC9C,CAAC;QAED,sBAAsB,EAAqB,EAAE,GAAyB;YAC5D,EAAG,CAAC,WAAW,GAAG,GAAG,CAAC;QAChC,CAAC;QAID,kBAA+C,GAAgB,EAAE,IAAS;YACtE,IAAI,MAAM,GAAG,iBAAU,CAAC,IAAI,CAAC,CAAC;YAC9B,MAAM,CAAC,IAAI,CAAI,GAAG,EAAE,MAAM,CAAC,CAAC;QAChC,CAAC;QAHe,eAAQ,WAGvB,CAAA;QAED,cAA2C,GAAgB,EAAE,EAAgC;YACzF,MAAM,CAAC,QAAQ,CAAI,GAAG,EAAE,EAAE,CAAC,CAAC;QAChC,CAAC;QAFe,WAAI,OAEnB,CAAA;QAED,kBAAqB,GAAgB,EAAE,EAAgC,EAAE,SAAgC,EAAE,aAAgC;YACvI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YAEpD,IAAI,QAAQ,GAAuB;gBAC/B,WAAW,EAAE,KAAK;gBAClB,IAAI,EAAE,SAAS;aAClB,CAAC;YAEF,IAAI,SAAS,GAAG,IAAI,eAAS,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,MAAM,GAAG,eAAQ,CAAC,kBAAkB,CAAC,GAAG,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;YACxE,IAAI,MAAM,GAAG,eAAQ,CAAC,mBAAmB,CAAC,MAAM,EAAE,WAAW,EAAE,SAAS,CAAC,CAAC;YAC1E,IAAI,MAAM,GAAG,eAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;YAChD,IAAI,MAAM,GAAG,eAAQ,CAAC,oBAAoB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;YAE9D,IAAI,IAAS,CAAC;YACd,IAAI,MAAM,GAAG,EAAE,CAAC,YAAY,EAAE;iBACzB,aAAa,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;YAC9C,IAAI,KAAK,GAAG;gBACR,WAAW,EAAE,UAAC,GAAG,EAAE,IAAI;oBACnB,EAAE,CAAC,CAAC,CAAC,iBAAW,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;wBAC9C,MAAM,IAAI,kBAAkB,CAAC,0BAA0B,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;oBACxF,MAAM,CAAC,QAAQ,CAAC;gBACpB,CAAC;gBACD,aAAa,EAAE,UAAC,IAAI;oBAChB,EAAE,CAAC,CAAC,IAAI,KAAK,wBAAkB,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;wBACxD,MAAM,CAAC,SAAS,CAAC;oBACrB,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;oBAC/C,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;oBACvB,EAAE,CAAC,CAAC,GAAG,YAAY,iBAAiB,CAAC;wBACjC,MAAM,CAAC,UAAU,EAAE,CAAC;oBACxB,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,YAAY,qBAAc,CAAC;wBAClB,GAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,SAAS,CAAC,CAAC;oBACjE,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;oBACpB,MAAM,CAAC,GAAG,CAAC;gBACf,CAAC;gBACD,gBAAgB,EAAE,UAAC,IAAI,EAAE,IAAI;oBACzB,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAClD,CAAC;gBACD,gBAAgB,EAAE,UAAC,KAAK,EAAE,SAAS;oBAC/B,IAAI,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC;oBACzB,MAAM,CAAC,EAAE,CAAC;gBACd,CAAC;gBACD,UAAU,EAAE,UAAC,IAAS,EAAE,GAAQ;oBAC5B,EAAE,CAAC,CAAC,GAAG,YAAY,iBAAiB,CAAC,CAAC,CAAC;wBACnC,IAAI,EAAE,GAAsB,IAAI,GAAG,GAAG,CAAC;wBACvC,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;wBACzB,EAAE,CAAC,CAAC,GAAG,CAAC;4BACJ,MAAM,IAAI,kBAAkB,CAAC,GAAG,CAAC,CAAC;wBACtC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;wBAC1B,YAAY,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;oBACnC,CAAC;gBACL,CAAC;gBACD,MAAM,EAAE,UAAC,GAAG,EAAE,SAAS;oBACnB,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAChB,MAAM,CAAC,KAAK,EAAE,CAAC;oBACf,MAAM,CAAC,KAAK,EAAE,CAAC;gBACnB,CAAC;gBACD,SAAS,EAAE,UAAC,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI;oBACjC,IAAI,GAAG,GAAG,CAAC;oBACX,MAAM,CAAC,GAAG,EAAE,CAAC;oBACb,MAAM,CAAC,GAAG,EAAE,CAAC;oBACb,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;wBACZ,MAAM,CAAC;oBACX,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACZ,MAAM,CAAC,YAAY,EAAE,CAAC;wBACtB,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;wBAC3B,MAAM,CAAC,GAAG,EAAE,CAAC;oBACjB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;oBAC/B,CAAC;gBACL,CAAC;gBACD,WAAW,EAAE,UAAC,IAAI;oBACd,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAChC,CAAC;gBACD,IAAI,EAAE,UAAC,IAAI;oBACP,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACzB,CAAC;gBACD,aAAa,EAAE,UAAC,SAAS,EAAE,QAAQ;oBAC/B,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;gBACtC,CAAC;gBACD,WAAW,EAAE,UAAC,SAAS,EAAE,QAAQ;oBAC7B,MAAM,CAAC,GAAG,EAAE,CAAC;gBACjB,CAAC;gBACD,cAAc,EAAE,UAAC,SAAS,EAAE,QAAQ;gBACpC,CAAC;gBACD,YAAY,EAAE,UAAC,SAAS,EAAE,QAAQ,EAAE,GAAG;oBACnC,MAAM,CAAC,SAAS,CAAC,SAAS,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;gBAC/C,CAAC;gBACD,KAAK,EAAE,UAAC,GAAG;oBACP,EAAE,CAAC,CAAC,GAAG,YAAY,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;wBACvD,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,YAAY,iBAAiB,CAAC;4BACxC,MAAM,IAAI,kBAAkB,CAAC,wEAAwE,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;oBACzH,CAAC;oBACD,MAAM,IAAI,kBAAkB,CAAC,+BAA6B,EAAE,CAAC,GAAG,MAAG,EAAE,GAAG,CAAC,CAAC;oBAC1E,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBACD,GAAG,EAAE;gBACL,CAAC;aACJ,CAAC;YAEF,qBAAqB,IAAY;gBAC7B,IAAI,MAAM,GAAW,IAAI,CAAC;gBAC1B,IAAI,IAAI,GAAG,IAAI,CAAC;gBAChB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC5B,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACX,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;oBAC7B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAChC,CAAC;gBAED,IAAI,GAAG,GAAG,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBACvC,iBAAW,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;gBAC7C,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACzB,CAAC;YAED,mBAAmB,IAAY;gBAC3B,IAAI,IAAI,GAAG,IAAI,CAAC;gBAChB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC5B,IAAI,SAAc,CAAC;gBACnB,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACX,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;oBAC7C,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAChC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,MAAM,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;wBACnD,IAAI,KAAK,GAAU,EAAE,CAAC,OAAO,CAAC;wBAC9B,EAAE,CAAC,CAAC,KAAK,YAAY,WAAK,CAAC,CAAC,CAAC;4BACzB,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC;4BAC7B,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;gCACX,MAAM,IAAI,kBAAkB,CAAC,+BAA+B,CAAC,CAAC;4BAClE,KAAK,CAAC;wBACV,CAAC;oBACL,CAAC;gBACL,CAAC;gBAED,MAAM,CAAC,CAAC,SAAS,CAAC;sBACZ,kBAAkB,CAAC,qBAAqB,CAAC,SAAS,EAAE,IAAI,CAAC;sBACzD,IAAI,CAAC;YACf,CAAC;YAED,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC;iBACX,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YAEpB,EAAE,CAAC,CAAC,IAAI,YAAY,gBAAU,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;YACxC,CAAC;YAED,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAEpB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;IACL,CAAC,EA3LY,MAAM,GAAN,YAAM,KAAN,YAAM,QA2LlB;AAAD,CAAC,EA3LM,KAAK,KAAL,KAAK,QA2LX;AC3LD,IAAO,KAAK,CAWX;AAXD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAWpB;IAXY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAqC,mCAAwB;YAA7D;gBAAqC,8BAAwB;YAQ7D,CAAC;YAJG,kCAAQ,GAAR;gBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBACjB,MAAM,CAAC,yCAAyC,CAAC;YACzD,CAAC;YANM,kCAAkB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAM,OAAA,YAAM,EAAN,CAAM,EAAE,eAAe,CAAC,CAAC;YAOzG,sBAAC;QAAD,CARA,AAQC,CARoC,YAAM,CAAC,iBAAiB,GAQ5D;QARY,wBAAe,kBAQ3B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;IAC3C,CAAC,EAXY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAWpB;AAAD,CAAC,EAXM,KAAK,KAAL,KAAK,QAWX;ACXD,IAAO,KAAK,CAqDX;AArDD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAqDpB;IArDY,WAAA,QAAQ,EAAC,CAAC;QACnB,oCAAqC,IAAsB,EAAE,IAAyC;YAClG,IAAI,GAAG,GAAG,CAAC,IAAI,YAAY,mBAAU,CAAC,UAAU,CAAC,GAA0B,IAAI,GAAG,IAAI,CAAC;YACvF,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBACL,MAAM,CAAC;YACX,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC;gBAC5B,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC;gBAC5B,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;QACzC,CAAC;QAED,uBAAwB,MAA6B,EAAE,IAAI;YACvD,IAAI,MAAM,GAAG,sBAAgB,CAAC,eAAe,CAAS,MAAM,EAAE,MAAM,CAAC,CAAC;YACtE,EAAE,CAAC,CAAC,MAAM,CAAC;gBACP,MAAM,CAAC,YAAY,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC5D,CAAC;QAED;YAA4B,0BAAc;YA8BtC;gBACI,iBAAO,CAAC;gBA1BJ,kBAAa,GAAG,KAAK,CAAC;gBA2B1B,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;YAClC,CAAC;YA1BO,sCAAqB,GAA7B,UAA+B,IAAyC;gBACpE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,IAAI,CAAC;oBAC5B,MAAM,CAAC;gBACX,IAAI,OAAO,GAAG,mBAAU,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBACnD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACV,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC7B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;oBAC1B,IAAI,CAAC;wBACD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,oBAAoB,EAAE,SAAS,CAAC,CAAC;oBACjE,CAAC;4BAAS,CAAC;wBACP,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oBAC/B,CAAC;gBACL,CAAC;YACL,CAAC;YAEM,qBAAc,GAArB,UAAuB,IAAsB;gBACzC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;YACrD,CAAC;YAEM,qBAAc,GAArB,UAAuB,IAAsB,EAAE,KAAc;gBACzD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;YACrD,CAAC;YA3BM,2BAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,MAAM,EAAE,SAAS,EAAE,UAAC,CAAS,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAA7B,CAA6B,CAAC,CAAC;YACzJ,0BAAmB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,aAAa,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,MAAM,EAAE,SAAS,EAAE,0BAA0B,CAAC,CAAC;YAgClJ,aAAC;QAAD,CAlCA,AAkCC,CAlC2B,uBAAc,GAkCzC;QAlCY,eAAM,SAkClB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC,EArDY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAqDpB;AAAD,CAAC,EArDM,KAAK,KAAL,KAAK,QAqDX;ACrDD,IAAO,KAAK,CAiCX;AAjCD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAiCpB;IAjCY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAiC,+BAAO;YAYpC;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;YACvC,CAAC;YAXD,yCAAmB,GAAnB;gBACI,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;YACjE,CAAC;YAED,yCAAmB,GAAnB;gBACI,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,CAAC;YATM,2BAAe,GAAuB,kBAAkB,CAAC,QAAQ,CAAC,SAAS,EAAE,cAAM,OAAA,eAAS,EAAT,CAAS,EAAE,WAAW,CAAC,CAAC;YAetH,kBAAC;QAAD,CAhBA,AAgBC,CAhBgC,gBAAO,GAgBvC;QAhBY,oBAAW,cAgBvB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACnC,YAAM,CAAC,OAAO,CAAC,WAAW,EAAE,WAAW,CAAC,eAAe,CAAC,CAAC;QAEzD,IAAO,SAAS,CAWf;QAXD,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAY,WAAW,CAAC,eAAe,EAAE,UAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAgB;gBACjF,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,EAAE,YAAY,eAAS,CAAC;oBACxB,EAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,EAAE,YAAY,eAAS,CAAC;oBACxB,EAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;oBACd,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC3B,OAAO,CAAC,YAAY,EAAE,CAAC;YAC3B,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACrB,CAAC,EAXM,SAAS,KAAT,SAAS,QAWf;IACL,CAAC,EAjCY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAiCpB;AAAD,CAAC,EAjCM,KAAK,KAAL,KAAK,QAiCX;ACjCD,IAAO,KAAK,CAuBX;AAvBD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAuBpB;IAvBY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA0B,wBAAW;YAIjC;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAChC,CAAC;YAEM,aAAQ,GAAf,UAAgB,SAA2B,EAAE,GAAW;gBACpD,MAAM,CAAC,YAAM,CAAC,OAAO,CAAC,GAAG,CAAC;qBACrB,IAAI,CAAC,UAAA,EAAE;oBACJ,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;oBACpC,IAAI,IAAI,GAAG,YAAM,CAAC,IAAI,CAAO,SAAS,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;oBAChD,eAAe,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;oBACrC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,QAAQ,CAAC,IAAI,CAAC,CAAC;wBACjC,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;oBAC9C,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC,CAAC,CAAC;YACX,CAAC;YAlBM,kBAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,IAAI,CAAC,CAAC;YAmBpF,WAAC;QAAD,CApBA,AAoBC,CApByB,oBAAW,GAoBpC;QApBY,aAAI,OAoBhB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC,EAvBY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAuBpB;AAAD,CAAC,EAvBM,KAAK,KAAL,KAAK,QAuBX;ACzBD,IAAO,KAAK,CAKX;AALD,WAAO,KAAK;IAAC,IAAA,UAAU,CAKtB;IALY,WAAA,UAAU,EAAC,CAAC;QAIV,qBAAU,GAAG,IAAI,SAAS,CAAC,SAAS,CAAY,WAAW,CAAC,CAAC;IAC5E,CAAC,EALY,UAAU,GAAV,gBAAU,KAAV,gBAAU,QAKtB;AAAD,CAAC,EALM,KAAK,KAAL,KAAK,QAKX;ACDD,IAAO,KAAK,CA4JX;AA5JD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA4JpB;IA5JY,WAAA,QAAQ,EAAC,CAAC;QAEnB,wBAAwB,KAAU;YAC9B,IAAI,IAAI,GAAG,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,QAAQ,EAAE;iBAC9B,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC;iBACtB,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;iBACrB,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;iBACrB,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;iBACvB,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;YAC7B,IAAI,IAAI,GAAG,eAAe,GAAG,KAAK,CAAC,KAAK,GAAG,aAAa,GAAG,KAAK,CAAC,MAAM,GAAG,kBAAkB,CAAC;YAC7F,IAAI,IAAI,mBAAmB,GAAG,IAAI,GAAG,MAAM,CAAC;YAC5C,IAAI,IAAI,SAAS,CAAC;YAClB,MAAM,CAAC,YAAM,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,GAAG,cAAc,CAAC,CAAC;QACjE,CAAC;QAED,sBAAsB,GAAgB,EAAE,KAAa;YACjD,MAAM,CAAC,YAAM,CAAC,IAAI,CAAO,GAAG,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;QACzD,CAAC;QAED;YAA2B,yBAAc;YA2BrC;gBACI,iBAAO,CAAC;gBAdJ,gBAAW,GAAG,IAAI,gBAAU,CAAC,iBAAiB,EAAE,CAAC;gBACjD,kBAAa,GAA2B,SAAS,CAAC;gBActD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC5C,CAAC;YAdD,kCAAkB,GAAlB,UAAmB,YAAqB,EAAE,YAAqB;gBAC3D,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAcD,0BAAU,GAAV,UAAW,QAAoC;gBAC3C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;YACpC,CAAC;YAED,gCAAgB,GAAhB,UAAiB,QAAoC;gBACjD,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG,SAAS,GAAG,MAAM,CAAC,CAAC;YACzD,CAAC;YAED,wBAAQ,GAAR,UAAS,GAAQ;gBACb,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC1C,CAAC;YAED,yBAAS,GAAT;YAEA,CAAC;YAED,0BAAU,GAAV;YAEA,CAAC;YAED,2BAAW,GAAX;YAEA,CAAC;YAEO,4BAAY,GAApB,UAAqB,MAAM,EAAE,CAAkB;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBAChE,IAAI,CAAC,eAAe,EAAE,CAAC;gBAC3B,CAAC;YACL,CAAC;YAEO,+BAAe,GAAvB;gBACI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YACnD,CAAC;YAEO,4BAAY,GAApB,UAAqB,MAAW;gBAAhC,iBAgCC;gBA/BG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;gBAC1D,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBAEpD,IAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAC/B,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;oBACpB,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAClC,eAAe,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBAEzC,IAAI,SAAS,GAAG,IAAI,SAAG,CAAC,QAAQ,EAAE,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBAC9D,IAAI,MAAM,GAAW,SAAS,CAAC;gBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBACnB,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;oBAC/C,EAAE,CAAC,CAAC,KAAK,YAAY,gBAAU,CAAC,aAAa,CAAC,CAAC,CAAC;wBAC5C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;wBAC5B,MAAM,CAAC;oBACX,CAAC;oBACD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oBAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;wBACpB,MAAM,IAAI,yBAAyB,CAAC,4BAA4B,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;oBAC7F,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBACxB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;oBAC9C,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;wBACR,MAAM,IAAI,yBAAyB,CAAC,0BAA0B,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;oBAC3F,MAAM,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAC/B,CAAC;gBAED,aAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC;qBACtB,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAzB,CAAyB,EACnC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;YAC3C,CAAC;YAEO,8BAAc,GAAtB,UAAuB,IAAU;gBAC7B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;gBACrD,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAChC,eAAe,CAAC,wBAAwB,GAAG,IAAI,CAAC;YACpD,CAAC;YAEO,4BAAY,GAApB,UAAqB,KAAU;gBAC3B,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;gBACrD,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACpC,CAAC;YAEO,wBAAQ,GAAhB,UAAiB,IAAU;gBACvB,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;oBACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;gBACtD,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC;oBACzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YAC5C,CAAC;YAEO,qCAAqB,GAA7B,UAA8B,IAAyC;gBAEnE,EAAE,CAAC,CAAC,IAAI,CAAC;oBACL,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAGrC,CAAC;YAjIM,0BAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;YAC/F,2BAAqB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,eAAe,EAAE,cAAM,OAAA,SAAG,EAAH,CAAG,EAAE,KAAK,CAAC,CAAC;YAC/F,oBAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,SAAG,EAAH,CAAG,EAAE,KAAK,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAQ,CAAE,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAtC,CAAsC,CAAC,CAAC;YACzI,uBAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,gBAAU,CAAC,SAAS,EAApB,CAAoB,EAAE,KAAK,CAAC,CAAC;YAChG,yBAAmB,GAAG,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,gBAAU,CAAC,WAAW,EAAtB,CAAsB,EAAE,KAAK,CAAC,CAAC;YAC1G,uBAAiB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,KAAK,EAAE,KAAK,EAAE,UAAC,CAAQ,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAlD,CAAkD,CAAC,CAAC;YA6HrL,YAAC;QAAD,CAnIA,AAmIC,CAnI0B,uBAAc,GAmIxC;QAnIY,cAAK,QAmIjB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC7B,SAAS,CAAC,iBAAiB,CAAC,KAAK,EAAE,gBAAU,CAAC,UAAU,CAAC,CAAC;QAC1D,6BAAoB,CAAC,KAAK,EACtB,EAAC,SAAS,EAAE,eAAe,EAAE,IAAI,EAAE,MAAM,EAAC,EAC1C,EAAC,SAAS,EAAE,eAAe,EAAE,IAAI,EAAE,SAAS,EAAC,CAAC,CAAC;IACvD,CAAC,EA5JY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA4JpB;AAAD,CAAC,EA5JM,KAAK,KAAL,KAAK,QA4JX;AC9JD,IAAO,KAAK,CAgFX;AAhFD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAgFpB;IAhFY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA8B,4BAAS;YAAvC;gBAA8B,8BAAS;YAgCvC,CAAC;YA7BG,2CAAwB,GAAxB,UAA0B,MAAwB,EAAE,KAAa,EAAE,GAAY;gBAC3E,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC;gBAE/C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACN,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;oBACjC,aAAO,CAAC,MAAM,EAAE,IAAI,EAAE,cAAM,OAAA,OAAO,CAAC,iBAAiB,EAAE,EAA3B,CAA2B,CAAC,CAAC;gBAC7D,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,eAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBACxB,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC7B,CAAC;gBAED,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAChC,CAAC;YAED,wCAAqB,GAArB,UAAuB,MAAqB,EAAE,KAAa,EAAE,GAAY;gBACrE,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC;gBAE5C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACN,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;oBACjC,aAAO,CAAC,MAAM,EAAE,IAAI,EAAE,cAAM,OAAA,OAAO,CAAC,iBAAiB,EAAE,EAA3B,CAA2B,CAAC,CAAC;gBAC7D,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,eAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBACxB,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC7B,CAAC;gBAED,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAChC,CAAC;YACL,eAAC;QAAD,CAhCA,AAgCC,CAhC6B,kBAAS,GAgCtC;QAhCY,iBAAQ,WAgCpB,CAAA;QAED;YAA0B,wBAAK;YA4B3B;gBA5BJ,iBAmCC;gBANO,iBAAO,CAAC;gBACR,IAAI,OAAO,GAAG,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC9D,aAAO,CAAC,OAAO,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,KAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,EAApE,CAAoE,CAAC,CAAC;gBACvG,IAAI,OAAO,GAAG,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC3D,aAAO,CAAC,OAAO,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,KAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,EAAjE,CAAiE,CAAC,CAAC;YACxG,CAAC;YAhCD,yBAAU,GAAV,cAAyB,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACrD,kCAAmB,GAAnB,cAAyB,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YAGnE,cAAS,GAAhB,UAAkB,CAAmB,IAAY,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YACnF,cAAS,GAAhB,UAAkB,CAAmB,EAAE,KAAa,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAG1F,kBAAa,GAApB,UAAsB,CAAmB,IAAY,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YAC3F,kBAAa,GAApB,UAAsB,CAAmB,EAAE,KAAa,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAGlG,WAAM,GAAb,UAAe,CAAmB,IAAY,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC7E,WAAM,GAAb,UAAe,CAAmB,EAAE,KAAa,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAGpF,eAAU,GAAjB,UAAmB,CAAmB,IAAY,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACrF,eAAU,GAAjB,UAAmB,CAAmB,EAAE,KAAa,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAd5F,mBAAc,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAItF,uBAAkB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,YAAY,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAI9F,gBAAW,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,KAAK,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAIhF,oBAAe,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAIxF,8BAAyB,GAAG,kBAAkB,CAAC,iBAAiB,CAA6B,mBAAmB,EAAE,cAAM,OAAA,mCAA0B,EAA1B,CAA0B,EAAE,IAAI,CAAC,CAAC;YAC1J,2BAAsB,GAAG,kBAAkB,CAAC,iBAAiB,CAA0B,gBAAgB,EAAE,cAAM,OAAA,gCAAuB,EAAvB,CAAuB,EAAE,IAAI,CAAC,CAAC;YAC9I,0BAAqB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,eAAe,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;YAY5G,WAAC;QAAD,CAnCA,AAmCC,CAnCyB,cAAK,GAmC9B;QAnCY,aAAI,OAmChB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAE5B,IAAO,SAAS,CAMf;QAND,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAU,IAAI,CAAC,qBAAqB,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;YACpG,wBAAkB,CAAS,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACtF,wBAAkB,CAAS,IAAI,CAAC,kBAAkB,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC9F,wBAAkB,CAAS,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAChF,wBAAkB,CAAS,IAAI,CAAC,eAAe,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC5F,CAAC,EANM,SAAS,KAAT,SAAS,QAMf;IACL,CAAC,EAhFY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAgFpB;AAAD,CAAC,EAhFM,KAAK,KAAL,KAAK,QAgFX;AClFD,IAAO,KAAK,CAkCX;AAlCD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAkCpB;IAlCY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAO,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;QACzD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;QAExD;YAGI,oBAAY,KAAc,EAAE,QAAuB;gBAC/C,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,IAAI,GAAG,CAAC,GAAG,KAAK,CAAC;gBACvC,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI,YAAY,CAAC,IAAI,CAAC;YAC9C,CAAC;YACM,iBAAM,GAAb,UAAc,GAAe,EAAE,GAAe;gBAC1C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,KAAK,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC;YAC3E,CAAC;YACD,0BAAK,GAAL;gBACI,MAAM,CAAC,IAAI,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1D,CAAC;YACL,iBAAC;QAAD,CAbA,AAaC,IAAA;QAbY,mBAAU,aAatB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAElC,SAAS,CAAC,qBAAqB,CAAC,UAAU,EAAE,UAAC,GAAQ;YACjD,EAAE,CAAC,CAAC,GAAG,YAAY,UAAU,CAAC;gBAC1B,MAAM,CAAa,GAAG,CAAC;YAC3B,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC;gBACrC,MAAM,CAAC,IAAI,UAAU,EAAE,CAAC;YAC5B,IAAI,IAAI,GAAG,YAAY,CAAC,KAAK,CAAC;YAC9B,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBAC9B,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACpC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;YAC7B,CAAC;YACD,IAAI,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAAC,CAAC,GAAG,CAAC,CAAC;YACpB,MAAM,CAAC,IAAI,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACP,CAAC,EAlCY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAkCpB;AAAD,CAAC,EAlCM,KAAK,KAAL,KAAK,QAkCX;AChCD,IAAO,KAAK,CAgBX;AAhBD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAgBpB;IAhBY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA4C,0CAAc;YAMtD;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,sBAAsB,CAAC;YAClD,CAAC;YAED,gDAAe,GAAf,UAAgB,SAAc,EAAE,SAAc,IAAI,CAAC;YACnD,wDAAuB,GAAvB,UAAwB,iBAA+B,EAAE,iBAA+B,IAAI,CAAC;YAXtF,qCAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,sBAAsB,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAyB,CAAE,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAzE,CAAyE,CAAC,CAAC;YAEhM,6CAAsB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,EAAE,cAAM,OAAA,kBAAY,EAAZ,CAAY,EAAE,sBAAsB,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAyB,CAAE,CAAC,uBAAuB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAjF,CAAiF,CAAC,CAAC;YAUzO,6BAAC;QAAD,CAbA,AAaC,CAb2C,uBAAc,GAazD;QAbY,+BAAsB,yBAalC,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IAClD,CAAC,EAhBY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAgBpB;AAAD,CAAC,EAhBM,KAAK,KAAL,KAAK,QAgBX;AChBD,IAAO,KAAK,CAkCX;AAlCD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAkCpB;IAlCY,WAAA,QAAQ,EAAC,CAAC;QAGnB;YAAqC,mCAAqB;YAMtD;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YAC3C,CAAC;YAED,yCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;YAED,iCAAO,GAAP;gBACI,gBAAK,CAAC,OAAO,WAAE,CAAC;gBAChB,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC9B,EAAE,CAAC,CAAC,MAAM,CAAC;oBACP,gBAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAC3D,CAAC;YApBM,mCAAmB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAM,OAAA,SAAG,EAAH,CAAG,EAAE,eAAe,CAAC,CAAC;YAC7F,kCAAkB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,eAAe,CAAC,CAAC;YAoBzG,sBAAC;QAAD,CAtBA,AAsBC,CAtBoC,mBAAU,CAAC,UAAU,GAsBzD;QAtBY,wBAAe,kBAsB3B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACvC,6BAAoB,CAAC,eAAe,EAChC,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAC,EAC3C,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAC,EAC9C,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAC,EAC5C,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAC,EAC7C,EAAC,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAC,EAC7C,EAAC,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAC,CAAC,CAAC;IACrD,CAAC,EAlCY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAkCpB;AAAD,CAAC,EAlCM,KAAK,KAAL,KAAK,QAkCX;ACpCD,IAAO,KAAK,CAyCX;AAzCD,WAAO,KAAK;IAAC,IAAA,KAAK,CAyCjB;IAzCY,WAAA,KAAK,EAAC,CAAC;QAChB,WAAY,gBAAgB;YACxB,+DAAY,CAAA;YACZ,yFAAyB,CAAA;QAC7B,CAAC,EAHW,sBAAgB,KAAhB,sBAAgB,QAG3B;QAHD,IAAY,gBAAgB,GAAhB,sBAGX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;QAEhE,WAAY,oBAAoB;YAC5B,6DAAO,CAAA;YACP,qEAAW,CAAA;YACX,mEAAU,CAAA;QACd,CAAC,EAJW,0BAAoB,KAApB,0BAAoB,QAI/B;QAJD,IAAY,oBAAoB,GAApB,0BAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,oBAAoB,EAAE,sBAAsB,CAAC,CAAC;QAExE,WAAY,OAAO;YACf,qCAAQ,CAAA;YACR,qCAAQ,CAAA;YACR,2CAAW,CAAA;YACX,uDAAiB,CAAA;QACrB,CAAC,EALW,aAAO,KAAP,aAAO,QAKlB;QALD,IAAY,OAAO,GAAP,aAKX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QAE9C,WAAY,UAAU;YAClB,2CAAQ,CAAA;YACR,+CAAU,CAAA;YACV,6CAAS,CAAA;QACb,CAAC,EAJW,gBAAU,KAAV,gBAAU,QAIrB;QAJD,IAAY,UAAU,GAAV,gBAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAEpD,WAAY,UAAU;YAClB,yCAAO,CAAA;YACP,+CAAU,CAAA;YACV,+CAAU,CAAA;QACd,CAAC,EAJW,gBAAU,KAAV,gBAAU,QAIrB;QAJD,IAAY,UAAU,GAAV,gBAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAEpD,WAAY,eAAe;YACvB,uDAAS,CAAA;YACT,6DAAY,CAAA;QAChB,CAAC,EAHW,qBAAe,KAAf,qBAAe,QAG1B;QAHD,IAAY,eAAe,GAAf,qBAGX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC;IAClE,CAAC,EAzCY,KAAK,GAAL,WAAK,KAAL,WAAK,QAyCjB;AAAD,CAAC,EAzCM,KAAK,KAAL,KAAK,QAyCX;ACtCD,IAAO,KAAK,CAuEX;AAvED,WAAO,KAAK;IAAC,IAAA,QAAQ,CAuEpB;IAvEY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAO,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC;QAC1D;YAA2B,yBAAgB;YAA3C;gBAA2B,8BAAgB;gBAmBvC,gBAAW,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBACpC,gBAAW,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBAE5B,aAAQ,GAA0B,IAAI,CAAC;YA+BnD,CAAC;YApDG,mCAAmB,GAAnB;gBACI,MAAM,CAAC,IAAI,YAAY,EAAE,CAAC;YAC9B,CAAC;YAEc,oBAAc,GAA7B,UAA8B,CAAmB,EAAE,KAAyB,EAAE,KAAU;gBACpF,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;oBAC1B,MAAM,CAAC,IAAI,WAAK,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,SAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBACzD,EAAE,CAAC,CAAC,KAAK,YAAY,SAAG,CAAC;oBACrB,MAAM,CAAC,IAAI,WAAK,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAChD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAaD,8BAAc,GAAd,UAAe,MAAkC,EAAE,KAAY;gBAC3D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACvC,CAAC;YAED,6BAAa,GAAb,UAAc,MAAkC;gBAC5C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACnC,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;gBACrC,EAAE,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC;YAED,8BAAc,GAAd,UAAe,MAAkC;gBAC7C,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;gBACrC,EAAE,CAAC,iBAAiB,EAAE,CAAC;gBACvB,EAAE,CAAC,UAAU,EAAE,CAAC;YACpB,CAAC;YAED,+BAAe,GAAf,UAAgB,SAAoC,EAAE,SAAoC;gBAA1F,iBAYC;gBAXG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACzB,CAAC;gBACD,EAAE,CAAC,CAAC,SAAS,YAAY,WAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;oBAClD,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC;wBAC5B,SAAS,EAAE,UAAC,MAAM,EAAE,KAAK,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,CAAC,EAAlC,CAAkC;wBAChE,QAAQ,EAAE,UAAC,MAAM,IAAK,OAAA,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAA1B,CAA0B;wBAChD,SAAS,EAAE,UAAC,MAAM,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAA3B,CAA2B;qBACrD,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;YAvCM,oBAAc,GAAG,kBAAkB,CAAC,YAAY,CAAC,QAAQ,EAAE,cAAM,OAAA,WAAK,CAAC,OAAO,CAAC,WAAW,EAAzB,CAAyB,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,cAAc,CAAC,CAAC;YAE/I,qBAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,WAAK,CAAC,OAAO,CAAC,EAAvB,CAAuB,EAAE,KAAK,EAAE,WAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAsCrI,YAAC;QAAD,CArDA,AAqDC,CArD0B,sBAAgB,GAqD1C;QArDY,cAAK,QAqDjB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAE7B,gBAAU,CAA4B,KAAK,CAAC,cAAc,EAAE,UAAC,GAAiB,EAAE,EAAE,EAAE,EAAE,EAAE,KAAa;YACjG,KAAK,CAAC,eAAe,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YAC9B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACN,GAAG,CAAC,YAAY,EAAE,CAAC;gBACnB,GAAG,CAAC,UAAU,EAAE,CAAC;YACrB,CAAC;YACD,GAAG,CAAC,iBAAiB,EAAE,CAAC;YACxB,GAAG,CAAC,iBAAiB,EAAE,CAAC;QAC5B,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,gBAAU,CAAkB,KAAK,CAAC,eAAe,EAAE,UAAC,GAAiB,EAAE,EAAE,EAAE,EAAE;YACzE,GAAG,CAAC,iBAAiB,EAAE,CAAC;YACxB,GAAG,CAAC,iBAAiB,EAAE,CAAC;QAC5B,CAAC,EAAE,KAAK,CAAC,CAAC;IACd,CAAC,EAvEY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAuEpB;AAAD,CAAC,EAvEM,KAAK,KAAL,KAAK,QAuEX;ACxED,IAAO,KAAK,CAsJX;AAtJD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAsJpB;IAtJY,WAAA,QAAQ,EAAC,CAAC;QAWnB;YAAoC,kCAAyB;YAA7D;gBAAoC,8BAAyB;gBACzD,iBAAY,GAAG,IAAI,SAAS,CAAC,KAAK,EAA0C,CAAC;gBAU7E,eAAU,GAAY,KAAK,CAAC;YA8HhC,CAAC;YAtIG,gCAAO,GAAP;gBACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC;YAED,sBAAI,iCAAK;qBAAT;oBACI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;gBAC3B,CAAC;;;eAAA;YAID,mCAAU,GAAV,UAAY,KAAa;gBACrB,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBAClB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC;oBAChC,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;YACrB,CAAC;YAED,iCAAQ,GAAR,UAAU,UAAkB,EAAE,QAAgB;gBAC1C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE,QAAQ,GAAG,CAAC,CAAC,CAAC;YACpD,CAAC;YAED,mCAAU,GAAV,UAAY,KAAa,EAAE,KAAiB;gBACxC,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBAClC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,uCAAc,GAAd,UAAgB,KAAa,EAAE,KAAU;gBACrC,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBAClB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC;oBAChC,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,IAAI,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;gBACzB,EAAE,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;gBAClB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAW,CAAC,0BAA0B,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;YAC1G,CAAC;YAED,4BAAG,GAAH,UAAK,KAAiB;gBAClB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC;oBACd,MAAM,IAAI,iBAAiB,CAAC,OAAO,CAAC,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAC/B,CAAC;YAED,gCAAO,GAAP,UAAS,KAAU;gBACf,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACrC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAW,CAAC,0BAA0B,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;gBACxF,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAED,iCAAQ,GAAR,UAAU,MAAa;gBACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;oBAAC,MAAM,CAAC;gBACpB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACrC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC;wBAAC,MAAM,IAAI,iBAAiB,CAAC,OAAO,CAAC,CAAC;gBAChE,CAAC;gBACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC9B,CAAC;YAED,qCAAY,GAAZ,UAAc,MAAa;gBACvB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;gBAC5B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACnC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAW,CAAC,0BAA0B,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;YAClG,CAAC;YAED,+BAAM,GAAN,UAAQ,KAAa,EAAE,KAAiB;gBACpC,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC;oBACd,MAAM,IAAI,iBAAiB,CAAC,OAAO,CAAC,CAAC;gBACzC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBAC9B,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,mCAAU,GAAV,UAAY,KAAa,EAAE,KAAiB;gBACxC,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBAClB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC;oBAC/B,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC;oBACnB,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnB,IAAI;oBACA,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;gBAC/B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAW,CAAC,0BAA0B,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;YAC5F,CAAC;YAED,gCAAO,GAAP,UAAS,KAAiB;gBACtB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACnC,CAAC;YAED,iCAAQ,GAAR,UAAU,KAAiB;gBACvB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YACxC,CAAC;YAED,+BAAM,GAAN,UAAQ,KAAiB;gBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBACvB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,mCAAU,GAAV,UAAY,KAAiB;gBACzB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;oBACV,MAAM,CAAC;gBACX,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAW,CAAC,0BAA0B,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;YAC/F,CAAC;YAED,iCAAQ,GAAR,UAAU,KAAa;gBACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;oBACtC,MAAM,IAAI,wBAAwB,CAAC,KAAK,CAAC,CAAC;gBAC9C,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBACzB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,qCAAY,GAAZ,UAAc,KAAa;gBACvB,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAW,CAAC,0BAA0B,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;YAC9F,CAAC;YAED,8BAAK,GAAL;gBACI,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,kCAAS,GAAT;gBACI,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;gBACd,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAW,CAAC,0BAA0B,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YACrF,CAAC;YAEO,0CAAiB,GAAzB;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBAChB,MAAM,IAAI,yBAAyB,CAAC,6BAA6B,CAAC,CAAC;YAC3E,CAAC;YACL,qBAAC;QAAD,CAzIA,AAyIC,CAzImC,0BAAoB,GAyIvD;QAzIY,uBAAc,iBAyI1B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC1C,CAAC,EAtJY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAsJpB;AAAD,CAAC,EAtJM,KAAK,KAAL,KAAK,QAsJX;ACtJD,IAAO,KAAK,CAUX;AAVD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAUpB;IAVY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAwC,sCAAwB;YAAhE;gBAAwC,8BAAwB;YAOhE,CAAC;YANG,0CAAa,GAAb,UAAc,aAA+B;gBACzC,IAAI,KAAK,GAAU,gBAAK,CAAC,aAAa,YAAC,aAAa,CAAC,CAAC;gBACtD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,YAAY,cAAK,CAAC,CAAC;oBAC1B,MAAM,IAAI,kBAAkB,CAAC,qEAAqE,CAAC,CAAC;gBACxG,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACL,yBAAC;QAAD,CAPA,AAOC,CAPuC,YAAM,CAAC,iBAAiB,GAO/D;QAPY,2BAAkB,qBAO9B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAC9C,CAAC,EAVY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAUpB;AAAD,CAAC,EAVM,KAAK,KAAL,KAAK,QAUX;ACTD,IAAO,KAAK,CAyGX;AAzGD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAyGpB;IAzGY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAI,IAAI,GAAG,YAAM,CAAC,UAAU,CAAC,8BAA8B,GAAG,KAAK,CAAC,KAAK,GAAG,wCAAwC,EAC9G,KAAK,CAAC,KAAK,GAAG,oCAAoC,CAAC,CAAC;QAC1D,IAAI,IAAwB,CAAC;QAE7B,IAAI,KAAK,GAAG,YAAM,CAAC,UAAU,CAAC,8BAA8B,GAAG,KAAK,CAAC,KAAK,GAAG,oDAAoD,EAC3H,KAAK,CAAC,KAAK,GAAG,gDAAgD,CAAC,CAAC;QACtE,IAAI,KAAyB,CAAC;QAE9B,6BAA6B,EAAgB;YACzC,EAAE,CAAC,CAAC,EAAE,YAAY,gBAAO,CAAC;gBACtB,MAAM,CAAC,KAAK,GAAG,KAAK,IAAI,YAAM,CAAC,IAAI,CAAqB,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAC3E,MAAM,CAAC,IAAI,GAAG,IAAI,IAAI,YAAM,CAAC,IAAI,CAAqB,EAAE,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACxE,CAAC;QAED;YAAwC,sCAAM;YAE1C,4BAAY,IAAoB;gBAC5B,kBAAM,IAAI,CAAC,CAAC;YAChB,CAAC;YAGD,sBAAI,2CAAW;qBAAf,cAA2B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;;;eAAA;YAEtD,qDAAwB,GAAxB,UAAyB,KAAa;gBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBAClB,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACxB,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;gBAC5B,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,YAAY,qBAAY,CAAC,CAAC;oBAC9B,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,EAAS,CAAC;gBACd,EAAE,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC;oBACd,EAAE,GAAG,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAC/D,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;oBACJ,EAAE,GAAG,IAAI,CAAC,YAAY,GAAG,mBAAmB,CAAC,EAAE,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAEzE,qBAAY,CAAC,cAAc,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,4BAA4B,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;oBAC9C,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBACzC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACL,yBAAC;QAAD,CA/BA,AA+BC,CA/BuC,YAAM,GA+B7C;QA/BY,2BAAkB,qBA+B9B,CAAA;QAED;YAAoC,kCAAgB;YAApD;gBAAoC,8BAAgB;YAuDpD,CAAC;YApDG,mCAAU,GAAV,cAAmC,MAAM,CAAC,IAAI,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAEzE,sBAAI,wCAAY;qBAAhB;oBACI,MAAM,CAAC,IAAI,CAAC,aAAa,YAAY,qBAAY,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAClF,CAAC;;;eAAA;YACD,sBAAI,iCAAK;qBAAT;oBACI,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;oBACnC,MAAM,CAAC,EAAE,YAAY,cAAK,GAAG,EAAE,GAAG,SAAS,CAAC;gBAChD,CAAC;;;eAAA;YAEM,kBAAG,GAAV,UAAW,KAAY;gBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,YAAY,cAAK,CAAC,CAAC;oBAC1B,MAAM,CAAC,IAAI,CAAC;gBAChB,EAAE,CAAC,CAAC,CAAC,qBAAY,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;oBACpC,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,KAAK,CAAC,aAAa,YAAY,cAAc,GAAmB,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC;YACtG,CAAC;YAED,qCAAY,GAAZ,UAAa,KAAa,EAAE,QAAe;gBACvC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACvB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;oBACP,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,KAAK,YAAY,0BAAiB,CAAC,CAAC,CAAC;oBACjB,KAAM,CAAC,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAC7D,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,QAAQ,GAAG,KAAK,CAAC,QAAQ,EAAE,SAAS,GAAG,EAAE,CAAC,qBAAqB,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC;wBAC9J,IAAI,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC;wBAClC,QAAQ,CAAC,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC,aAAa,EAAa,SAAS,CAAC,CAAC;wBACvE,EAAE,CAAC,uBAAuB,CAAC,SAAS,EAAE,SAAS,CAAC,WAAW,CAAC,CAAC;oBACjE,CAAC;gBACL,CAAC;YACL,CAAC;YACD,uCAAc,GAAd,UAAe,KAAa,EAAE,QAAe;gBACzC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACvB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;oBACP,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,KAAK,YAAY,0BAAiB,CAAC,CAAC,CAAC;oBACjB,KAAM,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAC/D,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC;oBAClD,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;oBAC9B,IAAI,KAAK,GAAG,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC9C,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;wBAC5C,QAAQ,CAAC,KAAK,EAAE,CAAC;oBACrB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,OAAO,KAAK,GAAG,CAAC,EAAE,CAAC;4BACf,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;4BACzB,KAAK,EAAE,CAAC;wBACZ,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YACL,qBAAC;QAAD,CAvDA,AAuDC,CAvDmC,sBAAgB,GAuDnD;QAvDY,uBAAc,iBAuD1B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC1C,CAAC,EAzGY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAyGpB;AAAD,CAAC,EAzGM,KAAK,KAAL,KAAK,QAyGX;ACzGD,IAAO,KAAK,CAyUX;AAzUD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAyUpB;IAzUY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAO,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QAI3B;YAA6B,2BAAmB;YAM5C;gBACI,iBAAO,CAAC;gBANJ,kBAAa,GAAW,CAAC,CAAC;gBAO9B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;YACnC,CAAC;YAED,gCAAc,GAAd,UAAe,IAAS;gBACpB,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBACrC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;oBACL,MAAM,CAAC;gBACX,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACvB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACtB,MAAM,CAAC;gBAEX,IAAI,IAAI,GAAG,EAAC,KAAK,EAAQ,IAAI,EAAC,CAAC;gBAC/B,IAAI,KAAK,GAAG,EAAC,KAAK,EAAQ,IAAI,EAAC,CAAC;gBAChC,IAAI,YAAY,GAAG,+BAAsB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAClE,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;oBACzC,MAAM,CAAC;gBACX,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;gBACrB,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;gBAEvB,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;oBACnC,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBACf,GAAG,CAAC,sBAAsB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBAC/C,MAAM,CAAC;oBACX,CAAC;oBACD,IAAI,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC;oBACxC,IAAI,aAAa,GAAG,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC7C,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;wBAC3D,cAAc,IAAI,aAAa,CAAC;oBACpC,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,aAAa,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACnC,cAAc,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC;oBACvD,CAAC;oBACD,GAAG,CAAC,sBAAsB,CAAC,cAAc,CAAC,CAAC;gBAC/C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBACf,GAAG,CAAC,wBAAwB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACjD,MAAM,CAAC;oBACX,CAAC;oBACD,IAAI,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;oBAC5C,IAAI,eAAe,GAAG,CAAC,CAAC;oBACxB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC3C,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;wBAC3D,gBAAgB,IAAI,eAAe,CAAC;oBACxC,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,eAAe,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACpC,gBAAgB,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,eAAe,CAAC,CAAC;oBAC3D,CAAC;oBACD,GAAG,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,CAAC;gBACnD,CAAC;YACL,CAAC;YAEO,iCAAe,GAAvB,UAAwB,OAAgB;gBACpC,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBACrC,IAAI,eAAe,GAAG,CAAC,CAAC,CAAC;gBACzB,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,aAAa,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC;gBAC1F,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAC/C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAC1B,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC;wBACZ,GAAG,CAAC,YAAY,EAAE,CAAC;gBAC3B,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACf,eAAe,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;gBACnF,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,sBAAsB,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;oBAC1F,EAAE,CAAC,CAAC,sBAAsB,KAAK,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;wBAChD,eAAe,GAAG,sBAAsB,CAAC;oBAC7C,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;4BACd,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;gCACnC,GAAG,CAAC,sBAAsB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,gBAAgB,EAChE,GAAG,CAAC,cAAc,GAAG,CAAC,GAAG,CAAC,cAAc,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC1E,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,GAAG,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,eAAe,EACjE,GAAG,CAAC,gBAAgB,GAAG,CAAC,GAAG,CAAC,aAAa,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAE3E,CAAC;4BACD,GAAG,CAAC,YAAY,EAAE,CAAC;wBACvB,CAAC;wBACD,eAAe,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;oBACnF,CAAC;gBACL,CAAC;gBACD,MAAM,CAAC,eAAe,CAAC;YAC3B,CAAC;YAEO,oCAAkB,GAA1B,UAA2B,GAAc;gBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC;oBAC3B,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YAC1D,CAAC;YAEO,kCAAgB,GAAxB,UAAyB,IAAS,EAAE,gBAA4B,EAAE,mBAA+B;gBAC7F,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC;oBAAC,gBAAgB,GAAG,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC;gBACxD,EAAE,CAAC,CAAC,CAAC,mBAAmB,CAAC;oBAAC,mBAAmB,GAAG,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC;gBAE9D,IAAI,SAAS,GAAyB,sBAAgB,CAAC,QAAQ,CAAC,sBAAgB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEvG,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBACrC,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;oBACd,SAAS,GAAG,GAAG,CAAC;oBAChB,EAAE,CAAC,CAAC,GAAG,CAAC,uBAAuB,IAAI,IAAI,CAAC;wBACpC,SAAS,GAAG,GAAG,CAAC,uBAAuB,CAAC;gBAChD,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,YAAY,sBAAgB,CAAC,CAAC;oBACzC,SAAS,GAAG,IAAI,CAAC;gBAErB,IAAI,IAAI,GAAG,gBAAgB,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;gBACvD,IAAI,KAAK,GAAG,mBAAmB,CAAC,KAAK,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;gBAC3D,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;oBACX,MAAM,CAAC,KAAK,CAAC;gBACjB,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBAEhD,IAAI,GAAG,GAAgB,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAC1E,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;oBACL,MAAM,CAAC,KAAK,CAAC;gBAEjB,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;gBAE3C,EAAE,CAAC,CAAC,SAAS,YAAY,gBAAO,CAAC,CAAC,CAAC;oBAC/B,IAAI,OAAO,GAAa,SAAU,CAAC,OAAO,CAAC;oBAC3C,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACV,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC;wBAC/B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC;wBAC9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC;wBACvD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;oBAC7D,CAAC;gBACL,CAAC;gBAED,IAAI,QAAQ,GAAG,GAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;gBAChD,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;oBACnB,IAAI,GAAG,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC;oBAC1C,IAAI,GAAG,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,EAAE,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;oBACrF,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;oBACjC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;oBACjC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACtC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC3C,CAAC;gBAED,MAAM,CAAC,IAAI,CAAC,yBAAyB,EAAE;sBACjC,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;sBAClF,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC3F,CAAC;YAEO,4CAA0B,GAAlC,UAAmC,aAAqB,EAAE,OAAgB;gBACtE,IAAI,KAAK,GAAG,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC7B,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;gBACf,IAAI,UAAU,GAAG,aAAa,CAAC;gBAC/B,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBACvB,IAAI,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC7B,OAAO,UAAU,IAAI,CAAC,IAAI,UAAU,GAAG,UAAU,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC;oBACxG,KAAK,GAAG,UAAU,CAAC;oBACnB,UAAU,IAAI,KAAK,CAAC;gBACxB,CAAC;gBACD,OAAO,UAAU,IAAI,CAAC,IAAI,UAAU,GAAG,UAAU,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC;oBACvG,KAAK,GAAG,UAAU,CAAC;oBACnB,UAAU,IAAI,KAAK,CAAC;gBACxB,CAAC;gBACD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAED,6CAA2B,GAA3B,UAA4B,IAAyC;gBACjE,IAAI,QAAQ,GAAU,IAAI,CAAC,QAAQ,CAAC;gBACpC,IAAI,QAAQ,GAAU,IAAI,CAAC,QAAQ,CAAC;gBACpC,IAAI,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAC,aAAa,EAAE,CAAC;gBAC5D,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBAC3B,IAAI,GAAG,GAAgB,UAAU,CAAC,OAAO,CAAC;oBAC1C,EAAE,CAAC,CAAC,GAAG,YAAY,oBAAW,IAAI,GAAG,CAAC,KAAK,KAAK,QAAQ,CAAC;wBACrD,GAAG,CAAC,KAAK,GAAG,QAAQ,CAAC;gBAC7B,CAAC;YACL,CAAC;YAED,2BAAS,GAAT,UAAU,IAAwB;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;oBACb,MAAM,CAAC;gBAEX,IAAI,eAAe,GAAG,CAAC,CAAC,CAAC;gBACzB,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBACf,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC;oBACrB,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK;wBAChB,EAAE,CAAC,CAAC,WAAK,CAAC,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,GAAG,IAAI,WAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;4BAClF,EAAE,CAAC,CAAC,CAAC,WAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;gCAC3B,IAAI,SAAS,GAAG,aAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gCAChD,IAAI,GAAgB,CAAC;gCACrB,EAAE,CAAC,CAAC,SAAS,YAAY,oBAAW,CAAC;oCAAC,GAAG,GAAgB,SAAS,CAAC;gCACnE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oCACN,EAAE,CAAC,CAAC,WAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;wCAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oCAC7B,CAAC;oCAAC,IAAI,CAAC,CAAC;wCACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;oCAC1E,CAAC;oCACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gCACxB,CAAC;4BACL,CAAC;wBACL,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,eAAe,GAAG,CAAC,CAAC;wBACpB,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,GAAG;wBACd,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;wBACvC,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,MAAM;wBACjB,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;wBAC9C,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,QAAQ;wBACnB,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBAC7C,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;4BACnC,IAAI,CAAC,kBAAkB,CAAC,WAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAC5C,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,eAAe,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;wBAC7C,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,EAAE;wBACb,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;4BACnC,eAAe,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;wBAC7C,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,kBAAkB,CAAC,WAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;wBAC1C,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK;wBAChB,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;4BACnC,IAAI,CAAC,kBAAkB,CAAC,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBAC7C,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,eAAe,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;wBAC7C,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;4BACnC,eAAe,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;wBAC7C,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,kBAAkB,CAAC,WAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAC5C,CAAC;wBACD,KAAK,CAAC;gBACd,CAAC;gBAED,EAAE,CAAC,CAAC,eAAe,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,CAAC,IAAI,eAAe,KAAK,IAAI,CAAC,aAAa,IAAI,eAAe,IAAI,CAAC,IAAI,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;oBAE9J,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC;oBACrC,IAAI,GAAG,GAAgB,GAAG,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;oBAC/D,IAAI,IAAI,GAAG,GAAG,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;oBACtC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAC1B,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;wBACpC,GAAG,CAAC,KAAK,EAAE,CAAC;oBAChB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBAC7B,CAAC;oBACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACxB,CAAC;YACL,CAAC;YAEO,2CAAyB,GAAjC;gBACI,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;gBAC7C,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;oBACX,MAAM,CAAC,IAAI,CAAC;gBAChB,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC;gBACxB,EAAE,CAAC,CAAC,CAAC,YAAY,mBAAU,CAAC;oBACxB,MAAM,CAAc,CAAE,CAAC,WAAW,KAAK,iBAAW,CAAC,QAAQ,CAAC;gBAChE,EAAE,CAAC,CAAC,CAAC,YAAY,+BAAsB,CAAC;oBACpC,MAAM,CAA0B,CAAE,CAAC,WAAW,KAAK,iBAAW,CAAC,QAAQ,CAAC;gBAC5E,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,uCAAqB,GAArB,UAAsB,IAAS;gBAC3B,MAAM,CAAC,IAAI,YAAY,oBAAW,CAAC;YACvC,CAAC;YAED,qCAAmB,GAAnB;gBACI,IAAI,IAAI,GAAG,IAAI,oBAAW,EAAE,CAAC;gBAC7B,IAAI,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBAClC,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC;oBACZ,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;gBACrB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,yCAAuB,GAAvB,UAAwB,OAAkB,EAAE,IAAS;gBACjD,gBAAK,CAAC,uBAAuB,YAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBAC7C,IAAI,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBAClC,IAAI,GAAG,GAAgB,OAAO,CAAC;gBAC/B,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC;oBAClB,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC;YACxB,CAAC;YAED,4BAAU,GAAV,UAAW,CAAkB;gBACzB,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;YACnE,CAAC;YAED,6BAAW,GAAX,UAAY,CAAkB;gBAC1B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;YACpE,CAAC;YAED,wCAAsB,GAAtB,UAAuB,GAAgB;gBACnC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;YAC5E,CAAC;YAED,yCAAuB,GAAvB,UAAwB,GAAgB;gBACpC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;YAC5B,CAAC;YAED,sCAAoB,GAApB,UAAqB,CAAsC;gBACvD,gBAAK,CAAC,oBAAoB,YAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBACrC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACN,GAAG,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;gBAClC,CAAC;YACL,CAAC;YAzTM,kCAA0B,GAAG,kBAAkB,CAAC,QAAQ,CAAC,oBAAoB,EAAE,cAAM,OAAA,WAAK,EAAL,CAAK,EAAE,OAAO,EAAE,SAAS,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAU,CAAE,CAAC,2BAA2B,CAAC,IAAI,CAAC,EAA9C,CAA8C,CAAC,CAAC;YAC7K,iCAAyB,GAAG,mBAAU,CAAC,QAAQ,CAAC,yBAAyB,CAAC;YAyTrF,cAAC;QAAD,CA5TA,AA4TC,CA5T4B,mBAAU,CAAC,QAAQ,GA4T/C;QA5TY,gBAAO,UA4TnB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC/B,6BAAoB,CAAC,OAAO,EACxB,EAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAAC,EAC9C,EAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,kBAAkB,EAAC,EACzD,EAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,gBAAgB,EAAC,CAAC,CAAC;QAC7D,sBAAa,CAAC,OAAO,EACjB,EAAC,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,qBAAY,EAAC,CAAC,CAAC;IACpD,CAAC,EAzUY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAyUpB;AAAD,CAAC,EAzUM,KAAK,KAAL,KAAK,QAyUX;ACzUD,IAAO,KAAK,CAyFX;AAzFD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAyFpB;IAzFY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAO,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC;QAE1D;YAAkC,gCAAgB;YAAlD;gBAAkC,8BAAgB;gBAoB9C,gBAAW,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBACpC,gBAAW,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBAE5B,aAAQ,GAA0B,IAAI,CAAC;YA8CnD,CAAC;YApEG,0CAAmB,GAAnB;gBACI,MAAM,CAAC,IAAI,YAAY,EAAE,CAAC;YAC9B,CAAC;YAEc,2BAAc,GAA7B,UAA8B,CAAmB,EAAE,KAAyB,EAAE,KAAU;gBACpF,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;oBAC1B,MAAM,CAAC,IAAI,WAAK,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,SAAG,CAAC,KAAK,CAAC,CAAC,CAAC;gBACxD,EAAE,CAAC,CAAC,KAAK,YAAY,SAAG,CAAC;oBACrB,MAAM,CAAC,IAAI,WAAK,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAC/C,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAcS,wCAAiB,GAA3B,UAA4B,QAAiB,EAAE,QAAiB;gBAC5D,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACzB,EAAE,CAAC,CAAC,MAAM,YAAY,WAAK,CAAC,MAAM,CAAC,eAAe,CAAC;oBAC/C,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACrC,CAAC;YAED,sCAAe,GAAf,UAAgB,SAAuC,EAAE,SAAuC;gBAAhG,iBAaC;gBAZG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACzB,CAAC;gBACD,EAAE,CAAC,CAAC,SAAS,YAAY,WAAK,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC;oBACpD,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACrC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC;wBAC5B,SAAS,EAAE,UAAC,MAAM,EAAE,KAAK,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,CAAC,EAAlC,CAAkC;wBAChE,SAAS,EAAE,UAAC,MAAM,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAA3B,CAA2B;wBAClD,SAAS,EAAE,UAAC,MAAM,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAA3B,CAA2B;qBACrD,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;YAED,qCAAc,GAAd,UAAe,MAAoC,EAAE,KAAY;gBAC7D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACvC,CAAC;YAED,qCAAc,GAAd,UAAe,MAAoC;gBAC/C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACnC,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;gBACrC,EAAE,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC;YAED,qCAAc,GAAd,UAAe,MAAoC;gBAC/C,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;gBACrC,EAAE,CAAC,iBAAiB,EAAE,CAAC;gBACvB,EAAE,CAAC,UAAU,EAAE,CAAC;YACpB,CAAC;YAED,2BAAI,GAAJ;gBACI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YACvB,CAAC;YAED,4BAAK,GAAL;gBACI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACxB,CAAC;YAvDM,6BAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,YAAY,EAAE,IAAI,EAAE,UAAC,CAAe,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAjD,CAAiD,CAAC,CAAC;YAC5K,2BAAc,GAAG,kBAAkB,CAAC,YAAY,CAAC,QAAQ,EAAE,cAAM,OAAA,WAAK,CAAC,MAAM,CAAC,WAAW,EAAxB,CAAwB,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,CAAC,cAAc,CAAC,CAAC;YAC5J,4BAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,WAAK,CAAC,OAAO,CAAC,EAAvB,CAAuB,EAAE,YAAY,EAAE,WAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAsD5I,mBAAC;QAAD,CArEA,AAqEC,CArEiC,sBAAgB,GAqEjD;QArEY,qBAAY,eAqExB,CAAA;QAED,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAEpC,gBAAU,CAA2B,YAAY,CAAC,cAAc,EAAE,UAAC,GAAiB,EAAE,EAAE,EAAE,EAAE,EAAE,KAAoB;YAC9G,KAAK,CAAC,eAAe,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YAC9B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACN,GAAG,CAAC,YAAY,EAAE,CAAC;gBACnB,GAAG,CAAC,UAAU,EAAE,CAAC;YACrB,CAAC;YACD,GAAG,CAAC,iBAAiB,EAAE,CAAC;YACxB,GAAG,CAAC,iBAAiB,EAAE,CAAC;QAC5B,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,gBAAU,CAAkB,YAAY,CAAC,eAAe,EAAE,UAAC,GAAiB,EAAE,EAAE,EAAE,EAAE;YAChF,GAAG,CAAC,iBAAiB,EAAE,CAAC;YACxB,GAAG,CAAC,iBAAiB,EAAE,CAAC;QAC5B,CAAC,EAAE,KAAK,CAAC,CAAC;IACd,CAAC,EAzFY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAyFpB;AAAD,CAAC,EAzFM,KAAK,KAAL,KAAK,QAyFX;AC5FD,IAAO,KAAK,CAOX;AAPD,WAAO,KAAK,EAAC,CAAC;IACV;QAAA;YACI,YAAO,GAAY,KAAK,CAAC;YACzB,WAAM,GAAQ,IAAI,CAAC;YACnB,mBAAc,GAAQ,IAAI,CAAC;QAC/B,CAAC;QAAD,sBAAC;IAAD,CAJA,AAIC,IAAA;IAJY,qBAAe,kBAI3B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAC3C,CAAC,EAPM,KAAK,KAAL,KAAK,QAOX;ACLD,IAAO,KAAK,CAkMX;AAlMD,WAAO,KAAK;IAAC,IAAA,KAAK,CAkMjB;IAlMY,WAAA,KAAK,EAAC,CAAC;QAChB,WAAY,GAAG;YAEX,6BAAQ,CAAA;YAER,6BAAQ,CAAA;YAER,2BAAO,CAAA;YAEP,+BAAS,CAAA;YAET,+BAAS,CAAA;YAET,6BAAQ,CAAA;YAER,2BAAO,CAAA;YAEP,qCAAY,CAAA;YAEZ,iCAAU,CAAA;YAEV,+BAAS,CAAA;YAET,kCAAW,CAAA;YAEX,sCAAa,CAAA;YAEb,4BAAQ,CAAA;YAER,8BAAS,CAAA;YAET,8BAAS,CAAA;YAET,0BAAO,CAAA;YAEP,gCAAU,CAAA;YAEV,8BAAS,CAAA;YAET,kCAAW,CAAA;YAEX,kCAAW,CAAA;YAEX,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,wBAAM,CAAA;YAEN,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,0BAAO,CAAA;YAEP,4BAAQ,CAAA;YAER,4BAAQ,CAAA;YAER,4BAAQ,CAAA;YAER,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,oCAAY,CAAA;YAEZ,sCAAa,CAAA;YAEb,4BAAQ,CAAA;YAER,sCAAa,CAAA;YAEb,oCAAY,CAAA;YAEZ,kCAAW,CAAA;YAEX,qCAAa,CAAA;QACjB,CAAC,EAzKW,SAAG,KAAH,SAAG,QAyKd;QAzKD,IAAY,GAAG,GAAH,SAyKX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAEtC;YAAuC,qCAAe;YAAtD;gBAAuC,8BAAe;YACtD,CAAC;YAAD,wBAAC;QAAD,CADA,AACC,CADsC,qBAAe,GACrD;QADY,uBAAiB,oBAC7B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAGzC;YAAkC,gCAAiB;YAK/C,sBAAY,SAAuB,EAAE,OAAe,EAAE,GAAQ,EAAE,CAAU;gBACtE,iBAAO,CAAC;gBACR,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC3B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;gBAC/B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC;oBACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC;gBAC3B,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YAClB,CAAC;YACL,mBAAC;QAAD,CAdA,AAcC,CAdiC,iBAAiB,GAclD;QAdY,kBAAY,eAcxB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IACxC,CAAC,EAlMY,KAAK,GAAL,WAAK,KAAL,WAAK,QAkMjB;AAAD,CAAC,EAlMM,KAAK,KAAL,KAAK,QAkMX;AChMD,IAAO,KAAK,CA4hBX;AA5hBD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA4hBpB;IA5hBY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAI,GAAG,GAAG,WAAK,CAAC,GAAG,CAAC;QACpB,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB;YAAiC,+BAAO;YA+BpC,qBAAY,UAAgC;gBA/BhD,iBAwfC;gBAxdO,iBAAO,CAAC;gBAbJ,eAAU,GAAY,KAAK,CAAC;gBAC5B,cAAS,GAAY,KAAK,CAAC;gBAEnC,eAAU,GAAG,KAAK,CAAC;gBACnB,kBAAa,GAAG,KAAK,CAAC;gBAEtB,kBAAa,GAAG,IAAI,iBAAQ,CAAC,mBAAmB,EAAE,CAAC;gBAInD,eAAU,GAAG,eAAS,CAAC,MAAM,EAAE,CAAC;gBAI5B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;gBAC1C,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,KAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAA7B,CAA6B,EAAE,IAAI,CAAC,CAAC;gBAC3E,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,KAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAA3B,CAA2B,EAAE,IAAI,CAAC,CAAC;gBACvE,IAAI,CAAC,MAAM,GAAG,IAAI,UAAI,CAAC,KAAK,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;gBACzD,IAAI,CAAC,SAAS,EAAE,CAAC;YACrB,CAAC;YAEO,+BAAS,GAAjB;gBAAA,iBAWC;gBAVG,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;gBACtB,IAAI,MAAM,GAAG;oBACT,gBAAO,CAAC,kBAAkB;oBAC1B,gBAAO,CAAC,kBAAkB;oBAC1B,gBAAO,CAAC,gBAAgB;oBACxB,gBAAO,CAAC,mBAAmB;oBAC3B,gBAAO,CAAC,iBAAiB;oBACzB,gBAAO,CAAC,kBAAkB;iBAC7B,CAAC;gBACF,MAAM,CAAC,OAAO,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,KAAI,EAAE,KAAK,EAAE,UAAC,IAAI,EAAE,IAAI,IAAK,OAAA,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,EAA1C,CAA0C,EAAE,KAAI,CAAC,EAA1G,CAA0G,CAAC,CAAC;YACxI,CAAC;YAED,gCAAU,GAAV;gBACI,MAAM,CAAC,IAAI,iBAAQ,CAAC,WAAW,EAAE,CAAC;YACtC,CAAC;YAED,sBAAI,+BAAM;qBAAV;oBACI,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,sBAAgB,CAAC,cAAc,CAAC,CAAC;oBAC5D,EAAE,CAAC,CAAC,MAAM,KAAK,gBAAU,CAAC,OAAO,CAAC;wBAC9B,MAAM,CAAC,gBAAU,CAAC,KAAK,CAAC;oBAC5B,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;;;eAAA;YAEO,gDAA0B,GAAlC;gBACI,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAE7B,MAAM,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBAC5B,KAAK,yBAAgB,CAAC,SAAS;wBAC3B,KAAK,CAAC;oBAEV,KAAK,yBAAgB,CAAC,SAAS;wBAC3B,KAAK,CAAC,SAAS,EAAE,CAAC;wBAClB,KAAK,CAAC;oBAEV,KAAK,yBAAgB,CAAC,gBAAgB;wBAClC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;wBAChD,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;wBACtC,KAAK,CAAC;oBAEV,KAAK,yBAAgB,CAAC,UAAU;wBAC5B,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;wBAC9C,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;wBACtC,KAAK,CAAC;oBAEV,KAAK,yBAAgB,CAAC,gBAAgB;wBAClC,KAAK,CAAC,SAAS,EAAE,CAAC;wBAClB,KAAK,CAAC;oBAEV;wBACI,KAAK,CAAC;gBACd,CAAC;YACL,CAAC;YAED,qCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,aAAa,CAAC,UAAU,CAAmB,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,sBAAgB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3H,CAAC;YAED,iCAAW,GAAX,UAAY,CAAkB;gBAC1B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACnC,CAAC;YAED,gCAAU,GAAV,UAAW,CAAkB;gBACzB,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBAC9B,IAAI,CAAC,0BAA0B,EAAE,CAAC;YACtC,CAAC;YAED,2CAAqB,GAArB,UAAsB,CAA6B;gBAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;gBACrC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBAEvB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBACtE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACpC,CAAC;YAED,yCAAmB,GAAnB,UAAoB,CAA6B;gBAC7C,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBACf,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC/B,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3B,CAAC;YAED,iCAAW,GAAX,UAAY,CAAuB;gBAC/B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBACjB,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBACtE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YACxC,CAAC;YAED,iCAAW,GAAX,UAAY,CAAuB;gBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBAEvB,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;gBACtD,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;gBAChD,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACpC,CAAC;YAED,+BAAS,GAAT,UAAU,CAAuB;gBAC7B,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,IAAI,CAAC;oBAC3B,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAClC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAC5B,CAAC;YAED,iCAAW,GAAX,UAAY,CAAuB;gBAC/B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBACjB,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;gBACtD,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;gBAChD,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YACxC,CAAC;YAED,+BAAS,GAAT,UAAU,IAAwB;gBAC9B,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBACf,KAAK,GAAG,CAAC,KAAK,CAAC;oBACf,KAAK,GAAG,CAAC,IAAI,CAAC;oBACd,KAAK,GAAG,CAAC,GAAG;wBACR,MAAM,CAAC;gBACf,CAAC;gBAED,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACjC,IAAI,OAAO,GAAG,KAAK,CAAC;gBACpB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,KAAK,CAAC,KAAK,EAAE,CAAC;gBAEd,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBACf,KAAK,GAAG,CAAC,IAAI;wBACT,EAAE,CAAC,CAAC,UAAU,CAAC;4BACX,KAAK,CAAC;wBACV,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACjD,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,MAAM;wBACX,EAAE,CAAC,CAAC,UAAU,CAAC;4BACX,KAAK,CAAC;wBACV,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;4BAEvB,OAAO,GAAG,IAAI,CAAC;wBACnB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAClD,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,MAAM;wBACX,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;4BAEvB,OAAO,GAAG,IAAI,CAAC;wBACnB,CAAC;wBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;4BAE7B,OAAO,GAAG,IAAI,CAAC;wBACnB,CAAC;wBACD,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,QAAQ;wBACb,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAChD,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,MAAM;wBACX,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC9C,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,IAAI;wBACT,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5C,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,GAAG;wBACR,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC3C,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,IAAI;wBACT,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5C,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,KAAK;wBACV,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7C,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,IAAI;wBACT,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5C,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC,EAAE;wBACP,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC1C,KAAK,CAAC;oBACV;wBACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;4BACtB,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gCACf,KAAK,GAAG,CAAC,CAAC;oCAEN,OAAO,GAAG,IAAI,CAAC;oCACf,KAAK,CAAC,SAAS,EAAE,CAAC;oCAClB,KAAK,CAAC;gCACV,KAAK,GAAG,CAAC,CAAC;oCAEN,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC;oCACxD,OAAO,GAAG,IAAI,CAAC;oCACf,KAAK,CAAC;gCACV,KAAK,GAAG,CAAC,CAAC;oCAEN,EAAE,CAAC,CAAC,UAAU,CAAC;wCACX,KAAK,CAAC;oCACV,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC;oCACxD,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;oCAC/D,OAAO,GAAG,IAAI,CAAC;oCACf,KAAK,CAAC;gCACV,KAAK,GAAG,CAAC,CAAC;oCAEN,EAAE,CAAC,CAAC,UAAU,CAAC;wCACX,KAAK,CAAC;oCACV,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,UAAC,IAAI,IAAK,OAAA,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAjB,CAAiB,CAAC,CAAC;oCAC7D,OAAO,GAAG,IAAI,CAAC;oCACf,KAAK,CAAC;gCACV,KAAK,GAAG,CAAC,CAAC;oCAEN,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;wCACd,OAAO,GAAG,IAAI,CAAC;wCACf,KAAK,CAAC,IAAI,EAAE,CAAC;oCACjB,CAAC;oCACD,KAAK,CAAC;gCACV,KAAK,GAAG,CAAC,CAAC;oCAEN,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;wCACd,OAAO,GAAG,IAAI,CAAC;wCACf,KAAK,CAAC,IAAI,EAAE,CAAC;oCACjB,CAAC;oCACD,KAAK,CAAC;4BACd,CAAC;wBACL,CAAC;wBACD,KAAK,CAAC;gBACd,CAAC;gBAED,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACV,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBAC3B,CAAC;gBACD,KAAK,CAAC,GAAG,EAAE,CAAC;gBAEZ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC;oBAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YAED,mCAAa,GAAb,UAAc,IAAwB;gBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;oBACb,MAAM,CAAC;gBAEX,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;oBAC1C,MAAM,CAAC;gBAEX,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,KAAK,CAAC,KAAK,EAAE,CAAC;gBACd,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,IAAI,CAAC,CAAC,CAAC;wBAC9B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;wBACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACxB,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC1E,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACxB,CAAC;gBACD,KAAK,CAAC,GAAG,EAAE,CAAC;YAChB,CAAC;YAEO,uCAAiB,GAAzB,UAA0B,SAA6B;gBACnD,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,IAAI,SAAS,CAAC,GAAG,CAAC;oBACjC,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,KAAK,GAAG,CAAC,CAAC;gBACd,IAAI,MAAM,GAAG,CAAC,CAAC;gBAEf,EAAE,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC;oBACpB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC;oBACnC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACrC,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBACxB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;oBAC9C,MAAM,GAAG,MAAM,GAAG,KAAK,CAAC;gBAC5B,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACpB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;oBAC9C,MAAM,GAAG,MAAM,GAAG,KAAK,CAAC;gBAC5B,CAAC;gBAED,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAEO,oCAAc,GAAtB,UAAuB,SAA6B;gBAChD,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,IAAI,SAAS,CAAC,GAAG,CAAC;oBACjC,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,KAAK,GAAG,CAAC,CAAC;gBACd,IAAI,MAAM,GAAG,CAAC,CAAC;gBAEf,EAAE,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC;oBACpB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC;oBACnC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACrC,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBAExB,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC;oBACxD,KAAK,GAAG,MAAM,CAAC;gBACnB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC;oBACxD,KAAK,GAAG,MAAM,CAAC;gBACnB,CAAC;gBAED,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YAC3C,CAAC;YAEO,sCAAgB,GAAxB,UAAyB,SAA6B;gBAClD,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAE7B,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAEjD,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBAEpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAEO,oCAAc,GAAtB,UAAuB,SAA6B;gBAChD,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAE7B,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAE/C,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBAEpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAEO,kCAAY,GAApB,UAAqB,SAA6B;gBAC9C,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAE7B,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBACjB,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBAChD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;gBACpD,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBAEpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAEO,iCAAW,GAAnB,UAAoB,SAA6B;gBAC7C,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAE7B,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBACjB,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBAC9C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBAClD,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBAEpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAEO,kCAAY,GAApB,UAAqB,SAA6B;gBAC9C,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAE7B,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBACjB,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBACnD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,IAAI,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC;oBAC/C,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACtC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBACnD,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBAEpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAEO,mCAAa,GAArB,UAAsB,SAA6B;gBAC/C,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAE7B,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBACjB,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBACnD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,IAAI,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC;oBAC/C,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACtC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBACnD,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBAEpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAEO,kCAAY,GAApB,UAAqB,SAA6B;gBAC9C,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC/D,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBACpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAEO,gCAAU,GAAlB,UAAmB,SAA6B;gBAC5C,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC7D,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC7B,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBACjB,MAAM,GAAG,MAAM,CAAC;gBACpB,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACjD,CAAC;YAtfM,8BAAkB,GAAG,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,WAAW,CAAC,CAAC;YACnG,uCAA2B,GAAG,kBAAkB,CAAC,YAAY,CAAC,qBAAqB,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,WAAW,CAAC,CAAC;YACrH,uCAA2B,GAAG,kBAAkB,CAAC,YAAY,CAAC,qBAAqB,EAAE,cAAM,OAAA,WAAK,CAAC,KAAK,EAAX,CAAW,EAAE,WAAW,CAAC,CAAC;YACrH,mCAAuB,GAAG,kBAAkB,CAAC,YAAY,CAAC,iBAAiB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,oBAAoB,CAAC,CAAC;YAC7J,kCAAsB,GAAG,kBAAkB,CAAC,YAAY,CAAC,gBAAgB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,oBAAoB,CAAC,CAAC;YAC3J,kCAAsB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,CAAC,CAAC;YAClG,6BAAiB,GAAG,kBAAkB,CAAC,YAAY,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,oBAAoB,CAAC,CAAC;YACtJ,oCAAwB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,kBAAkB,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,yBAAgB,CAAC,EAA1B,CAA0B,EAAE,WAAW,EAAE,yBAAgB,CAAC,OAAO,CAAC,CAAC;YAgf/J,kBAAC;QAAD,CAxfA,AAwfC,CAxfgC,gBAAO,GAwfvC;QAxfY,oBAAW,cAwfvB,CAAA;QACD,KAAK,CAAC,YAAY,CAAC,WAAW,EAAE,KAAK,CAAC,aAAa,CAAC,CAAC;QAErD,IAAO,SAAS,CAuBf;QAvBD,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAc,WAAW,CAAC,kBAAkB,EAAE,UAAC,GAAgB,EAAE,EAAE,EAAE,EAAE;gBAC7E,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;YACH,gBAAU,CAAS,WAAW,CAAC,sBAAsB,EAAE,UAAC,GAAgB,EAAE,EAAE,EAAE,EAAE;gBAC5E,GAAG,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;gBACjC,GAAG,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;YACpC,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAS,WAAW,CAAC,uBAAuB,EAAE,UAAC,GAAgB,EAAE,EAAE,EAAE,EAAE;gBAC7E,GAAG,CAAC,MAAM,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;gBAClC,GAAG,CAAC,KAAK,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;YACrC,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAc,WAAW,CAAC,2BAA2B,EAAE,UAAC,GAAgB,EAAE,EAAE,EAAE,EAAE;gBACtF,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC;gBACjD,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAC5C,CAAC,CAAC,CAAC;YACH,gBAAU,CAAc,WAAW,CAAC,2BAA2B,EAAE,UAAC,GAAgB,EAAE,EAAE,EAAE,EAAE;gBACtF,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC;gBACjD,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAC5C,CAAC,CAAC,CAAC;YACH,gBAAU,CAAS,WAAW,CAAC,iBAAiB,EAAE,UAAC,GAAgB,EAAE,EAAE,EAAE,EAAE;gBACvE,GAAG,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC;YAC9B,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC,EAvBM,SAAS,KAAT,SAAS,QAuBf;QAED,8BAA8B,IAAsB,EAAE,KAAyB,EAAE,KAAU;YACvF,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;gBAC1B,MAAM,CAAC,KAAK,CAAC;YACjB,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC;QACtB,CAAC;IACL,CAAC,EA5hBY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA4hBpB;AAAD,CAAC,EA5hBM,KAAK,KAAL,KAAK,QA4hBX;AC9hBD,IAAO,KAAK,CAkDX;AAlDD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAkDpB;IAlDY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAiC,+BAAW;YAMxC;gBANJ,iBA4BC;gBArBO,kBAAM,UAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBACjC,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;gBAEnC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,KAAK,CAAC,kBAAkB,GAAG,UAAC,KAAK,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,sBAAsB,EAAE,KAAK,CAAC,EAA/D,CAA+D,CAAC;gBACtG,KAAK,CAAC,mBAAmB,GAAG,UAAC,KAAK,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,uBAAuB,EAAE,KAAK,CAAC,EAAhE,CAAgE,CAAC;gBACxG,KAAK,CAAC,QAAQ,GAAG,UAAC,KAAK,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,gBAAgB,EAAE,KAAK,CAAC,EAAzD,CAAyD,CAAC;gBACtF,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAQ,CAAC,yBAAyB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzE,CAAC;YAED,sBAAI,oCAAW;qBAAf;oBACI,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;oBACpC,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;oBAChC,OAAO,KAAK,GAAG,CAAC,EAAE,CAAC;wBACf,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;4BAAC,MAAM,IAAI,OAAO,CAAC;wBACjC,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI,OAAO,CAAC;oBACpC,CAAC;oBACD,MAAM,CAAC,MAAM,CAAC;gBAClB,CAAC;;;eAAA;YAzBM,gCAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,EAAE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;YACzH,4BAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,CAAC,CAAC;YA0BjG,kBAAC;QAAD,CA5BA,AA4BC,CA5BgC,oBAAW,GA4B3C;QA5BY,oBAAW,cA4BvB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACnC,6BAAoB,CAAC,WAAW,EAC5B,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAAE,EAChD,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,kBAAkB,EAAE,EAC3D,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC,CAAC;QAE/D,IAAO,SAAS,CAQf;QARD,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAS,WAAW,CAAC,oBAAoB,EAAE,UAAC,EAAe,EAAE,EAAE,EAAE,EAAE;gBACzE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;YACrC,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAS,WAAW,CAAC,gBAAgB,EAAE,UAAC,EAAe,EAAE,EAAE,EAAE,EAAE;gBACrE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBACtB,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;YACrC,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC,EARM,SAAS,KAAT,SAAS,QAQf;IACL,CAAC,EAlDY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAkDpB;AAAD,CAAC,EAlDM,KAAK,KAAL,KAAK,QAkDX;AClDD,IAAO,KAAK,CAgGX;AAhGD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAgGpB;IAhGY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAiC,+BAAoB;YAwBjD;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;YACvC,CAAC;YArBO,8CAAwB,GAAhC,UAAiC,IAAyC;gBACtE,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAED,sCAAgB,GAAhB,UAAiB,UAAkB,EAAE,UAAkB;gBACnD,gBAAK,CAAC,gBAAgB,YAAC,UAAU,EAAE,UAAU,CAAC,CAAC;gBAC/C,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5B,CAAC;YACD,sCAAgB,GAAhB,UAAiB,UAAkB,EAAE,UAAkB;gBACnD,gBAAK,CAAC,gBAAgB,YAAC,UAAU,EAAE,UAAU,CAAC,CAAC;gBAC/C,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5B,CAAC;YACD,oCAAc,GAAd,UAAe,QAAgB,EAAE,QAAgB;gBAC7C,gBAAK,CAAC,cAAc,YAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBACzC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5B,CAAC;YAOD,qCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBAExB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;gBAE1D,KAAK,GAAG,IAAI,CAAC,MAAM,GAAqB,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,sBAAgB,CAAC,CAAC;gBACpG,IAAI,CAAC,UAAU,GAAqB,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,EAAE,sBAAgB,CAAC,CAAC;gBAEpG,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;gBAEzD,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;YAED,gCAAU,GAAV,UAAW,QAAoC;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;oBACrB,QAAQ,CAAC,eAAe,CAAC,CAAC;gBAC9B,IAAI;oBACA,QAAQ,CAAC,aAAa,CAAC,CAAC;YAChC,CAAC;YAEO,yCAAmB,GAA3B,UAA4B,MAAM,EAAE,CAAC;gBACjC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5B,CAAC;YACO,sCAAgB,GAAxB;gBACI,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;gBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;gBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;gBAErB,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;gBAChC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;oBACX,MAAM,CAAC;gBAEX,IAAI,MAAM,GAAqB,sBAAgB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBACrE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;oBACR,MAAM,CAAC;gBAEX,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;gBAC9B,IAAI,UAAU,GAAG,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC;gBAC7D,IAAI,OAAO,GAAc,IAAI,CAAC;gBAC9B,EAAE,CAAC,CAAC,MAAM,YAAY,eAAM,CAAC;oBACzB,OAAO,GAAY,MAAO,CAAC,OAAO,CAAC;gBACvC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,YAAY,gBAAO,CAAC;oBAC/B,OAAO,GAAa,MAAO,CAAC,OAAO,CAAC;gBAExC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACV,UAAU,IAAI,OAAO,CAAC,IAAI,CAAC;oBAC3B,UAAU,IAAI,OAAO,CAAC,KAAK,CAAC;gBAChC,CAAC;gBAED,IAAI,QAAQ,GAAG,GAAG,CAAC;gBACnB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,GAAG,KAAK,GAAG,CAAC;oBACrC,QAAQ,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;gBACzC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC;gBAC7D,SAAS,CAAC,KAAK,GAAG,SAAS,GAAG,QAAQ,CAAC;YAC3C,CAAC;YAlFM,mCAAuB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,WAAW,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAc,CAAE,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAA/C,CAA+C,CAAC,CAAC;YAmFrL,kBAAC;QAAD,CAvFA,AAuFC,CAvFgC,mBAAU,CAAC,SAAS,GAuFpD;QAvFY,oBAAW,cAuFvB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACnC,6BAAoB,CAAC,WAAW,EAC5B,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,eAAe,EAAE,EACpD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,CAAC;QACxD,sBAAa,CAAC,WAAW,EACrB,EAAE,IAAI,EAAE,sBAAsB,EAAE,IAAI,EAAE,sBAAgB,EAAE,EACxD,EAAE,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,sBAAgB,EAAE,CAAC,CAAC;IAC9D,CAAC,EAhGY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAgGpB;AAAD,CAAC,EAhGM,KAAK,KAAL,KAAK,QAgGX;AChGD,IAAO,KAAK,CAkGX;AAlGD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAkGpB;IAlGY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAiC,+BAAuB;YAQpD;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;gBACnC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACvB,CAAC;YATD,wCAAkB,GAAlB,UAAmB,IAAyC;gBACxD,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;gBAChC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YAClC,CAAC;YAQD,wCAAkB,GAAlB,UAAmB,CAAsC;gBACrD,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC;oBACpB,IAAI,CAAC,sBAAsB,EAAE,CAAC;gBAClC,gBAAK,CAAC,kBAAkB,YAAC,CAAC,CAAC,CAAC;YAChC,CAAC;YACD,8BAAQ,GAAR;gBACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YAC1B,CAAC;YAED,4CAAsB,GAAtB;gBACI,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,EAAE,CAAC;gBACrC,IAAI,QAAQ,GAAG,mBAAmB,CAAC,SAAS,CAAC,CAAC;gBAC9C,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;oBACV,MAAM,CAAC;gBAGX,IAAI,OAAO,GAAgB,IAAI,CAAC;gBAChC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACZ,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;oBAC7C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACvC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACtB,EAAE,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC;4BACjB,QAAQ,CAAC;wBACb,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC;4BACnB,QAAQ,CAAC;wBACb,EAAE,CAAC,CAAC,QAAQ,KAAK,OAAO,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;4BAC9C,QAAQ,CAAC;wBACb,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;oBAE9B,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBAGJ,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC;oBAC5C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACvC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACtB,EAAE,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC;4BACjB,QAAQ,CAAC;wBACb,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC;4BACnB,QAAQ,CAAC;wBACb,EAAE,CAAC,CAAC,MAAM,KAAK,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC;4BAC7C,QAAQ,CAAC;wBACb,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;oBAC9B,CAAC;gBACL,CAAC;YACL,CAAC;YA1DM,6BAAiB,GAAuB,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAc,CAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAzC,CAAyC,CAAC,CAAC;YA2DtL,kBAAC;QAAD,CA5DA,AA4DC,CA5DgC,mBAAU,CAAC,YAAY,GA4DvD;QA5DY,oBAAW,cA4DvB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACnC,6BAAoB,CAAC,WAAW,EAC5B,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,SAAS,EAAE,EAC9C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,EAC7C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,eAAe,EAAE,EACnD,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,kBAAkB,EAAE,EAC3D,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,gBAAgB,EAAE,EACzD,EAAE,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;QAEtD,IAAI,mBAAmB,GAAoB,EAAE,CAAC;QAC9C,kBAAkB,SAAiB,EAAE,WAAwB;YAEzD,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;gBAAC,SAAS,GAAG,EAAE,CAAC;YAE/B,IAAI,IAAI,GAAkB,mBAAmB,CAAC,SAAS,CAAC,CAAC;YACzD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,mBAAmB,CAAC,SAAS,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;YAC/C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC3B,CAAC;QACD,oBAAoB,SAAiB,EAAE,WAAwB;YAE3D,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;gBAAC,SAAS,GAAG,EAAE,CAAC;YAE/B,IAAI,IAAI,GAAkB,mBAAmB,CAAC,SAAS,CAAC,CAAC;YACzD,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACP,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;oBACX,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC9B,CAAC;QACL,CAAC;IACL,CAAC,EAlGY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAkGpB;AAAD,CAAC,EAlGM,KAAK,KAAL,KAAK,QAkGX;AClGD,IAAO,KAAK,CAeX;AAfD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAepB;IAfY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAA;YACA,CAAC;YAAD,uBAAC;QAAD,CADA,AACC,IAAA;QADY,yBAAgB,mBAC5B,CAAA;QACD,KAAK,CAAC,YAAY,CAAC,gBAAgB,EAAE,KAAK,CAAC,aAAa,CAAC,CAAC;QAE1D;YAAiC,+BAAO;YAIpC;gBACI,iBAAO,CAAC;gBACR,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;YACvC,CAAC;YACL,kBAAC;QAAD,CARA,AAQC,CARgC,gBAAO,GAQvC;QARY,oBAAW,cAQvB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACvC,CAAC,EAfY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAepB;AAAD,CAAC,EAfM,KAAK,KAAL,KAAK,QAeX;ACdD,IAAO,KAAK,CA8EX;AA9ED,WAAO,KAAK;IAAC,IAAA,QAAQ,CA8EpB;IA9EY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAmC,iCAAgB;YAAnD;gBAAmC,8BAAgB;YAcnD,CAAC;YAHG,uCAAe,GAAf,UAAiB,KAAa;gBAC1B,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;YACpE,CAAC;YAXM,4BAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,mBAAU,EAAV,CAAU,EAAE,aAAa,EAAE,SAAS,EAAE,YAAM,CAAC,CAAC;YAC3G,+BAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,aAAa,EAAE,MAAM,CAAC,iBAAiB,EAAE,YAAM,CAAC,CAAC;YAC5H,+BAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,aAAa,EAAE,GAAG,EAAE,YAAM,CAAC,CAAC;YACvG,kCAAoB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,cAAc,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,aAAa,EAAE,GAAG,CAAC,CAAC;YASxH,oBAAC;QAAD,CAdA,AAcC,CAdkC,sBAAgB,GAclD;QAdY,sBAAa,gBAczB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAErC,IAAO,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;QACzD,8BAA+B,CAAM;YACjC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,aAAa,CAAC;gBACjC,MAAM,CAAgB,CAAC,CAAC;YAC5B,IAAI,CAAC,GAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;YAC7B,IAAI,EAAE,GAAG,IAAI,aAAa,EAAE,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC,CAAC,CAAC;gBAC7B,EAAE,CAAC,MAAM,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;gBACjD,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACZ,EAAE,CAAC,MAAM,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;gBACjD,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;YACD,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YACtB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACT,MAAM,IAAI,kBAAkB,CAAC,0BAA0B,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;YACxE,EAAE,CAAC,MAAM,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;YAChG,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QAED,SAAS,CAAC,qBAAqB,CAAC,aAAa,EAAE,oBAAoB,CAAC,CAAC;QAErE;YAA6C,2CAAmC;YAAhF;gBAA6C,8BAAmC;YAgBhF,CAAC;YAfG,iDAAe,GAAf,UAAiB,KAAoB,EAAE,KAAa;gBAChD,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,IAAI;iBACZ,CAAC,CAAC;YACP,CAAC;YAED,mDAAiB,GAAjB,UAAmB,KAAoB,EAAE,KAAa;gBAClD,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,KAAK;iBACb,CAAC,CAAC;YACP,CAAC;YACL,8BAAC;QAAD,CAhBA,AAgBC,CAhB4C,0BAAoB,GAgBhE;QAhBY,gCAAuB,0BAgBnC,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QAE/C,wCAAyC,CAAM;YAC3C,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,uBAAuB,CAAC;gBAC3C,MAAM,CAA0B,CAAC,CAAC;YACtC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACxB,IAAI,MAAM,GAAY,CAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACpC,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;gBACxB,IAAI,GAAG,GAAG,IAAI,uBAAuB,EAAE,CAAC;gBACxC,IAAI,EAAiB,CAAC;gBACtB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3B,EAAE,CAAC,CAAC,EAAE,GAAG,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBACrC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;gBACpB,CAAC;gBACD,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACD,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAED,SAAS,CAAC,qBAAqB,CAAC,uBAAuB,EAAE,8BAA8B,CAAC,CAAC;IAC7F,CAAC,EA9EY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA8EpB;AAAD,CAAC,EA9EM,KAAK,KAAL,KAAK,QA8EX;AC7ED,IAAO,KAAK,CA2PX;AA3PD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA2PpB;IA3PY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAO,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;QACzD;YAA4B,0BAAoB;YAU5C;gBACI,iBAAO,CAAC;gBAVJ,eAAU,GAAW,CAAC,CAAC;gBAW3B,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC;gBAC9B,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;YACvD,CAAC;YAYD,gCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,mBAAmB,GAAqB,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,sBAAgB,CAAC,CAAC;gBAC3G,IAAI,CAAC,wBAAwB,GAA4B,IAAI,CAAC,gBAAgB,CAAC,gDAAgD,EAAE,mBAAU,CAAC,YAAY,CAAC,CAAC;gBAC1J,IAAI,CAAC,wBAAwB,GAA4B,IAAI,CAAC,gBAAgB,CAAC,gDAAgD,EAAE,mBAAU,CAAC,YAAY,CAAC,CAAC;gBAC1J,IAAI,CAAC,gBAAgB,GAAqB,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,mBAAU,CAAC,KAAK,CAAC,CAAC;gBACrG,IAAI,CAAC,iBAAiB,GAAqB,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,sBAAgB,CAAC,CAAC;gBACvG,IAAI,CAAC,sBAAsB,GAA4B,IAAI,CAAC,gBAAgB,CAAC,8CAA8C,EAAE,mBAAU,CAAC,YAAY,CAAC,CAAC;gBACtJ,IAAI,CAAC,sBAAsB,GAA4B,IAAI,CAAC,gBAAgB,CAAC,8CAA8C,EAAE,mBAAU,CAAC,YAAY,CAAC,CAAC;gBACtJ,IAAI,CAAC,cAAc,GAAqB,IAAI,CAAC,gBAAgB,CAAC,eAAe,EAAE,mBAAU,CAAC,KAAK,CAAC,CAAC;gBAEjG,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;oBACrE,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBACrE,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,CAAC,CAAC;oBACxC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACzH,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,CAAC,CAAC;oBACxC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACzH,CAAC;gBAED,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;oBACnE,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBACnE,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,CAAC,CAAC;oBACtC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACvH,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,CAAC,CAAC;oBACtC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,MAAM,EAAE,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBACvH,CAAC;gBAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;YAED,mCAAkB,GAAlB,UAAmB,CAAsC;gBACrD,gBAAK,CAAC,kBAAkB,YAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAED,iCAAgB,GAAhB,UAAiB,MAAc,EAAE,MAAc;gBAC3C,gBAAK,CAAC,gBAAgB,YAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC;YACD,iCAAgB,GAAhB,UAAiB,MAAc,EAAE,MAAc;gBAC3C,gBAAK,CAAC,gBAAgB,YAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACvC,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC;YACD,+BAAc,GAAd,UAAe,QAAgB,EAAE,QAAgB;gBAC7C,gBAAK,CAAC,cAAc,YAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBACzC,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC;YAEO,mCAAkB,GAA1B,UAA2B,MAAM,EAAE,CAAuB;gBACtD,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC;YACO,sCAAqB,GAA7B;gBACI,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;gBAC/D,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC;oBACjC,IAAI,CAAC,mBAAmB,CAAC,UAAU,GAAG,YAAY,GAAG,gBAAU,CAAC,OAAO,GAAG,gBAAU,CAAC,SAAS,CAAC;gBACnG,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC;oBAC/B,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,CAAC,YAAY,GAAG,gBAAU,CAAC,OAAO,GAAG,gBAAU,CAAC,SAAS,CAAC;gBAClG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC;YACO,mCAAkB,GAA1B;gBACI,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;gBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;gBACvB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;gBAErB,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;gBAC/D,IAAI,IAAI,GAAG,YAAY,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBAC5E,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,aAAI,CAAC,CAAC;oBACxB,MAAM,CAAC;gBACX,IAAI,YAAY,GAAS,IAAI,CAAC;gBAE9B,IAAI,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBAC1C,IAAI,aAAsC,CAAC;gBAC3C,IAAI,aAAsC,CAAC;gBAC3C,IAAI,KAAuB,CAAC;gBAC5B,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;oBACf,IAAI,OAAO,GAAG,YAAY,CAAC,iBAAiB,CAAC;oBAC7C,aAAa,GAAG,IAAI,CAAC,wBAAwB,CAAC;oBAC9C,aAAa,GAAG,IAAI,CAAC,wBAAwB,CAAC;oBAC9C,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC;oBAE9B,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;wBACd,OAAO,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,KAAK,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,UAAU,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;wBACrG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,KAAK,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,UAAU,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;wBAExH,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC;4BACtB,aAAI,CAAC,SAAS,CAAC,aAAa,EAAE,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;wBACtD,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC;4BACtB,aAAI,CAAC,SAAS,CAAC,aAAa,EAAE,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC1D,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,OAAO,GAAG,YAAY,CAAC,cAAc,CAAC;oBAC1C,aAAa,GAAG,IAAI,CAAC,sBAAsB,CAAC;oBAC5C,aAAa,GAAG,IAAI,CAAC,sBAAsB,CAAC;oBAC5C,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC;oBAE5B,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;wBACjB,OAAO,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,MAAM,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,UAAU,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;wBACtG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,MAAM,GAAG,IAAI,mBAAU,CAAC,CAAC,EAAE,UAAU,GAAG,YAAY,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;wBAEtH,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC;4BACtB,aAAI,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;wBACnD,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,CAAC;4BACtB,aAAI,CAAC,MAAM,CAAC,aAAa,EAAE,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;oBACvD,CAAC;gBACL,CAAC;gBAED,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC;oBACZ,MAAM,CAAC;gBACX,IAAI,OAAO,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,aAAa,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;oBACzC,EAAE,CAAC,CAAC,YAAY,CAAC;wBACb,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;oBACxF,IAAI;wBACA,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC/F,CAAC;YAEL,CAAC;YAEO,oCAAmB,GAA3B,UAA4B,MAAM,EAAE,CAAkC;gBAClE,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC;YACjC,CAAC;YACO,kCAAiB,GAAzB,UAA0B,MAAM,EAAE,CAAgC;gBAC9D,IAAI,MAAM,GAAG,CAAC,CAAC;gBACf,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;gBAC/D,EAAE,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,CAAC,CAAC;oBAChD,MAAM,GAAG,CAAC,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBACzH,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC;oBACtD,MAAM,GAAG,CAAC,CAAC,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBACxH,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,mBAAmB,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;oBAC/D,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC/E,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC;wBACvB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;gBAC9B,CAAC;YACL,CAAC;YAED,6BAAY,GAAZ,UAAa,CAAuB;gBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;oBACxH,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACrH,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;YACL,CAAC;YACD,6BAAY,GAAZ,UAAa,CAAuB;gBAChC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;oBACxH,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACrH,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC;YACL,CAAC;YACD,sCAAqB,GAArB,UAAsB,CAA6B;gBAC/C,gBAAK,CAAC,qBAAqB,YAAC,CAAC,CAAC,CAAC;gBAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,YAAY,EAAE,CAAC;YACxB,CAAC;YACD,mCAAkB,GAAlB,UAAmB,CAAuB;gBACtC,gBAAK,CAAC,kBAAkB,YAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAED,0BAAS,GAAT,UAAU,CAAqB;gBAC3B,gBAAK,CAAC,SAAS,YAAC,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBACV,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBAChB,MAAM,CAAC;gBAEX,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACZ,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI,CAAC;oBACpB,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBAChF,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC;oBACrB,KAAK,WAAK,CAAC,GAAG,CAAC,EAAE;wBACb,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;wBAChF,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,IAAI;wBACf,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;wBAC1B,KAAK,CAAC;oBACV,KAAK,WAAK,CAAC,GAAG,CAAC,GAAG;wBACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;wBAC1B,KAAK,CAAC;gBACd,CAAC;YAEL,CAAC;YAED,2BAAU,GAAV,UAAW,CAAkB;gBACzB,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;YAC1D,CAAC;YACD,4BAAW,GAAX,UAAY,CAAkB;gBAC1B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;YAC3D,CAAC;YApOM,kCAA2B,GAAuB,kBAAkB,CAAC,YAAY,CAAC,qBAAqB,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,MAAM,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAS,CAAE,CAAC,kBAAkB,EAAE,EAAhC,CAAgC,CAAC,CAAC;YACtL,wBAAiB,GAAuB,kBAAkB,CAAC,oBAAoB,CAAC,WAAW,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,MAAM,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAS,CAAE,CAAC,iBAAiB,EAAE,EAA/B,CAA+B,CAAC,CAAC;YACzK,0BAAmB,GAAuB,kBAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,iBAAW,CAAC,EAArB,CAAqB,EAAE,MAAM,EAAE,iBAAW,CAAC,UAAU,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAS,CAAE,CAAC,qBAAqB,EAAE,EAAnC,CAAmC,CAAC,CAAC;YAmOnN,aAAC;QAAD,CAxOA,AAwOC,CAxO2B,mBAAU,CAAC,SAAS,GAwO/C;QAxOY,eAAM,SAwOlB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC9B,6BAAoB,CAAC,MAAM,EACvB,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7C,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAE,EAChD,EAAE,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,EAC/C,EAAE,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QACnD,sBAAa,CAAC,MAAM,EAChB,EAAE,IAAI,EAAE,oBAAoB,EAAE,IAAI,EAAE,sBAAgB,EAAE,EACtD,EAAE,IAAI,EAAE,iBAAiB,EAAE,IAAI,EAAE,mBAAU,CAAC,KAAK,EAAE,EACnD,EAAE,IAAI,EAAE,gDAAgD,EAAE,IAAI,EAAE,mBAAU,CAAC,YAAY,EAAE,EACzF,EAAE,IAAI,EAAE,gDAAgD,EAAE,IAAI,EAAE,mBAAU,CAAC,YAAY,EAAE,EACzF,EAAE,IAAI,EAAE,kBAAkB,EAAE,IAAI,EAAE,sBAAgB,EAAE,EACpD,EAAE,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,mBAAU,CAAC,KAAK,EAAE,EACjD,EAAE,IAAI,EAAE,8CAA8C,EAAE,IAAI,EAAE,mBAAU,CAAC,YAAY,EAAE,EACvF,EAAE,IAAI,EAAE,8CAA8C,EAAE,IAAI,EAAE,mBAAU,CAAC,YAAY,EAAE,CAAC,CAAC;IACjG,CAAC,EA3PY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA2PpB;AAAD,CAAC,EA3PM,KAAK,KAAL,KAAK,QA2PX;AC7PD,IAAO,KAAK,CAiBX;AAjBD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAiBpB;IAjBY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAAgC,8BAAK;YAArC;gBAAgC,8BAAK;YAOrC,CAAC;YANG,wCAAmB,GAAnB;gBACI,MAAM,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,iBAAiB,EAAE,CAAC;YAC/D,CAAC;YAEM,8BAAmB,GAAuB,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,iBAAW,CAAC,EAArB,CAAqB,EAAE,UAAU,EAAE,iBAAW,CAAC,QAAQ,CAAC,CAAC;YAE/J,iBAAC;QAAD,CAPA,AAOC,CAP+B,cAAK,GAOpC;QAPY,mBAAU,aAOtB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAElC,IAAO,SAAS,CAKf;QALD,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAsB,UAAU,CAAC,mBAAmB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE;gBACxE,GAAG,CAAC,iBAAiB,EAAE,CAAC;gBACxB,GAAG,CAAC,iBAAiB,EAAE,CAAC;YAC5B,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC,EALM,SAAS,KAAT,SAAS,QAKf;IACL,CAAC,EAjBY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAiBpB;AAAD,CAAC,EAjBM,KAAK,KAAL,KAAK,QAiBX;AChBD,IAAO,KAAK,CA8JX;AA9JD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA8JpB;IA9JY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAO,gBAAgB,GAAG,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAAC;QACtE;YAAmC,iCAAM;YASrC,uBAAa,IAAe;gBACxB,kBAAM,IAAI,CAAC,CAAC;gBANR,eAAU,GAAG,KAAK,CAAC;gBACnB,iBAAY,GAAG,KAAK,CAAC;gBACrB,oBAAe,GAAG,KAAK,CAAC;gBACxB,aAAQ,GAAG,IAAI,eAAS,CAAC,GAAG,EAAE,CAAC;YAIvC,CAAC;YAED,8CAAsB,GAAtB;gBACI,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACxB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3B,EAAE,CAAC,CAAC,OAAO,CAAC;oBACR,MAAM,CAAgC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAC1E,CAAC;YAED,mCAAW,GAAX,UAAa,IAAyC;gBAClD,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;oBACrB,MAAM,CAAC;gBAEX,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBACnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;oBACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBACzB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;oBACnC,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC3B,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;oBAC3C,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC9B,CAAC;YACL,CAAC;YAED,sCAAc,GAAd,UAAgB,MAAwB,EAAE,KAAa,EAAE,KAAc;gBACnE,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;gBACxB,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,eAAS,CAAC,cAAc,CAAC,uBAAuB,CAAC,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAE5E,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;gBAC3D,IAAI;oBACA,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;gBAEpD,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,aAAO,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC9C,IAAI;oBACA,eAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAE5B,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBAClB,MAAM,CAAC;gBAEX,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC3B,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,OAAO,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;oBACpD,IAAI,IAAI,EAAE,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;gBACxC,CAAC;gBACD,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBACnD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAE7B,OAAO,CAAC,qBAAqB,EAAE,CAAC;YACpC,CAAC;YAED,qCAAa,GAAb,UAAc,GAAS;gBACnB,MAAM,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;oBACf,KAAK,MAAM;wBACP,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAC5C,KAAK,CAAC;oBACV,KAAK,MAAM;wBACP,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;wBAC3C,KAAK,CAAC;gBACd,CAAC;YACL,CAAC;YACL,oBAAC;QAAD,CA9EA,AA8EC,CA9EkC,YAAM,GA8ExC;QA9EY,sBAAa,gBA8EzB,CAAA;QAED;YAA+B,6BAAgB;YA0C3C;gBA1CJ,iBA+DC;gBApBO,iBAAO,CAAC;gBAER,IAAI,OAAO,GAAG,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACzD,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACvB,aAAO,CAAC,OAAO,EAAE,IAAI,EAAE,UAAC,MAAO,IAAK,OAAA,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,EAAnE,CAAmE,CAAC,CAAC;gBAEzG,gBAAU,CAAc,SAAS,CAAC,kBAAkB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,UAAU,EAAE,EAAhB,CAAgB,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC3G,gBAAU,CAAY,SAAS,CAAC,eAAe,EAAE,UAAC,GAAqB,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,qBAAqB,EAAE,EAA3B,CAA2B,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACpI,gBAAU,CAA+B,SAAS,CAAC,4BAA4B,EAAE,UAAC,GAAqB,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,qBAAqB,EAAE,EAA3B,CAA2B,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACpK,gBAAU,CAAS,SAAS,CAAC,kBAAkB,EAAE,UAAC,GAAqB,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,qBAAqB,EAAE,EAA3B,CAA2B,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACpI,gBAAU,CAAwB,SAAS,CAAC,qBAAqB,EAAE,UAAC,GAAqB,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,qBAAqB,EAAE,EAA3B,CAA2B,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACtJ,gBAAU,CAAuB,SAAS,CAAC,oBAAoB,EAAE,UAAC,GAAqB,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,qBAAqB,EAAE,EAA3B,CAA2B,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACpJ,gBAAU,CAAuB,SAAS,CAAC,oBAAoB,EAAE,UAAC,GAAqB,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,qBAAqB,EAAE,EAA3B,CAA2B,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACxJ,CAAC;YArDD,8BAAU,GAAV;gBACI,MAAM,CAAC,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;YACnC,CAAC;YAED,uCAAmB,GAAnB;gBACI,MAAM,CAAC,IAAI,gBAAgB,EAAE,CAAC;YAClC,CAAC;YAiDD,iCAAa,GAAb,UAAe,KAAyB;gBACpC,EAAE,CAAC,CAAC,uBAAuB,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC5C,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,gBAAK,CAAC,aAAa,YAAC,KAAK,CAAC,CAAC;YACtC,CAAC;YAnDM,yBAAe,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,EAAE,cAAM,OAAA,SAAS,EAAT,CAAS,EAAE,SAAS,CAAC,CAAC;YACzF,4BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAC7E,0BAAgB,GAAG,sBAAgB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YACzE,6BAAmB,GAAG,sBAAgB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAC/E,2BAAiB,GAAG,sBAAgB,CAAC,iBAAiB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAC3E,4BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAC7E,4BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YAC7E,iCAAuB,GAAG,sBAAgB,CAAC,uBAAuB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YACvF,sBAAY,GAAG,kBAAkB,CAAC,QAAQ,CAAC,MAAM,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,EAAE,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAY,CAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,EAAzC,CAAyC,CAAC,CAAC;YACxI,yBAAe,GAAG,kBAAkB,CAAC,iBAAiB,CAA6B,SAAS,EAAE,cAAM,OAAA,eAAS,CAAC,gBAAgB,EAA1B,CAA0B,EAAE,SAAS,CAAC,CAAC;YAC3I,sCAA4B,GAAG,kBAAkB,CAAC,YAAY,CAAC,sBAAsB,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,0BAAoB,CAAC,EAA9B,CAA8B,EAAE,SAAS,EAAE,0BAAoB,CAAC,SAAS,CAAC,CAAC;YACxK,4BAAkB,GAAG,kBAAkB,CAAC,YAAY,CAAC,YAAY,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;YACjG,+BAAqB,GAAG,kBAAkB,CAAC,YAAY,CAAC,eAAe,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,mBAAa,CAAC,EAAvB,CAAuB,EAAE,SAAS,EAAE,mBAAa,CAAC,IAAI,CAAC,CAAC;YACvI,8BAAoB,GAAG,kBAAkB,CAAC,YAAY,CAAC,cAAc,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,qBAAY,CAAC,EAAtB,CAAsB,EAAE,SAAS,EAAE,qBAAY,CAAC,IAAI,CAAC,CAAC;YACnI,8BAAoB,GAAG,kBAAkB,CAAC,YAAY,CAAC,cAAc,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,qBAAY,CAAC,EAAtB,CAAsB,EAAE,SAAS,EAAE,qBAAY,CAAC,MAAM,CAAC,CAAC;YAsChJ,gBAAC;QAAD,CA/DA,AA+DC,CA/D8B,sBAAgB,GA+D9C;QA/DY,kBAAS,YA+DrB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACjC,YAAM,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,eAAe,CAAC,CAAC;QACrD,YAAM,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,YAAY,CAAC,CAAC;QAEtD,IAAI,uBAAuB,GAAG;YAC1B,SAAS,CAAC,kBAAkB;YAC5B,SAAS,CAAC,gBAAgB;YAC1B,SAAS,CAAC,mBAAmB;YAC7B,SAAS,CAAC,iBAAiB;YAC3B,SAAS,CAAC,kBAAkB;YAC5B,SAAS,CAAC,kBAAkB;SAC/B,CAAC;IACN,CAAC,EA9JY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA8JpB;AAAD,CAAC,EA9JM,KAAK,KAAL,KAAK,QA8JX;AC/JD,IAAO,KAAK,CA2HX;AA3HD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA2HpB;IA3HY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA6B,2BAAW;YAkBpC;gBAlBJ,iBAkFC;gBA/DO,kBAAM,UAAI,CAAC,eAAe,CAAC,IAAI,GAAG,UAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBAHtE,gBAAW,GAAG,IAAI,iBAAW,EAAmB,CAAC;gBAI7C,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;gBAE/B,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;gBACxB,KAAK,CAAC,kBAAkB,GAAG,UAAC,KAAK,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,sBAAsB,EAAE,KAAK,CAAC,EAA3D,CAA2D,CAAC;gBAClG,KAAK,CAAC,mBAAmB,GAAG,UAAC,KAAK,IAAK,OAAA,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,uBAAuB,EAAE,KAAK,CAAC,EAA5D,CAA4D,CAAC;gBACpG,KAAK,CAAC,QAAQ,GAAG,UAAC,KAAK;oBACnB,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;oBAClD,IAAI,IAAI,GAAG,IAAI,qBAAe,EAAE,CAAC;oBACjC,IAAI,CAAC,MAAM,GAAG,KAAI,CAAC;oBACnB,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAI,EAAE,IAAI,CAAC,CAAC;gBACvC,CAAC,CAAC;gBACF,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAQ,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrE,CAAC;YAED,iCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,YAAY,KAAK,qBAAY,CAAC,IAAI,CAAC,GAAG,4BAAmB,CAAC,QAAQ,GAAG,IAAI,CAAC,6BAA6B,CAAC;gBACxH,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;gBAC/C,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YAC9E,CAAC;YAED,sBAAI,gCAAW;qBAAf;oBACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;gBACrB,CAAC;;;eAAA;YAED,8BAAY,GAAZ,UAAc,CAAuB;gBACjC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAED,8BAAY,GAAZ,UAAc,CAAuB;gBACjC,gBAAK,CAAC,YAAY,YAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAED,4BAAU,GAAV,UAAY,CAAkB;gBAC1B,gBAAK,CAAC,UAAU,YAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAED,6BAAW,GAAX,UAAa,CAAkB;gBAC3B,gBAAK,CAAC,WAAW,YAAC,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAED,iCAAe,GAAf,UAAiB,QAAoC;gBACjD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBAChB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBAChB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;oBACjB,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;gBACjC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC9B,CAAC;YAED,2BAAS,GAAT;gBACI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;YAC5B,CAAC;YAED,wBAAM,GAAN,UAAQ,KAAa,EAAE,MAAc;gBACjC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YACtC,CAAC;YAhFM,6BAAqB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,eAAe,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;YACpG,0BAAkB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;YAC9F,oBAAY,GAAG,kBAAkB,CAAC,QAAQ,CAAC,MAAM,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,OAAO,CAAC,CAAC;YAC1E,6BAAqB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,eAAe,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,mBAAa,CAAC,EAAvB,CAAuB,EAAE,OAAO,EAAE,mBAAa,CAAC,IAAI,CAAC,CAAC;YACjI,4BAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,qBAAY,CAAC,EAAtB,CAAsB,EAAE,OAAO,EAAE,qBAAY,CAAC,MAAM,CAAC,CAAC;YAC/H,6CAAqC,GAAG,kBAAkB,CAAC,QAAQ,CAAC,+BAA+B,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,4BAAmB,CAAC,EAA7B,CAA6B,EAAE,OAAO,EAAE,4BAAmB,CAAC,MAAM,CAAC,CAAC;YAC/K,2CAAmC,GAAG,kBAAkB,CAAC,QAAQ,CAAC,6BAA6B,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,4BAAmB,CAAC,EAA7B,CAA6B,EAAE,OAAO,EAAE,4BAAmB,CAAC,MAAM,CAAC,CAAC;YA2EtL,cAAC;QAAD,CAlFA,AAkFC,CAlF4B,oBAAW,GAkFvC;QAlFY,gBAAO,UAkFnB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC/B,6BAAoB,CAAC,OAAO,EACxB,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAC,EAC3C,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,WAAW,EAAC,EAC9C,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAC,EAC7C,EAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAC,EAC7C,EAAC,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAC,EAC7C,EAAC,SAAS,EAAE,aAAa,EAAE,IAAI,EAAE,SAAS,EAAC,EAC3C,EAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,OAAO,EAAC,EAC9C,EAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,kBAAkB,EAAC,EACzD,EAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,gBAAgB,EAAC,CAAC,CAAC;QAC7D,sBAAa,CAAC,OAAO,EACjB,EAAC,IAAI,EAAE,gBAAgB,EAAE,IAAI,EAAE,sBAAgB,EAAC,CAAC,CAAC;QAEtD,IAAO,SAAS,CAwBf;QAxBD,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAU,OAAO,CAAC,qBAAqB,EAAE,UAAC,EAAW,EAAE,EAAE,EAAE,EAAE;gBACnE,EAAE,CAAC,MAAM,CAAC,aAAa,GAAG,EAAE,KAAK,IAAI,CAAC;YAC1C,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAU,OAAO,CAAC,kBAAkB,EAAE,UAAC,EAAW,EAAE,EAAE,EAAE,EAAE;gBAChE,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC;YACxC,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAgB,OAAO,CAAC,qBAAqB,EAAE,UAAC,EAAW,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,EAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAAE,CAAC,EAA7B,CAA6B,EAAE,KAAK,CAAC,CAAC;YACxH,gBAAU,CAAe,OAAO,CAAC,oBAAoB,EAAE,UAAC,EAAW,EAAE,EAAE,EAAE,EAAE;gBACvE,IAAI,GAAG,GAAG,CAAC,EAAE,KAAK,qBAAY,CAAC,IAAI,CAAC,GAAG,4BAAmB,CAAC,QAAQ,GAAG,EAAE,CAAC,6BAA6B,CAAC;gBACvG,EAAE,CAAC,aAAa,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;gBAC7C,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;YACjC,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAsB,OAAO,CAAC,qCAAqC,EAAE,UAAC,EAAW,EAAE,EAAE,EAAE,EAAE;gBAC/F,IAAI,GAAG,GAAG,CAAC,EAAE,CAAC,YAAY,KAAK,qBAAY,CAAC,IAAI,CAAC,GAAG,4BAAmB,CAAC,QAAQ,GAAG,EAAE,CAAC,6BAA6B,CAAC;gBACpH,EAAE,CAAC,aAAa,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;YACjD,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAsB,OAAO,CAAC,mCAAmC,EAAE,UAAC,EAAW,EAAE,EAAE,EAAE,EAAE;gBAC7F,EAAE,CAAC,aAAa,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;YAC9C,CAAC,EAAE,KAAK,CAAC,CAAC;YACV,gBAAU,CAAS,OAAO,CAAC,YAAY,EAAE,UAAC,EAAW,EAAE,EAAE,EAAE,EAAE;gBACzD,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBACtB,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;YACrC,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC,EAxBM,SAAS,KAAT,SAAS,QAwBf;IACL,CAAC,EA3HY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA2HpB;AAAD,CAAC,EA3HM,KAAK,KAAL,KAAK,QA2HX;AC3HD,IAAO,KAAK,CAmMX;AAnMD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAmMpB;IAnMY,WAAA,QAAQ,EAAC,CAAC;QACnB;YAA6B,2BAAc;YA8BvC;gBACI,iBAAO,CAAC;gBAnBJ,mBAAc,GAAqB,IAAI,CAAC;gBACxC,6BAAwB,GAAuC,IAAI,CAAC;gBAS5E,sBAAiB,GAAkB,IAAI,CAAC;gBACxC,4BAAuB,GAAc,IAAI,CAAC;gBAE1C,WAAM,GAAG,IAAI,iBAAW,EAAmB,CAAC;gBAC5C,WAAM,GAAG,IAAI,iBAAW,EAAmB,CAAC;gBAEpC,iBAAY,GAAqB,IAAI,CAAC;gBAI1C,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;YACnC,CAAC;YAnBD,sBAAI,kCAAa;qBAAjB,cAAwC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;qBACrE,UAAkB,KAAuB;oBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC;wBAC9B,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC;oBAC3C,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC;wBACpB,IAAI,CAAC,wBAAwB,GAAG,sBAAgB,CAAC,mBAAmB,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,sBAAgB,CAAC,mBAAmB,EAAE,IAAI,CAAC,iCAAiC,EAAE,IAAI,CAAC,CAAC;gBAC5M,CAAC;;;eAPoE;YAqBrE,iCAAe,GAAf;gBACI,gBAAK,CAAC,eAAe,WAAE,CAAC;gBACxB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAClC,CAAC;YAEO,2CAAyB,GAAjC,UAAkC,IAAwC;gBACtE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC;oBAChC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAC/C,CAAC;YACO,yCAAuB,GAA/B,UAAgC,IAAwC;gBACpE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC;oBAChC,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC/C,CAAC;YACO,iCAAe,GAAvB,UAAwB,IAAwC;gBAC5D,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAChB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;wBACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBAC7B,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;gBACtE,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,KAAK,CAAC;gBACrC,CAAC;gBACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YACO,iCAAe,GAAvB,UAAwB,gBAAwB,EAAE,cAAsB;gBACpE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;oBACnC,MAAM,CAAC;gBACX,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC;YAC5D,CAAC;YACO,iCAAe,GAAvB,UAAwB,MAAW,EAAE,CAAuB;gBACxD,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;oBAClB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YAC1E,CAAC;YACO,mDAAiC,GAAzC,UAA0C,MAAW,EAAE,IAAyC;gBAC5F,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,aAAa,CAAC;oBACxC,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YACvE,CAAC;YAEO,mCAAiB,GAAzB;gBACI,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,mEAAmE,CAAC,CAAC;gBAExG,IAAI,EAAE,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,mBAAU,CAAC,KAAK,EAAE,CAAC;gBACpD,EAAE,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;gBAE7E,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBACvC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBACvC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBAEvB,EAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBACnD,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC;gBAEhB,EAAE,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAClC,CAAC;YACO,+BAAa,GAArB,UAAsB,MAAW,EAAE,CAAuB;gBACtD,IAAI,IAAI,GAAG,IAAI,qBAAe,EAAE,CAAC;gBACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC9B,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;YACtD,CAAC;YACO,+BAAa,GAArB,UAAsB,MAAW,EAAE,CAAuB;gBACtD,IAAI,IAAI,GAAG,IAAI,qBAAe,EAAE,CAAC;gBACjC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC9B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;YACvD,CAAC;YACO,kCAAgB,GAAxB,UAAyB,gBAAwB,EAAE,cAAsB;gBACrE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;oBACb,MAAM,CAAC;gBACX,IAAI,IAAI,GAAqB,iBAAW,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC;gBAEX,IAAI,IAAI,GAAG,IAAI,CAAC,iBAAiB,IAAI,IAAI,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC;gBACpF,IAAI,MAAM,GAAqB,CAAC,IAAI,CAAC,uBAAuB,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC;gBACtF,IAAI,YAAY,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;gBAEtC,IAAI,KAAK,GAAU,uBAAc,CAAC,aAAa,CAAC;gBAChD,EAAE,CAAC,CAAC,IAAI,KAAK,sBAAa,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC/B,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;oBACpB,IAAI,CAAC;wBACD,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;4BACjB,YAAY,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;4BAC/E,YAAY,GAAG,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;4BAC5E,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC;4BACzB,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC;wBAC7B,CAAC;oBACL,CAAE;oBAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBACX,OAAO,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC;wBACvD,MAAM,CAAC;oBACX,CAAC;gBACL,CAAC;gBAKD,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACX,KAAK,sBAAa,CAAC,GAAG;wBAClB,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;wBAC7C,KAAK,CAAC;oBACV,KAAK,sBAAa,CAAC,MAAM;wBACrB,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC;wBAC/C,KAAK,CAAC;oBACV,KAAK,sBAAa,CAAC,IAAI;wBACnB,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;wBAC5C,KAAK,CAAC;oBACV,KAAK,sBAAa,CAAC,KAAK;wBACpB,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,KAAK,CAAC;wBAC9C,KAAK,CAAC;oBACV,KAAK,sBAAa,CAAC,KAAK;wBACpB,KAAK,CAAC,CAAC,IAAI,IAAI,gBAAO,EAAE,CAAC,QAAQ,CAAC;wBAClC,KAAK,CAAC;oBACV;wBACI,MAAM,IAAI,qBAAqB,CAAC,iBAAiB,GAAG,IAAI,GAAG,qBAAqB,CAAC,CAAC;gBAC1F,CAAC;gBAGD,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;gBACjC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;oBAC3C,EAAE,CAAC,CAAC,IAAI,KAAK,sBAAa,CAAC,KAAK,CAAC;wBAC7B,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;oBAChD,IAAI;wBACA,KAAK,CAAC,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC/C,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,IAAI,KAAK,sBAAa,CAAC,IAAI,CAAC;wBAC5B,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,KAAK,CAAC;oBAClD,IAAI;wBACA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;gBACpB,CAAC;gBAGD,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;gBACnC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;oBAC7C,EAAE,CAAC,CAAC,IAAI,KAAK,sBAAa,CAAC,MAAM,CAAC;wBAC9B,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;oBACjD,IAAI;wBACA,KAAK,CAAC,CAAC,GAAG,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;gBACjD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACrB,EAAE,CAAC,CAAC,IAAI,KAAK,sBAAa,CAAC,GAAG,CAAC;wBAC3B,KAAK,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC;oBACnD,IAAI;wBACA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;gBACpB,CAAC;gBAED,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,KAAK,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,YAAY,CAAC,gBAAgB,GAAG,KAAK,CAAC,CAAC,CAAC;YACjD,CAAC;YAED,4BAAU,GAAV,UAAW,QAAoC;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;oBACZ,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACrB,IAAI;oBACA,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC3B,CAAC;YA3LM,gCAAwB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,kBAAkB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,OAAO,EAAE,CAAC,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAU,CAAE,CAAC,yBAAyB,CAAC,IAAI,CAAC,EAA5C,CAA4C,CAAC,CAAC;YAChK,8BAAsB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,OAAO,EAAE,CAAC,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAU,CAAE,CAAC,uBAAuB,CAAC,IAAI,CAAC,EAA1C,CAA0C,CAAC,CAAC;YAC1J,sBAAc,GAAG,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,OAAO,EAAE,KAAK,EAAE,UAAC,CAAC,EAAE,IAAI,IAAK,OAAU,CAAE,CAAC,eAAe,CAAC,IAAI,CAAC,EAAlC,CAAkC,CAAC,CAAC;YACvI,yBAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,sBAAa,CAAC,EAAvB,CAAuB,EAAE,OAAO,EAAE,sBAAa,CAAC,KAAK,CAAC,CAAC;YAC1H,+BAAuB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAM,OAAA,eAAS,EAAT,CAAS,EAAE,OAAO,CAAC,CAAC;YAwL9G,cAAC;QAAD,CA7LA,AA6LC,CA7L4B,uBAAc,GA6L1C;QA7LY,gBAAO,UA6LnB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC/B,6BAAoB,CAAC,OAAO,EACxB,EAAE,SAAS,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC3C,EAAE,SAAS,EAAE,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;IACnD,CAAC,EAnMY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAmMpB;AAAD,CAAC,EAnMM,KAAK,KAAL,KAAK,QAmMX;ACrMD;IAAoB,yBAAa;IAAjC;QAAoB,8BAAa;IAUjC,CAAC;IATG,qBAAK,GAAL;QACI,MAAM,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;IACrC,CAAC;IAEM,UAAI,GAAX,UAAa,KAAY,EAAE,GAAU,EAAE,CAAS;QAC5C,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACxC,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,CAAC;IACL,YAAC;AAAD,CAVA,AAUC,CAVmB,OAAO,CAAC,KAAK,GAUhC;AACD,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;AAEtC,SAAS,CAAC,qBAAqB,CAAC,KAAK,EAAE,UAAC,GAAQ;IAC5C,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;QACL,MAAM,CAAC,IAAI,KAAK,EAAE,CAAC;IACvB,EAAE,CAAC,CAAC,GAAG,YAAY,KAAK,CAAC;QACrB,MAAM,CAAQ,GAAG,CAAC;IACtB,EAAE,CAAC,CAAC,GAAG,YAAY,OAAO,CAAC,KAAK,CAAC;QAC7B,MAAM,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IACnC,IAAI,MAAM,GAAG,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IAClD,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9B,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,CAAC;IACD,MAAM,IAAI,SAAS,CAAC,4BAA4B,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAClE,CAAC,CAAC,CAAC;ACxBH,IAAO,KAAK,CAoPX;AApPD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAoPpB;IApPY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAI,uBAAuB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,EAAE,cAAM,OAAA,gBAAO,EAAP,CAAO,EAAE,eAAS,EAAE,IAAI,CAAC,CAAC;QAE7G,IAAI,gBAAgB,GAAG,GAAG,CAAC;QAC3B,IAAI,gBAAgB,GAAG,GAAG,CAAC;QAC3B,IAAI,YAAY,GAAG,IAAI,CAAC;QAExB,wBAAwB,IAAsB,EAAE,IAAwC;YACpF,IAAI,KAAK,GAAc,IAAI,CAAC;YAC5B,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAE5B,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACd,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAEnC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC;YAEX,KAAK,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACtC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC;QACD;YAAA;YAgBA,CAAC;YAdU,yBAAU,GAAjB,UAAkB,IAAsB,IAAa,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACrG,yBAAU,GAAjB,UAAkB,IAAsB,EAAE,KAAc,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAG5G,2BAAY,GAAnB,UAAoB,IAAsB,IAAmB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YAC/G,2BAAY,GAAnB,UAAoB,IAAsB,EAAE,KAAoB,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAGtH,iCAAkB,GAAzB,UAA0B,IAAsB,IAAe,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC;YACvH,iCAAkB,GAAzB,UAA0B,IAAsB,EAAE,KAAgB,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAErI,sBAAW,+BAAa;qBAAxB;oBACI,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC;gBAC/B,CAAC;;;eAAA;YAdM,8BAAe,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,SAAS,EAAE,cAAM,OAAA,sBAAgB,EAAhB,CAAgB,EAAE,cAAc,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;YAIpI,gCAAiB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,WAAW,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,sBAAa,CAAC,EAAvB,CAAuB,EAAE,cAAc,CAAC,CAAC;YAIpH,sCAAuB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,cAAM,OAAA,eAAS,EAAT,CAAS,EAAE,cAAc,CAAC,CAAC;YAO7H,qBAAC;QAAD,CAhBA,AAgBC,IAAA;QAhBY,uBAAc,iBAgB1B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAGtC;YAAA;gBACI,kBAAa,GAAU,IAAI,KAAK,EAAE,CAAC;gBAC3B,gBAAW,GAAqB,IAAI,CAAC;gBACrC,oBAAe,GAAY,IAAI,CAAC;gBAChC,qBAAgB,GAAQ,IAAI,CAAC;gBAE7B,gBAAW,GAAW,CAAC,CAAC;gBACxB,kBAAa,GAAW,IAAI,CAAC;gBAC7B,mBAAc,GAAW,IAAI,CAAC;YA8K1C,CAAC;YA5KG,2CAAa,GAAb,UAAc,KAAgB;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;oBACjB,MAAM,CAAC;gBACX,IAAI,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC;gBAC3C,IAAI,OAAO,GAAY,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;gBAC5C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;oBACT,MAAM,CAAC;gBACX,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,GAAqB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;gBACrE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;oBACJ,MAAM,CAAC;gBAEX,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;YAChD,CAAC;YACO,6CAAe,GAAvB,UAAwB,MAAW,EAAE,CAAuB;gBACxD,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC7C,CAAC;YAED,6CAAe,GAAf,UAAgB,KAAgB,EAAE,OAAY;gBAC1C,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,EAAE,4BAA4B,CAAC,CAAC;gBAC5D,OAAO,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,EAAE,yBAAyB,CAAC,CAAC;gBAE3D,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBAClD,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBAClD,KAAK,CAAC,mBAAmB,CAAC,EAAE,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;gBACpE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;gBAC5C,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;gBAC/C,KAAK,CAAC,QAAQ,CAAC,uBAAuB,EAAE,SAAS,CAAC,CAAC;gBACnD,EAAE,CAAC,CAAC,KAAK,YAAY,sBAAgB,CAAC;oBAClC,SAAS,CAAC,aAAa,GAAqB,KAAK,CAAC;YAC1D,CAAC;YACD,+CAAiB,GAAjB,UAAkB,KAAgB;gBAC9B,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,EAAE,2BAA2B,CAAC,CAAC;gBAE3D,IAAI,OAAO,GAAY,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;gBAC/D,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,YAAY,gBAAO,CAAC,CAAC;oBAC1C,MAAM,CAAC;gBAEX,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBACnD,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBACnD,KAAK,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;gBACrE,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;gBAE7C,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC7B,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;wBACnC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;wBAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;wBAC5B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBACjC,CAAC;oBAED,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC3B,CAAC;gBAED,KAAK,CAAC,UAAU,CAAC,uBAAuB,CAAC,CAAC;YAC9C,CAAC;YAEO,+CAAiB,GAAzB,UAA0B,MAAW,EAAE,CAAuB;gBAC1D,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBACzC,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC;YAC7D,CAAC;YACO,+CAAiB,GAAzB,UAA0B,MAAW,EAAE,CAAuB;gBAC1D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;oBACxB,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,MAAM,CAAC;gBACX,CAAC;gBACD,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACjC,CAAC;YACO,wDAA0B,GAAlC,UAAmC,MAAW,EAAE,CAA6B;gBACzE,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,KAAK,CAAC,CAAC,cAAc,CAAC;oBACpE,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,MAAM,CAAC;oBACvB,MAAM,CAAC;gBAEX,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;oBACxB,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACjC,CAAC;YACO,4CAAc,GAAtB,UAAuB,MAAW,EAAE,CAAqB;gBACrD,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,KAAK,CAAC,CAAC,cAAc,CAAC;oBACpE,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,MAAM,CAAC;oBACvB,MAAM,CAAC;gBAEX,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;oBACxB,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,MAAM,CAAC;gBACX,CAAC;gBAED,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;oBACpB,MAAM,CAAC;gBAEX,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACjC,CAAC;YACO,uDAAyB,GAAjC,UAAkC,MAAW,EAAE,MAAW;gBAA1D,iBAuBC;gBAtBG,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,KAAK,MAAM,CAAC;oBAC1D,MAAM,CAAC;gBAEX,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;oBACvB,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,uBAAuB,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC;wBAClE,MAAM,CAAC;oBACX,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACjC,CAAC;gBAED,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC;gBAE/B,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAEtC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBAE3B,IAAI,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC5D,EAAE,CAAC,CAAC,aAAa,IAAI,gBAAgB,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAChC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,WAAW,CAAC,cAAM,OAAA,KAAI,CAAC,oBAAoB,EAAE,EAA3B,CAA2B,EAAE,gBAAgB,CAAC,CAAC;gBACjG,CAAC;YACL,CAAC;YAEO,8CAAgB,GAAxB,UAAyB,CAAM;gBAC3B,EAAE,CAAC,CAAC,CAAC,YAAY,gBAAO,CAAC;oBACrB,MAAM,CAAC,CAAC,CAAC;gBAEb,EAAE,CAAC,CAAC,CAAC,YAAY,sBAAgB,CAAC,CAAC,CAAC;oBAChC,IAAI,MAAM,GAAuB,CAAE,CAAC,MAAM,CAAC;oBAC3C,EAAE,CAAC,CAAC,MAAM,YAAY,gBAAO,CAAC;wBAC1B,MAAM,CAAU,MAAM,CAAC;gBAC/B,CAAC;gBAED,IAAI,OAAO,GAAG,IAAI,gBAAO,EAAE,CAAC;gBAC5B,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;gBACpB,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YAEO,kDAAoB,GAA5B;gBAAA,iBAcC;gBAbG,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAEzC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE,4DAA4D,CAAC,CAAC;gBAElG,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,GAAa,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;gBAEzF,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;oBACd,GAAG,CAAC,iBAAiB,GAAG,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACjE,GAAG,CAAC,uBAAuB,GAAG,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC;oBAC5F,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;oBAElB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,WAAW,CAAC,cAAM,OAAA,KAAI,CAAC,qBAAqB,EAAE,EAA5B,CAA4B,EAAE,YAAY,CAAC,CAAC;gBAC/F,CAAC;YACL,CAAC;YACO,mDAAqB,GAA7B;gBACQ,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBAE9C,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC;gBAC/B,GAAG,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC7B,GAAG,CAAC,uBAAuB,GAAG,IAAI,CAAC;gBACnC,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAE5B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAE7B,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YAC5C,CAAC;YACL,0BAAC;QAAD,CAtLA,AAsLC,IAAA;QACD,IAAI,KAAK,GAAG,IAAI,mBAAmB,EAAE,CAAC;QAEtC,IAAI,WAAW,GACX;YACI,WAAK,CAAC,GAAG,CAAC,GAAG;YACb,WAAK,CAAC,GAAG,CAAC,IAAI;YACd,WAAK,CAAC,GAAG,CAAC,MAAM;YAChB,WAAK,CAAC,GAAG,CAAC,IAAI;YACd,WAAK,CAAC,GAAG,CAAC,GAAG;YACb,WAAK,CAAC,GAAG,CAAC,IAAI;YACd,WAAK,CAAC,GAAG,CAAC,MAAM;YAChB,WAAK,CAAC,GAAG,CAAC,IAAI;YACd,WAAK,CAAC,GAAG,CAAC,QAAQ;YAClB,WAAK,CAAC,GAAG,CAAC,MAAM;YAChB,WAAK,CAAC,GAAG,CAAC,KAAK;YACf,WAAK,CAAC,GAAG,CAAC,KAAK;YACf,WAAK,CAAC,GAAG,CAAC,EAAE;SACf,CAAC;QACN,sBAAsB,GAAc;YAChC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACzC,CAAC;IACL,CAAC,EApPY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAoPpB;AAAD,CAAC,EApPM,KAAK,KAAL,KAAK,QAoPX;ACrPD,IAAO,KAAK,CA6BX;AA7BD,WAAO,KAAK;IAAC,IAAA,QAAQ,CA6BpB;IA7BY,WAAA,QAAQ,EAAC,CAAC;QACnB,WAAY,kBAAkB;YAC1B,mEAAY,CAAA;YACZ,qEAAa,CAAA;QACjB,CAAC,EAHW,2BAAkB,KAAlB,2BAAkB,QAG7B;QAHD,IAAY,kBAAkB,GAAlB,2BAGX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,kBAAkB,EAAE,oBAAoB,CAAC,CAAC;QAEpE;YAAuC,qCAAK;YAA5C;gBAAuC,8BAAK;YAoB5C,CAAC;YAlBU,uCAAqB,GAA5B,UAA6B,CAAmB,IAAwB,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,iBAAiB,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC;YACnI,uCAAqB,GAA5B,UAA6B,CAAmB,EAAE,KAAyB,IAAI,CAAC,CAAC,QAAQ,CAAC,iBAAiB,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAG1I,mCAAiB,GAAxB,UAAyB,CAAmB,IAAa,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;YAChH,mCAAiB,GAAxB,UAAyB,CAAmB,EAAE,KAAc,IAAI,CAAC,CAAC,QAAQ,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAE9H,sBAAI,2CAAY;qBAAhB;oBACI,IAAI,SAAS,GAAG,uBAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBACzC,MAAM,CAAC,SAAS,GAAG,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC;gBACrD,CAAC;;;eAAA;YAED,wCAAY,GAAZ,UAAa,KAAa,EAAE,QAAe;gBACvC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;YACpD,CAAC;YACD,0CAAc,GAAd,UAAe,KAAa,EAAE,QAAe;gBACzC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;YACpD,CAAC;YAlBM,4CAA0B,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,kBAAkB,CAAC,EAA5B,CAA4B,EAAE,iBAAiB,EAAE,kBAAkB,CAAC,SAAS,CAAC,CAAC;YAI5K,wCAAsB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,cAAM,OAAA,OAAO,EAAP,CAAO,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;YAenI,wBAAC;QAAD,CApBA,AAoBC,CApBsC,cAAK,GAoB3C;QApBY,0BAAiB,oBAoB7B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;IAC7C,CAAC,EA7BY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QA6BpB;AAAD,CAAC,EA7BM,KAAK,KAAL,KAAK,QA6BX;AC7BD,IAAO,KAAK,CAyRX;AAzRD,WAAO,KAAK;IAAC,IAAA,QAAQ,CAyRpB;IAzRY,WAAA,QAAQ,EAAC,CAAC;QACnB,IAAI,SAAS,GAAG,IAAI,CAAC;QACrB,IAAI,UAAU,GAAG,CAAC,CAAC;QAEnB,IAAO,6BAA6B,GAAG,OAAO,CAAC,QAAQ,CAAC,sBAAsB,CAAC,6BAA6B,CAAC;QAE7G;YAA4C,0CAAiB;YAA7D;gBAA4C,8BAAiB;YA4Q7D,CAAC;YA3QG,oDAAmB,GAAnB;gBACI,IAAI,OAAO,GAAG,IAAI,6BAA6B,EAAE,CAAC;gBAClD,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,mBAAU,CAAC,UAAU,EAAE,CAAC;gBAC3E,OAAO,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,iBAAQ,CAAC,+BAA+B,CAAC,IAAI,CAAC,CAAC;gBACjF,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YAID,sBAAI,+CAAW;qBAAf;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;gBACxC,CAAC;qBAED,UAAgB,KAAmB;oBAC/B,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzC,CAAC;;;eAJA;YAMD,sBAAI,yDAAqB;qBAAzB;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC;oBAC9C,CAAC;gBACL,CAAC;qBAED,UAA0B,KAAc;oBACpC,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;oBAC1B,EAAE,CAAC,CAAC,EAAE,CAAC,qBAAqB,KAAK,KAAK,CAAC,CAAC,CAAC;wBACrC,EAAE,CAAC,qBAAqB,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBACpD,CAAC;gBACL,CAAC;;;eARA;YAUD,sBAAI,uDAAmB;qBAAvB;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC;gBAChD,CAAC;qBAED,UAAwB,KAAc;oBAClC,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;oBAC1B,EAAE,CAAC,CAAC,EAAE,CAAC,mBAAmB,KAAK,KAAK,CAAC,CAAC,CAAC;wBACnC,EAAE,CAAC,mBAAmB,GAAG,KAAK,CAAC;wBAC/B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;oBACpD,CAAC;gBACL,CAAC;;;eARA;YAUD,sBAAI,+CAAW;qBAAf;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;gBACxC,CAAC;;;eAAA;YAED,sBAAI,gDAAY;qBAAhB;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;gBACzC,CAAC;;;eAAA;YAED,sBAAI,iDAAa;qBAAjB;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;gBAC1C,CAAC;;;eAAA;YAED,sBAAI,kDAAc;qBAAlB;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC;gBAC3C,CAAC;;;eAAA;YAED,sBAAI,oDAAgB;qBAApB;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;gBACpC,CAAC;;;eAAA;YAED,sBAAI,kDAAc;qBAAlB;oBACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;gBACpC,CAAC;;;eAAA;YAED,uCAAM,GAAN;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;oBAClD,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;gBAC1D,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YAClD,CAAC;YAED,yCAAQ,GAAR;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;oBAClD,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;gBAC1D,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YAClD,CAAC;YAED,yCAAQ,GAAR;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;oBAChD,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;gBAC5D,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YACpD,CAAC;YAED,0CAAS,GAAT;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;oBAChD,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;gBAC5D,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YACpD,CAAC;YAED,6CAAY,GAAZ;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;oBAClD,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,GAAG,UAAU,CAAC,CAAC;gBACvE,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,UAAU,CAAC,CAAC;YAC3D,CAAC;YAED,+CAAc,GAAd;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;oBAClD,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,GAAG,UAAU,CAAC,CAAC;gBACvE,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,UAAU,CAAC,CAAC;YAC3D,CAAC;YAED,+CAAc,GAAd;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;oBAChD,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,GAAG,UAAU,CAAC,CAAC;gBACzE,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,UAAU,CAAC,CAAC;YAC7D,CAAC;YAED,gDAAe,GAAf;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;oBAChD,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,SAAS,GAAG,UAAU,CAAC,CAAC;gBACzE,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,UAAU,CAAC,CAAC;YAC7D,CAAC;YAED,uCAAM,GAAN;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,cAAc,CAAC,CAAC;YAClE,CAAC;YAED,yCAAQ,GAAR;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,cAAc,CAAC,CAAC;YAClE,CAAC;YAED,yCAAQ,GAAR;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,CAAC;YACnE,CAAC;YAED,0CAAS,GAAT;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,CAAC;YACnE,CAAC;YAED,4CAAW,GAAX,UAAY,GAAc,EAAE,SAAuB;gBAC/C,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;gBACjC,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAE1B,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC;gBACvB,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,QAAQ,CAAC;gBAC3D,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;gBAC/C,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBAC3B,IAAI,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC;oBAC/B,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC;oBAC/B,IAAI,eAAe,GAAG,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC;oBAChE,EAAE,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC;wBACpB,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;4BACb,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC;gCAC3B,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;4BAE1C,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC;4BAClE,OAAO,CAAC,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC;4BACxC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC;wBAC3B,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC;gCAC3B,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;4BAExC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,MAAM,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;4BACrE,OAAO,CAAC,KAAK,GAAG,eAAe,CAAC,KAAK,CAAC;4BACtC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC;wBAC3B,CAAC;wBACD,MAAM,CAAC,OAAO,CAAC;oBACnB,CAAC;oBAED,EAAE,CAAC,CAAC,UAAU,CAAC;wBACX,OAAO,CAAC,CAAC,IAAI,eAAe,CAAC,MAAM,CAAC;oBACxC,IAAI;wBACA,OAAO,CAAC,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC;gBAC3C,CAAC;gBAED,MAAM,IAAI,iBAAiB,CAAC,qCAAqC,CAAC,CAAC;YACvE,CAAC;YAED,oDAAmB,GAAnB,UAAoB,MAAc;gBAC9B,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC,aAAa,IAAI,EAAE,CAAC,WAAW,CAAC;oBACjD,MAAM,GAAG,CAAC,CAAC;gBACf,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,WAAW,CAAC;oBACnD,MAAM,GAAG,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC,aAAa,CAAC;gBAE/C,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,KAAK,MAAM,CAAC;oBACtB,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,OAAO,GAAG,MAAM,CAAC;gBAEpB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC;oBAClD,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBACpD,IAAI;oBACA,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBAEpD,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACnC,EAAE,CAAC,CAAC,WAAW,CAAC;oBACZ,WAAW,CAAC,oBAAoB,EAAE,CAAC;gBACvC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,kDAAiB,GAAjB,UAAkB,MAAc;gBAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC1B,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC,cAAc,IAAI,EAAE,CAAC,YAAY,CAAC;oBACnD,MAAM,GAAG,CAAC,CAAC;gBACf,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,YAAY,CAAC;oBACrD,MAAM,GAAG,EAAE,CAAC,YAAY,GAAG,EAAE,CAAC,cAAc,CAAC;gBAEjD,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,KAAK,MAAM,CAAC;oBACtB,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,OAAO,GAAG,MAAM,CAAC;gBAEpB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;oBAChD,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBACpD,IAAI;oBACA,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;gBAEpD,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACnC,EAAE,CAAC,CAAC,WAAW,CAAC;oBACZ,WAAW,CAAC,oBAAoB,EAAE,CAAC;gBACvC,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAKD,6CAAY,GAAZ,UAAa,KAAa,EAAE,QAAe;gBACvC,gBAAK,CAAC,YAAY,YAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAEpC,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;gBAC/D,IAAI,MAAM,GAAG,YAAY,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC;gBACxE,EAAE,CAAC,CAAC,KAAK,IAAI,MAAM,CAAC;oBAChB,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAEzH,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACnC,EAAE,CAAC,CAAC,WAAW,CAAC;oBACZ,WAAW,CAAC,oBAAoB,EAAE,CAAC;YAC3C,CAAC;YAED,+CAAc,GAAd,UAAe,KAAa,EAAE,QAAe;gBACzC,gBAAK,CAAC,cAAc,YAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;gBAEtC,IAAI,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC;gBAC3B,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACL,IAAI,GAAG,GAAG,EAAE,CAAC,qBAAqB,CAAC;oBACnC,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC7B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;wBAClD,IAAI,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC1B,IAAI,SAAS,GAAG,GAAG,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;wBAC/C,EAAE,CAAC,CAAC,SAAS,CAAC;4BACV,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;oBACnC,CAAC;gBACL,CAAC;gBAED,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,KAAK,iBAAW,CAAC,UAAU,CAAC;gBAC/D,IAAI,MAAM,GAAG,YAAY,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC;gBAExE,IAAI,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;gBACxE,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC;oBACpB,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;gBAEvG,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACnC,EAAE,CAAC,CAAC,WAAW,CAAC;oBACZ,WAAW,CAAC,oBAAoB,EAAE,CAAC;YAC3C,CAAC;YAzCM,0CAAmB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAM,OAAA,IAAI,UAAI,CAAC,iBAAW,CAAC,EAArB,CAAqB,EAAE,sBAAsB,EAAE,iBAAW,CAAC,QAAQ,CAAC,CAAC;YA0CvJ,6BAAC;QAAD,CA5QA,AA4QC,CA5Q2C,0BAAiB,GA4Q5D;QA5QY,+BAAsB,yBA4QlC,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QAC9C,SAAS,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,mBAAU,CAAC,YAAY,CAAC,CAAC;QAE7E,IAAO,SAAS,CAEf;QAFD,WAAO,SAAS,EAAC,CAAC;YACd,gBAAU,CAAsB,sBAAsB,CAAC,mBAAmB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,IAAK,OAAA,GAAG,CAAC,iBAAiB,EAAE,EAAvB,CAAuB,EAAE,KAAK,CAAC,CAAC;QACjI,CAAC,EAFM,SAAS,KAAT,SAAS,QAEf;IACL,CAAC,EAzRY,QAAQ,GAAR,cAAQ,KAAR,cAAQ,QAyRpB;AAAD,CAAC,EAzRM,KAAK,KAAL,KAAK,QAyRX;AC3RD,IAAO,KAAK,CAwGX;AAxGD,WAAO,KAAK;IAAC,IAAA,IAAI,CAwGhB;IAxGY,WAAA,IAAI,EAAC,CAAC;QACf,IAAO,OAAO,GAAG,SAAS,CAAC,gBAAgB,CAAC;QAEjC,mBAAc,GAAG,KAAK,CAAC;QAElC;YAsBI,iBAAa,GAAS;gBAlBtB,0BAAqB,GAAY,KAAK,CAAC;gBAMvC,4BAAuB,GAAY,KAAK,CAAC;gBAKzC,0BAAqB,GAAY,KAAK,CAAC;gBACvC,0BAAqB,GAAY,KAAK,CAAC;gBACvC,gCAA2B,GAAY,IAAI,CAAC;gBAMxC,EAAE,CAAC,CAAC,GAAG,YAAY,OAAO,CAAC,CAAC,CAAC;oBACzB,IAAI,OAAO,GAAY,GAAG,CAAC;oBAC3B,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;oBACzC,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC;oBAC3C,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;oBAC/C,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC,qBAAqB,CAAC;oBAC3D,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;oBACnC,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,kBAAkB,CAAC;oBACrD,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;oBACjD,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;oBACvC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;oBACzB,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC,uBAAuB,CAAC;oBAC/D,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC;oBACrF,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;oBACzB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;oBAC7B,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;oBACvD,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC,qBAAqB,CAAC;oBAC3D,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC,qBAAqB,CAAC;oBAC3D,IAAI,CAAC,2BAA2B,GAAG,OAAO,CAAC,2BAA2B,CAAC;gBAC3E,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC;oBACjC,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,YAAY,CAAS,GAAG,CAAC,CAAC;gBACnD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,YAAY,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBAC1C,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;gBACpB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC1C,CAAC;YACL,CAAC;YAED,sBAAI,GAAJ,UAAM,GAAW;gBACb,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC3C,CAAC;YAED,2BAAS,GAAT,UAAW,EAAS;gBAChB,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACpB,MAAM,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YAC5C,CAAC;YAEO,0BAAQ,GAAhB;gBACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,SAAS,CAAC;gBACjF,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,OAAO,CAAC,IAAI,KAAK,CAAC;gBACnF,IAAI,CAAC,IAAI,GAAG,UAAI,CAAC,OAAO,CAAC,gBAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjD,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC,IAAI,CAAC,uBAAuB,EAAE,OAAO,CAAC,IAAI,KAAK,CAAC;gBACvF,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAClD,IAAI,CAAC,mBAAmB,GAAG,UAAI,CAAC,OAAO,CAAC,wBAAmB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACvF,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,OAAO,CAAC,IAAI,KAAK,CAAC;gBACnF,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,OAAO,CAAC,IAAI,KAAK,CAAC;gBACnF,IAAI,CAAC,2BAA2B,GAAG,OAAO,CAAC,IAAI,CAAC,2BAA2B,EAAE,OAAO,CAAC,KAAK,KAAK,CAAC;YACpG,CAAC;YAED,uBAAK,GAAL;gBACI,MAAM,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC;YAEM,gBAAQ,GAAf,UAAiB,IAAkB;gBAC/B,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACrC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACzC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;gBAC3C,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;gBAC/C,OAAO,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBAC3D,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBACnC,OAAO,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBACrD,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBACjD,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACvC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACzB,OAAO,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC;gBAC/D,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;gBAC7C,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC7B,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBACvD,OAAO,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBAC3D,OAAO,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBAC3D,OAAO,CAAC,2BAA2B,GAAG,IAAI,CAAC,2BAA2B,CAAC;gBACvE,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YACL,cAAC;QAAD,CAjGA,AAiGC,IAAA;QAjGY,YAAO,UAiGnB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC,EAxGY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAwGhB;AAAD,CAAC,EAxGM,KAAK,KAAL,KAAK,QAwGX;ACtGD,IAAO,KAAK,CAOX;AAPD,WAAO,KAAK;IAAC,IAAA,IAAI,CAOhB;IAPY,WAAA,IAAI,EAAC,CAAC;QACf;YAA0C,wCAAgB;YAA1D;gBAA0C,8BAAgB;YAK1D,CAAC;YAJU,mCAAc,GAAuB,kBAAkB,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,oBAAoB,CAAC,CAAC;YAC/G,iCAAY,GAAuB,kBAAkB,CAAC,QAAQ,CAAC,MAAM,EAAE,cAAM,OAAA,qBAAgB,EAAhB,CAAgB,EAAE,oBAAoB,CAAC,CAAC;YAGhI,2BAAC;QAAD,CALA,AAKC,CALyC,sBAAgB,GAKzD;QALY,yBAAoB,uBAKhC,CAAA;IACL,CAAC,EAPY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAOhB;AAAD,CAAC,EAPM,KAAK,KAAL,KAAK,QAOX;ACTD,IAAO,KAAK,CASX;AATD,WAAO,KAAK;IAAC,IAAA,IAAI,CAShB;IATY,WAAA,IAAI,EAAC,CAAC;QACf;YAGI,oCAAa,YAAoB;gBAC7B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;gBACjC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC;YACL,iCAAC;QAAD,CAPA,AAOC,IAAA;QAPY,+BAA0B,6BAOtC,CAAA;IACL,CAAC,EATY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAShB;AAAD,CAAC,EATM,KAAK,KAAL,KAAK,QASX;ACTD,IAAO,KAAK,CAuBX;AAvBD,WAAO,KAAK;IAAC,IAAA,IAAI,CAuBhB;IAvBY,WAAA,IAAI,EAAC,CAAC;QACf,WAAY,kBAAkB;YAC1B,iFAAmB,CAAA;YACnB,2DAAQ,CAAA;YACR,2EAAgB,CAAA;YAChB,uFAAsB,CAAA;QAC1B,CAAC,EALW,uBAAkB,KAAlB,uBAAkB,QAK7B;QALD,IAAY,kBAAkB,GAAlB,uBAKX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,kBAAkB,EAAE,oBAAoB,CAAC,CAAC;QAEpE,WAAY,WAAW;YACnB,iDAAU,CAAA;YACV,iDAAU,CAAA;YACV,mDAAW,CAAA;YACX,iEAAkB,CAAA;QACtB,CAAC,EALW,gBAAW,KAAX,gBAAW,QAKtB;QALD,IAAY,WAAW,GAAX,gBAKX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;QAEtD,WAAY,mBAAmB;YAC3B,mEAAW,CAAA;YACX,mFAAmB,CAAA;YACnB,qEAAY,CAAA;QAChB,CAAC,EAJW,wBAAmB,KAAnB,wBAAmB,QAI9B;QAJD,IAAY,mBAAmB,GAAnB,wBAIX,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,mBAAmB,EAAE,qBAAqB,CAAC,CAAC;IAC1E,CAAC,EAvBY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAuBhB;AAAD,CAAC,EAvBM,KAAK,KAAL,KAAK,QAuBX;ACvBD,IAAO,KAAK,CAOX;AAPD,WAAO,KAAK;IAAC,IAAA,IAAI,CAOhB;IAPY,WAAA,IAAI,EAAC,CAAC;QAMJ,qBAAgB,GAAG,IAAI,SAAS,CAAC,SAAS,CAAkB,iBAAiB,CAAC,CAAC;IAC9F,CAAC,EAPY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAOhB;AAAD,CAAC,EAPM,KAAK,KAAL,KAAK,QAOX;ACPD,IAAO,KAAK,CAMX;AAND,WAAO,KAAK;IAAC,IAAA,IAAI,CAMhB;IANY,WAAA,IAAI,EAAC,CAAC;QAKJ,oBAAe,GAAG,IAAI,SAAS,CAAC,SAAS,CAAiB,gBAAgB,CAAC,CAAC;IAC3F,CAAC,EANY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAMhB;AAAD,CAAC,EANM,KAAK,KAAL,KAAK,QAMX;ACND,IAAO,KAAK,CAOX;AAPD,WAAO,KAAK;IAAC,IAAA,IAAI,CAOhB;IAPY,WAAA,IAAI,EAAC,CAAC;QAMJ,0BAAqB,GAAG,IAAI,SAAS,CAAC,SAAS,CAAuB,sBAAsB,CAAC,CAAC;IAC7G,CAAC,EAPY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAOhB;AAAD,CAAC,EAPM,KAAK,KAAL,KAAK,QAOX;ACPD,IAAO,KAAK,CAMX;AAND,WAAO,KAAK;IAAC,IAAA,IAAI,CAMhB;IANY,WAAA,IAAI,EAAC,CAAC;QAKJ,qBAAgB,GAAG,IAAI,SAAS,CAAC,SAAS,CAAkB,iBAAiB,CAAC,CAAC;IAC9F,CAAC,EANY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAMhB;AAAD,CAAC,EANM,KAAK,KAAL,KAAK,QAMX;ACND,IAAO,KAAK,CAqFX;AArFD,WAAO,KAAK;IAAC,IAAA,IAAI,CAqFhB;IArFY,WAAA,IAAI,EAAC,CAAC;QACf;YAOI,wBAAa,GAAS;gBAJtB,iBAAY,GAAa,IAAI,CAAC;gBAK1B,EAAE,CAAC,CAAC,GAAG,YAAY,cAAc,CAAC,CAAC,CAAC;oBAChC,IAAI,EAAE,GAAmB,GAAG,CAAC;oBAC7B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;oBACpB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,aAAa,CAAC;oBACtC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;gBACxC,CAAC;YACL,CAAC;YAED,6BAAI,GAAJ,UAAM,GAAW;gBACb,IAAI,CAAC,IAAI,GAAG,uBAAkB,CAAC,GAAG,CAAC,CAAC;YACxC,CAAC;YAED,0CAAiB,GAAjB,UAAmB,QAA+B;gBAC9C,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,YAAY,KAAK,QAAQ,CAAC;oBACtC,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAM,IAAI,CAAC,YAAY,CAAC,CAAC;YAC7D,CAAC;YAED,kCAAS,GAAT,UAAW,EAAS;gBAChB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,OAAO,IAAI,CAAC,YAAY,KAAK,UAAU,CAAC,CAAC,CAAC;oBAC/D,IAAI,CAAC,IAAI,GAAG,uBAAkB,CAAC,YAAY,CAAC;gBAChD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,IAAI,GAAG,UAAI,CAAC,OAAO,CAAC,uBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC5D,CAAC;gBACD,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAC5D,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACpB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,8BAAK,GAAL;gBACI,MAAM,CAAC,IAAI,cAAc,CAAC,IAAI,CAAC,CAAC;YACpC,CAAC;YAED,6BAAI,GAAJ,UAAM,MAAkB;gBACpB,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAChB,KAAK,uBAAkB,CAAC,IAAI;wBACxB,MAAM,CAAC,MAAM,CAAC;oBAClB,KAAK,uBAAkB,CAAC,eAAe;wBACnC,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC;oBAChC,KAAK,uBAAkB,CAAC,YAAY;wBAChC,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBACtC,KAAK,uBAAkB,CAAC,kBAAkB;wBACtC,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACtD,CAAC;YACL,CAAC;YACL,qBAAC;QAAD,CApDA,AAoDC,IAAA;QApDY,mBAAc,iBAoD1B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAEtC,sBAAuB,MAAkB,EAAE,SAA8B;YACrE,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,YAAY,sBAAgB,CAAC,CAAC;gBACtC,MAAM,CAAC;YACX,IAAI,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;YAC1C,EAAE,CAAC,CAAC,OAAO,YAAY,KAAK,UAAU,CAAC,CAAC,CAAC;gBACrC,OAAO,CAAC,IAAI,CAAC,iEAAiE,CAAC,CAAC;gBAChF,MAAM,CAAC;YACX,CAAC;YACD,IAAI,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;YAC5C,EAAE,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACvB,OAAO,CAAC,IAAI,CAAC,kEAAkE,CAAC,CAAC;gBACjF,MAAM,CAAC;YACX,CAAC;YACD,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,sBAAgB,CAAC,SAAS,CAAmB,MAAM,CAAC,EAAE,MAAM,IAAI,IAAI,EAAE,MAAM,GAAG,sBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC;gBAClI,EAAE,CAAC,CAAC,MAAM,YAAY,YAAY,IAAI,EAAE,aAAa,GAAG,CAAC,CAAC;oBACtD,MAAM,CAAC,MAAM,CAAC;YACtB,CAAC;QACL,CAAC;QAED,kCAAmC,MAAkB,EAAE,SAA8B;YACjF,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,YAAY,sBAAgB,CAAC,CAAC;gBACtC,MAAM,CAAC;YACX,IAAI,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;YAC5C,aAAa,GAAG,aAAa,IAAI,CAAC,CAAC;YACnC,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,sBAAgB,CAAC,SAAS,CAAmB,MAAM,CAAC,EAAE,MAAM,IAAI,IAAI,EAAE,MAAM,GAAG,sBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC;gBAClI,EAAE,CAAC,CAAC,CAAC,CAAa,MAAO,CAAC,cAAc,IAAI,EAAE,aAAa,GAAG,CAAC,CAAC;oBAC5D,MAAM,CAAC,MAAM,CAAC;YACtB,CAAC;QACL,CAAC;IACL,CAAC,EArFY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAqFhB;AAAD,CAAC,EArFM,KAAK,KAAL,KAAK,QAqFX;ACjFD,IAAO,KAAK,CA0BX;AA1BD,WAAO,KAAK,EAAC,CAAC;IACV,eAAuB,KAAU;QAC7B,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC;YACpB,MAAM,CAAC,SAAS,CAAC;QACrB,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC;YACf,MAAM,CAAC,IAAI,CAAC;QAChB,EAAE,CAAC,CAAC,KAAK,YAAY,KAAK,CAAC;YACvB,MAAM,CAAS,KAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnC,EAAE,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC;YACxB,MAAM,CAAC,KAAK,CAAC;QACjB,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,YAAY,QAAQ,CAAC;YAChC,MAAM,CAAc,KAAM,CAAC,KAAK,EAAE,CAAC;QACvC,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAZe,WAAK,QAYpB,CAAA;IAED,gBAAiB,GAAQ;QAAE,cAAc;aAAd,WAAc,CAAd,sBAAc,CAAd,IAAc;YAAd,6BAAc;;QACrC,IAAI,CAAM,CAAC;QACX,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YAC9C,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACd,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;oBACjB,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;YACL,CAAC;QACL,CAAC;QACD,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;AACL,CAAC,EA1BM,KAAK,KAAL,KAAK,QA0BX;AC5BD,IAAO,KAAK,CAMX;AAND,WAAO,KAAK,EAAC,CAAC;IACV;QAAkC,gCAAwB;QAA1D;YAAkC,8BAAwB;QAG1D,CAAC;QAFU,6BAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,YAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;QAElG,mBAAC;IAAD,CAHA,AAGC,CAHiC,YAAM,CAAC,iBAAiB,GAGzD;IAHY,kBAAY,eAGxB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AACxC,CAAC,EANM,KAAK,KAAL,KAAK,QAMX;ACHD;IAAA;IAIA,CAAC;IAAD,yCAAC;AAAD,CAJA,AAIC,IAAA;ACPD,IAAO,KAAK,CAUX;AAVD,WAAO,KAAK,EAAC,CAAC;IACV;QAA8C,4CAAY;QAA1D;YAA8C,8BAAY;QAO1D,CAAC;QANU,4CAAmB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAM,OAAA,SAAS,CAAC,YAAY,EAAtB,CAAsB,EAAE,wBAAwB,CAAC,CAAC;QACzH,6CAAoB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAM,OAAA,kBAAY,EAAZ,CAAY,EAAE,wBAAwB,CAAC,CAAC;QACjH,mDAA0B,GAAG,kBAAkB,CAAC,QAAQ,CAAC,oBAAoB,EAAE,cAAM,OAAA,WAAK,EAAL,CAAK,EAAE,wBAAwB,CAAC,CAAC;QAIjI,+BAAC;IAAD,CAPA,AAOC,CAP6C,kBAAY,GAOzD;IAPY,8BAAwB,2BAOpC,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;AACpD,CAAC,EAVM,KAAK,KAAL,KAAK,QAUX;ACZD,IAAO,KAAK,CAyBX;AAzBD,WAAO,KAAK,EAAC,CAAC;IACV;QAAA;QAsBA,CAAC;QArBU,+BAAa,GAApB,UAAqB,GAAc;YAC/B,IAAI,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;YAC9B,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YACxE,IAAI,IAAI,GAAG,IAAI,WAAK,CAAC,iBAAiB,EAAE,CAAC;YACzC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAUM,+BAAa,GAApB,UAAqB,GAAc;YAC/B,IAAI,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;YAC9B,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YACxE,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACL,wBAAC;IAAD,CAtBA,AAsBC,IAAA;IAtBY,uBAAiB,oBAsB7B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;AAC7C,CAAC,EAzBM,KAAK,KAAL,KAAK,QAyBX;ACzBD,IAAO,KAAK,CAgCX;AAhCD,WAAO,KAAK,EAAC,CAAC;IACV;QAII,mBAAY,MAAgB;YAH5B,WAAM,GAAY,KAAK,CAAC;YAChB,WAAM,GAAG,EAAE,CAAC;YAGhB,EAAE,CAAC,CAAC,MAAM,CAAC;gBACP,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAC7B,CAAC;QAED,4BAAQ,GAAR,UAAS,IAAY;YACjB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;QACD,gCAAY,GAAZ,UAAa,IAAY,EAAE,KAAe;YACtC,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,KAAK,KAAK,CAAC;gBAC/B,MAAM,IAAI,yBAAyB,CAAC,6BAA6B,CAAC,CAAC;YAEvE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;QAC9B,CAAC;QACD,kCAAc,GAAd,UAAe,IAAY;YAGvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;QAClC,CAAC;QACD,0BAAM,GAAN,UAAO,OAAkB;YACrB,IAAI,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC;YACxB,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;YACtC,CAAC;QACL,CAAC;QACL,gBAAC;IAAD,CA9BA,AA8BC,IAAA;IA9BY,eAAS,YA8BrB,CAAA;AACL,CAAC,EAhCM,KAAK,KAAL,KAAK,QAgCX;AC5BD,IAAO,KAAK,CAoKX;AApKD,WAAO,KAAK,EAAC,CAAC;IAKV;QAAkD,gDAAwC;QAA1F;YAAkD,8BAAwC;QA2C1F,CAAC;QA1CG,0CAAG,GAAH,UAAK,GAAQ;YACT,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;gBACjD,IAAI,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC9B,EAAE,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC;oBAClB,MAAM,CAAC,GAAG,CAAC;YACnB,CAAC;YACD,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAED,yDAAkB,GAAlB,UAAoB,KAAyB,EAAE,KAAa;YACxD,EAAE,CAAC,CAAC,CAAC,gBAAK,CAAC,kBAAkB,YAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBACxC,MAAM,CAAC,KAAK,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QACzE,CAAC;QAEO,sDAAe,GAAvB,UAAyB,WAA+B,EAAE,iBAA2B,EAAE,KAAa;YAChG,IAAI,OAAO,GAAG,iBAAiB,CAAC;YAChC,OAAO,OAAO,EAAE,CAAC;gBACb,IAAI,EAAE,GAAuB,OAAO,CAAC,OAAO,CAAC;gBAC7C,EAAE,CAAC,CAAC,EAAE,YAAY,kBAAkB,CAAC,CAAC,CAAC;oBACnC,IAAI,UAAU,GAAG,KAAK,CAAC;oBACvB,EAAE,CAAC,CAAC,EAAE,KAAK,WAAW,CAAC;wBACnB,UAAU,GAAG,IAAI,CAAC;oBACtB,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;wBAClE,UAAU,GAAG,IAAI,CAAC;oBAEtB,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;wBACb,KAAK,CAAC,OAAO,GAAG,uCAAuC,CAAC;wBACxD,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;wBACvC,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;gBACL,CAAC;gBACD,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;YACjC,CAAC;YAED,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,WAAW,CAAC,kBAAkB,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;gBAC3E,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,OAAO,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;oBAC5D,MAAM,CAAC,KAAK,CAAC;YACrB,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACL,mCAAC;IAAD,CA3CA,AA2CC,CA3CiD,0BAAoB,GA2CrE;IA3CY,kCAA4B,+BA2CxC,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IAEpD;QAAwC,sCAAU;QAAlD;YAAwC,8BAAU;YACtC,UAAK,GAAU,EAAE,CAAC;YAClB,YAAO,GAAU,EAAE,CAAC;YAEpB,oBAAe,GAAY,KAAK,CAAC;YACjC,mBAAc,GAAuB,IAAI,CAAC;QA0GtD,CAAC;QAvGG,sBAAI,kDAAkB;iBAAtB;gBACI,IAAI,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBAClC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACN,EAAE,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,4BAA4B,EAAE,CAAC;oBACnE,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACtB,CAAC;gBACD,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;;;WAAA;QAKD,sBAAI,qCAAK;iBAAT;gBACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;YAC/B,CAAC;;;WAAA;QAED,qCAAQ,GAAR,UAAU,IAAgB;YACtB,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC9C,KAAK,CAAC,cAAc,EAAE,CAAC;QAC/B,CAAC;QAED,qCAAQ,GAAR,UAAU,GAAQ;YACd,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACxC,CAAC;QAED,gCAAG,GAAH,UAAK,GAAQ;YACT,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;YACpC,CAAC;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACX,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAC/B,IAAI,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC;YAClC,EAAE,CAAC,CAAC,EAAE,CAAC;gBACH,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACvB,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAED,gCAAG,GAAH,UAAK,GAAQ,EAAE,KAAU;YACrB,EAAE,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC;gBAClB,MAAM,CAAC,KAAK,CAAC;YACjB,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC;gBACpB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAE5B,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACpC,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,KAAK,YAAY,gBAAU,IAAI,CAAc,KAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC9F,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;oBACd,MAAM,IAAI,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBACvC,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;gBACZ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC7B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACnC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;gBACxB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;gBAC5B,EAAE,CAAC,CAAC,QAAQ,YAAY,gBAAU,CAAC;oBAClB,QAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACjD,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,mCAAM,GAAN,UAAQ,GAAQ;YACZ,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;gBACV,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,EAAE,CAAC,CAAC,QAAQ,YAAY,gBAAU,CAAC;gBAClB,QAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACjD,CAAC;QAED,0CAAa,GAAb,UAAe,OAAiB;YAC5B,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACnE,CAAC;QAED,8CAAiB,GAAjB,UAAsC,OAAiB;YACnD,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACvC,MAAM,CAAC;gBACH,OAAO,EAAE,SAAS;gBAClB,QAAQ,EAAE;oBACN,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;wBAClB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;wBACzB,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;oBACD,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;oBACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC7B,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;aACJ,CAAC;QACN,CAAC;QAEO,2CAAc,GAAtB,UAAwB,GAAQ;YAC5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACxB,IAAI,CAAC,cAAc,GAAG,YAAM,CAAC,IAAI,CAAqB,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACtH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAChC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;QACL,yBAAC;IAAD,CA/GA,AA+GC,CA/GuC,gBAAU,GA+GjD;IA/GY,wBAAkB,qBA+G9B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;AAC9C,CAAC,EApKM,KAAK,KAAL,KAAK,QAoKX;ACxKD,IAAO,KAAK,CAIX;AAJD,WAAO,KAAK,EAAC,CAAC;IACV;QAA4D,+BAAkB;QAA9E;YAA4D,8BAAkB;QAC9E,CAAC;QAAD,kBAAC;IAAD,CADA,AACC,CAD2D,SAAS,CAAC,KAAK,GAC1E;IADY,iBAAW,cACvB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACvC,CAAC,EAJM,KAAK,KAAL,KAAK,QAIX;ACDD,IAAO,KAAK,CAeX;AAfD,WAAO,KAAK,EAAC,CAAC;IACV;QAAmD,8CAA8C;QAAjG;YAAmD,8BAA8C;QACjG,CAAC;QAAD,iCAAC;IAAD,CADA,AACC,CADkD,iBAAW,GAC7D;IADY,gCAA0B,6BACtC,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAElD;QAAuD,kDAAe;QAGlE,wCAAY,QAAW,EAAE,QAAW;YAChC,iBAAO,CAAC;YACR,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;YAC9E,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;QAClF,CAAC;QACL,qCAAC;IAAD,CARA,AAQC,CARsD,qBAAe,GAQrE;IARY,oCAA8B,iCAQ1C,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;AAC1D,CAAC,EAfM,KAAK,KAAL,KAAK,QAeX;ACfD,IAAO,KAAK,CA6BX;AA7BD,WAAO,KAAK,EAAC,CAAC;IACV;QAAoD,+CAA+C;QAAnG;YAAoD,8BAA+C;QACnG,CAAC;QAAD,kCAAC;IAAD,CADA,AACC,CADmD,iBAAW,GAC9D;IADY,iCAA2B,8BACvC,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;IAEnD;QAAwD,mDAAe;QAenE,yCAAY,KAAyB,EAAE,QAAW,EAAE,QAAW,EAAE,YAAqB;YAClF,iBAAO,CAAC;YAVJ,YAAO,GAAY,KAAK,CAAC;YAQjC,eAAU,GAAY,KAAK,CAAC;YAGxB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QACtC,CAAC;QAhBD,sBAAI,0DAAa;iBAAjB,cAAsB,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;;;WAAA;QAElD,sBAAI,mDAAM;iBAAV,cAAwB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;iBAC9C,UAAW,KAAc;gBACrB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;oBACnB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;oBACX,MAAM,IAAI,yBAAyB,CAAC,iBAAiB,CAAC,CAAC;YAC/D,CAAC;;;WAN6C;QAelD,sCAAC;IAAD,CAtBA,AAsBC,CAtBuD,qBAAe,GAsBtE;IAtBY,qCAA+B,kCAsB3C,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;AAC3D,CAAC,EA7BM,KAAK,KAAL,KAAK,QA6BX;AC7BD,IAAO,KAAK,CAiEX;AAjED,WAAO,KAAK,EAAC,CAAC;IACV;QAAsC,oCAA4B;QAAlE;YAAsC,8BAA4B;YACtD,cAAS,GAAY,KAAK,CAAC;QAmCvC,CAAC;QAhCG,+BAAI,GAAJ;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;gBACf,MAAM,CAAC;YACX,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;gBACjD,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YACtB,CAAC;YACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAC1B,CAAC;QAED,6CAAkB,GAAlB,UAAoB,KAAa,EAAE,KAAa;YAC5C,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,eAAe,CAAS,KAAK,EAAE,KAAK,CAAC,CAAC;gBACtD,MAAM,CAAC,KAAK,CAAC;YACjB,MAAM,CAAC,gBAAK,CAAC,kBAAkB,YAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAClD,CAAC;QAEO,0CAAe,GAAvB,UAAyB,MAAc,EAAE,KAAa;YAClD,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,YAAY,kBAAkB,CAAC,CAAC,CAAC,CAAC;gBACnD,KAAK,CAAC,OAAO,GAAG,+CAA+C,CAAC;gBAChE,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACD,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC7B,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,2BAA2B,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;oBAC5D,KAAK,CAAC,OAAO,GAAG,2BAA2B,CAAC;oBAC5C,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;YACL,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACjB,KAAK,CAAC,OAAO,GAAG,mBAAmB,CAAC;gBACpC,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACL,uBAAC;IAAD,CApCA,AAoCC,CApCqC,0BAAoB,GAoCzD;IApCY,sBAAgB,mBAoC5B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAExC;QAA4B,0BAAgB;QAA5C;YAA4B,8BAAgB;YAChC,cAAS,GAAY,KAAK,CAAC;QAsBvC,CAAC;QAdG,qBAAI,GAAJ;YACI,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;YAErB,IAAI,cAAc,GAAa,KAAK,CAAC,aAAa,EAAE,CAAC;YACrD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,sBAAsB,EAAE,SAAS,CAAC,gBAAgB,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,CAAC;YACrG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAC1B,CAAC;QAEM,cAAO,GAAd,UAAgB,OAAe,EAAE,OAAe;YAC5C,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC;YACzB,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC;YACzB,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACtD,CAAC;QApBM,uBAAgB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,UAAU,EAAE,cAAM,OAAA,kBAAkB,EAAlB,CAAkB,EAAE,MAAM,CAAC,CAAC;QAC7F,oBAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,MAAM,CAAC,CAAC;QAC3E,6BAAsB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,MAAM,CAAC,CAAC;QAmBhH,aAAC;IAAD,CAvBA,AAuBC,CAvB2B,sBAAgB,GAuB3C;IAvBY,YAAM,SAuBlB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAClC,CAAC,EAjEM,KAAK,KAAL,KAAK,QAiEX;AClED,IAAO,KAAK,CAgBX;AAhBD,WAAO,KAAK,EAAC,CAAC;IACV;QAA0C,wCAAe;QAIrD,8BAAY,YAA0B,EAAE,OAAqB;YACzD,iBAAO,CAAC;YAER,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,cAAc,EAAE,EAAE,KAAK,EAAE,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;YAC5F,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;YAEvF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACrD,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/C,CAAC;QACL,2BAAC;IAAD,CAbA,AAaC,CAbyC,qBAAe,GAaxD;IAbY,0BAAoB,uBAahC,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;AAChD,CAAC,EAhBM,KAAK,KAAL,KAAK,QAgBX;ACfD,IAAO,KAAK,CAuFX;AAvFD,WAAO,KAAK,EAAC,CAAC;IACV;QAA2B,yBAAgB;QAUvC;YACI,iBAAO,CAAC;YAVJ,cAAS,GAAY,KAAK,CAAC;YAW/B,IAAI,IAAI,GAAG,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAClD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC;QAED,oBAAI,GAAJ;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;gBACf,MAAM,CAAC;YACX,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YAEtB,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC;gBACL,IAAI,CAAC,IAAI,EAAE,CAAC;QACpB,CAAC;QAED,wBAAQ,GAAR,UAAU,QAA0B,EAAE,KAAa;YAC/C,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACjC,IAAI,UAAU,GAAmB,QAAS,CAAC,WAAW,CAAC;YAEvD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,YAAY,UAAU,CAAC,CAAC,CAAC,CAAC;oBACpC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC;oBAChC,KAAK,CAAC,OAAO,GAAG,oBAAoB,GAAS,UAAW,CAAC,IAAI,GAAG,0BAA0B,GAAS,UAAW,CAAC,IAAI,GAAG,GAAG,CAAC;oBAC1H,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAGD,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,OAAO,IAAI,EAAE,CAAC;gBACV,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5B,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;oBACvC,KAAK,CAAC,OAAO,GAAG,qCAAqC,CAAC;oBACtD,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClB,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,CAAC;YACD,MAAM,GAAG,IAAI,CAAC;YAId,IAAI,GAAG,IAAI,CAAC;YACZ,IAAI,UAAoB,CAAC;YACzB,OAAO,IAAI,EAAE,CAAC;gBACV,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC7B,EAAE,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;oBAChB,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;wBACd,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;wBACvC,KAAK,CAAC,OAAO,GAAG,2BAA2B,CAAC;wBAC5C,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC5D,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC;wBAChC,KAAK,CAAC,OAAO,GAAG,oBAAoB,GAAS,UAAW,CAAC,IAAI,GAAG,0BAA0B,GAAS,UAAW,CAAC,IAAI,GAAG,GAAG,CAAC;wBAC1H,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC3E,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;oBACvC,KAAK,CAAC,OAAO,GAAG,oBAAoB,GAAG,CAAC,UAAU,GAAS,UAAW,CAAC,IAAI,GAAG,iBAAiB,CAAC,GAAG,0BAA0B,GAAS,UAAW,CAAC,IAAI,GAAG,GAAG,CAAC;oBAC7J,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;gBACD,UAAU,GAAG,UAAU,CAAC;gBACxB,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;YACxB,CAAC;YAGD,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QA/EM,qBAAe,GAAG,kBAAkB,CAAC,iBAAiB,CAAmB,SAAS,EAAE,cAAM,OAAA,sBAAgB,EAAhB,CAAgB,EAAE,KAAK,CAAC,CAAC;QACnH,qBAAe,GAAG,kBAAkB,CAAC,QAAQ,CAAC,SAAS,EAAE,cAAM,OAAA,KAAK,EAAL,CAAK,EAAE,KAAK,CAAC,CAAC;QAC7E,wBAAkB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAM,OAAA,YAAM,EAAN,CAAM,EAAE,KAAK,CAAC,CAAC;QA8E/F,YAAC;IAAD,CAnFA,AAmFC,CAnF0B,sBAAgB,GAmF1C;IAnFY,WAAK,QAmFjB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC7B,YAAM,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,eAAe,CAAC,CAAC;AACjD,CAAC,EAvFM,KAAK,KAAL,KAAK,QAuFX;AC1FD,IAAO,KAAK,CAaX;AAbD,WAAO,KAAK,EAAC,CAAC;IACV;QAAA;QAUA,CAAC;QAPG,8BAAI,GAAJ,UAAM,GAAW;YACb,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;QAC9B,CAAC;QAED,mCAAS,GAAT,UAAW,EAAS;YAChB,MAAM,CAAC,IAAI,+BAAyB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC9D,CAAC;QACL,sBAAC;IAAD,CAVA,AAUC,IAAA;IAVY,qBAAe,kBAU3B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAC3C,CAAC,EAbM,KAAK,KAAL,KAAK,QAaX;ACVD,IAAO,KAAK,CAoHX;AApHD,WAAO,KAAK,EAAC,CAAC;IACV;QAAmC,iCAAgB;QAAnD;YAAmC,8BAAgB;QAEnD,CAAC;QADG,4BAAI,GAAJ,cAAS,CAAC;QACd,oBAAC;IAAD,CAFA,AAEC,CAFkC,sBAAgB,GAElD;IAFY,mBAAa,gBAEzB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAErC;QAA6C,2CAAmC;QAAhF;YAA6C,8BAAmC;QAOhF,CAAC;QANG,sCAAI,GAAJ;YACI,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACtC,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACX,UAAU,CAAC,OAAQ,CAAC,IAAI,EAAE,CAAC;YAC/C,CAAC;QACL,CAAC;QACL,8BAAC;IAAD,CAPA,AAOC,CAP4C,0BAAoB,GAOhE;IAPY,6BAAuB,0BAOnC,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;IAG/C;QAAiC,+BAAgB;QAAjD;YAAiC,8BAAgB;QAGjD,CAAC;QAFG,4BAAM,GAAN,UAAO,MAAkB,IAAI,CAAC;QAC9B,4BAAM,GAAN,UAAO,MAAkB,IAAI,CAAC;QAClC,kBAAC;IAAD,CAHA,AAGC,CAHgC,sBAAgB,GAGhD;IAHY,iBAAW,cAGvB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAEnC;QAAkC,gCAAW;QAQzC;YACI,iBAAO,CAAC;YAHJ,gBAAW,GAAY,KAAK,CAAC;YAIjC,IAAI,IAAI,GAAG,YAAY,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACzD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC;QAED,6BAAM,GAAN,UAAO,MAAkB;YACrB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;gBACjB,MAAM,CAAC;YACX,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YACvC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAChC,MAAM,CAAC;YACX,CAAC;YACD,OAAO,CAAC,IAAI,CAAC,mCAAmC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;QACzE,CAAC;QACD,6BAAM,GAAN,UAAO,MAAkB;YACrB,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YACvC,EAAE,CAAC,CAAC,GAAG,CAAC;gBAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC1C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,CAAC;QAEO,mCAAY,GAApB,UAAqB,MAAM,EAAE,CAAkB;YAC3C,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC3B,EAAE,CAAC,CAAC,OAAO,CAAC;gBACR,OAAO,CAAC,IAAI,EAAE,CAAC;QACvB,CAAC;QAEO,sCAAe,GAAvB,UAAwB,MAAkB;YAEtC,IAAI,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC;YACvC,IAAI,MAAM,GAAG,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACxC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;gBACpB,eAAe,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;gBACzB,eAAe,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI;gBACA,MAAM,CAAC,SAAS,CAAC;YAErB,IAAI,GAAG,GAAiC,MAAM,CAAC,eAAe,CAAC,CAAC;YAChE,EAAE,CAAC,CAAC,GAAG,YAAY,iBAAW,CAAC;gBAC3B,MAAM,CAAC,GAAG,CAAC;YACf,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAnDM,4BAAe,GAAG,kBAAkB,CAAC,iBAAiB,CAA0B,SAAS,EAAE,cAAM,OAAA,uBAAuB,EAAvB,CAAuB,EAAE,YAAY,CAAC,CAAC;QACxI,gCAAmB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,YAAY,CAAC,CAAC;QAmDxG,mBAAC;IAAD,CArDA,AAqDC,CArDiC,WAAW,GAqD5C;IArDY,kBAAY,eAqDxB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IACpC,YAAM,CAAC,OAAO,CAAC,YAAY,EAAE,YAAY,CAAC,eAAe,CAAC,CAAC;IAE3D;QAAuC,qCAAiC;QAAxE;YAAuC,8BAAiC;QAkCxE,CAAC;QAhCG,sBAAY,+CAAgB;iBAA5B;gBACI,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;gBAC1C,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;oBACZ,MAAM,CAAC,SAAS,CAAC;gBACrB,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;YAC9B,CAAC;;;WAAA;QAED,8CAAkB,GAAlB,UAAmB,KAAkB,EAAE,KAAa;YAChD,EAAE,CAAC,CAAC,CAAC,gBAAK,CAAC,kBAAkB,YAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBACxC,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACnC,EAAE,CAAC,CAAC,MAAM,CAAC;gBAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACjC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,iDAAqB,GAArB,UAAsB,KAAkB,EAAE,WAAoB;YAC1D,gBAAK,CAAC,qBAAqB,YAAC,KAAK,EAAE,WAAW,CAAC,CAAC;YAChD,IAAI,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACnC,EAAE,CAAC,CAAC,MAAM,CAAC;gBAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,CAAC;QAED,wCAAY,GAAZ,UAAa,MAAkB;YAC3B,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACtC,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACb,UAAU,CAAC,OAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACrD,CAAC;QACL,CAAC;QACD,wCAAY,GAAZ,UAAa,MAAkB;YAC3B,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACtC,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACb,UAAU,CAAC,OAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACrD,CAAC;QACL,CAAC;QACL,wBAAC;IAAD,CAlCA,AAkCC,CAlCsC,0BAAoB,GAkC1D;IAlCY,uBAAiB,oBAkC7B,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;AAC7C,CAAC,EApHM,KAAK,KAAL,KAAK,QAoHX;ACvHD,IAAO,KAAK,CAwBX;AAxBD,WAAO,KAAK,EAAC,CAAC;IACV;QAAA;QAIA,CAAC;QAHU,2BAAY,GAAnB,UAAqB,GAAc;YAC/B,MAAM,CAAC,IAAI,mBAAmB,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC;QACL,qBAAC;IAAD,CAJA,AAIC,IAAA;IAJY,oBAAc,iBAI1B,CAAA;IAED;QACI,6BAAqB,GAAc;YAAd,QAAG,GAAH,GAAG,CAAW;QACnC,CAAC;QAED,2CAAa,GAAb;YACI,IAAI,OAAO,GAAW,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC1D,IAAI,CAAC,GAAG;gBACJ,OAAO,EAAE,SAAS;gBAClB,QAAQ;oBACJ,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC,gBAAgB,GAAG,SAAS,CAAC;oBACzD,CAAC,CAAC,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC,OAAO,GAAG,SAAS,CAAC;oBAClD,MAAM,CAAC,CAAC,CAAC,OAAO,KAAK,SAAS,CAAC;gBACnC,CAAC;aACJ,CAAC;YACF,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QACL,0BAAC;IAAD,CAhBA,AAgBC,IAAA;AACL,CAAC,EAxBM,KAAK,KAAL,KAAK,QAwBX;ACxBD,IAAO,KAAK,CA0OX;AA1OD,WAAO,KAAK,EAAC,CAAC;IACV;QAAA;QAwOA,CAAC;QAvOU,0BAAS,GAAhB,UAAkB,CAAmB;YACjC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,sBAAgB,CAAC,CAAC;gBACjC,MAAM,IAAI,yBAAyB,CAAC,kDAAkD,CAAC,CAAC;YAC5F,IAAI,UAAU,GAAe,CAAE,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAC1D,EAAE,CAAC,CAAC,UAAU,CAAC;gBACX,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;QAClC,CAAC;QAEM,gCAAe,GAAtB,UAAmD,CAAmB,EAAE,IAAS;YAC7E,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,sBAAgB,CAAC,CAAC;gBACjC,MAAM,IAAI,yBAAyB,CAAC,kDAAkD,CAAC,CAAC;YAC5F,IAAI,OAAO,GAAe,CAAE,CAAC,QAAQ,CAAC;YACtC,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC;gBAC1C,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,YAAY,IAAI,CAAC;oBAChC,MAAM,CAAS,OAAO,CAAC,OAAO,CAAC;YACvC,CAAC;YACD,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QAEM,wBAAO,GAAd,UAAgB,CAAmB;YAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,sBAAgB,CAAC,CAAC;gBACjC,MAAM,IAAI,yBAAyB,CAAC,kDAAkD,CAAC,CAAC;YAC5F,IAAI,QAAQ,GAAe,CAAE,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;YACvD,EAAE,CAAC,CAAC,QAAQ,CAAC;gBACT,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;QAChC,CAAC;QAEM,yBAAQ,GAAf,UAAiB,CAAmB,EAAE,UAAkB;YACpD,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,sBAAgB,CAAC,CAAC;gBACjC,MAAM,IAAI,yBAAyB,CAAC,kDAAkD,CAAC,CAAC;YAE5F,IAAI,MAAM,GAAW,CAAC,CAAC,QAAQ,CAAC;YAChC,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YACrC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC;gBACb,MAAM,IAAI,wBAAwB,CAAC,UAAU,CAAC,CAAC;YAEnD,IAAI,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;YAClC,EAAE,CAAC,CAAC,OAAO,YAAY,0BAAoB,CAAC;gBACxC,MAAM,CAA4D,OAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YAEtG,EAAE,CAAC,CAAC,CAAC,OAAO,YAAY,eAAS,CAAC,IAAI,UAAU,KAAK,CAAC,CAAC;gBACnD,MAAM,CAAY,OAAO,CAAC;YAE9B,MAAM,IAAI,wBAAwB,CAAC,UAAU,CAAC,CAAC;QACnD,CAAC;QAEM,iCAAgB,GAAvB,UAAyB,CAAmB;YACxC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,sBAAgB,CAAC,CAAC;gBACjC,MAAM,IAAI,yBAAyB,CAAC,kDAAkD,CAAC,CAAC;YAE5F,IAAI,MAAM,GAAW,CAAC,CAAC,QAAQ,CAAC;YAChC,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YACrC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC;gBACb,MAAM,CAAC,CAAC,CAAC;YAEb,IAAI,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;YAClC,EAAE,CAAC,CAAC,WAAW,CAAC,OAAO,YAAY,0BAAoB,CAAC;gBACpD,MAAM,CAA0C,OAAQ,CAAC,KAAK,CAAC;YAEnE,EAAE,CAAC,CAAC,OAAO,YAAY,eAAS,CAAC;gBAC7B,MAAM,CAAC,CAAC,CAAC;YAEb,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAEM,8CAA6B,GAApC,UAAsC,GAAU,EAAE,GAAc;YAC5D,MAAM,CAAC,OAAO,CAAC,uBAAuB,CAAC,GAAG,EAAE,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;iBAClE,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,OAAO,EAArC,CAAqC,CAAC,CAAC;QAC3D,CAAC;QAEM,wBAAO,GAAd,UAAgB,EAAO,EAAE,IAAgD;YACrE,IAAI,GAAW,CAAC;YAChB,EAAE,CAAC,CAAC,EAAE,YAAY,eAAS,CAAC,CAAC,CAAC;gBAC1B,GAAG,GAAe,EAAG,CAAC,QAAQ,CAAC;YACnC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,YAAY,YAAM,CAAC,CAAC,CAAC;gBAC9B,GAAG,GAAW,EAAE,CAAC;YACrB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,YAAY,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC5C,GAAG,GAA0B,EAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YAC/D,CAAC;YAGD,IAAI,OAAe,CAAC;YACpB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACP,IAAI,EAAE,GAAG,iBAAW,CAAC,OAAO,CAAC,UAAU,CAAC;gBACxC,OAAO,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;YACxC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,OAAO,GAAG,GAAG,CAAC,aAAa,EAAE,CAAC;YAClC,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC,gBAAgB,CAAC;YAE5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,IAAI,GAAG,gBAAgB,CAAC,gBAAgB,CAAC;YAC7C,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QAC/D,CAAC;QAEc,4BAAW,GAA1B,UAA4B,OAAe,EAAE,SAAiB,EAAE,QAAgB,EAAE,IAA+C;YAC7H,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,EAAE,CAAC,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC;gBACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;oBAChC,GAAG,IAAI,UAAU,CAAC;gBACtB,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;oBAChC,GAAG,IAAI,IAAI,CAAC;gBAChB,CAAC;YACL,CAAC;YAED,IAAI,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC;YAC1B,GAAG,IAAU,GAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YACnC,IAAI,EAAE,GAAS,GAAI,CAAC,GAAG,CAAC;YACxB,EAAE,CAAC,CAAC,EAAE,CAAC;gBAAC,GAAG,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YAC9B,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;YACxB,GAAG,IAAI,IAAI,CAAC;YACZ,IAAI,EAAE,GAAG,OAAO,CAAC,SAAS,CAAC;YAC3B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;gBACJ,GAAG,IAAI,GAAG,CAAC;YACf,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC;gBACf,GAAG,IAAI,GAAG,CAAC;YACf,IAAI;gBACA,GAAG,IAAI,GAAG,CAAC;YACf,GAAG,IAAI,IAAI,GAAG,GAAG,CAAC;YAClB,EAAE,CAAC,CAAC,IAAI,CAAC;gBACL,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YACnC,GAAG,IAAI,IAAI,CAAC;YAEZ,IAAI,UAAU,GAAY,OAAQ,CAAC,uBAAuB,EAAE,CAAC;YAC7D,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;gBACZ,MAAM,CAAC,GAAG,CAAC;YAEf,IAAI,SAAiB,CAAC;YACtB,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;gBAC3B,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC;gBAC/B,GAAG,IAAI,gBAAgB,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,EAAE,QAAQ,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;YAClF,CAAC;YAED,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QAEc,iCAAgB,GAA/B,UAAiC,GAAW,EAAE,QAAgB;YAC1D,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBACL,MAAM,CAAC,EAAE,CAAC;YACd,IAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC;YACtB,IAAI,GAAG,GAAG,GAAG,CAAC;YACd,EAAE,CAAC,CAAC,GAAG,CAAC,UAAU,KAAK,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;gBAC5C,GAAG,IAAI,SAAS,CAAC;YACrB,IAAI;gBACA,GAAG,IAAI,WAAW,CAAC;YAEvB,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC;YAC3B,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACL,GAAG,IAAI,GAAG,CAAC;gBACX,IAAI,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC;gBAC9B,GAAG,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC,KAAK,GAAG,GAAG,GAAG,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC;YAC7E,CAAC;YACD,GAAG,IAAI,GAAG,CAAC;YAEX,IAAI,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC;YAC1B,GAAG,IAAI,MAAM,GAAG,CAAC,CAAC,GAAS,CAAE,CAAC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC;YAE3D,IAAI,OAAO,GAAG,gBAAgB,CAAC,WAAW,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;YAC1D,EAAE,CAAC,CAAC,OAAO,CAAC;gBACR,GAAG,IAAI,IAAI,GAAG,OAAO,CAAC;YAC1B,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QAEc,4BAAW,GAA1B,UAA4B,GAAW,EAAE,QAAgB;YACrD,IAAI,IAAmB,CAAC;YACxB,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,YAAY,cAAQ,CAAC,IAAI,CAAC;gBACrC,IAAI,GAAkB,GAAG,CAAC,OAAO,CAAC;YACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,MAAM,CAAC,EAAE,CAAC;YACd,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC;YAC9B,IAAI,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC;YACjC,IAAI,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC;YAEvB,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;gBAChC,IAAI,IAAI,IAAI,CAAC;YACjB,CAAC;YAED,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACb,GAAG,IAAI,IAAI,CAAC;gBACZ,GAAG,IAAI,UAAU,GAAG,MAAM,GAAG,MAAM,CAAC;gBACpC,IAAI,MAA8B,CAAC;gBACnC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3D,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC;oBACpB,GAAG,IAAI,IAAI,CAAC;oBACZ,GAAG,IAAI,KAAK,GAAG,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC5D,CAAC;YACL,CAAC;YACD,IAAI,WAA6D,CAAC;YAClE,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACb,GAAG,IAAI,IAAI,CAAC;gBACZ,GAAG,IAAI,aAAa,GAAG,MAAM,GAAG,MAAM,CAAC;gBACvC,IAAI,MAAiC,CAAC;gBACtC,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,aAAa,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC7D,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC;oBACrB,GAAG,IAAI,IAAI,CAAC;oBACZ,GAAG,IAAI,KAAK,GAAG,CAAC,GAAG,OAAO,GAAG,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;gBAC3D,CAAC;YACL,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QAEc,uCAAsB,GAArC,UAAuC,GAAW,EAAE,QAAgB;YAChE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBACL,MAAM,CAAC,EAAE,CAAC;YACd,MAAM,CAAO,GAAG,CAAC,aAAc,CAAC,YAAY,EAAE,CAAC;QACnD,CAAC;QAEM,8BAAa,GAApB,UAAsB,EAAO;YACzB,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,EAAE,gBAAgB,CAAC,sBAAsB,CAAC,CAAC;QACjF,CAAC;QAEc,0BAAS,GAAxB,UAA0B,EAAU;YAEhC,IAAI,EAAE,GAAG,iBAAW,CAAC,OAAO,CAAC,UAAU,CAAC;YACxC,IAAI,OAAO,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;YACxC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC;YAEX,IAAI,MAAM,GAAG,oBAAc,CAAC,OAAO,CAAC,CAAC;YACrC,IAAI,OAAe,CAAC;YACpB,OAAO,OAAO,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC;gBAC7B,EAAE,CAAC,CAAO,OAAO,CAAC,OAAQ,CAAC,GAAG,KAAK,EAAE,CAAC;oBAClC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC;YAC/B,CAAC;QACL,CAAC;QACL,uBAAC;IAAD,CAxOA,AAwOC,IAAA;IAxOY,sBAAgB,mBAwO5B,CAAA;AACL,CAAC,EA1OM,KAAK,KAAL,KAAK,QA0OX;ACzOD,IAAO,KAAK,CA6PX;AA7PD,WAAO,KAAK,EAAC,CAAC;IACV,WAAY,mBAAmB;QAC3B,mEAAO,CAAA;QACP,mEAAO,CAAA;QACP,qEAAQ,CAAA;QACR,qEAAQ,CAAA;IACZ,CAAC,EALW,yBAAmB,KAAnB,yBAAmB,QAK9B;IALD,IAAY,mBAAmB,GAAnB,yBAKX,CAAA;IAgBD,sBAAsB,GAAU,EAAE,GAAU,EAAE,KAAY;QACtD,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,MAAc,CAAC;QACnB,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;YAC3B,MAAM,GAAW,UAAU,CAAC,OAAO,CAAC;YACpC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,YAAY,KAAK,CAAC,MAAM,CAAC,CAAC;gBAClC,QAAQ,CAAC;YACb,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC;YAC5B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;gBACP,QAAQ,CAAC;YACb,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACf,QAAQ,CAAC;YACb,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;YACxB,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrB,CAAC;IACL,CAAC;IACD,2BAAkC,KAAY;QAC1C,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,IAAI,gBAAgB,GAAG,EAAE,CAAC;QAC1B,IAAI,GAAG,GAAG,KAAK,CAAC;QAChB,OAAO,GAAG,EAAE,CAAC;YACT,YAAY,CAAC,gBAAgB,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YACzC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC;QACtB,CAAC;QACD,gBAAgB,CAAC,IAAI,CAAC,YAAM,CAAC,OAAO,CAAC,CAAC;QAEtC,MAAM,CAAC;YACH,IAAI,EAAE;gBACF,MAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;YACpC,CAAC;SACJ,CAAC;IACN,CAAC;IAfe,uBAAiB,oBAehC,CAAA;IACD,8BAAqC,MAAe;QAChD,IAAI,gBAAgB,GAAG,EAAE,CAAC;QAC1B,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;YACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACtB,OAAO,KAAK,EAAE,CAAC;oBACX,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC/B,QAAQ,CAAC;oBACb,YAAY,CAAC,gBAAgB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;oBAC3C,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACvB,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC;gBAC1B,CAAC;YACL,CAAC;YACD,gBAAgB,CAAC,IAAI,CAAC,YAAM,CAAC,OAAO,CAAC,CAAC;QAC1C,CAAC;QAED,MAAM,CAAC;YACH,IAAI,EAAE;gBACF,MAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;YACpC,CAAC;SACJ,CAAC;IACN,CAAC;IAxBe,0BAAoB,uBAwBnC,CAAA;IAGD,wBAA+B,OAAe,EAAE,SAA+B;QAC3E,IAAI,IAAI,GAAW,SAAS,CAAC;QAC7B,IAAI,GAAG,GAAG,mBAAmB,CAAC,OAAO,CAAC;QACtC,IAAI,QAAQ,GAAa,CAAC,OAAO,CAAC,CAAC;QACnC,EAAE,CAAC,CAAC,SAAS,CAAC;YACV,GAAG,GAAG,SAAS,CAAC;QAEpB,MAAM,CAAC;YACH,IAAI,EAAE;gBACF,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACP,IAAI,UAAU,GAAY,IAAK,CAAC,uBAAuB,EAAE,CAAC;oBAC1D,IAAI,WAAW,GAAG,CAAC,CAAC;oBACpB,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;wBAC3B,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC;wBACpD,WAAW,EAAE,CAAC;oBAClB,CAAC;gBACL,CAAC;gBAED,IAAI,IAAI,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAC5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACR,IAAI,GAAG,SAAS,CAAC;oBACjB,MAAM,CAAC;gBACX,CAAC;gBACD,MAAM,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;YACzB,CAAC;YACD,UAAU,EAAE;gBACR,IAAI,GAAG,SAAS,CAAC;YACrB,CAAC;SACJ,CAAC;IACN,CAAC;IA7Be,oBAAc,iBA6B7B,CAAA;IAED,iBAAiB,IAA0B,EAAE,KAA2B;QACpE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YACN,MAAM,CAAC,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC3B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YACP,MAAM,CAAC,CAAC,CAAC;QAEb,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC/B,IAAI,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;QAEhC,EAAE,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC;YACb,MAAM,CAAC,EAAE,IAAI,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC/B,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC;YACpB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QACD,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC;YACR,MAAM,CAAC,CAAC,CAAC;QACb,MAAM,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC9B,CAAC;IACD,iCAAiC,GAAW;QACxC,OAAO,GAAG,EAAE,CAAC;YACT,EAAE,CAAC,CAAC,GAAG,YAAY,cAAQ,CAAC,WAAW,CAAC;gBACpC,MAAM,CAAwB,GAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YAC7D,MAAM,CAAC,WAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC;QAC9C,CAAC;QACD,MAAM,CAAC,WAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC;IAC9C,CAAC;IACD,iCAAiC,GAAW;QACxC,OAAO,GAAG,EAAE,CAAC;YACT,EAAE,CAAC,CAAC,GAAG,YAAY,cAAQ,CAAC,WAAW,CAAC;gBACpC,MAAM,CAAwB,GAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YAC7D,GAAG,GAAG,GAAG,CAAC,gBAAgB,CAAC;QAC/B,CAAC;QACD,MAAM,CAAC,WAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC;IAC9C,CAAC;IACD,sBAAsB,IAAY,EAAE,GAAY,EAAE,QAAkB;QAChE,IAAI,MAAM,GAAG,IAAI,mBAAmB,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;QAC1D,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;IAC/B,CAAC;IACD;QAMI,6BAAY,IAAY,EAAE,GAAW,EAAE,QAAiB;YACpD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;YACpB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACzB,CAAC;QAED,wCAAU,GAAV;YACI,IAAI,SAAiB,CAAC;YACtB,IAAI,cAAc,CAAC;YACnB,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC;YAElB,IAAI,WAAW,GAAG,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC7C,OAAO,SAAS,GAAG,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC;gBACpC,EAAE,CAAC,CAAC,SAAS,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,SAAS,YAAY,cAAQ,CAAC,WAAW,CAAC,CAAC;oBACzE,QAAQ,CAAC;gBACb,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAChC,WAAW,CAAC,UAAU,EAAE,CAAC;YAC7B,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC9B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;YACpD,CAAC;YAED,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACjC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC;oBACrC,QAAQ,GAAG,CAAC,CAAC;YACrB,CAAC;YAED,EAAE,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,IAAI,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,WAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC/F,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,YAAY,cAAQ,CAAC,WAAW,CAAC;oBAC9D,MAAM,CAAwB,IAAI,CAAC,KAAM,CAAC,KAAK,EAAE,CAAC;gBACtD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAED,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACjC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBACV,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,CAAC,KAAK,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,WAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC;wBACzG,KAAK,CAAC;oBACV,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;oBACtD,cAAc,GAAG,SAAS,YAAY,cAAQ,CAAC,WAAW,CAAC;oBAE3D,EAAE,CAAC,CAAC,cAAc,IAAI,CAAwB,SAAU,CAAC,OAAO,CAAC,SAAS,CAAC;wBACvE,QAAQ,CAAC;oBAEb,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;wBAC3C,MAAM,CAAC,IAAI,CAAC;oBAEhB,EAAE,CAAC,CAAC,cAAc,IAA2B,SAAU,CAAC,KAAK,EAAE,CAAC;wBAC5D,MAAM,CAAC,IAAI,CAAC;oBAEhB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC;wBAC1C,MAAM,CAAC,IAAI,CAAC;gBACpB,CAAC;YACL,CAAC;YAED,EAAE,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,YAAY,cAAQ,CAAC,WAAW,CAAC;oBAC3C,MAAM,CAAwB,IAAI,CAAC,KAAM,CAAC,KAAK,EAAE,CAAC;YAC1D,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAEM,yBAAK,GAAZ,UAAa,GAAW,EAAE,QAAkB;YACxC,IAAI,OAAO,GAAG,KAAK,CAAC;YACpB,IAAI,GAAG,GAAG,GAAG,CAAC;YACd,IAAI,IAAI,GAAG,GAAG,CAAC;YAEf,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,uBAAuB,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,WAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC;mBAC5G,CAAC,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBAClD,OAAO,IAAI,GAAG,IAAI,CAAC,gBAAgB;oBAC/B,EAAE,CAAC,CAAC,IAAI,YAAY,cAAQ,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;wBAC/D,KAAK,CAAC;YAClB,CAAC;YAED,GAAG,CAAC;gBACA,OAAO,GAAG,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;gBAEvD,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,uBAAuB,CAAC,IAAI,CAAC,KAAK,WAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC;oBACjF,MAAM,CAAC,IAAI,CAAC;gBAEhB,GAAG,GAAG,IAAI,CAAC;gBACX,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBAC7B,OAAO,IAAI,IAAI,CAAC,CAAC,IAAI,YAAY,cAAQ,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,gBAAgB;oBAC3E,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAA;YACpC,CAAC,QAAQ,CAAC,OAAO,IAAI,IAAI,EAAE;YAE3B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,OAAO,GAAG,OAAO,IAAI,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;YAC3D,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QACL,0BAAC;IAAD,CAtGA,AAsGC,IAAA;IAtGY,yBAAmB,sBAsG/B,CAAA;AACL,CAAC,EA7PM,KAAK,KAAL,KAAK,QA6PX;AC9PD,IAAO,KAAK,CAmEX;AAnED,WAAO,KAAK;IAAC,IAAA,SAAS,CAmErB;IAnEY,WAAA,SAAS,EAAC,CAAC;QAKpB,sBAAqC,KAAyB,EAAE,QAAwC,EAAE,MAAgB,EAAE,IAAU,EAAE,QAAc;YAClJ,IAAI,OAAiB,CAAC;YACtB,EAAE,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;gBACjB,OAAO,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,GAAG,QAAQ,CAAS,QAAQ,CAAC,GAAG,SAAS,CAAS,QAAQ,CAAC,CAAC;YAC5F,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gBACtB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACrD,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,UAAU,CAAC;oBAC3B,OAAO,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,GAAG,SAAS,CAAS,QAAQ,EAAE,IAAI,CAAC,GAAG,UAAU,CAAS,QAAQ,EAAE,IAAI,CAAC,CAAC;gBAC1G,IAAI;oBACA,OAAO,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,GAAG,SAAS,CAAS,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,UAAU,CAAS,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1H,CAAC;YACD,EAAE,CAAC,CAAC,QAAQ,CAAC;gBACT,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,EAAE,KAAK,EAAO,OAAO,EAAE,QAAQ,CAAC,CAAC;YACzE,IAAI;gBACA,KAAK,CAAC,eAAe,GAAQ,OAAO,CAAC;QAC7C,CAAC;QAhBe,sBAAY,eAgB3B,CAAA;QAED,kBAAqB,QAAkC;YACnD,MAAM,CAAC,UAAC,EAAe,EAAE,IAAwC;gBAC7D,QAAQ,IAAI,QAAQ,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC3E,CAAC,CAAC;QACN,CAAC;QAED,mBAAsB,QAAkC,EAAE,IAAY,EAAE,MAAkC;YACtG,MAAM,CAAC,UAAC,EAAe,EAAE,IAAwC;gBAC7D,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACvB,IAAI,GAAG,GAAG,EAAE,CAAC,WAAW,CAAC;gBACzB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;oBACR,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;gBAC1B,IAAI;oBACA,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;gBACjC,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAC1C,CAAC,CAAC;QACN,CAAC;QAED,mBAAsB,QAAkC;YACpD,MAAM,CAAC,UAAC,EAAe,EAAE,IAAwC;gBAC7D,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACvB,IAAI,GAAG,GAAG,EAAE,CAAC,WAAW,CAAC;gBACzB,eAAS,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAClB,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;gBACtC,aAAO,CAAC,EAAE,EAAE,EAAE,EAAE,cAAM,OAAA,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAzB,CAAyB,CAAC,CAAC;YACrD,CAAC,CAAC;QACN,CAAC;QAED,oBAAuB,QAAkC,EAAE,IAAY,EAAE,MAAkC;YACvG,MAAM,CAAC,UAAC,EAAe,EAAE,IAAwC;gBAC7D,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACvB,IAAI,GAAG,GAAG,EAAE,CAAC,WAAW,CAAC;gBACzB,eAAS,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAClB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;oBACR,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;gBAC1B,IAAI;oBACA,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;gBACjC,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;gBACtC,aAAO,CAAC,EAAE,EAAE,EAAE,EAAE,cAAM,OAAA,QAAQ,IAAI,QAAQ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAArC,CAAqC,CAAC,CAAC;YACjE,CAAC,CAAC;QACN,CAAC;IACL,CAAC,EAnEY,SAAS,GAAT,eAAS,KAAT,eAAS,QAmErB;AAAD,CAAC,EAnEM,KAAK,KAAL,KAAK,QAmEX;AC/DD,IAAO,KAAK,CAsGX;AAtGD,WAAO,KAAK;IAAC,IAAA,SAAS,CAsGrB;IAtGY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAqC,mCAAM;YAGvC,yBAAa,IAAiB,EAAE,qBAA6B;gBACzD,kBAAM,IAAI,CAAC,CAAC;gBACZ,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;YACvD,CAAC;YAID,gDAAsB,GAAtB;gBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC;oBAC5B,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC;gBACxC,IAAI,IAAI,GAA2C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;gBAC5F,EAAE,CAAC,CAAC,IAAI,CAAC;oBACL,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAU,CAAC;YAChD,CAAC;YACL,sBAAC;QAAD,CAjBA,AAiBC,CAjBoC,YAAM,GAiB1C;QAjBY,yBAAe,kBAiB3B,CAAA;QAED,wBAAyB,GAA6B,EAAE,EAAE,EAAE,EAAE,EAAE,EAAgB;YAC5E,YAAM,CAAC,EAAE,EAAE;gBACP,IAAI,EAAE,MAAM;gBACZ,IAAI,EAAE,GAAG,CAAC,cAAc,EAAE;aAC7B,CAAC,CAAC;QACP,CAAC;QAED;YAAiC,+BAAgB;YAQ7C;gBACI,iBAAO,CAAC;gBAPZ,gBAAW,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;gBAQzC,sBAAY,CAAc,WAAW,CAAC,kBAAkB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAgB;oBACpF,YAAM,CAAC,EAAE,EAAE;wBACP,IAAI,EAAE,MAAM;wBACZ,IAAI,EAAE,GAAG,CAAC,cAAc,EAAE;qBAC7B,CAAC,CAAC;gBACP,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACrB,sBAAY,CAAS,WAAW,CAAC,kBAAkB,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACxF,sBAAY,CAAS,WAAW,CAAC,gBAAgB,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACtF,sBAAY,CAAS,WAAW,CAAC,mBAAmB,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACzF,sBAAY,CAAS,WAAW,CAAC,iBAAiB,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACvF,sBAAY,CAAa,WAAW,CAAC,kBAAkB,EAAE,cAAc,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAChG,CAAC;YAjBD,gCAAU,GAAV;gBACI,MAAM,CAAC,IAAI,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC3C,CAAC;YAgCD,mCAAa,GAAb,UAAe,KAAyB;gBACpC,MAAM,CAAC,yBAAyB,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YACzD,CAAC;YAED,oCAAc,GAAd;gBACI,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;YAID,4BAAM,GAAN,UAAQ,EAAe;gBACnB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE,CAAC,UAAU,CAAC;oBAClC,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,EAAE,CAAC,QAAQ,CAAC;oBAC9B,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,EAAE,CAAC,SAAS,CAAC;oBAChC,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE,CAAC,UAAU,CAAC;oBAClC,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,CAAC,WAAW,CAAC;oBACpC,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;oBAClD,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAvCM,8BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC/E,4BAAgB,GAAG,sBAAgB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC3E,+BAAmB,GAAG,sBAAgB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YACjF,6BAAiB,GAAG,sBAAgB,CAAC,iBAAiB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC7E,8BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC/E,8BAAkB,GAAG,sBAAgB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC/E,4BAAgB,GAAG,sBAAgB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAkCtF,kBAAC;QAAD,CA/DA,AA+DC,CA/DgC,sBAAgB,GA+DhD;QA/DY,qBAAW,cA+DvB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAEnC,IAAI,yBAAyB,GAAG;YAC5B,WAAW,CAAC,kBAAkB;YAC9B,WAAW,CAAC,gBAAgB;YAC5B,WAAW,CAAC,mBAAmB;YAC/B,WAAW,CAAC,iBAAiB;YAC7B,WAAW,CAAC,kBAAkB;YAC9B,WAAW,CAAC,kBAAkB;YAC9B,WAAW,CAAC,gBAAgB;SAC/B,CAAC;IACN,CAAC,EAtGY,SAAS,GAAT,eAAS,KAAT,eAAS,QAsGrB;AAAD,CAAC,EAtGM,KAAK,KAAL,KAAK,QAsGX;ACxGD,IAAO,KAAK,CAIX;AAJD,WAAO,KAAK;IAAC,IAAA,SAAS,CAIrB;IAJY,WAAA,SAAS,EAAC,CAAC;QACpB;YAA2B,yBAAW;YAAtC;gBAA2B,8BAAW;YACtC,CAAC;YAAD,YAAC;QAAD,CADA,AACC,CAD0B,qBAAW,GACrC;QADY,eAAK,QACjB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC,EAJY,SAAS,GAAT,eAAS,KAAT,eAAS,QAIrB;AAAD,CAAC,EAJM,KAAK,KAAL,KAAK,QAIX;ACND,IAAO,KAAK,CAmBX;AAnBD,WAAO,KAAK;IAAC,IAAA,SAAS,CAmBrB;IAnBY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAqC,mCAA2B;YAAhE;gBAAqC,8BAA2B;YAgBhE,CAAC;YAfG,yCAAe,GAAf,UAAiB,KAAY,EAAE,KAAa;gBACxC,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,IAAI;iBACZ,CAAC,CAAC;YACP,CAAC;YAED,2CAAiB,GAAjB,UAAmB,KAAY,EAAE,KAAa;gBAC1C,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,KAAK;iBACb,CAAC,CAAC;YACP,CAAC;YACL,sBAAC;QAAD,CAhBA,AAgBC,CAhBoC,0BAAoB,GAgBxD;QAhBY,yBAAe,kBAgB3B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;IAC3C,CAAC,EAnBY,SAAS,GAAT,eAAS,KAAT,eAAS,QAmBrB;AAAD,CAAC,EAnBM,KAAK,KAAL,KAAK,QAmBX;ACjBD,IAAO,KAAK,CA4BX;AA5BD,WAAO,KAAK;IAAC,IAAA,SAAS,CA4BrB;IA5BY,WAAA,SAAS,EAAC,CAAC;QACpB;YAA4B,0BAAW;YAInC;gBACI,iBAAO,CAAC;gBACR,sBAAY,CAAkB,MAAM,CAAC,uBAAuB,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAgB;oBACxF,YAAM,CAAC,EAAE,EAAE;wBACP,IAAI,EAAE,MAAM;wBACZ,IAAI,EAAE,GAAG,CAAC,cAAc,EAAE;qBAC7B,CAAC,CAAC;gBACP,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC1B,CAAC;YAED,uBAAM,GAAN,UAAQ,MAAc;gBAClB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,KAAK,MAAM,CAAC,eAAe,CAAC;oBAChD,MAAM,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,gBAAK,CAAC,MAAM,YAAC,MAAM,CAAC,CAAC;YAChC,CAAC;YAED,8BAAa,GAAb,UAAe,KAAyB;gBACpC,EAAE,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,uBAAuB,CAAC;oBACzC,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,gBAAK,CAAC,aAAa,YAAC,KAAK,CAAC,CAAC;YACtC,CAAC;YAvBM,8BAAuB,GAAG,sBAAgB,CAAC,uBAAuB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAwB/F,aAAC;QAAD,CAzBA,AAyBC,CAzB2B,qBAAW,GAyBtC;QAzBY,gBAAM,SAyBlB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC,EA5BY,SAAS,GAAT,eAAS,KAAT,eAAS,QA4BrB;AAAD,CAAC,EA5BM,KAAK,KAAL,KAAK,QA4BX;AC9BD,IAAO,KAAK,CAmBX;AAnBD,WAAO,KAAK;IAAC,IAAA,SAAS,CAmBrB;IAnBY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAsC,oCAA4B;YAAlE;gBAAsC,8BAA4B;YAgBlE,CAAC;YAfG,0CAAe,GAAf,UAAiB,KAAa,EAAE,KAAa;gBACzC,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,IAAI;iBACZ,CAAC,CAAC;YACP,CAAC;YAED,4CAAiB,GAAjB,UAAmB,KAAa,EAAE,KAAa;gBAC3C,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,KAAK,EAAE,KAAK;oBACZ,GAAG,EAAE,KAAK;iBACb,CAAC,CAAC;YACP,CAAC;YACL,uBAAC;QAAD,CAhBA,AAgBC,CAhBqC,0BAAoB,GAgBzD;QAhBY,0BAAgB,mBAgB5B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAC5C,CAAC,EAnBY,SAAS,GAAT,eAAS,KAAT,eAAS,QAmBrB;AAAD,CAAC,EAnBM,KAAK,KAAL,KAAK,QAmBX;ACjBD,IAAO,KAAK,CAIX;AAJD,WAAO,KAAK;IAAC,IAAA,SAAS,CAIrB;IAJY,WAAA,SAAS,EAAC,CAAC;QACpB;YAA+B,6BAAM;YAArC;gBAA+B,8BAAM;YACrC,CAAC;YAAD,gBAAC;QAAD,CADA,AACC,CAD8B,gBAAM,GACpC;QADY,mBAAS,YACrB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC,EAJY,SAAS,GAAT,eAAS,KAAT,eAAS,QAIrB;AAAD,CAAC,EAJM,KAAK,KAAL,KAAK,QAIX;ACJD,IAAO,KAAK,CAiCX;AAjCD,WAAO,KAAK;IAAC,IAAA,SAAS,CAiCrB;IAjCY,WAAA,SAAS,EAAC,CAAC;QACpB;YAA+B,6BAAK;YAQhC;gBARJ,iBA6BC;gBApBO,iBAAO,CAAC;gBACR,IAAI,IAAI,GAAG,SAAS,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACtD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,aAAO,CAAC,IAAI,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,EAAtC,CAAsC,CAAC,CAAC;YAC1E,CAAC;YAZD,8BAAU,GAAV;gBACI,MAAM,CAAC,IAAI,yBAAe,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;YAChD,CAAC;YAYD,kCAAc,GAAd,UAAgB,MAAc,EAAE,KAAc;gBAA9C,iBAaC;gBAZG,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,eAAS,CAAC,cAAc,CAAC,uBAAuB,CAAC,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAE5E,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,aAAO,CAAC,MAAM,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,YAAM,CAAC,KAAI,EAAE,GAAG,CAAC,EAAjB,CAAiB,CAAC,CAAC;gBACvD,IAAI;oBACA,eAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAE5B,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,IAAI;iBACb,CAAC,CAAC;YACP,CAAC;YAvBM,yBAAe,GAAG,kBAAkB,CAAC,iBAAiB,CAAmB,SAAS,EAAE,cAAM,OAAA,0BAAgB,EAAhB,CAAgB,EAAE,SAAS,CAAC,CAAC;YAwBlI,gBAAC;QAAD,CA7BA,AA6BC,CA7B8B,eAAK,GA6BnC;QA7BY,mBAAS,YA6BrB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACjC,YAAM,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,eAAe,CAAC,CAAC;IACzD,CAAC,EAjCY,SAAS,GAAT,eAAS,KAAT,eAAS,QAiCrB;AAAD,CAAC,EAjCM,KAAK,KAAL,KAAK,QAiCX;ACjCD,IAAO,KAAK,CAyBX;AAzBD,WAAO,KAAK;IAAC,IAAA,SAAS,CAyBrB;IAzBY,WAAA,SAAS,EAAC,CAAC;QACpB;YAAyB,uBAAM;YAA/B;gBAAyB,8BAAM;YAa/B,CAAC;YAPG,4BAAc,GAAd,cAA2B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAE9C,2BAAa,GAAb,UAAc,KAAyB;gBACnC,EAAE,CAAC,CAAC,KAAK,KAAK,GAAG,CAAC,qBAAqB,CAAC;oBACpC,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,gBAAK,CAAC,aAAa,YAAC,KAAK,CAAC,CAAC;YACtC,CAAC;YAXM,yBAAqB,GAAG,sBAAgB,CAAC,qBAAqB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC7E,gBAAY,GAAG,kBAAkB,CAAC,QAAQ,CAAC,MAAM,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,GAAG,CAAC,CAAC;YAWjF,UAAC;QAAD,CAbA,AAaC,CAbwB,gBAAM,GAa9B;QAbY,aAAG,MAaf,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAE3B,IAAO,SAAS,CAOf;QAPD,WAAO,SAAS,EAAC,CAAC;YACd,sBAAY,CAAS,GAAG,CAAC,YAAY,EAAE,UAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAS;gBAC1D,YAAM,CAAC,GAAG,EAAE;oBACR,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,IAAI;iBACb,CAAC,CAAC;YACP,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC,EAPM,SAAS,KAAT,SAAS,QAOf;IACL,CAAC,EAzBY,SAAS,GAAT,eAAS,KAAT,eAAS,QAyBrB;AAAD,CAAC,EAzBM,KAAK,KAAL,KAAK,QAyBX;ACzBD,IAAO,KAAK,CAiCX;AAjCD,WAAO,KAAK;IAAC,IAAA,SAAS,CAiCrB;IAjCY,WAAA,SAAS,EAAC,CAAC;QACpB;YAA6B,2BAAW;YAQpC;gBARJ,iBA6BC;gBApBO,iBAAO,CAAC;gBACR,IAAI,IAAI,GAAG,OAAO,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACnD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,aAAO,CAAC,IAAI,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,EAArC,CAAqC,CAAC,CAAC;YACzE,CAAC;YAZD,4BAAU,GAAV;gBACI,MAAM,CAAC,IAAI,yBAAe,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;YAC/C,CAAC;YAYD,+BAAa,GAAb,UAAe,KAAY,EAAE,KAAc;gBAA3C,iBAaC;gBAZG,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,eAAS,CAAC,cAAc,CAAC,uBAAuB,CAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAE3E,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,aAAO,CAAC,KAAK,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,YAAM,CAAC,KAAI,EAAE,GAAG,CAAC,EAAjB,CAAiB,CAAC,CAAC;gBACtD,IAAI;oBACA,eAAS,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAE3B,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,IAAI;iBACb,CAAC,CAAC;YACP,CAAC;YAvBM,sBAAc,GAAG,kBAAkB,CAAC,iBAAiB,CAAkB,QAAQ,EAAE,cAAM,OAAA,yBAAe,EAAf,CAAe,EAAE,OAAO,CAAC,CAAC;YAwB5H,cAAC;QAAD,CA7BA,AA6BC,CA7B4B,qBAAW,GA6BvC;QA7BY,iBAAO,UA6BnB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC/B,YAAM,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,cAAc,CAAC,CAAC;IACpD,CAAC,EAjCY,SAAS,GAAT,eAAS,KAAT,eAAS,QAiCrB;AAAD,CAAC,EAjCM,KAAK,KAAL,KAAK,QAiCX;ACjCD,IAAO,KAAK,CA0CX;AA1CD,WAAO,KAAK;IAAC,IAAA,SAAS,CA0CrB;IA1CY,WAAA,SAAS,EAAC,CAAC;QACpB;YAA0B,wBAAM;YAQ5B;gBARJ,iBAsCC;gBA7BO,iBAAO,CAAC;gBACR,IAAI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACjD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpB,aAAO,CAAC,IAAI,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,EAAtC,CAAsC,CAAC,CAAC;YAC1E,CAAC;YAZD,yBAAU,GAAV;gBACI,MAAM,CAAC,IAAI,yBAAe,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;YAChD,CAAC;YAYD,6BAAc,GAAd;gBACI,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;gBAC9C,OAAO,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBAC3B,GAAG,IAAkB,UAAU,CAAC,OAAQ,CAAC,cAAc,EAAE,CAAC;gBAC9D,CAAC;gBACD,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YAED,6BAAc,GAAd,UAAgB,MAAc,EAAE,KAAc;gBAA9C,iBAaC;gBAZG,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,eAAS,CAAC,cAAc,CAAC,uBAAuB,CAAC,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAE5E,EAAE,CAAC,CAAC,KAAK,CAAC;oBACN,aAAO,CAAC,MAAM,EAAE,IAAI,EAAE,UAAC,GAAI,IAAK,OAAA,YAAM,CAAC,KAAI,EAAE,GAAG,CAAC,EAAjB,CAAiB,CAAC,CAAC;gBACvD,IAAI;oBACA,eAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAE5B,YAAM,CAAC,IAAI,EAAE;oBACT,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,IAAI;iBACb,CAAC,CAAC;YACP,CAAC;YAhCM,oBAAe,GAAG,kBAAkB,CAAC,iBAAiB,CAAmB,SAAS,EAAE,cAAM,OAAA,0BAAgB,EAAhB,CAAgB,EAAE,IAAI,CAAC,CAAC;YAiC7H,WAAC;QAAD,CAtCA,AAsCC,CAtCyB,gBAAM,GAsC/B;QAtCY,cAAI,OAsChB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC5B,YAAM,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IAC/C,CAAC,EA1CY,SAAS,GAAT,eAAS,KAAT,eAAS,QA0CrB;AAAD,CAAC,EA1CM,KAAK,KAAL,KAAK,QA0CX;AC1CD,IAAO,KAAK,CAIX;AAJD,WAAO,KAAK;IAAC,IAAA,SAAS,CAIrB;IAJY,WAAA,SAAS,EAAC,CAAC;QACpB;YAA+B,6BAAI;YAAnC;gBAA+B,8BAAI;YACnC,CAAC;YAAD,gBAAC;QAAD,CADA,AACC,CAD8B,cAAI,GAClC;QADY,mBAAS,YACrB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC,EAJY,SAAS,GAAT,eAAS,KAAT,eAAS,QAIrB;AAAD,CAAC,EAJM,KAAK,KAAL,KAAK,QAIX;ACND,IAAO,KAAK,CAwBX;AAxBD,WAAO,KAAK,EAAC,CAAC;IACV;QAAA;YACI,eAAU,GAAY,KAAK,CAAC;YAC5B,eAAU,GAAY,KAAK,CAAC;QAoBhC,CAAC;QAlBG,yBAAI,GAAJ,UAAM,KAAuB,EAAE,IAAS;QACxC,CAAC;QAED,+BAAU,GAAV,UAAY,MAAkB;YAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC3D,CAAC;QAED,+BAAU,GAAV,UAAY,MAAkB;YAC1B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;QACzC,CAAC;QAED,6BAAQ,GAAR,UAAU,KAAyB;QACnC,CAAC;QAED,yCAAoB,GAApB,UAAsB,cAAmB;QACzC,CAAC;QACL,iBAAC;IAAD,CAtBA,AAsBC,IAAA;IAtBY,gBAAU,aAsBtB,CAAA;AACL,CAAC,EAxBM,KAAK,KAAL,KAAK,QAwBX;ACtBD,IAAO,KAAK,CA+bX;AA/bD,WAAO,KAAK;IAAC,IAAA,IAAI,CA+bhB;IA/bY,WAAA,IAAI,EAAC,CAAC;QACf;YAA2C,yCAAU;YAwBjD,+BAAa,OAAqB;gBAC9B,iBAAO,CAAC;gBAbJ,4BAAuB,GAAc,IAAI,CAAC;gBAE1C,wBAAmB,GAA8B,IAAI,CAAC;gBACtD,kBAAa,GAA+B,IAAI,CAAC;gBAMjD,YAAO,GAAY,KAAK,CAAC;gBACzB,iBAAY,GAAQ,SAAS,CAAC;gBAY9B,cAAS,GAAG,KAAK,CAAC;gBARtB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBAC1B,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAC3B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,eAAe,EAAE;oBACzC,KAAK,EAAE,OAAO;oBACd,QAAQ,EAAE,KAAK;iBAClB,CAAC,CAAC;YACP,CAAC;YAfD,sBAAI,2CAAQ;qBAAZ;oBACI,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;gBAC1C,CAAC;;;eAAA;YAiBD,oCAAI,GAAJ,UAAM,KAAuB,EAAE,IAAS;gBACpC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBACf,MAAM,CAAC;gBACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBAEtB,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE;oBAClC,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAClB,CAAC,CAAC;gBACH,IAAI,KAAK,GAAuB,IAAI,CAAC;gBACrC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE;oBACpC,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAClB,CAAC,CAAC;gBAEH,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC7B,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,KAAK,GAAG,CAAC,IAAI,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;oBACpE,MAAM,IAAI,iBAAiB,CAAC,2CAA2C,CAAC,CAAC;gBAE7E,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,gBAAW,CAAC,MAAM,IAAI,CAAC,KAAK,YAAY,cAAQ,CAAC,OAAO,IAAI,KAAK,YAAY,cAAQ,CAAC,WAAW,CAAC,CAAC;oBACpH,IAAI,CAAC,uBAAuB,GAAc,KAAK,CAAC;gBAEpD,IAAI,CAAC,mBAAmB,GAAG,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC;gBAE9F,IAAI,WAAW,GAAG,KAAK,KAAK,sBAAgB,CAAC,mBAAmB,IAAI,KAAK,CAAC,aAAa,EAAE,KAAU,SAAS,CAAC,YAAY,IAAI,KAAK,CAAC,aAAa,EAAE,KAAU,IAAI,CAAC,gBAAgB,CAAC;gBAClL,IAAI,MAAM,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,uBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,qBAAqB,EAAE,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBAC5J,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,gBAAW,CAAC,OAAO,CAAC;oBACrC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC5B,CAAC;YAED,0CAAU,GAAV,UAAY,OAAyB;gBAArC,iBAoBC;gBAnBG,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBAChB,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,CAAC;oBACvC,MAAM,IAAI,KAAK,CAAC,8DAA8D,CAAC,CAAC;gBACpF,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,CAAC;oBACnC,OAAO,CAAC,GAAG,CAAC,yBAAyB,GAAS,OAAQ,CAAC,WAAW,CAAC,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;gBAE/H,gBAAK,CAAC,UAAU,YAAC,OAAO,CAAC,CAAC;gBAE1B,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,iBAAiB,CAAC,UAAC,aAAa,IAAK,OAAA,KAAI,CAAC,kBAAkB,EAAE,EAAzB,CAAyB,CAAC,CAAC;gBACpH,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;gBAChC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAEvC,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC;oBAC7B,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;gBAE3E,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,KAAK,gBAAW,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC3E,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;gBAC/H,CAAC;YACL,CAAC;YAED,wCAAQ,GAAR,UAAU,KAAyB;gBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;oBACb,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;gBAE7B,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,CAAC;oBACvC,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;oBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;wBAC9D,IAAI,EAAE,GAAqB,MAAM,YAAY,sBAAgB,GAAqB,MAAM,GAAG,IAAI,CAAC;wBAChG,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC;4BAC5B,OAAO,CAAC,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;oBAC9F,CAAC;oBACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC7B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC;gBAC9D,CAAC;gBAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;gBAClE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;YAC7B,CAAC;YAEO,kDAAkB,GAA1B;gBACI,IAAI,CAAC,uBAAuB,CAAC,MAAM,EAAE,CAAC;gBACtC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;gBAChC,EAAE,CAAC,CAAC,MAAM,CAAC;oBAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACnD,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YAC9C,CAAC;YAEO,2CAAW,GAAnB;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC5B,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;gBACrC,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC;oBAChD,MAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC;gBAC3C,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;oBAC3C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC/D,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;YAC7B,CAAC;YAEO,wDAAwB,GAAhC;gBACI,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;gBAC1C,IAAI,IAAI,GAAe,IAAI,CAAC,MAAM,CAAC;gBACnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC,SAAS,CAAC;gBACrB,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACvC,EAAE,CAAC,CAAC,MAAM,CAAC;oBACP,MAAM,CAAC,MAAM,CAAC;gBAElB,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;YAED,0CAAU,GAAV,UAAY,OAAyB;gBACjC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBACjB,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,CAAC;oBACnC,OAAO,CAAC,GAAG,CAAC,yBAAyB,GAAS,OAAQ,CAAC,WAAW,CAAC,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;gBAE/H,gBAAK,CAAC,UAAU,YAAC,OAAO,CAAC,CAAC;gBAE1B,EAAE,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC;oBAC7B,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;gBAE5E,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC7B,IAAI,EAAE,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;oBAC5B,EAAE,CAAC,CAAC,EAAE,CAAC;wBACH,gBAAU,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;oBACnD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC9B,CAAC;gBAED,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBACzB,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;oBAChC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAClC,CAAC;gBAED,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAErC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YAC5B,CAAC;YAED,+CAAe,GAAf;gBACI,IAAI,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC;YAED,4CAAY,GAAZ;gBACI,IAAI,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC;YAED,4CAAY,GAAZ;gBACI,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;YACtC,CAAC;YAED,sDAAsB,GAAtB,UAAwB,KAAU;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YACxC,CAAC;YAEO,qDAAqB,GAA7B,UAA+B,MAAM,EAAE,IAAyC;gBAC5E,IAAI,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;wBAC3B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACtE,CAAE;gBAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACX,OAAO,CAAC,IAAI,CAAC,0BAA0B,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC9D,CAAC;YACL,CAAC;YAEO,gDAAgB,GAAxB,UAA0B,MAAW,EAAE,CAAuB;gBAC1D,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,mBAAmB,KAAK,wBAAmB,CAAC,QAAQ,CAAC;oBACxE,MAAM,CAAC;gBACX,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/B,CAAC;YAEO,mDAAmB,GAA3B;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBAChB,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC;oBAC9B,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,mBAAmB,KAAK,wBAAmB,CAAC,QAAQ,CAAC;gBACnF,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,mBAAmB,KAAK,wBAAmB,CAAC,eAAe,CAAC;YAC1F,CAAC;YAEO,mDAAmB,GAA3B,UAA6B,KAAW;gBACpC,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC;oBACpB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAChD,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,KAAK,gBAAW,CAAC,MAAM,CAAC;oBACpC,MAAM,CAAC;gBAEX,IAAI,SAAS,GAAW,IAAI,CAAC;gBAC7B,IAAI,SAAoB,CAAC;gBACzB,IAAI,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;gBAClC,IAAI,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBACrC,IAAI,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;gBAE7C,IAAI,CAAC;oBACD,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;wBACrC,MAAM,CAAC;oBACX,KAAK,GAAG,IAAI,CAAC,0BAA0B,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;oBAC9D,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,SAAS,IAAI,KAAK,KAAK,SAAS,CAAC;wBACvD,MAAM,CAAC;oBAEX,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;oBACrB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC9B,CAAE;gBAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACX,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAAC;wBAChC,EAAE,CAAC,CAAC,GAAG,YAAY,yBAAyB,CAAC;4BACzC,SAAS,GAAG,GAAG,CAAC,cAAc,CAAC;wBACnC,SAAS,GAAG,GAAG,CAAC;oBACpB,CAAC;gBACL,CAAC;wBAAS,CAAC;oBACP,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;oBAC9B,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBAC9C,SAAS,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;oBACrC,CAAC;gBACL,CAAC;gBAED,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC;oBAC9B,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;gBAC1C,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC;oBACnC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YACnD,CAAC;YAED,oDAAoB,GAApB,UAAsB,cAAmB;gBACrC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,CAAC;oBACnC,OAAO,CAAC,GAAG,CAAC,iCAAiC,GAAS,IAAI,CAAC,MAAO,CAAC,GAAG,GAAG,GAAG,GAAS,IAAI,CAAC,MAAO,CAAC,WAAW,CAAC,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;gBAE1K,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,cAAc,CAAC;oBACrC,MAAM,CAAC;gBACX,IAAI,CAAC,YAAY,GAAG,cAAc,CAAC;gBACnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;oBAC1B,MAAM,CAAC;gBAEX,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC;oBAC5B,KAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBACpC,IAAI,CAAC;oBACD,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;oBAC/C,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,KAAK,gBAAW,CAAC,OAAO,CAAC;wBAChD,IAAI,CAAC,OAAO,EAAE,CAAC;gBACvB,CAAE;gBAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACX,OAAO,CAAC,IAAI,CAAC,sCAAsC,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC;gBACvE,CAAC;YACL,CAAC;YAEO,2CAAW,GAAnB;gBACI,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;YAClC,CAAC;YAED,uCAAO,GAAP;gBACI,IAAI,SAAS,GAAW,IAAI,CAAC;gBAC7B,IAAI,SAAoB,CAAC;gBAEzB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;oBACjB,MAAM,CAAC;gBAEX,IAAI,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC;gBACrC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;gBAExD,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;gBACjC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,OAAO,CAAC,qBAAqB,CAAC;oBAClD,SAAS,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;gBAErC,IAAI,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;gBAClC,IAAI,CAAC;oBACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;gBAC9C,CAAE;gBAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACX,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAAC;wBAChC,SAAS,GAAG,GAAG,CAAC;wBAChB,EAAE,CAAC,CAAC,SAAS,YAAY,yBAAyB,CAAC;4BAC/C,SAAS,GAA+B,SAAU,CAAC,cAAc,CAAC;oBAC1E,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACtB,CAAC;gBACL,CAAC;wBAAS,CAAC;oBACP,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;gBAClC,CAAC;gBAED,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC;oBAC9B,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;gBAC1C,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC;oBACnC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YACnD,CAAC;YAEO,0DAA0B,GAAlC,UAAoC,OAAqB,EAAE,IAAuB,EAAE,KAAU;gBAC1F,EAAE,CAAC,CAAC,OAAO,CAAC,eAAe,IAAI,OAAO,CAAC,eAAe,KAAK,KAAK,CAAC;oBAC7D,KAAK,GAAG,IAAI,CAAC;gBAEjB,IAAI,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;gBAClC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBACZ,KAAK,GAAG,SAAS,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,kBAAkB,EAAE,OAAO,CAAC,gBAAgB,CAAC,CAAC;gBAC/G,CAAC;gBAMD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAEO,8CAAc,GAAtB,UAAwB,KAAyB,EAAE,KAAU;gBACzD,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;gBAC/C,IAAI,CAAC;oBACD,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC;oBACjC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,IAAI,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;wBAC7D,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,UAAU,EAAE,OAAO,CAAC,kBAAkB,EAAE,OAAO,CAAC,gBAAgB,CAAC,CAAC;oBAC/G,CAAC;oBACD,EAAE,CAAC,CAAC,KAAK,KAAK,kBAAkB,CAAC,UAAU,IAAI,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,CAAC;wBAClF,KAAK,GAAG,OAAO,CAAC,aAAa,CAAC;wBAC9B,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC;4BACpB,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC;oBACnC,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;wBACvB,KAAK,GAAG,OAAO,CAAC,eAAe,CAAC;wBAChC,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,mBAAmB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;4BAChE,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC;oBACnC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC;wBAClC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;4BACT,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gCACzB,MAAM,GAAG,KAAK,GAAG,MAAM,GAAG,GAAG,CAAC;4BAClC,KAAK,GAAG,kBAAY,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;wBAC/C,CAAC;oBACL,CAAC;gBACL,CAAE;gBAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACX,OAAO,CAAC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;oBAC3C,KAAK,GAAG,OAAO,CAAC,aAAa,CAAC;gBAClC,CAAC;gBACD,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,EAAY,UAAU,CAAC,CAAC;YACnE,CAAC;YAEO,+CAAe,GAAvB,UAAyB,OAAe,EAAE,SAAoB;gBAC1D,IAAI,EAAE,GAAG,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;oBACJ,MAAM,CAAC;gBAEX,IAAI,KAAK,GAAG,CAAC,SAAS,YAAY,SAAS,IAAI,SAAS,YAAY,KAAK,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC;gBAC9F,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,GAAG,IAAI,CAAC;gBAEnB,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;gBAClC,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC;oBAChB,IAAI,CAAC,aAAa,GAAG,IAAI,gBAAU,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,CAAC;gBAClH,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;oBACX,IAAI,CAAC,aAAa,GAAG,IAAI,gBAAU,CAAC,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,CAAC;gBAChH,IAAI;oBACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE9B,gBAAU,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAC1E,CAAC;YAEO,oDAAoB,GAA5B,UAA8B,OAAkC;gBAC5D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;oBACxC,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,2BAA2B,CAAC;oBACxF,MAAM,CAAC;gBAEX,IAAI,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC;gBACzD,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;oBAC5E,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACrC,CAAC;gBAED,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC;gBAEnC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACV,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;oBAC1D,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;wBACpB,IAAI,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;wBACtC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;4BACN,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC;gCAChD,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC;4BACjD,CAAC;wBACL,CAAC;oBACL,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBACrC,CAAC;gBACL,CAAC;YACL,CAAC;YAEO,oDAAoB,GAA5B,UAA8B,MAAW,EAAE,CAAkC;gBACzE,IAAI,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC;gBACzD,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,KAAK,QAAQ,CAAC;oBAC5B,MAAM,CAAC;gBACX,IAAI,MAAM,GAAG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;gBAC5F,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACV,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBACjC,MAAM,CAAC;gBACX,CAAC;gBAED,IAAI,GAAG,GAAG,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACjD,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBAClB,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;oBACjC,MAAM,CAAC;gBACX,CAAC;gBAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAClC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACjB,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBACnC,CAAC;YACL,CAAC;YAEL,4BAAC;QAAD,CA/aA,AA+aC,CA/a0C,gBAAU,GA+apD;QA/aY,0BAAqB,wBA+ajC,CAAA;QAED,mBAAoB,IAAsB;YACtC,GAAG,CAAC,CAAC,IAAI,GAAG,GAAe,IAAI,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC;gBACrD,EAAE,CAAC,CAAC,GAAG,YAAY,sBAAgB,CAAC;oBAChC,MAAM,CAAmB,GAAG,CAAC;YACrC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,sBAAuB,MAA0B;YAC7C,IAAI,IAAI,GAAG,oBAAe,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;YAC5D,IAAI,IAAI,GAAG,MAAM,CAAC,iBAAiB,CAAC;YACpC,MAAM,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QACvD,CAAC;IACL,CAAC,EA/bY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QA+bhB;AAAD,CAAC,EA/bM,KAAK,KAAL,KAAK,QA+bX;AC/bD,IAAO,KAAK,CAMX;AAND,WAAO,KAAK;IAAC,IAAA,IAAI,CAMhB;IANY,WAAA,IAAI,EAAC,CAAC;QACf;YAAuC,qCAAqB;YACxD,2BAAY,OAAqB;gBAC7B,kBAAM,OAAO,CAAC,CAAC;YACnB,CAAC;YACL,wBAAC;QAAD,CAJA,AAIC,CAJsC,0BAAqB,GAI3D;QAJY,sBAAiB,oBAI7B,CAAA;IACL,CAAC,EANY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAMhB;AAAD,CAAC,EANM,KAAK,KAAL,KAAK,QAMX;ACND,IAAO,KAAK,CAOX;AAPD,WAAO,KAAK,EAAC,CAAC;IACV;QAA6C,2CAAU;QAAvD;YAA6C,8BAAU;QAKvD,CAAC;QAJG,0CAAQ,GAAR,UAAS,KAAyB;YAC9B,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QACD,0CAAQ,GAAR,cAAqB,MAAM,CAAC,yBAAyB,CAAC,CAAC,CAAC;QAC5D,8BAAC;IAAD,CALA,AAKC,CAL4C,gBAAU,GAKtD;IALY,6BAAuB,0BAKnC,CAAA;AACL,CAAC,EAPM,KAAK,KAAL,KAAK,QAOX;ACPD,IAAO,KAAK,CAuIX;AAvID,WAAO,KAAK,EAAC,CAAC;IAOV;QAA4C,0CAAU;QAYlD,gCAAa,YAAiC;YAC1C,iBAAO,CAAC;YAZZ,eAAU,GAAY,KAAK,CAAC;YAC5B,eAAU,GAAY,KAAK,CAAC;YAGpB,mBAAc,GAA4B,IAAI,CAAC;YAC/C,4BAAuB,GAA4B,IAAI,CAAC;YAExD,YAAO,GAAe,IAAI,CAAC;YAC3B,WAAM,GAA0C,IAAI,CAAC;YACrD,eAAU,GAAW,IAAI,CAAC;YAI9B,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;YAElC,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;YAC3C,EAAE,CAAC,CAAC,EAAE,CAAC;gBACH,IAAI,CAAC,cAAc,GAAG,IAAI,UAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,qBAAqB,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,WAAW,IAAI,CAAC,EAAE,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;YAE/J,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC;YACrD,EAAE,CAAC,CAAC,GAAG,CAAC;gBACJ,IAAI,CAAC,uBAAuB,GAAG,IAAI,UAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,qBAAqB,EAAE,KAAK,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACjL,CAAC;QAED,qCAAI,GAAJ,UAAM,KAAuB,EAAE,IAAS;QACxC,CAAC;QAED,qCAAI,GAAJ,UAAM,SAAiB;YACnB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAChC,CAAC;QAED,yCAAQ,GAAR,UAAU,KAAyB;QACnC,CAAC;QAED,2CAAU,GAAV,UAAY,MAAkB;YAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;gBAChB,MAAM,CAAC;YACX,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;gBACZ,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC7C,CAAC;QAED,2CAAU,GAAV,UAAY,MAAkB;YAC1B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;gBACjB,MAAM,CAAC;YACX,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;gBACZ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5B,CAAC;QAED,qDAAoB,GAApB,UAAsB,cAAmB;QACzC,CAAC;QAEO,0CAAS,GAAjB,UAAmB,MAAW,EAAE,CAAuB;YACnD,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;YAE1B,IAAI,OAAO,GAAG,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;YACpE,IAAI,OAAO,GAAG,OAAO,CAAC;YACtB,IAAI,OAAO,GAAG,OAAO,CAAC;YACtB,IAAI,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC;YAC7B,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACL,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBAC/B,OAAO,GAAG,EAAE,CAAC,UAAU,EAAE,CAAC;gBAC1B,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC;oBAAC,OAAO,GAAG,OAAO,CAAC;YAC3C,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACX,OAAO,CAAC,IAAI,CAAC,2DAA2D,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;gBACnG,MAAM,CAAC;YACX,CAAC;YAED,IAAI,KAAK,GAAG;gBACR,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,CAAC;gBACP,SAAS,EAAE,IAAI;aAClB,CAAC;YAEF,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC;YACrD,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,IAAI,GAAG,GAAG,IAAI,CAAC,uBAAuB,CAAC;gBACvC,IAAI,QAAQ,GAAG,UAAU,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBACvC,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC7C,CAAC;YAGD,EAAE,CAAC,CAAC,OAAO,OAAO,KAAK,UAAU,CAAC,CAAC,CAAC;gBACrB,OAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAC7C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACR,OAAO,CAAC,IAAI,CAAC,2DAA2D,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;oBACnG,MAAM,CAAC;gBACX,CAAC;gBACD,IAAI,GAAyB,OAAO,CAAC;gBACrC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;oBACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAC1C,CAAC;QACL,CAAC;QACL,6BAAC;IAAD,CArGA,AAqGC,CArG2C,gBAAU,GAqGrD;IArGY,4BAAsB,yBAqGlC,CAAA;IAED,oBAAqB,MAAkB,EAAE,OAAqB;QAC1D,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;gBACf,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YAE1B,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW,IAAI,IAAI,CAAC;gBAC5B,MAAM,CAAC,uBAAuB,CAAC,MAAM,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC;YAEhE,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;gBACzB,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC/C,CAAC;QACL,CAAC;QACD,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC;IACvC,CAAC;IAED,iCAAkC,MAAkB,EAAE,IAAY;QAC9D,IAAI,IAAI,GAAe,MAAM,CAAC;QAC9B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YACN,MAAM,CAAC,SAAS,CAAC;QACrB,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACvC,EAAE,CAAC,CAAC,MAAM,CAAC;YACP,MAAM,CAAC,MAAM,CAAC;QAElB,MAAM,CAAC,SAAS,CAAC;IACrB,CAAC;AACL,CAAC,EAvIM,KAAK,KAAL,KAAK,QAuIX;ACvID,IAAO,KAAK,CAmGX;AAnGD,WAAO,KAAK,EAAC,CAAC;IACV;QAA+C,6CAAU;QAQrD,mCAAa,cAAsB;YAC/B,iBAAO,CAAC;YALJ,cAAS,GAAG,KAAK,CAAC;YAMtB,IAAI,CAAC,mBAAmB,GAAG,cAAc,CAAC;QAC9C,CAAC;QAED,wCAAI,GAAJ,UAAM,KAAuB,EAAE,IAAS;YACpC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;gBACf,MAAM,CAAC;YACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,EAAE,GAAG,KAAK,CAAC,aAAa,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,YAAY,sBAAgB,CAAC,CAAC;gBAClC,MAAM,IAAI,KAAK,CAAC,0EAA0E,CAAC,CAAC;YAChG,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC,qBAAqB,CAAO,EAAG,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAChH,IAAI,CAAC,cAAc,GAAuB,IAAI,CAAC;QACnD,CAAC;QAED,4CAAQ,GAAR,UAAU,KAAyB;YAC/B,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;YAC1B,IAAI,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC;YAClC,IAAI,KAAK,CAAC;YACV,EAAE,CAAC,CAAC,MAAM,CAAC;gBACP,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAEjD,KAAK,GAAG,SAAS,CAAC,gBAAgB,CAAC,KAAK,EAAY,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC,CAAC;YACzF,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED,8CAAU,GAAV,UAAY,IAAsB;YAC9B,gBAAK,CAAC,UAAU,YAAC,IAAI,CAAC,CAAC;YAEvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,eAAe,EAAE,CAAC;YAEvB,IAAI,EAA2B,CAAC;YAChC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,YAAY,cAAQ,CAAC,cAAc,CAAC;gBAChD,EAAE,GAA4B,IAAI,CAAC,OAAO,CAAC;YAE/C,IAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC;QAED,8CAAU,GAAV,UAAY,IAAsB;YAC9B,gBAAK,CAAC,UAAU,YAAC,IAAI,CAAC,CAAC;YAEvB,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAC9B,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;gBACV,MAAM,CAAC;YAEX,IAAI,EAA2B,CAAC;YAChC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,YAAY,cAAQ,CAAC,cAAc,CAAC;gBAChD,EAAE,GAA4B,IAAI,CAAC,OAAO,CAAC;YAE/C,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC;QAED,2DAAuB,GAAvB,UAAyB,MAAwB,EAAE,IAAyC;YACxF,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;gBAC9C,MAAM,CAAC;YACX,IAAI,CAAC;gBAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC;gBACrC,IAAI,CAAC;oBACD,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClE,CAAE;gBAAA,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACZ,IAAI,GAAG,GAAG,UAAU,CAAC,YAAY,CAAC;oBAClC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAClD,CAAC;YACL,CAAE;YAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAEf,CAAC;oBAAS,CAAC;gBACP,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAC5B,CAAC;QACL,CAAC;QAEO,mDAAe,GAAvB;YAAA,iBAKC;YAJG,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACxC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;gBACR,MAAM,CAAC;YACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,UAAC,MAAM,EAAE,IAAI,IAAK,OAAA,KAAI,CAAC,uBAAuB,CAAC,MAAM,EAAE,IAAI,CAAC,EAA1C,CAA0C,EAAE,IAAI,CAAC,CAAC;QAChK,CAAC;QAEO,mDAAe,GAAvB;YACI,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAC9B,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACX,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;gBACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YAC1B,CAAC;QACL,CAAC;QACL,gCAAC;IAAD,CAjGA,AAiGC,CAjG8C,gBAAU,GAiGxD;IAjGY,+BAAyB,4BAiGrC,CAAA;AACL,CAAC,EAnGM,KAAK,KAAL,KAAK,QAmGX;ACrGD;IAiCI;QAAY,cAAc;aAAd,WAAc,CAAd,sBAAc,CAAd,IAAc;YAAd,6BAAc;;QA1BlB,WAAM,GAAW,CAAC,CAAC;QA2BvB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC;YAClB,MAAM,CAAC;QACX,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAC3B,MAAM,CAAC;QACX,CAAC;QACD,IAAI,IAAI,GAAG,CAAC,CAAC;QACb,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,IAAI,YAAY,GAAG,CAAC,CAAC;QAErB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACpB,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACrB,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACvB,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACpB,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACrB,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACvB,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACvB,YAAY,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;QAED,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,GAAG,QAAQ,CAAC,eAAe,CAAC;cAChH,CAAC,OAAO,GAAG,QAAQ,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,GAAG,QAAQ,CAAC,oBAAoB,CAAC,CAAC;IAChG,CAAC;IAnDD,sBAAW,gBAAI;aAAf,cAA8B,MAAM,CAAC,IAAI,QAAQ,EAAE,CAAC,CAAC,CAAC;;;OAAA;IACtD,sBAAW,oBAAQ;aAAnB,cAAkC,MAAM,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAC1E,sBAAW,oBAAQ;aAAnB,cAAkC,MAAM,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAEnE,iBAAQ,GAAf,UAAgB,KAAa;QACzB,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;IACnD,CAAC;IACM,kBAAS,GAAhB,UAAiB,KAAa;QAC1B,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;IACpD,CAAC;IACM,oBAAW,GAAlB,UAAmB,KAAa;QAC5B,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC;IACtD,CAAC;IACM,oBAAW,GAAlB,UAAmB,KAAa;QAC5B,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC;IACtD,CAAC;IACM,yBAAgB,GAAvB,UAAwB,KAAa;QACjC,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC3D,CAAC;IAmCD,sBAAI,0BAAI;aAAR;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC,CAAC;QAC9H,CAAC;;;OAAA;IACD,sBAAI,2BAAK;aAAT;YACI,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC;YACnD,MAAM,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC;QACvH,CAAC;;;OAAA;IACD,sBAAI,6BAAO;aAAX;YACI,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC;YACnD,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC;YAC7C,MAAM,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC;QAC3H,CAAC;;;OAAA;IACD,sBAAI,6BAAO;aAAX;YACI,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC;YACnD,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC;YAC7C,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC;YAC/C,MAAM,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC;QAC3H,CAAC;;;OAAA;IACD,sBAAI,kCAAY;aAAhB;YACI,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC;YACnD,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC;YAC7C,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC;YAC/C,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,eAAe,CAAC;YAC/C,MAAM,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,oBAAoB,CAAC,CAAC;QACrI,CAAC;;;OAAA;IACD,sBAAI,2BAAK;aAAT,cAAsB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;;;OAAA;IAE3C,sBAAI,+BAAS;aAAb,cAA0B,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;;;OAAA;IACvE,sBAAI,gCAAU;aAAd,cAA2B,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;;;OAAA;IACzE,sBAAI,kCAAY;aAAhB,cAA6B,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC;;;OAAA;IAC7E,sBAAI,kCAAY;aAAhB,cAA6B,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC;;;OAAA;IAC7E,sBAAI,uCAAiB;aAArB,cAAkC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,oBAAoB,CAAC,CAAC,CAAC;;;OAAA;IAEvF,2BAAQ,GAAR,UAAS,KAAa;QAClB,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC;YACd,MAAM,CAAC;QACX,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACb,MAAM,CAAC;QACX,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC;IACzB,CAAC;IACD,kCAAe,GAAf,UAAgB,YAAoB;QAChC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,oBAAoB,CAAC,CAAC;IAChE,CAAC;IAED,sBAAG,GAAH,UAAI,GAAa;QACb,IAAI,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QACxB,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;QACrC,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IACD,2BAAQ,GAAR,UAAS,GAAa;QAClB,IAAI,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QACxB,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;QACrC,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IACD,2BAAQ,GAAR,UAAS,CAAS;QACd,IAAI,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QACxB,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACxC,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IACD,yBAAM,GAAN,UAAO,GAAa;QAChB,IAAI,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QACxB,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;QACrC,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IACD,4BAAS,GAAT,UAAU,GAAa;QACnB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,CAAC;YAC3B,MAAM,CAAC,CAAC,CAAC;QACb,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC/C,CAAC;IACD,yBAAM,GAAN;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,6BAAU,GAAV;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,oBAAoB,CAAC;IACvD,CAAC;IAED,2BAAQ,GAAR,UAAS,MAAe;QACpB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;YACR,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACtD,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACzD,CAAC;IACD,0BAAO,GAAP;QACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAjJM,6BAAoB,GAAG,CAAC,CAAC;IACzB,wBAAe,GAAG,IAAI,CAAC;IACvB,wBAAe,GAAG,QAAQ,CAAC,eAAe,GAAG,EAAE,CAAC;IAChD,sBAAa,GAAG,QAAQ,CAAC,eAAe,GAAG,EAAE,CAAC;IAC9C,qBAAY,GAAG,QAAQ,CAAC,aAAa,GAAG,EAAE,CAAC;IA8ItD,eAAC;AAAD,CAnJA,AAmJC,IAAA;AACD,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AAEzC,SAAS,CAAC,qBAAqB,CAAC,QAAQ,EAAE,UAAC,GAAQ;IAC/C,EAAE,CAAC,CAAC,GAAG,YAAY,QAAQ,CAAC;QACxB,MAAM,CAAW,GAAG,CAAC;IACzB,EAAE,CAAC,CAAC,GAAG,YAAY,QAAQ,CAAC,CAC5B,CAAC;QACJ,IAAI,QAAQ,GAAa,GAAG,CAAC;QAC7B,EAAE,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC;YACd,MAAM,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACxD,IAAI;YACO,MAAM,IAAI,SAAS,CAAC,iBAAiB,GAAG,QAAQ,CAAC,SAAS,GAAG,SAAS,GAAG,WAAW;gBAC5F,CAAE,uBAAuB,CAAC,CAAC;IAC3B,CAAC;IACD,EAAE,CAAC,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC;QACxB,MAAM,CAAC,IAAI,QAAQ,CAAS,GAAG,CAAC,CAAC;IACrC,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;IAErB,IAAI,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC5B,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAC5B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACd,MAAM,CAAC,IAAI,QAAQ,CAAS,KAAK,CAAC,CAAC;QACvC,MAAM,IAAI,SAAS,CAAC,2BAA2B,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;IAClE,CAAC;IAED,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;QACpB,MAAM,IAAI,SAAS,CAAC,2BAA2B,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;IAGlE,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,IAAI,KAAa,CAAC;IAClB,IAAI,OAAe,CAAC;IACpB,IAAI,OAAe,CAAC;IACpB,IAAI,YAAY,GAAG,CAAC,CAAC;IAErB,IAAI,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACpC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7B,KAAK,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC;IAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;QAC/B,KAAK,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC;IAED,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAE9B,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAChC,YAAY,GAAG,OAAO,GAAG,CAAC,CAAC;IAC3B,OAAO,GAAG,OAAO,GAAG,YAAY,CAAC;IACjC,YAAY,IAAI,MAAM,CAAC;IAEvB,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;AACrE,CAAC,CAAC,CAAC;ACtMH,IAAK,SAQJ;AARD,WAAK,SAAS;IACV,6CAAM,CAAA;IACN,6CAAM,CAAA;IACN,+CAAO,CAAA;IACP,mDAAS,CAAA;IACT,iDAAQ,CAAA;IACR,6CAAM,CAAA;IACN,iDAAQ,CAAA;AACZ,CAAC,EARI,SAAS,KAAT,SAAS,QAQb;AACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;AAElD,IAAK,YAIJ;AAJD,WAAK,YAAY;IACb,6DAAe,CAAA;IACf,iDAAS,CAAA;IACT,6CAAO,CAAA;AACX,CAAC,EAJI,YAAY,KAAZ,YAAY,QAIhB;AACD,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;AAExD;IAoCI;QAAY,cAAc;aAAd,WAAc,CAAd,sBAAc,CAAd,IAAc;YAAd,6BAAc;;QAZlB,kBAAa,GAAS,IAAI,CAAC;QAa/B,IAAI,KAAK,GAAW,IAAI,CAAC;QACzB,IAAI,IAAI,GAAG,YAAY,CAAC,WAAW,CAAC;QACpC,IAAI,IAAI,GAAG,CAAC,CAAC;QACb,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,IAAI,GAAG,CAAC,CAAC;QACb,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,WAAW,GAAG,CAAC,CAAC;QAEpB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,IAAI,YAAY,IAAI,CAAC,CAAC,CAAC;gBACvB,KAAK,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACpB,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,IAAI,YAAY,IAAI,CAAC,CAAC,CAAC;gBACvB,KAAK,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACpB,CAAC;YACD,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAChB,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAChB,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACjB,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAChB,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACjB,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACjB,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAChB,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACjB,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACjB,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACtB,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,GAAG,CAAC,CAAC;QACd,CAAC;QAED,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,YAAY,CAAC,WAAW,CAAC;QAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,GAAG,QAAQ,CAAC,SAAS,IAAI,KAAK,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;YAC3E,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;QACjD,CAAC;QACD,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;YACrC,MAAM,CAAC;QACX,CAAC;QACD,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC;QACzC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;YAClC,EAAE,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;YACxC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACrB,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACzB,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACzB,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACpC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,EAAE,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;YACrC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAClB,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACtB,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACtB,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QACpC,CAAC;IACL,CAAC;IAhHD,sBAAW,oBAAQ;aAAnB,cAAwB,MAAM,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAClE,sBAAW,oBAAQ;aAAnB,cAAwB,MAAM,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAClE,sBAAW,eAAG;aAAd,cAA6B,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,EAAE,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAC7F,sBAAW,iBAAK;aAAhB,cAA+B,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;;;OAAA;IACnD,gBAAO,GAAd,UAAe,GAAa,EAAE,GAAa;QACvC,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACrC,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACrC,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC;YACR,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC;YACR,MAAM,CAAC,CAAC,CAAC;QACb,MAAM,CAAC,CAAC,CAAC;IACb,CAAC;IAEM,oBAAW,GAAlB,UAAmB,IAAY,EAAE,KAAa;QAC1C,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE,GAAG,QAAQ,CAAC,YAAY,CAAC;QACjF,IAAI,EAAE,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC7B,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC;IAClB,CAAC;IAgGD,sBAAI,2BAAK;aAAT,cAAsB,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAC5D,sBAAI,0BAAI;aAAR,cAA2B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;;;OAAA;IAC/C,sBAAI,0BAAI;aAAR;YACI,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;YACrC,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACrB,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACvB,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACvB,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YAChC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAClB,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACpB,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACpB,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC;YACD,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACrD,CAAC;;;OAAA;IACD,sBAAI,yBAAG;aAAP;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACxC,CAAC;;;OAAA;IACD,sBAAI,+BAAS;aAAb;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAY,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;YACrD,MAAM,CAAY,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;QAClD,CAAC;;;OAAA;IACD,sBAAI,+BAAS;aAAb;YACI,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;YACnB,IAAI,IAAI,GAAG,IAAI,QAAQ,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9D,IAAI,IAAI,GAAG,IAAI,QAAQ,CAAC,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,CAAC;;;OAAA;IACD,sBAAI,0BAAI;aAAR;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;YAC5C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QACzC,CAAC;;;OAAA;IACD,sBAAI,iCAAW;aAAf;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC;YACnD,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;QAChD,CAAC;;;OAAA;IACD,sBAAI,4BAAM;aAAV;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;YAC9C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAC3C,CAAC;;;OAAA;IACD,sBAAI,2BAAK;aAAT;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAChD,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;QAC7C,CAAC;;;OAAA;IACD,sBAAI,4BAAM;aAAV;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;YAC9C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAC3C,CAAC;;;OAAA;IACD,sBAAI,+BAAS;aAAb;YACI,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;YAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;YAC9G,MAAM,CAAC,IAAI,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,UAAU,EAAE,EAAE,EAAE,CAAC,UAAU,EAAE,EAAE,EAAE,CAAC,eAAe,EAAE,CAAC,CAAC;QAClG,CAAC;;;OAAA;IACD,sBAAI,0BAAI;aAAR;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;YAC/C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;QAC5C,CAAC;;;OAAA;IAED,2BAAQ,GAAR,UAAS,KAAa;QAClB,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;QACnD,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC/B,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAChB,MAAM,IAAI,2BAA2B,CAAC,OAAO,CAAC,CAAC;QACnD,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;YACjC,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,cAAc,EAAE,GAAG,MAAM,CAAC,CAAC;QAC1D,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,MAAM,CAAC,CAAC;QACpD,CAAC;QACD,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IACD,4BAAS,GAAT,UAAU,MAAc;QACpB,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;QACnD,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACjC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACjB,MAAM,IAAI,2BAA2B,CAAC,QAAQ,CAAC,CAAC;QACpD,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;YACjC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,OAAO,CAAC,CAAC;QACrD,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,OAAO,CAAC,CAAC;QAC/C,CAAC;QACD,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IACD,0BAAO,GAAP,UAAQ,KAAa;QACjB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;IAC9C,CAAC;IACD,2BAAQ,GAAR,UAAS,KAAa;QAClB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IAC/C,CAAC;IACD,6BAAU,GAAV,UAAW,KAAa;QACpB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;IACjD,CAAC;IACD,6BAAU,GAAV,UAAW,KAAa;QACpB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;IACjD,CAAC;IACD,kCAAe,GAAf,UAAgB,KAAa;QACzB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;IACtD,CAAC;IACD,sBAAG,GAAH,UAAI,KAAe;QACf,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;QACnD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;YACjC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,UAAU,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;YAClD,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;YACrD,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,aAAa,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;YAC3D,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,aAAa,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;YAC3D,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC,kBAAkB,EAAE,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;QAC9E,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;YAC5C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/C,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,UAAU,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;YACrD,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,UAAU,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;YACrD,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,eAAe,EAAE,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;QACxE,CAAC;QACD,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IACD,2BAAQ,GAAR,UAAS,KAAa;QAClB,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAID,2BAAQ,GAAR,UAAS,KAAU;QACf,EAAE,CAAC,CAAC,KAAK,YAAY,QAAQ,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;QAClD,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,YAAY,QAAQ,CAAC,CAAC,CAAC;YACnC,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7D,CAAC;QACD,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IAED,kCAAe,GAAf;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,YAAY,CAAC,GAAG,CAAC;YAC/B,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;QACtD,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;QAC5B,MAAM,CAAC,IAAI,QAAQ,CAAC,EAAE,CAAC,cAAc,EAAE,EAAE,EAAE,CAAC,WAAW,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,UAAU,EAAE,EAAE,EAAE,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,kBAAkB,EAAE,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;IACzL,CAAC;IAED,2BAAQ,GAAR,UAAS,MAAe;QACpB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;YACR,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACtD,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACzD,CAAC;IACD,0BAAO,GAAP;QACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAnRc,kBAAS,GAAG,gBAAgB,CAAC;IAC7B,kBAAS,GAAG,CAAC,gBAAgB,CAAC;IAmRjD,eAAC;AAAD,CArRA,AAqRC,IAAA;AACD,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AACzC,SAAS,CAAC,qBAAqB,CAAC,QAAQ,EAAE,UAAC,KAAU;IACjD,EAAE,CAAC,CAAC,KAAK,YAAY,QAAQ,CAAC;QAC1B,MAAM,CAAC,KAAK,CAAC;IACjB,EAAE,CAAC,CAAC,KAAK,YAAY,IAAI,CAAC;QACtB,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC/B,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;QAC1B,MAAM,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;IAC3C,EAAE,CAAC,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;QAC1B,MAAM,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC/B,MAAM,IAAI,SAAS,CAAC,+BAA+B,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;AACvE,CAAC,CAAC,CAAC;ACnTH,IAAO,KAAK,CAUX;AAVD,WAAO,KAAK;IAAC,IAAA,YAAY,CAUxB;IAVY,WAAA,YAAY,EAAC,CAAC;QACvB;YAAA;gBACI,OAAE,GAAW,CAAC,CAAC;gBACf,SAAI,GAAa,CAAC,CAAC,CAAC,CAAC;gBACrB,aAAQ,GAAa,CAAC,MAAM,CAAC,CAAC;gBAC9B,oBAAe,GAAQ,CAAC,CAAC;gBACzB,oBAAe,GAAW,IAAI,CAAC;gBAC/B,yBAAoB,GAAG,IAAI,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;gBACnE,yBAAoB,GAAG,IAAI,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7D,CAAC;YAAD,eAAC;QAAD,CARA,AAQC,IAAA;QARY,qBAAQ,WAQpB,CAAA;IACL,CAAC,EAVY,YAAY,GAAZ,kBAAY,KAAZ,kBAAY,QAUxB;AAAD,CAAC,EAVM,KAAK,KAAL,KAAK,QAUX;ACVD,IAAO,KAAK,CAuMX;AAvMD,WAAO,KAAK;IAAC,IAAA,YAAY,CAuMxB;IAvMY,WAAA,YAAY,EAAC,CAAC;QACvB,WAAY,gBAAgB;YACxB,+DAAQ,CAAA;YACR,yEAAa,CAAA;YACb,+EAAgB,CAAA;QACpB,CAAC,EAJW,6BAAgB,KAAhB,6BAAgB,QAI3B;QAJD,IAAY,gBAAgB,GAAhB,6BAIX,CAAA;QACD;YAAA;gBACI,wBAAmB,GAAa;oBAC5B,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;iBACR,CAAC;gBACF,kCAA6B,GAAa;oBACtC,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,EAAE;iBACL,CAAC;gBACF,0BAAqB,GAAa;oBAC9B,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,KAAK;iBACR,CAAC;gBACF,iBAAY,GAAW,IAAI,CAAC;gBAC5B,aAAQ,GAAG,IAAI,qBAAQ,EAAE,CAAC;gBAC1B,qBAAgB,GAAqB,gBAAgB,CAAC,QAAQ,CAAC;gBAC/D,kBAAa,GAAW,GAAG,CAAC;gBAC5B,aAAQ,GAAa;oBACjB,QAAQ;oBACR,QAAQ;oBACR,SAAS;oBACT,WAAW;oBACX,UAAU;oBACV,QAAQ;oBACR,UAAU;iBACb,CAAC;gBACF,mBAAc,GAAc,SAAS,CAAC,MAAM,CAAC;gBAC7C,wBAAmB,GAAW,gCAAgC,CAAC;gBAC/D,oBAAe,GAAW,qBAAqB,CAAC;gBAChD,oBAAe,GAAW,YAAY,CAAC;gBACvC,oBAAe,GAAW,SAAS,CAAC;gBACpC,uBAAkB,GAAa;oBAC3B,SAAS;oBACT,UAAU;oBACV,OAAO;oBACP,OAAO;oBACP,KAAK;oBACL,MAAM;oBACN,MAAM;oBACN,QAAQ;oBACR,WAAW;oBACX,SAAS;oBACT,UAAU;oBACV,UAAU;oBACV,EAAE;iBACL,CAAC;gBACF,eAAU,GAAa;oBACnB,SAAS;oBACT,UAAU;oBACV,OAAO;oBACP,OAAO;oBACP,KAAK;oBACL,MAAM;oBACN,MAAM;oBACN,QAAQ;oBACR,WAAW;oBACX,SAAS;oBACT,UAAU;oBACV,UAAU;iBACb,CAAC;gBACF,iBAAY,GAAW,IAAI,CAAC;gBAC5B,mBAAc,GAAW,qCAAqC,CAAC;gBAC/D,qBAAgB,GAAW,UAAU,CAAC;gBACtC,qBAAgB,GAAa;oBACzB,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;iBACP,CAAC;gBACF,qBAAgB,GAAW,SAAS,CAAC;gBACrC,4BAAuB,GAAW,+BAA+B,CAAC;gBAClE,kBAAa,GAAW,GAAG,CAAC;gBAC5B,qCAAgC,GAAW,gCAAgC,CAAC;gBAC5E,qBAAgB,GAAW,YAAY,CAAC;gBAExC,0BAAqB,GAAY,KAAK,CAAC;YAwF3C,CAAC;YAtFG,uCAAU,GAAV,UAAW,GAAW;gBAClB,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;oBACV,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;gBACxC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;oBACR,MAAM,IAAI,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBACvC,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;gBAClC,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC;oBACnB,MAAM,IAAI,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBACvC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACrB,CAAC;YAIM,qCAAkB,GAAzB,UAA0B,MAAc,EAAE,GAAW,EAAE,WAAmB;gBACtE,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;gBAC3B,IAAI,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC;gBACpB,IAAI,IAAI,GAAG,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACrC,OAAO,KAAK,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,IAAI;oBACtD,EAAE,KAAK,CAAC;gBACZ,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC;YACvB,CAAC;YACM,gCAAa,GAApB,UAAqB,MAAc,EAAE,GAAW;gBAC5C,EAAE,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;oBACzB,MAAM,CAAC,CAAC,CAAC,CAAC;gBACd,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YACtC,CAAC;YACM,mCAAgB,GAAvB,UAAwB,MAAc,EAAE,GAAW,EAAE,MAAgB;gBACjE,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;gBAC3B,IAAI,GAAG,GAAG,GAAG,CAAC;gBACd,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;gBACxB,IAAI,IAAI,GAAG,KAAK,CAAC;gBACjB,IAAI,OAAO,GAAG,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBACtC,OAAO,GAAG,GAAG,MAAM,EAAE,CAAC;oBAClB,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;oBACxB,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC;wBACd,IAAI,GAAG,IAAI,CAAC;wBACZ,KAAK,CAAC;oBACV,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,OAAO,CAAC,CAAC,CAAC;wBACzB,EAAE,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC;4BACd,MAAM,IAAI,eAAe,CAAC,wBAAwB,CAAC,CAAC;wBACxD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBAC/B,CAAC;oBAAC,IAAI;wBACF,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACzB,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC;oBACL,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;gBACrB,MAAM,IAAI,eAAe,CAAC,aAAa,GAAG,GAAG,CAAC,CAAC;YACnD,CAAC;YACM,+BAAY,GAAnB,UAAoB,EAAY,EAAE,KAAa,EAAE,GAAW,EAAE,gBAA0B;gBACpF,EAAE,CAAC,CAAC,CAAC,gBAAgB,IAAI,GAAG,GAAG,CAAC,CAAC;oBAC7B,GAAG,GAAG,CAAC,CAAC;gBAEZ,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACrC,OAAO,CAAC,CAAC,MAAM,GAAG,GAAG;oBACjB,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;gBAChB,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,CAAC;YACM,8BAAW,GAAlB,UAAmB,KAAa,EAAE,MAAc,EAAE,IAAwB;gBACtE,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;oBACb,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACjD,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;YACtC,CAAC;YACM,kCAAe,GAAtB,UAAuB,SAAoB,EAAE,MAAc,EAAE,IAAwB;gBACjF,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;oBACb,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;gBAC/C,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YACpC,CAAC;YAEM,qCAAkB,GAAzB,UAA0B,EAAY,EAAE,MAAc;gBAElD,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBACvC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC7B,CAAC;YACM,wCAAqB,GAA5B,UAA6B,GAAa,EAAE,KAAa,EAAE,MAAc,EAAE,IAAwB;gBAC/F,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBACvC,MAAM,CAAC,kBAAkB,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;gBAK3D,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;oBACX,EAAE,KAAK,CAAC;gBACZ,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;oBACb,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC;gBAC/C,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC;YACpC,CAAC;YA1EM,2BAAQ,GAAG,IAAI,kBAAkB,EAAE,CAAC;YA2E/C,yBAAC;QAAD,CAhMA,AAgMC,IAAA;QAhMY,+BAAkB,qBAgM9B,CAAA;IACL,CAAC,EAvMY,YAAY,GAAZ,kBAAY,KAAZ,kBAAY,QAuMxB;AAAD,CAAC,EAvMM,KAAK,KAAL,KAAK,QAuMX;ACzMD,IAAO,KAAK,CAiLX;AAjLD,WAAO,KAAK;IAAC,IAAA,YAAY,CAiLxB;IAjLY,WAAA,YAAY,EAAC,CAAC;QACvB,gBAAuB,MAAc;YAAE,eAAe;iBAAf,WAAe,CAAf,sBAAe,CAAf,IAAe;gBAAf,8BAAe;;YAClD,IAAI,EAAE,GAAa,EAAE,CAAC;YACtB,YAAY,CAAC,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;YAChC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACvB,CAAC;QAJe,mBAAM,SAIrB,CAAA;QACD,sBAA6B,GAAQ,EAAE,MAAc;YACjD,MAAM,CAAC,aAAa,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACtC,CAAC;QAFe,yBAAY,eAE3B,CAAA;QAED,sBAAsB,KAAe,EAAE,MAAc,EAAE,IAAW,EAAE,QAAc;YAC9E,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC;gBAC/B,MAAM,IAAI,qBAAqB,CAAC,MAAM,IAAI,IAAI,GAAG,QAAQ,GAAG,MAAM,CAAC,CAAC;YACxE,IAAI,MAAM,GAAG,CAAC,CAAC;YACf,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAC3B,IAAI,EAAE,GAAG,CAAC,CAAC;YACX,OAAO,IAAI,EAAE,CAAC;gBACV,IAAI,IAAI,GAAG,KAAK,CAAC;gBACjB,IAAI,WAAW,GAAG,CAAC,CAAC;gBACpB,IAAI,QAAQ,GAAG,KAAK,CAAC;gBACrB,GAAG,CAAC;oBACA,EAAE,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;wBAClB,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;wBAC/B,EAAE,MAAM,CAAC;wBACT,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;4BACb,EAAE,CAAC,CAAC,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC;gCACrD,EAAE,MAAM,CAAC;4BACb,IAAI;gCACA,MAAM,WAAW,EAAE,CAAC;wBAC5B,CAAC;wBACD,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;4BACb,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC;gCACtD,EAAE,MAAM,CAAC;4BACb,IAAI,CAAC,CAAC;gCACF,QAAQ,GAAG,IAAI,CAAC;gCAChB,EAAE,MAAM,CAAC;gCACT,KAAK,CAAC;4BACV,CAAC;wBACL,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;4BACpC,QAAQ,GAAG,IAAI,CAAC;4BAChB,KAAK,CAAC;wBACV,CAAC;oBACL,CAAC;oBACD,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC;wBACnB,IAAI,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;wBACxB,EAAE,CAAC,CAAC,MAAM,KAAK,MAAM,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;4BACtE,MAAM,WAAW,EAAE,CAAC;wBACxB,IAAI,MAAM,GAAG,CAAC,CAAC;wBACf,GAAG,CAAC;4BACA,MAAM,GAAG,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;4BAC/B,EAAE,MAAM,CAAC;4BACT,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;gCACjB,MAAM,WAAW,EAAE,CAAC;4BACxB,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;wBACnC,CAAC,QACM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,MAAM,GAAG,OAAO,EAAE;wBACjD,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC;4BACtB,MAAM,IAAI,eAAe,CAAC,qBAAqB,CAAC,CAAC;wBACrD,OAAO,MAAM,GAAG,MAAM,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE;4BAC7D,EAAE,MAAM,CAAC;wBACb,IAAI,GAAG,KAAK,CAAC;wBACb,IAAI,GAAG,GAAG,CAAC,CAAC;wBACZ,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;4BACZ,EAAE,MAAM,CAAC;4BACT,OAAO,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE;gCACtD,EAAE,MAAM,CAAC;4BACb,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;gCACjB,MAAM,WAAW,EAAE,CAAC;4BACxB,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;4BAC/B,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;gCACZ,IAAI,GAAG,IAAI,CAAC;gCACZ,EAAE,MAAM,CAAC;gCACT,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;oCACjB,MAAM,WAAW,EAAE,CAAC;gCACxB,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;4BACnC,CAAC;4BACD,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC;gCACnB,MAAM,WAAW,EAAE,CAAC;4BACxB,GAAG,CAAC;gCACA,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;gCACzB,EAAE,MAAM,CAAC;gCACT,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;oCACjB,MAAM,WAAW,EAAE,CAAC;gCACxB,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;4BACnC,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,GAAG,GAAG,OAAO,EAAE;wBACpD,CAAC;wBACD,OAAO,MAAM,GAAG,MAAM,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE;4BAC7D,EAAE,MAAM,CAAC;wBACb,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;wBACvB,IAAI,aAAa,GAAa,IAAI,CAAC;wBACnC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;4BACZ,IAAI,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;4BACxB,OAAO,IAAI,EAAE,CAAC;gCACV,EAAE,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC;oCAClB,MAAM,WAAW,EAAE,CAAC;gCACxB,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gCAC/B,EAAE,MAAM,CAAC;gCACT,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;oCACb,EAAE,CAAC,CAAC,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC;wCACrD,EAAE,MAAM,CAAC;oCACb,IAAI;wCACA,MAAM,WAAW,EAAE,CAAC;gCAC5B,CAAC;gCAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;oCACpB,EAAE,CAAC,CAAC,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC;wCACrD,EAAE,MAAM,CAAC;oCACb,IAAI;wCACA,KAAK,CAAC;gCACd,CAAC;gCACD,aAAa,GAAG,aAAa,IAAI,EAAE,CAAC;gCACpC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;4BAChD,CAAC;4BACD,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;wBACxB,CAAC;wBACD,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC;4BACX,MAAM,WAAW,EAAE,CAAC;wBACxB,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;wBACpB,IAAI,GAAG,GAAG,UAAU,CAAC,GAAG,EAAE,aAAa,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC;wBACzD,WAAW,GAAG,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;wBAC/B,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,WAAW,GAAG,CAAC,CAAC;4BACzB,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;wBACtC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACpB,CAAC;oBACD,IAAI;wBACA,MAAM,CAAC;gBACf,CAAC,QAAQ,CAAC,IAAI,IAAI,WAAW,IAAI,CAAC,EAAE;gBACpC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;oBACV,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;YAC1C,CAAC;QACL,CAAC;QACD,oBAAoB,GAAQ,EAAE,aAAuB,EAAE,QAAa;YAChE,IAAI,OAAO,GAAW,IAAI,CAAC;YAC3B,IAAI,GAAG,GAAW,IAAI,CAAC;YAQvB,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;gBACd,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,IAAI,aAAa,IAAI,IAAI,CAAC;oBACzC,OAAO,GAAG,qBAAqB,CAAC,aAAa,CAAC,CAAC;gBACnD,IAAI,SAAS,GAAG,OAAO,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,IAAI,GAAG,EAAE,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG,aAAa,CAAC,GAAG,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;gBAC9G,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC;oBACxB,GAAG,GAAG,SAAS,CAAC;YACxB,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QACD,kBAAkB,GAAa,EAAE,CAAS,EAAE,KAAa;YACrD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAChB,CAAC;QACL,CAAC;QACD;YACI,MAAM,CAAC,IAAI,eAAe,CAAC,wBAAwB,CAAC,CAAC;QACzD,CAAC;QACD,+BAA+B,GAAa;YACxC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC;QAKD,IAAI,UAAU,GAAmB,EAAE,CAAC;QACpC,6BAAoC,IAAc,EAAE,SAAuB;YACvE,UAAU,CAAO,IAAK,CAAC,GAAG,SAAS,CAAC;QACxC,CAAC;QAFe,gCAAmB,sBAElC,CAAA;QACD,uBAAuB,GAAQ,EAAE,MAAc,EAAE,QAAc;YAC3D,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC;gBACZ,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,IAAI,GAAG,GAAG,CAAC,WAAW,CAAC;YAC3B,IAAI,SAAS,GAAG,UAAU,CAAU,IAAK,CAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;gBACX,MAAM,CAAC,SAAS,CAAC;YACrB,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC5C,CAAC;IACL,CAAC,EAjLY,YAAY,GAAZ,kBAAY,KAAZ,kBAAY,QAiLxB;AAAD,CAAC,EAjLM,KAAK,KAAL,KAAK,QAiLX;AC9KD,IAAO,KAAK,CA0YX;AA1YD,WAAO,KAAK;IAAC,IAAA,YAAY,CA0YxB;IA1YY,WAAA,YAAY,EAAC,CAAC;QACvB,gCAAmB,CAAC,QAAQ,EAAE,UAAC,GAAQ,EAAE,MAAc,EAAE,QAAc;YACnE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;gBACR,MAAM,CAAC,SAAS,CAAC;YACrB,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC;gBACZ,MAAM,CAAC,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,GAAG,CAAC,WAAW,KAAK,QAAQ,CAAC;gBAC7B,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,GAAG,GAAG,iBAAiB,CAAW,GAAG,EAAE,MAAM,CAAC,CAAC;YACnD,EAAE,CAAC,CAAC,GAAG,IAAI,SAAS,CAAC;gBACjB,MAAM,CAAC,GAAG,CAAC;YACf,MAAM,CAAC,eAAe,CAAW,GAAG,EAAE,MAAM,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;QAkBH,2BAA2B,GAAa,EAAE,MAAc;YACpD,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;gBACpB,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;gBACJ,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,CAAC,GAAG,kBAAkB,CAAC,EAAE,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,SAAS,CAAC;YACrB,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,CAAC;QAID,IAAI,kBAAkB,GAAyB,EAAE,CAAC;QAClD,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,MAAM,CAAC;gBACH,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACpB,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE;gBAClB,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;aACtB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,MAAM,CAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC;gBAC5B,IAAI;gBACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC9B,GAAG;gBACH,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE;gBAClB,IAAI;gBACJ,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;aACtB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,MAAM,CAAC;gBACH,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;aAC/B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,MAAM,CAAC;gBACH,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;aAC/B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,MAAM,CAAC;gBACH,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;aAC/B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,MAAM,CAAC;gBACH,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;gBAC5B,kBAAkB,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;aAC/B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YACvE,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,MAAM,CAAC;gBACH,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC9B,GAAG,CAAC,GAAG;aACV,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YACvE,IAAI,GAAG,GAAG,GAAG,CAAC,eAAe,EAAE,CAAC;YAChC,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,MAAM,CAAC;gBACH,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC;gBACvC,IAAI;gBACJ,GAAG,CAAC,GAAG;gBACP,GAAG;gBACH,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,KAAK,GAAC,CAAC,CAAC;gBACvC,GAAG;gBACH,GAAG,CAAC,IAAI;gBACR,GAAG;gBACH,GAAG,CAAC,IAAI;gBACR,GAAG;gBACH,GAAG,CAAC,MAAM;gBACV,GAAG;gBACH,GAAG,CAAC,MAAM;gBACV,MAAM;aACT,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,MAAM,CAAC;gBACH,GAAG,CAAC,IAAI;gBACR,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;gBACjB,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC;gBACf,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC;gBAChB,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;gBAClB,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;aAErB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAC9B,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;gBACZ,IAAI,IAAI,EAAE,CAAC;gBACX,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAC9B,CAAC;YACD,MAAM,CAAC;gBACH,IAAI,CAAC,QAAQ,EAAE;gBACf,GAAG;gBACH,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACrB,GAAG;gBACH,KAAK;aACR,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAC9B,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;gBACZ,IAAI,IAAI,EAAE,CAAC;gBACX,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAC9B,CAAC;YACD,MAAM,CAAC;gBACH,IAAI,CAAC,QAAQ,EAAE;gBACf,GAAG;gBACH,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACrB,GAAG;gBACH,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACrB,GAAG;gBACH,KAAK;aACR,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,MAAM,CAAC;gBACH,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACnB,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;gBACjB,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC;gBACf,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC;gBAChB,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;gBAClB,GAAG;gBACH,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;gBAClB,GAAG;aACN,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAC7C,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAC9B,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;gBACZ,IAAI,IAAI,EAAE,CAAC;gBACX,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAC9B,CAAC;YACD,MAAM,CAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC;gBAC5B,IAAI;gBACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,GAAC,CAAC,CAAC;gBAC5B,GAAG;gBACH,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE;gBAClB,IAAI;gBACJ,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACnB,GAAG;gBACH,IAAI,CAAC,QAAQ,EAAE;gBACf,GAAG;gBACH,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACrB,GAAG;gBACH,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACrB,GAAG;gBACH,KAAK;aACR,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YACvE,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,MAAM,CAAC;gBACH,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC9B,GAAG,CAAC,IAAI;aACX,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjB,CAAC,CAAC;QAEF,gBAAgB,GAAW;YACvB,MAAM,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC5D,CAAC;QAED,yBAAyB,GAAa,EAAE,MAAc,EAAE,MAAgB;YACpE,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC7B,IAAI,aAAa,GAAa,EAAE,CAAC;YACjC,IAAI,IAAI,GAAG,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;YAC7B,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,IAAI,GAAW,CAAC;YAChB,OAAO,KAAK,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;gBAC3B,IAAI,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;gBAChC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;oBAClB,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;wBAChE,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;wBAChE,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;4BACZ,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;gCAChB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oCAChC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;oCACzC,KAAK,CAAC;gCACV,CAAC;gCAAC,IAAI;oCACF,KAAK,CAAC;4BACd,CAAC;4BAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gCACvC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;gCACzC,KAAK,CAAC;4BACV,CAAC;4BAAC,IAAI;gCACF,KAAK,CAAC;wBACd,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC1E,KAAK,CAAC;wBACV,CAAC;oBACL,KAAK,GAAG;wBACJ,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;wBACpB,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC;4BAC3B,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;wBAC7E,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;4BACvB,+BAAkB,CAAC,kBAAkB,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;wBAC/D,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;4BAChB,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;wBACpE,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,aAAa,CAAC,IAAI,CAAC,yBAAY,CAAC,IAAI,EAAE,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;wBACjE,CAAC;wBACD,QAAQ,GAAG,KAAK,CAAC;wBACjB,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBAExE,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;wBAC7C,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,CAAC,CAAC;wBAER,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;wBAC7C,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;wBACtB,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;4BACX,EAAE,CAAC,CAAC,IAAI,CAAC;gCACL,+BAAkB,CAAC,kBAAkB,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;4BAChE,IAAI;gCACA,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;wBACnE,CAAC;wBACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;4BACV,aAAa,CAAC,IAAI,CAAC,+BAAkB,CAAC,qBAAqB,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;wBAGxF,IAAI;4BACA,aAAa,CAAC,IAAI,CAAC,+BAAkB,CAAC,WAAW,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;wBACzE,QAAQ,GAAG,KAAK,CAAC;wBACjB,KAAK,CAAC;oBACV,KAAK,IAAI;wBACL,IAAI,IAAI,GAAG,+BAAkB,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;wBAC3D,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;4BACT,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;wBAC9C,GAAG,GAAG,CAAC,CAAC;wBACR,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;4BACX,IAAI,UAAU,GAAG,GAAG,CAAC,GAAG,CAAC;4BACzB,EAAE,CAAC,CAAC,IAAI,CAAC;gCACL,+BAAkB,CAAC,kBAAkB,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;4BACrE,IAAI;gCACA,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,UAAU,EAAE,GAAG,CAAC,CAAC;wBACxE,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;4BAC9B,aAAa,CAAC,IAAI,CAAC,+BAAkB,CAAC,eAAe,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;wBACjF,CAAC;wBACD,QAAQ,GAAG,KAAK,CAAC;wBACjB,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC;wBAC9C,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC;wBAC9C,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvC,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC;wBACzB,EAAE,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC;4BACX,IAAI,GAAG,EAAE,CAAC;wBACd,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;wBAC1D,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACvC,GAAG,GAAG,CAAC,CAAC;wBACR,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACvC,GAAG,GAAG,CAAC,CAAC;wBACR,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;wBACxE,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBAC9D,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC;oBACT,KAAK,IAAI;wBACL,GAAG,GAAG,+BAAkB,CAAC,gBAAgB,CAAC,MAAM,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;wBACxE,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,IAAI,IAAI,GAAG,+BAAkB,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;wBAC3D,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,KAAK,EAAE,CAAC;4BACxB,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;wBAC5E,GAAG,GAAG,CAAC,CAAC;wBACR,KAAK,CAAC;oBACV;wBACI,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBAChC,GAAG,GAAG,CAAC,CAAC;wBACR,KAAK,CAAC;gBACd,CAAC;gBACD,KAAK,IAAI,GAAG,CAAC;YACjB,CAAC;YACD,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC;QAED,aAAa,EAAU,EAAE,GAAW;YAChC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YAChC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC;gBACf,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YAChB,CAAC,IAAI,MAAM,CAAC;YACZ,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAC5B,CAAC;QACD,aAAa,EAAU,EAAE,GAAW;YAChC,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YACrB,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,GAAG,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC;oBACf,KAAK,CAAC;YACd,CAAC;YACD,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;QAC/B,CAAC;QAED;YACI,MAAM,CAAC,IAAI,eAAe,CAAC,wBAAwB,CAAC,CAAC;QACzD,CAAC;IACL,CAAC,EA1YY,YAAY,GAAZ,kBAAY,KAAZ,kBAAY,QA0YxB;AAAD,CAAC,EA1YM,KAAK,KAAL,KAAK,QA0YX;AC7YD,IAAO,KAAK,CA4RX;AA5RD,WAAO,KAAK;IAAC,IAAA,YAAY,CA4RxB;IA5RY,WAAA,YAAY,EAAC,CAAC;QACvB;YAAA;gBACI,0BAAqB,GAAW,CAAC,CAAC;gBAClC,6BAAwB,GAAW,GAAG,CAAC;gBACvC,2BAAsB,GAAW,GAAG,CAAC;gBACrC,uBAAkB,GAAa,CAAC,CAAC,CAAC,CAAC;gBACnC,4BAAuB,GAAW,CAAC,CAAC;gBACpC,4BAAuB,GAAW,CAAC,CAAC;gBACpC,mBAAc,GAAW,GAAG,CAAC;gBAE7B,cAAS,GAAW,KAAK,CAAC;gBAC1B,2BAAsB,GAAW,WAAW,CAAC;gBAC7C,2BAAsB,GAAW,UAAU,CAAC;gBAC5C,iBAAY,GAAW,GAAG,CAAC;gBAC3B,iBAAY,GAAW,GAAG,CAAC;gBAE3B,wBAAmB,GAAW,CAAC,CAAC;gBAChC,2BAAsB,GAAW,GAAG,CAAC;gBACrC,yBAAoB,GAAW,GAAG,CAAC;gBACnC,qBAAgB,GAAa,CAAC,CAAC,CAAC,CAAC;gBACjC,0BAAqB,GAAW,CAAC,CAAC;gBAElC,yBAAoB,GAAW,CAAC,CAAC;gBACjC,4BAAuB,GAAW,GAAG,CAAC;gBACtC,0BAAqB,GAAW,GAAG,CAAC;gBACpC,sBAAiB,GAAa,CAAC,CAAC,CAAC,CAAC;gBAClC,2BAAsB,GAAW,CAAC,CAAC;gBACnC,2BAAsB,GAAW,CAAC,CAAC;gBACnC,kBAAa,GAAW,GAAG,CAAC;gBAE5B,mBAAc,GAAW,GAAG,CAAC;YA2KjC,CAAC;YAvKG,yCAAc,GAAd,UAAe,GAAW,EAAE,SAAiB;gBACzC,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC;oBAAC,SAAS,GAAG,IAAI,CAAC,qBAAqB,CAAC;gBAC9D,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBACjJ,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACV,MAAM,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;wBACnC,KAAK,CAAC,CAAC;wBACP;4BACI,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,GAAG,MAAM,GAAG,GAAG,CAAC;wBACpD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACrE,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACrE,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACrE,KAAK,CAAC;4BACF,MAAM,CAAC,GAAG,GAAG,MAAM,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;wBACpD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACrE,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACrE,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACrE,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1E,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1E,KAAK,EAAE;4BACH,MAAM,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1E,KAAK,EAAE;4BACH,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1E,KAAK,EAAE;4BACH,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1E,KAAK,EAAE;4BACH,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1E,KAAK,EAAE;4BACH,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC;wBAC1D,KAAK,EAAE;4BACH,MAAM,CAAC,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;oBAC9D,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;wBACnC,KAAK,CAAC,CAAC;wBACP;4BACI,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAClD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAClD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBACnD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACvD,CAAC;gBACL,CAAC;YACL,CAAC;YACD,uCAAY,GAAZ,UAAa,GAAW,EAAE,SAAiB,EAAE,cAAwB;gBACjE,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC;oBAAC,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC;gBAC5D,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,sBAAsB,EAAE,cAAc,GAAG,EAAE,GAAG,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACjK,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;oBACT,MAAM,CAAC,MAAM,CAAC;gBAClB,MAAM,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBACjC,KAAK,CAAC;wBACF,MAAM,CAAC,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC;oBAC9B,KAAK,CAAC,CAAC;oBACP;wBACI,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAChD,KAAK,CAAC;wBACF,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACjD,KAAK,CAAC;wBACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAChD,KAAK,CAAC;wBACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACrD,CAAC;YACL,CAAC;YACD,wCAAa,GAAb,UAAc,GAAW,EAAE,SAAiB;gBACxC,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC;oBAAC,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC;gBAC7D,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACpJ,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC;gBAC7B,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACV,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC;oBAC7B,MAAM,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAClC,KAAK,CAAC,CAAC;wBACP;4BACI,MAAM,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC7C,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACxC,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACxC,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACxC,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACxC,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACxC,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACxC,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC7C,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC7C,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC7C,KAAK,EAAE;4BACH,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC7C,KAAK,EAAE;4BACH,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBACjD,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;wBAClC,KAAK,CAAC,CAAC;wBACP;4BACI,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBAClD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACjD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACjD,KAAK,CAAC;4BACF,MAAM,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACtD,CAAC;gBACL,CAAC;YACL,CAAC;YACD,wCAAa,GAAb,UAAc,GAAW,EAAE,SAAiB;gBACxC,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC;oBAAC,SAAS,GAAG,CAAC,CAAC;gBACrC,IAAI,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,SAAS,CAAC,CAAC;gBAC9C,IAAI,MAAM,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;gBAC5B,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;oBACT,MAAM,CAAC,MAAM,CAAC;gBAClB,MAAM,CAAC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;YACtC,CAAC;YACD,wCAAa,GAAb,UAAc,GAAW,EAAE,SAAiB;gBACxC,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;gBAClE,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,SAAS,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;oBACR,CAAC,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;gBAC9B,MAAM,CAAC,CAAC,CAAC;YACb,CAAC;YACD,4CAAiB,GAAjB,UAAkB,GAAW,EAAE,SAAiB;gBAC5C,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC;oBAAC,SAAS,GAAG,CAAC,CAAC;gBACrC,IAAI,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBACrC,IAAI,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAC5E,CAAC;YACD,4CAAiB,GAAjB,UAAkB,GAAW,EAAE,SAAiB;gBAC5C,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC;oBAAC,SAAS,GAAG,CAAC,CAAC;gBACrC,GAAG,GAAG,QAAQ,CAAM,GAAG,CAAC,CAAC;gBACzB,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;oBACT,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACrD,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAC9C,EAAE,CAAC,CAAC,SAAS,IAAI,EAAE,CAAC,MAAM,CAAC;oBACvB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;gBACvC,IAAI,KAAK,GAAG,CAAC,CAAC;gBACd,OAAO,EAAE,CAAC,MAAM,GAAG,KAAK,GAAG,SAAS,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;oBACxD,KAAK,EAAE,CAAC;gBACZ,CAAC;gBACD,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC5B,CAAC;YACD,0CAAe,GAAf,UAAgB,GAAW,EAAE,SAAiB,EAAE,MAAc,EAAE,QAAgB,EAAE,UAAoB;gBAElG,IAAI,OAAO,GAAG,KAAK,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBACpC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACxC,IAAI,EAAE,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1C,IAAI,GAAG,GAAG,MAAM,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;oBACL,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;gBACjC,MAAM,CAAC;oBACH,OAAO,CAAC,EAAE,EAAE,QAAQ,CAAC;oBACrB,GAAG;iBACN,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACnB,CAAC;YAxKM,yBAAQ,GAAG,IAAI,gBAAgB,EAAE,CAAC;YAyK7C,uBAAC;QAAD,CAxMA,AAwMC,IAAA;QAxMY,6BAAgB,mBAwM5B,CAAA;QAED,iBAAiB,CAAS,EAAE,GAAW;YACnC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;gBACb,MAAM,CAAC,CAAC,CAAC;YACb,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YAC1B,EAAE,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBACf,MAAM,GAAG,CAAC,GAAG,MAAM,CAAC;gBACpB,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC5C,CAAC;YACD,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACvD,CAAC;QACD,gBAAgB,CAAS,EAAE,SAAiB,EAAE,KAAe;YACzD,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC9C,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC;gBACrB,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;YAC9C,EAAE,CAAC,CAAC,KAAK,CAAC;gBACN,MAAM,CAAC,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC7D,MAAM,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC7D,CAAC;QACD,eAAe,GAAW,EAAE,MAAc;YACtC,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;YAClC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,MAAM,CAAC;QAC7C,CAAC;QACD,mBAAmB,GAAW,EAAE,MAAc;YAC1C,IAAI,CAAC,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;YACvB,IAAI,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAC3B,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACX,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,GAAG,KAAK,CAAC,CAAC;YACtC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;QACzC,CAAC;IAoDL,CAAC,EA5RY,YAAY,GAAZ,kBAAY,KAAZ,kBAAY,QA4RxB;AAAD,CAAC,EA5RM,KAAK,KAAL,KAAK,QA4RX;AC1RD,IAAO,KAAK,CA2EX;AA3ED,WAAO,KAAK;IAAC,IAAA,YAAY,CA2ExB;IA3EY,WAAA,YAAY,EAAC,CAAC;QACvB,gCAAmB,CAAC,MAAM,EAAE,UAAC,GAAQ,EAAE,MAAc,EAAE,QAAc;YACjE,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC;gBACZ,MAAM,CAAC,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,GAAG,CAAC,WAAW,KAAK,MAAM,CAAC;gBAC3B,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,GAAG,GAAG,iBAAiB,CAAS,GAAG,EAAE,MAAM,CAAC,CAAC;YACjD,EAAE,CAAC,CAAC,GAAG,IAAI,SAAS,CAAC;gBACjB,MAAM,CAAC,GAAG,CAAC;YACf,MAAM,CAAC,MAAM,CAAC;QAClB,CAAC,CAAC,CAAC;QAYH,2BAA2B,GAAW,EAAE,MAAc;YAClD,IAAI,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;gBACJ,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,OAAO,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC;YAC/B,EAAE,CAAC,CAAC,OAAO,GAAG,GAAG,IAAI,OAAO,GAAG,GAAG,CAAC;gBAC/B,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,IAAI,GAAW,IAAI,CAAC;YACxB,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACZ,MAAM,CAAC,SAAS,CAAC;YACzB,CAAC;YAED,IAAI,CAAC,GAAG,kBAAkB,CAAC,EAAE,CAAC,IAAI,kBAAkB,CAAC,OAAO,CAAC,CAAC;YAC9D,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,SAAS,CAAC;YACrB,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACxB,CAAC;QAID,IAAI,kBAAkB,GAAyB,EAAE,CAAC;QAClD,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QACpE,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QACnE,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;QACrF,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QACvE,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;QACxE,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QACnE,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QAClE,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QACnE,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;QACrF,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAW,EAAE,SAAiB;YAC9D,MAAM,CAAC,6BAAgB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QACvE,CAAC,CAAC;IACN,CAAC,EA3EY,YAAY,GAAZ,kBAAY,KAAZ,kBAAY,QA2ExB;AAAD,CAAC,EA3EM,KAAK,KAAL,KAAK,QA2EX;AC1ED,IAAO,KAAK,CAwLX;AAxLD,WAAO,KAAK;IAAC,IAAA,YAAY,CAwLxB;IAxLY,WAAA,YAAY,EAAC,CAAC;QACvB,gCAAmB,CAAC,QAAQ,EAAE,UAAC,GAAQ,EAAE,MAAc,EAAE,QAAc;YACnE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;gBACR,MAAM,CAAC,SAAS,CAAC;YACrB,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC;gBACZ,MAAM,CAAC,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,GAAG,CAAC,WAAW,KAAK,QAAQ,CAAC;gBAC7B,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,GAAG,GAAG,iBAAiB,CAAW,GAAG,EAAE,MAAM,CAAC,CAAC;YACnD,EAAE,CAAC,CAAC,GAAG,IAAI,SAAS,CAAC;gBACjB,MAAM,CAAC,GAAG,CAAC;YACf,MAAM,CAAC,eAAe,CAAW,GAAG,EAAE,MAAM,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QAMH,2BAA2B,GAAa,EAAE,MAAc;YACpD,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;gBACpB,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;gBACJ,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,CAAC,GAAG,kBAAkB,CAAC,EAAE,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,SAAS,CAAC;YACrB,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAClB,CAAC;QAID,IAAI,kBAAkB,GAAyB,EAAE,CAAC;QAClD,kBAAkB,CAAC,GAAG,CAAC,GAAG,kBAAkB,CAAC,GAAG,CAAC,GAAG,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAEjG,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,IAAI,CAAC,GAAG;gBACJ,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;gBACnB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;aACtB,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,EAAE,CAAC,CAAC,IAAI,CAAC;gBACL,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YACjC,IAAI,EAAE,GAAG,GAAG,CAAC,YAAY,CAAC;YAC1B,EAAE,CAAC,CAAC,EAAE,CAAC;gBACH,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAC1B,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;gBACd,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YAChB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAE7C,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,IAAI,CAAC,GAAG;gBACJ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC;gBACnB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;gBACnB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;aACtB,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,EAAE,CAAC,CAAC,IAAI,CAAC;gBACL,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YACjC,IAAI,EAAE,GAAG,GAAG,CAAC,YAAY,CAAC;YAC1B,EAAE,CAAC,CAAC,EAAE,CAAC;gBACH,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAC1B,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;gBACd,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YAChB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC,CAAC;QACF,kBAAkB,CAAC,GAAG,CAAC,GAAG,UAAU,GAAa;YAE7C,IAAI,IAAI,GAAG,+BAAkB,CAAC,QAAQ,CAAC;YACvC,IAAI,CAAC,GAAG;gBACJ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;gBAClB,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;gBACjB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;gBACnB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;aACtB,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC3B,IAAI,EAAE,GAAG,GAAG,CAAC,YAAY,CAAC;YAC1B,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YACtB,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;gBACd,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YAChB,MAAM,CAAC,CAAC,CAAC;QACb,CAAC,CAAC;QAEF,yBAAyB,GAAa,EAAE,MAAc;YAClD,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAChC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAEpC,IAAI,GAAW,CAAC;YAChB,IAAI,GAAG,GAAG,CAAC,CAAC;YACZ,IAAI,aAAa,GAAa,EAAE,CAAC;YACjC,OAAO,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;gBACzB,IAAI,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9B,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;oBAClB,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;wBACtE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;wBAC7D,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;wBACtE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;wBAC7D,KAAK,CAAC;oBACV,KAAK,IAAI;wBACL,IAAI,IAAI,GAAG,+BAAkB,CAAC,aAAa,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;wBACzD,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;4BACT,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;wBAC9C,GAAG,GAAG,CAAC,CAAC;wBACR,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;wBACtE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;wBAChE,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;wBACtE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACjC,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;wBACtE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;wBACjC,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,GAAG,GAAG,+BAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,GAAG,EAAE,WAAW,CAAC,CAAC;wBACtE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACR,MAAM,WAAW,EAAE,CAAC;wBACxB,+BAAkB,CAAC,YAAY,CAAC,aAAa,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;wBAC3D,KAAK,CAAC;oBACV,KAAK,GAAG,CAAC;oBACT,KAAK,IAAI;wBACL,GAAG,GAAG,+BAAkB,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE,aAAa,CAAC,CAAC;wBACtE,KAAK,CAAC;oBACV,KAAK,GAAG;wBACJ,IAAI,IAAI,GAAG,+BAAkB,CAAC,aAAa,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;wBACzD,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,KAAK,EAAE,CAAC;4BACxB,MAAM,WAAW,EAAE,CAAC;wBACxB,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACpE,GAAG,GAAG,CAAC,CAAC;wBACR,KAAK,CAAC;oBACV;wBACI,MAAM,WAAW,EAAE,CAAC;gBAC5B,CAAC;gBACD,GAAG,IAAI,GAAG,CAAC;YACf,CAAC;YACD,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC;QAED,gBAAgB,GAAW;YACvB,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;YACjC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,CAAC;QACD,aAAa,EAAU,EAAE,GAAW;YAChC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YAChC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC;gBACf,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YAChB,CAAC,IAAI,MAAM,CAAC;YACZ,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAC5B,CAAC;QACD,aAAa,EAAU,EAAE,GAAW;YAChC,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YACrB,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,GAAG,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;gBACrB,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC;oBACf,KAAK,CAAC;YACd,CAAC;YACD,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;QAC/B,CAAC;QAED;YACI,MAAM,CAAC,IAAI,eAAe,CAAC,wBAAwB,CAAC,CAAC;QACzD,CAAC;IACL,CAAC,EAxLY,YAAY,GAAZ,kBAAY,KAAZ,kBAAY,QAwLxB;AAAD,CAAC,EAxLM,KAAK,KAAL,KAAK,QAwLX;AC3LD,IAAO,KAAK,CA+GX;AA/GD,WAAO,KAAK;IAAC,IAAA,IAAI,CA+GhB;IA/GY,WAAA,IAAI,EAAC,CAAC;QAUf,mBAA8B,WAAgB;YAC1C,IAAI,GAAG,GAAG,UAAU,CAAC,WAAW,CAAC,CAAC;YAElC,IAAI,KAAK,GAAa,EAAE,CAAC;YACzB,IAAI,UAAU,GAAwB,EAAE,CAAC;YAEzC,IAAI,OAAO,GAAoB;gBAC3B,MAAM;oBAAE,oBAAuB;yBAAvB,WAAuB,CAAvB,sBAAuB,CAAvB,IAAuB;wBAAvB,mCAAuB;;oBAC3B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACzC,IAAI,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;wBACzB,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC;4BACzB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACrB,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;4BACzB,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBACnC,CAAC;oBACD,MAAM,CAAC,OAAO,CAAC;gBACnB,CAAC;gBACD,QAAQ,YAAE,YAAoB;oBAAE,qBAAiC;yBAAjC,WAAiC,CAAjC,sBAAiC,CAAjC,IAAiC;wBAAjC,oCAAiC;;oBAC7D,IAAI,GAAG,GAAG,UAAU,CAAC,YAAY,CAAC,CAAC;oBACnC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;wBACL,UAAU,CAAC,YAAY,CAAC,GAAG,WAAW,CAAC;oBAC3C,IAAI;wBACA,UAAU,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;oBACvD,MAAM,CAAC,OAAO,CAAC;gBACnB,CAAC;gBACD,MAAM;oBACF,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;wBACxE,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBACrB,aAAa,CAAC,GAAG,EAAE,IAAI,EAAE,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC/C,CAAC;oBACD,MAAM,CAAC,GAAG,CAAC;gBACf,CAAC;aACJ,CAAC;YACF,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QAlCe,cAAS,YAkCxB,CAAA;QAED,oBAAqB,WAAgB;YACjC,EAAE,CAAC,CAAC,OAAO,WAAW,KAAK,UAAU,CAAC;gBAClC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC;YACjC,MAAM,CAAC,WAAW,CAAC;QACvB,CAAC;QAED,gBAAiB,GAAa;YAC1B,IAAI,EAAE,GAAa,EAAE,CAAC;YACtB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBACjB,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;oBACrB,QAAQ,CAAC;gBACb,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC;YACD,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QAED,uBAAwB,GAAQ,EAAE,YAAoB,EAAE,WAA8B;YAClF,IAAI,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC;YAChC,IAAI,WAAW,GAAG,IAAI,GAAG,YAAY,GAAG,IAAI,CAAC;YAC7C,GAAG,CAAC,WAAW,CAAC,GAAG,OAAO,CAAC;YAC3B,EAAE,CAAC,CAAC,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACxC,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,YAAY,EAAE;oBACrC,GAAG,EAAE;wBACD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC7B,CAAC;oBACD,GAAG,EAAE,UAAU,KAAU;wBACrB,IAAI,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;wBAC1B,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,YAAY,EAAE,WAAW,CAAC,CAAC;wBACnD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;oBACzC,CAAC;iBACJ,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,YAAY,EAAE;oBACrC,GAAG,EAAE;wBACD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC7B,CAAC;oBACD,GAAG,EAAE,UAAU,KAAU;wBACrB,IAAI,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;wBAC1B,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;oBACzC,CAAC;iBACJ,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAED,oBAAqB,MAAW,EAAE,KAAU,EAAE,YAAoB,EAAE,WAA8B;YAC9F,IAAI,IAAI,GAAG,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,WAAW,CAAC,CAAC;YAC9D,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACvD,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;gBACjB,MAAM,CAAC;YACX,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnC,MAAM,CAAC,QAAQ,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3C,CAAC;QACL,CAAC;QAED,kBAAmB,MAAW,EAAE,KAAU,EAAE,YAAoB,EAAE,WAA8B;YAC5F,IAAI,GAAG,GAAa,EAAE,CAAC;YACvB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1C,IAAI,IAAI,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC;gBAC/C,EAAE,CAAC,CAAC,MAAM,CAAC;oBACP,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACjC,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;IACL,CAAC,EA/GY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QA+GhB;AAAD,CAAC,EA/GM,KAAK,KAAL,KAAK,QA+GX;AC7GD,IAAO,KAAK,CAyBX;AAzBD,WAAO,KAAK;IAAC,IAAA,IAAI,CAyBhB;IAzBY,WAAA,IAAI,EAAC,CAAC;QACf,0BAAiC,IAAS,EAAE,SAAmB;YAC3D,IAAI,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC;YAC3B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,CAAC;oBACG,IAAI,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC5B,IAAI,WAAW,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,CAAC;oBACvC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE;wBAC5C,GAAG,EAAE,cAAc,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;wBAC9C,GAAG,EAAE,UAAU,KAAU;4BACrB,IAAI,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;4BAC1B,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;wBACrC,CAAC;qBACJ,CAAC,CAAC;gBACP,CAAC,CAAC,EAAE,CAAC;YACT,CAAC;QACL,CAAC;QAfe,qBAAgB,mBAe/B,CAAA;QAED;YAAA;gBACI,oBAAe,GAAG,IAAI,SAAS,CAAC,KAAK,EAA4B,CAAC;YAItE,CAAC;YAHG,4CAAiB,GAAjB,UAAkB,YAAoB;gBAClC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,8BAAwB,CAAC,YAAY,CAAC,CAAC,CAAC;YACjF,CAAC;YACL,uBAAC;QAAD,CALA,AAKC,IAAA;QALY,qBAAgB,mBAK5B,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAC5C,CAAC,EAzBY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAyBhB;AAAD,CAAC,EAzBM,KAAK,KAAL,KAAK,QAyBX;ACzBD,IAAO,KAAK,CAIX;AAJD,WAAO,KAAK;IAAC,IAAA,IAAI,CAIhB;IAJY,WAAA,IAAI,EAAC,CAAC;QACf;YAAmC,iCAAgB;YAAnD;gBAAmC,8BAAgB;YACnD,CAAC;YAAD,oBAAC;QAAD,CADA,AACC,CADkC,qBAAgB,GAClD;QADY,kBAAa,gBACzB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IACzC,CAAC,EAJY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAIhB;AAAD,CAAC,EAJM,KAAK,KAAL,KAAK,QAIX;ACJD,IAAO,KAAK,CAqDX;AArDD,WAAO,KAAK;IAAC,IAAA,IAAI,CAqDhB;IArDY,WAAA,IAAI,EAAC,CAAC;QAQf;YAAwD,mCAAa;YAWjE,yBAAa,QAAsD;gBAXvE,iBA2CC;gBA/BO,iBAAO,CAAC;gBAXZ,WAAM,GAAG,KAAK,CAAC;gBACf,uBAAkB,GAAQ,IAAI,CAAC;gBAW3B,IAAI,CAAC,kBAAkB,GAAG,IAAI,iBAAY,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAA7B,CAA6B,EAAE,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,EAAhC,CAAgC,CAAC,CAAC;gBAC1H,IAAI,CAAC,aAAa,GAAG,IAAI,iBAAY,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAxB,CAAwB,CAAC,CAAC;gBACvE,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACX,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC;oBAC1C,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC;oBAC9C,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,gBAAgB,CAAC;oBAClD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;gBACpC,CAAC;YACL,CAAC;YAEO,wCAAc,GAAtB,UAAwB,SAAqC;gBACzD,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC5B,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAU,SAAS,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC;gBACjF,CAAC;gBACD,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;YAC1D,CAAC;YAEO,6CAAmB,GAA3B,UAA6B,SAAmB;gBAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,CAAC,CAAC;oBAChC,IAAI,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;oBAC1C,EAAE,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC;wBACX,MAAM,CAAC;oBACX,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;gBACjC,CAAC;gBACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACvB,CAAC;YAEO,gDAAsB,GAA9B,UAAgC,SAAmB;gBAC/C,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACpD,CAAC;YACL,sBAAC;QAAD,CA3CA,AA2CC,CA3CuD,kBAAa,GA2CpE;QA3CY,oBAAe,kBA2C3B,CAAA;QACD,qBAAgB,CAAC,eAAe,EAAE,CAAC,QAAQ,EAAE,oBAAoB,EAAE,oBAAoB,EAAE,eAAe,CAAC,CAAC,CAAC;IAC/G,CAAC,EArDY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAqDhB;AAAD,CAAC,EArDM,KAAK,KAAL,KAAK,QAqDX;ACvDD,IAAO,KAAK,CAsFX;AAtFD,WAAO,KAAK;IAAC,IAAA,IAAI,CAsFhB;IAtFY,WAAA,IAAI,EAAC,CAAC;QAQf;YAAA;gBACI,oBAAe,GAAG,IAAI,SAAS,CAAC,KAAK,EAA4B,CAAC;gBAM1D,YAAO,GAAQ,EAAE,CAAC;gBAE1B,kBAAa,GAAG,IAAI,SAAS,CAAC,KAAK,EAAmC,CAAC;YAmE3E,CAAC;YAzEG,kCAAiB,GAAjB,UAAmB,YAAoB;gBACnC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,8BAAwB,CAAC,YAAY,CAAC,CAAC,CAAC;YACjF,CAAC;YAMD,sBAAI,6BAAS;qBAAb;oBACI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;gBAChD,CAAC;;;eAAA;YAED,yBAAQ,GAAR,UAAU,YAAoB,EAAE,YAAoB;gBAChD,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACR,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBAChD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC5B,CAAC;gBACD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,UAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,CAAC,CAAC;YACtF,CAAC;YAED,4BAAW,GAAX,UAAa,YAAoB,EAAE,YAAoB;gBACnD,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC;gBACX,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBACvC,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;oBACX,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;oBAChB,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBACtC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,UAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,CAAC,CAAC;YACtF,CAAC;YAED,4BAAW,GAAX,UAAa,YAAoB;gBAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC;gBACX,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAClC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,UAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,CAAC,CAAC;YACtF,CAAC;YAED,0BAAS,GAAT,UAAW,YAAoB;gBAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBACtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAClD,CAAC;YAEM,cAAO,GAAd,UAA0C,KAAU;gBAChD,IAAI,GAAG,GAAc,KAAK,CAAC;gBAC3B,IAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;gBAC7B,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE;oBACzB,SAAS,EAAE,EAAC,KAAK,EAAE,EAAE,EAAC;oBACtB,WAAW,EAAE;wBACT,GAAG,EAAE;4BACD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;wBAChD,CAAC;qBACJ;iBACJ,CAAC,CAAC;gBAEH,GAAG,CAAC,eAAe,GAAG,IAAI,SAAS,CAAC,KAAK,EAA4B,CAAC;gBACtE,GAAG,CAAC,iBAAiB,GAAG,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC1D,GAAG,CAAC,aAAa,GAAG,IAAI,SAAS,CAAC,KAAK,EAAmC,CAAC;gBAC3E,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACxC,GAAG,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC9C,GAAG,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC9C,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAE1C,UAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAErC,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACL,aAAC;QAAD,CA5EA,AA4EC,IAAA;QA5EY,WAAM,SA4ElB,CAAA;QACD,UAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5C,CAAC,EAtFY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAsFhB;AAAD,CAAC,EAtFM,KAAK,KAAL,KAAK,QAsFX;ACtFD,IAAO,KAAK,CAaX;AAbD,WAAO,KAAK;IAAC,IAAA,UAAU,CAatB;IAbY,WAAA,UAAU,EAAC,CAAC;QACrB;YAKI,eAAa,IAAS,EAAE,UAAqC,EAAE,WAAgB;gBAC3E,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;gBAC7B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YACnC,CAAC;YACL,YAAC;QAAD,CAVA,AAUC,IAAA;QAVY,gBAAK,QAUjB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC,EAbY,UAAU,GAAV,gBAAU,KAAV,gBAAU,QAatB;AAAD,CAAC,EAbM,KAAK,KAAL,KAAK,QAaX;ACXD,IAAO,KAAK,CAWX;AAXD,WAAO,KAAK;IAAC,IAAA,IAAI,CAWhB;IAXY,WAAA,IAAI,EAAC,CAAC;QAOJ,wBAAmB,GAAG,IAAI,SAAS,CAAC,SAAS,CAAqB,oBAAoB,CAAC,CAAC;QACnG,wBAAmB,CAAC,EAAE,GAAG,UAAU,CAAM;YACrC,MAAM,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,gBAAgB,KAAK,UAAU,CAAC;QACzD,CAAC,CAAC;IACN,CAAC,EAXY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAWhB;AAAD,CAAC,EAXM,KAAK,KAAL,KAAK,QAWX;ACbD,IAAO,KAAK,CAOX;AAPD,WAAO,KAAK;IAAC,IAAA,KAAK,CAOjB;IAPY,WAAA,KAAK,EAAC,CAAC;QAML,eAAS,GAAG,IAAI,SAAS,CAAC,SAAS,CAAW,UAAU,CAAC,CAAC;IACzE,CAAC,EAPY,KAAK,GAAL,WAAK,KAAL,WAAK,QAOjB;AAAD,CAAC,EAPM,KAAK,KAAL,KAAK,QAOX;ACLD,IAAO,KAAK,CAkBX;AAlBD,WAAO,KAAK;IAAC,IAAA,IAAI,CAkBhB;IAlBY,WAAA,IAAI,EAAC,CAAC;QACf;YACI,sBAAY,OAAkC,EAAG,UAAwC;gBASzF,sBAAiB,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;gBARtC,EAAE,CAAC,CAAC,OAAO,CAAC;oBACR,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBAC3B,EAAE,CAAC,CAAC,UAAU,CAAC;oBACX,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YACrC,CAAC;YAED,8BAAO,GAAP,UAAQ,SAAc,IAAI,CAAC;YAC3B,iCAAU,GAAV,UAAW,SAAc,IAAa,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YAEpD,6CAAsB,GAAtB;gBACI,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7C,CAAC;YACL,mBAAC;QAAD,CAdA,AAcC,IAAA;QAdY,iBAAY,eAcxB,CAAA;QACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACpC,SAAS,CAAC,iBAAiB,CAAC,YAAY,EAAE,WAAK,CAAC,SAAS,CAAC,CAAC;IAC/D,CAAC,EAlBY,IAAI,GAAJ,UAAI,KAAJ,UAAI,QAkBhB;AAAD,CAAC,EAlBM,KAAK,KAAL,KAAK,QAkBX;ACdD,IAAO,KAAK,CA2IX;AA3ID,WAAO,KAAK,EAAC,CAAC;IACV;QAAiC,+BAAgB;QA6C7C;YACI,iBAAO,CAAC;YA3CZ,WAAM,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;YAC/B,YAAO,GAAQ,IAAI,CAAC;YACpB,oBAAe,GAAG,IAAI,CAAC;YACf,eAAU,GAAY,KAAK,CAAC;YAC5B,cAAS,GAAG,KAAK,CAAC;YAClB,iBAAY,GAAgB,EAAE,CAAC;YAC/B,gBAAW,GAAe,IAAI,gBAAU,EAAE,CAAC;YAC3C,gBAAW,GAAc,IAAI,CAAC;YA6BtC,YAAO,GAAG,IAAI,iBAAW,EAAwB,CAAC;YAQ9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,eAAS,CAAC,IAAI,CAAC,CAAC;YAC9C,IAAI,EAAE,GAAG,WAAW,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxD,IAAI,CAAC,WAAW,GAAG,IAAI,aAAO,CAAC,IAAI,CAAC,CAAC;YACrC,IAAI,CAAC,OAAO,GAAG,IAAI,SAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC;QAhCO,wCAAkB,GAA1B,UAA2B,YAAoB,EAAE,YAAoB;YAArE,iBAMC;YALG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;gBAChB,MAAM,CAAC;YACX,kBAAY,CAAC,SAAS,CAAC,YAAY,CAAC;iBAC/B,IAAI,CAAC,cAAM,OAAA,KAAI,CAAC,WAAW,EAAE,EAAlB,CAAkB,EAC1B,UAAA,GAAG,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC,EAA3C,CAA2C,CAAC,CAAC;QAChE,CAAC;QAEO,yCAAmB,GAA3B,UAA4B,OAAe,EAAE,OAAe;QAC5D,CAAC;QAEO,iCAAW,GAAnB;YACI,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;gBAC9D,GAAG,CAAC,CAAC,IAAI,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC;oBAChE,IAAI,IAAI,GAAG,SAAS,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBACvD,eAAS,CAAC,mBAAmB,CAAC,GAAG,CAAmB,IAAI,CAAC,OAAO,EAAE,eAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBACjG,CAAC;YACL,CAAC;QACL,CAAC;QAID,+BAAS,GAAT,UAAU,OAAqB,EAAE,OAAqB;YAClD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,0BAAoB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;QACzE,CAAC;QAUD,sBAAI,mCAAU;iBAAd;gBACI,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;oBAC9D,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBACpD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;gBACxB,CAAC;YACL,CAAC;;;WAAA;QAED,qCAAe,GAAf,UAAgB,KAAgB;YAC5B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,CAAC;QAED,4BAAM,GAAN,UAAO,MAAyB;YAC5B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACpD,CAAC;QAED,2BAAK,GAAL;YACI,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACrC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACvC,CAAC;QAED,8BAAQ,GAAR,UAAS,QAAgB,EAAE,OAAe;YACtC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAC3C,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAEO,gCAAU,GAAlB;YACI,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC3C,CAAC;QAEO,wCAAkB,GAA1B,UAA2B,QAAgB,EAAE,OAAe;YACxD,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;YAC/C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3D,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC3B,CAAC;YACD,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC;QAEO,4BAAM,GAAd;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;gBAChB,MAAM,CAAC;YACX,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YACzC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YAC9C,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5B,CAAC;QAEO,4BAAM,GAAd;YACI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAC1B,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC;QAED,wCAAkB,GAAlB,UAAmB,UAAqB;YACpC,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;YAC5B,IAAI,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;gBACb,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7B,CAAC;QAED,0CAAoB,GAApB,UAAqB,UAAqB;YACtC,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;YAC5B,IAAI,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;gBACb,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC7B,CAAC;QAEM,oBAAQ,GAAf,UAAgB,GAAW;YACvB,MAAM,CAAC,YAAM,CAAC,OAAO,CAAC,GAAG,CAAC;iBACrB,IAAI,CAAC,UAAA,IAAI;gBACN,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBACnC,IAAI,GAAG,GAAG,YAAM,CAAC,IAAI,CAAc,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC/C,eAAe,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,WAAW,CAAC,CAAC;oBAC9B,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;gBACtD,MAAM,CAAC,GAAG,CAAC;YACf,CAAC,CAAC,CAAC;QACX,CAAC;QA3HM,6BAAiB,GAAG,kBAAkB,CAAC,iBAAiB,CAAqB,WAAW,EAAE,cAAM,OAAA,wBAAkB,EAAlB,CAAkB,EAAE,WAAW,CAAC,CAAC;QACjI,6BAAiB,GAAG,kBAAkB,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,EAAE,SAAS,EAAE,UAAC,CAAc,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAlD,CAAkD,CAAC,CAAC;QACjL,8BAAkB,GAAG,kBAAkB,CAAC,gBAAgB,CAAC,YAAY,EAAE,cAAM,OAAA,MAAM,EAAN,CAAM,EAAE,WAAW,EAAE,GAAG,EAAE,UAAC,CAAc,EAAE,IAAI,IAAK,OAAA,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAnD,CAAmD,CAAC,CAAC;QA0HjM,kBAAC;IAAD,CAxIA,AAwIC,CAxIgC,sBAAgB,GAwIhD;IAxIY,iBAAW,cAwIvB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACvC,CAAC,EA3IM,KAAK,KAAL,KAAK,QA2IX;AChJD,IAAO,KAAK,CAqDX;AArDD,WAAO,KAAK,EAAC,CAAC;IAKV,IAAI,gBAAgB,GAAG,CAAC;QACpB,MAAM,CAAC,MAAM,CAAC,qBAAqB;YACzB,MAAO,CAAC,2BAA2B;YACnC,MAAO,CAAC,wBAAwB;YAChC,MAAO,CAAC,sBAAsB;YACpC,MAAM,CAAC,uBAAuB;YAC9B,UAAU,QAAQ;gBACd,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,GAAG,GAAG,CAAC,CAAC;YAC5C,CAAC,CAAC;IACV,CAAC,CAAC,EAAE,CAAC;IAEL;QAAA;YACY,eAAU,GAA2B,EAAE,CAAC;YACxC,cAAS,GAAW,CAAC,CAAC;QAkClC,CAAC;QAhCG,kCAAa,GAAb,UAAc,QAA8B;YACxC,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;YACzB,IAAI,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACX,MAAM,CAAC;YACX,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAClB,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,KAAK,CAAC,CAAC;gBAChB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACrC,CAAC;QACD,oCAAe,GAAf,UAAgB,QAA8B;YAC1C,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;YACzB,IAAI,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;gBACX,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC5B,CAAC;QACO,4BAAO,GAAf;YACI,IAAI,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YACnC,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAC9B,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;YAEzB,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;YACzB,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC;YACpB,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;gBACV,MAAM,CAAC;YACX,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YACtC,CAAC;YACD,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACjC,CAAC;QACO,0CAAqB,GAA7B;YAAA,iBAEC;YADG,gBAAgB,CAAC,cAAM,OAAA,KAAI,CAAC,OAAO,EAAE,EAAd,CAAc,CAAC,CAAC;QAC3C,CAAC;QACL,iBAAC;IAAD,CApCA,AAoCC,IAAA;IApCY,gBAAU,aAoCtB,CAAA;AACL,CAAC,EArDM,KAAK,KAAL,KAAK,QAqDX;ACtDD;IAGI,mBAAY,OAAe;QACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,CAAC;IAED,4BAAQ,GAAR;QACI,IAAI,QAAQ,GAAS,IAAK,CAAC,WAAW,CAAC,IAAI,CAAC;QAC5C,EAAE,CAAC,CAAC,QAAQ,CAAC;YACT,MAAM,CAAC,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;QAC1C,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IACL,gBAAC;AAAD,CAbA,AAaC,IAAA;AAED;IAAgC,qCAAS;IACrC,2BAAY,OAAe;QACvB,kBAAM,OAAO,CAAC,CAAC;IACnB,CAAC;IACL,wBAAC;AAAD,CAJA,AAIC,CAJ+B,SAAS,GAIxC;AAED;IAAoC,yCAAS;IACzC,+BAAY,OAAe;QACvB,kBAAM,OAAO,CAAC,CAAC;IACnB,CAAC;IACL,4BAAC;AAAD,CAJA,AAIC,CAJmC,SAAS,GAI5C;AAED;IAAwC,6CAAS;IAC7C,mCAAY,OAAe;QACvB,kBAAM,OAAO,CAAC,CAAC;IACnB,CAAC;IACL,gCAAC;AAAD,CAJA,AAIC,CAJuC,SAAS,GAIhD;AAED;IAAiC,sCAAS;IAGtC,4BAAY,OAAe,EAAE,IAAU;QACnC,kBAAM,OAAO,CAAC,CAAC;QACf,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACP,MAAM,CAAC,gBAAgB,CAAC,IAAI,EAAE;gBAC1B,MAAM,EAAE,EAAC,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAC;aACzC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IACL,yBAAC;AAAD,CAXA,AAWC,CAXgC,SAAS,GAWzC;AAED;IAAuC,4CAAS;IAC5C,kCAAY,OAAe;QACvB,kBAAM,OAAO,CAAC,CAAC;IACnB,CAAC;IACL,+BAAC;AAAD,CAJA,AAIC,CAJsC,SAAS,GAI/C;AAED;IAAoC,yCAAS;IACzC,+BAAY,OAAe;QACvB,kBAAM,OAAO,CAAC,CAAC;IACnB,CAAC;IACL,4BAAC;AAAD,CAJA,AAIC,CAJmC,SAAS,GAI5C;AAED;IAAuC,4CAAS;IAC5C,kCAAY,KAAa;QACrB,kBAAM,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC5B,CAAC;IACL,+BAAC;AAAD,CAJA,AAIC,CAJsC,SAAS,GAI/C;AAED;IAA0C,+CAAS;IAC/C,qCAAY,GAAW;QACnB,kBAAM,GAAG,CAAC,CAAC;IACf,CAAC;IACL,kCAAC;AAAD,CAJA,AAIC,CAJyC,SAAS,GAIlD;AAED;IAA8B,mCAAS;IAGnC,yBAAY,OAAe,EAAE,IAAS;QAClC,kBAAM,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IACL,sBAAC;AAAD,CAPA,AAOC,CAP6B,SAAS,GAOtC;AAED;IAAmC,wCAAS;IAIxC,8BAAY,QAAgB,EAAE,cAAqB;QAC/C,kBAAM,eAAe,CAAC,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACzC,CAAC;IACL,2BAAC;AAAD,CATA,AASC,CATkC,SAAS,GAS3C;AAED;IAAwC,6CAAS;IAG7C,mCAAY,OAAe,EAAE,cAAyB;QAClD,kBAAM,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACzC,CAAC;IACL,gCAAC;AAAD,CAPA,AAOC,CAPuC,SAAS,GAOhD;AAED;IAAmC,wCAAS;IAGxC,8BAAY,YAAoB;QAC5B,kBAAM,YAAY,CAAC,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IACrC,CAAC;IACL,2BAAC;AAAD,CAPA,AAOC,CAPkC,SAAS,GAO3C;AAED;IAA8B,mCAAS;IACnC,yBAAY,OAAe;QACvB,kBAAM,OAAO,CAAC,CAAC;IACnB,CAAC;IACL,sBAAC;AAAD,CAJA,AAIC,CAJ6B,SAAS,GAItC;AC/GD,IAAO,KAAK,CAmJX;AAnJD,WAAO,KAAK;IAAC,IAAA,MAAM,CAmJlB;IAnJY,WAAA,MAAM,EAAC,CAAC;QAMjB;YAKI,sBAAY,KAAkB;gBAHtB,mBAAc,GAA0B,EAAE,CAAC;gBAI/C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACxB,CAAC;YAED,qCAAc,GAAd;gBACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;oBACX,MAAM,CAAC,IAAI,CAAC;gBAChB,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxC,CAAC;YAED,qCAAc,GAAd,UAAe,IAAY;gBACvB,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;gBAClB,OAAO,CAAC,EAAE,CAAC;oBACP,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;wBACb,IAAI,CAAC,UAAU,EAAE,CAAC;wBAClB,MAAM,CAAC;oBACX,CAAC;oBACD,CAAC,GAAG,CAAC,CAAC,gBAAgB,CAAC;gBAC3B,CAAC;YACL,CAAC;YAED,+BAAQ,GAAR,UAAS,OAAgB;gBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;oBACX,MAAM,CAAC,KAAK,CAAC;gBACjB,KAAK,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,CAAC;gBACrD,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,4BAAK,GAAL,UAAM,QAAoC,EAAE,OAAiB;gBACzD,OAAO,GAAG,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,IAAI,CAAC;gBACpD,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC;oBACrB,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,MAAM,GAAG,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;gBAC5C,IAAI,GAAiB,CAAC;gBACtB,OAAO,GAAG,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC;oBACzB,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,KAAK,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;wBACtD,MAAM,CAAC,UAAU,EAAE,CAAC;wBACpB,QAAQ,CAAC;oBACb,CAAC;oBAED,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;wBAC7C,QAAQ,CAAC;oBAEb,IAAI,EAAE,GAA+B,GAAG,CAAC;oBACzC,IAAI,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC;oBACnB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACf,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;4BACT,MAAM,CAAC,KAAK,CAAC;wBACjB,MAAM,CAAC,UAAU,EAAE,CAAC;wBACpB,QAAQ,CAAC;oBACb,CAAC;oBAED,IAAI,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC;oBAC/B,IAAI,KAAK,GAAiB,QAAQ,CAAC;oBACnC,OAAO,CAAC,MAAM,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,gBAAgB,CAAC,EAAE,CAAC;wBACjD,MAAM,GAAG,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC;oBACtC,CAAC;oBAED,EAAE,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,oBAAoB,IAAI,CAAC,CAAC,SAAS,CAAC;wBACtE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;oBAE/B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;wBACT,MAAM,CAAC,KAAK,CAAC;gBACrB,CAAC;gBACD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACO,iCAAU,GAAlB,UAAmB,GAAkB;gBACjC,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,CAAC;oBAClB,MAAM,CAAC,IAAI,CAAC;gBAChB,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBACnB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACL,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;wBACrB,SAAS,EAAE,iBAAiB,CAAC,EAAE,CAAC;wBAChC,QAAQ,EAAE,IAAI;qBACjB,CAAC,CAAC;gBACP,CAAC;gBACD,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;gBAChB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACN,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;wBACrB,SAAS,EAAE,IAAI;wBACf,QAAQ,EAAE,iBAAiB,CAAC,GAAG,CAAC;qBACnC,CAAC,CAAC;gBACP,CAAC;gBAED,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC;oBACjC,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBAE5B,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,kCAAW,GAAX;gBACI,IAAI,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC;gBAC/B,IAAI,GAAG,CAAC;gBACR,OAAO,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC;oBACxB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;oBAC3C,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;YACD,uCAAgB,GAAhB;gBAAA,iBAEC;gBADG,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,WAAW,EAAE,EAAlB,CAAkB,EAAE,CAAC,CAAC,CAAC;YAC5C,CAAC;YACO,qCAAc,GAAtB,UAAuB,IAAY,EAAE,IAAc;gBAC/C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;oBACN,MAAM,CAAC;gBACX,IAAI,GAAG,CAAC;gBACR,OAAO,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC;oBACxB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC/B,CAAC;YACL,CAAC;YAED,oCAAa,GAAb,UAAc,MAA6C;gBACvD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBACb,IAAI,GAAW,CAAC;oBAChB,GAAG,CAAC,CAAC,IAAI,IAAI,EAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;wBAC3B,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;wBAChD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;4BACL,GAAG,GAAG,IAAI,CAAC;wBACf,EAAE,CAAC,CAAC,KAAK,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;4BACtC,KAAK,CAAC;oBACd,CAAC;oBACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC;wBAClB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC7B,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC;oBACjC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAChC,CAAC;YACL,mBAAC;QAAD,CAnIA,AAmIC,IAAA;QAnIY,mBAAY,eAmIxB,CAAA;QAED,2BAA2B,MAAc;YACrC,IAAI,IAAI,GAAa,EAAE,CAAC;YACxB,OAAO,MAAM,EAAE,CAAC;gBACZ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAClB,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;YACrC,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;IACL,CAAC,EAnJY,MAAM,GAAN,YAAM,KAAN,YAAM,QAmJlB;AAAD,CAAC,EAnJM,KAAK,KAAL,KAAK,QAmJX;ACnJD,IAAO,KAAK,CAyOX;AAzOD,WAAO,KAAK;IAAC,IAAA,MAAM,CAyOlB;IAzOY,WAAA,MAAM,EAAC,CAAC;QAUjB;YAqBI,sBAAY,OAAgB;gBAdpB,YAAO,GAAe,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;gBACvD,cAAS,GAAiC,UAAC,MAAM,IAAO,CAAC,CAAC;gBAElD,gBAAW,GAAU,IAAI,CAAC;gBAC1B,wBAAmB,GAAY,KAAK,CAAC;gBACrC,eAAU,GAAmB,EAAE,CAAC;gBAChC,cAAS,GAAiB,IAAI,CAAC;gBAC/B,oBAAe,GAAiB,IAAI,CAAC;gBACrC,2BAAsB,GAAY,KAAK,CAAC;gBACxC,uBAAkB,GAAmB,EAAE,CAAC;gBAM5C,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;gBACxB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;gBAClD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;gBACtD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;gBAEtD,IAAI,CAAC,MAAM,GAAG,IAAI,mBAAY,CAAC,IAAI,CAAC,MAAM,GAAG;oBACzC,eAAe,EAAE,KAAK;oBACtB,oBAAoB,EAAE,KAAK;iBAC9B,CAAC,CAAC;YACP,CAAC;YAbD,sBAAI,qCAAW;qBAAf,cAA4B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;;eAAA;YACtD,4BAAK,GAAL,UAAM,IAA0B,EAAE,OAAiB,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;YAcjG,+BAAQ,GAAR,UAAS,MAAyB;gBAAlC,iBAMC;gBALG,IAAI,CAAC,SAAS,GAAG,UAAC,MAAM,IAAK,OAAA,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,wBAAkB,CAAC,gBAAU,CAAC,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,CAAC,EAA3E,CAA2E,CAAC;gBAEzG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACtC,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBAChD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC9C,CAAC;YAED,qCAAc,GAAd,UAAe,IAAY;gBACvB,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;gBACzB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC;oBAC3B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;gBACzB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC;YAED,8CAAuB,GAAvB,UAAwB,KAAc;gBAClC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAA;gBACzB,IAAI,CAAC,MAAM,CAAC,oBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,IAAI,KAAK,CAAC;gBAC7E,IAAI,CAAC,MAAM,CAAC,eAAe,GAAG,KAAK,CAAC;YACxC,CAAC;YAED,oCAAa,GAAb,UAAc,IAAwB;gBAClC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACnC,WAAK,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAChD,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;gBAC/C,EAAE,CAAC,CAAC,WAAW,CAAC;oBACZ,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,GAAG,KAAK,WAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC9C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;wBAC5C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACxB,CAAC;gBACD,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;YACxC,CAAC;YACO,mCAAY,GAApB,UAAqB,IAAc,EAAE,IAAwB,EAAE,QAAiB;gBAC5E,EAAE,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC;oBACf,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,QAAQ,KAAK,CAAC,CAAC,CAAC;oBAC7B,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;gBAE3B,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;gBACvB,OAAO,GAAG,IAAI,CAAC,GAAG,QAAQ,EAAE,CAAC;oBACzB,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACvB,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;oBACnB,CAAC,EAAE,CAAC;gBACR,CAAC;YACL,CAAC;YAED,uCAAgB,GAAhB,UAAiB,MAAc,EAAE,GAAU;gBACvC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAI,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAK,CAAC,cAAc,CAAC,SAAS,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;gBACjF,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACjC,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;gBACpC,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YACD,yCAAkB,GAAlB,UAAmB,MAAc,EAAE,GAAU;gBACzC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,gBAAgB,CAAC,WAAK,CAAC,cAAc,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;gBACjE,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACjC,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;gBACpC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;oBACf,IAAI,CAAC,sBAAsB,EAAE,CAAC;YACtC,CAAC;YACD,uCAAgB,GAAhB,UAAiB,IAA0B,EAAE,MAAc,EAAE,GAAU,EAAE,KAAc,EAAE,SAAmB,EAAE,SAAmB;gBAC7H,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;gBACvB,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;oBACzB,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBAC1C,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC;oBACd,MAAM,CAAC,KAAK,CAAC;gBAEjB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAEhC,IAAI,OAAO,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;gBACzC,sBAAsB,CAAC,IAAI,CAAC,UAAU,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC;gBAC/D,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,IAAI,SAAS,KAAK,IAAI,CAAC;oBAC9C,IAAI,CAAC,cAAc,CAAC,WAAK,CAAC,cAAc,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC9G,EAAE,CAAC,CAAC,SAAS,KAAK,SAAS,IAAI,SAAS,KAAK,IAAI,CAAC;oBAC9C,IAAI,CAAC,cAAc,CAAC,WAAK,CAAC,cAAc,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;gBAE3G,IAAI,OAAO,GAAG,KAAK,CAAC;gBACpB,EAAE,CAAC,CAAC,IAAI,KAAK,WAAK,CAAC,cAAc,CAAC,IAAI,CAAC;oBACnC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC,CAAC;gBACrH,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC;gBAE/B,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;oBAC9B,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;gBAEhD,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;oBACrB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAC/C,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,CAAC;oBACrF,IAAI,CAAC,sBAAsB,EAAE,CAAC;gBAClC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;gBACjC,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YACO,qCAAc,GAAtB,UAAuB,IAA0B,EAAE,MAAc,EAAE,GAAU,EAAE,KAAa,EAAE,IAAoB,EAAE,QAAiB;gBACjI,IAAI,OAAO,GAAG,KAAK,CAAC;gBACpB,EAAE,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC;oBACf,MAAM,CAAC,OAAO,CAAC;gBACnB,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,QAAQ,KAAK,CAAC,CAAC,CAAC;oBAC7B,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;gBAChE,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,YAAY,KAAK,CAAC,eAAe,CAAC;oBAC9C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC/B,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBACnD,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;oBAC9D,MAAM,CAAC,IAAI,CAAC;gBAChB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;oBAChC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;oBACf,EAAE,CAAC,CAAC,IAAI,KAAK,WAAK,CAAC,cAAc,CAAC,UAAU,CAAC;wBACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;oBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;wBAC3C,OAAO,GAAG,IAAI,CAAC;oBACnB,EAAE,CAAC,CAAC,IAAI,KAAK,WAAK,CAAC,cAAc,CAAC,UAAU,CAAC;wBACzC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;gBACpE,CAAC;gBACD,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;YAED,mCAAY,GAAZ,UAAa,GAAU;gBACnB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAA7B,CAA6B,CAAC,CAAC;YAChF,CAAC;YAED,gDAAyB,GAAzB;gBACI,IAAI,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;gBACzC,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC;gBACtE,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;gBACtB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3B,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;oBACnC,EAAE,CAAC,CAAC,SAAS,KAAK,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;wBACvC,KAAK,CAAC;gBACd,CAAC;gBACD,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC9B,CAAC;YACD,sCAAe,GAAf,UAAgB,GAAiB;gBAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,eAAe,CAAC;oBACvC,MAAM,CAAC,GAAG,KAAK,IAAI,CAAC,SAAS,IAAI,GAAG,KAAK,IAAI,CAAC,eAAe,CAAC;gBAClE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;oBAC1B,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;gBAC3B,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,0CAAmB,GAAnB,UAAoB,GAAiB;gBACjC,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,SAAS,IAAI,GAAG,KAAK,IAAI,CAAC,eAAe,CAAC;oBACvD,MAAM,CAAC;gBACX,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;oBACzB,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;gBACvC,IAAI;oBACA,IAAI,CAAC,sBAAsB,EAAE,CAAC;YACtC,CAAC;YACO,sCAAe,GAAvB,UAAwB,GAAiB;gBACrC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;gBACrB,IAAI,YAAY,GAAG,EAAE,CAAC;gBACtB,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;oBACjB,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACvB,GAAG,GAAG,GAAG,CAAC,gBAAgB,CAAC;gBAC/B,CAAC;gBACD,IAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC;gBACvC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAChC,CAAC;YACO,6CAAsB,GAA9B;gBACI,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC;gBACjC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;gBACpC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAEpD,IAAI,CAAC,gBAAgB,CAAC,WAAK,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;YACrG,CAAC;YACL,mBAAC;QAAD,CA7MA,AA6MC,IAAA;QA7MY,mBAAY,eA6MxB,CAAA;QAMD,gCAAgC,KAAqB,EAAE,KAAqB,EAAE,MAA6B;YACvG,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YACzB,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACnB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBACtB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;oBACtB,MAAM,CAAC;gBACX,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACpB,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACxB,CAAC;QACL,CAAC;IACL,CAAC,EAzOY,MAAM,GAAN,YAAM,KAAN,YAAM,QAyOlB;AAAD,CAAC,EAzOM,KAAK,KAAL,KAAK,QAyOX;AC1OD,IAAO,KAAK,CA0FX;AA1FD,WAAO,KAAK;IAAC,IAAA,MAAM,CA0FlB;IA1FY,WAAA,MAAM,EAAC,CAAC;QACjB;YAAA;YAmBA,CAAC;YAjBU,oBAAS,GAAhB,UAAiB,IAA0B,EAAE,YAAqB,EAAE,aAAsB,EAAE,IAA0B,EAAE,MAAgB;gBACpI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC;oBACtB,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,IAAI,KAAK,WAAK,CAAC,cAAc,CAAC,SAAS,CAAC;oBACxC,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC;oBACf,MAAM,CAAC,KAAK,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,WAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;oBAC7B,MAAM,CAAC,KAAK,CAAC;gBACjB,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC;gBAC3B,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;gBACtB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACM,eAAI,GAAX;gBACI,EAAE,CAAC,CAAC,IAAI,CAAC;oBACL,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACpC,CAAC;YACL,iBAAC;QAAD,CAnBA,AAmBC,IAAA;QAnBY,iBAAU,aAmBtB,CAAA;QAED,IAAI,IAAI,GAAmB,IAAI,CAAC;QAChC,kBAAkB,GAAU,EAAE,MAAgB;YAC1C,IAAI,GAAG,IAAI,IAAI,UAAU,EAAE,CAAC;YAC5B,QAAQ,CAAC,MAAM,CAAC,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC1C,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACzC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;QAC5B,CAAC;QACD;YACI,IAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACtC,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YAC9B,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACzB,CAAC,CAAC,KAAK,CAAC,eAAe,GAAG,uBAAuB,CAAC;YAClD,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;YACxB,CAAC,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;YAC9B,CAAC,CAAC,aAAa,GAAG,cAAM,OAAA,KAAK,EAAL,CAAK,CAAC;YAC9B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QACD,kBAAkB,MAAgB;YAC9B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;YACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3B,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,CAAC;QACL,CAAC;QACD,wBAAwB,GAAW;YAC/B,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YAC/B,KAAK,CAAC,SAAS,GAAG,eAAe,CAAC,GAAG,CAAC,CAAC;YACvC,KAAK,CAAC,OAAO,GAAG,cAAM,OAAA,mBAAmB,CAAC,GAAG,CAAC,EAAxB,CAAwB,CAAC;YAC/C,KAAK,CAAC,YAAY,GAAG,cAAM,OAAA,mBAAmB,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC;YACtD,KAAK,CAAC,YAAY,GAAG,cAAM,OAAA,mBAAmB,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC;YACtD,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QACD,yBAAyB,GAAW;YAChC,IAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC;YAEtB,IAAI,GAAG,GAAG,EAAE,CAAC;YAEb,IAAI,EAAE,GAAS,GAAI,CAAC,GAAG,CAAC;YACxB,EAAE,CAAC,CAAC,EAAE,CAAC;gBAAC,GAAG,IAAI,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC;YAC/B,GAAG,IAAU,GAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YAEnC,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACpB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACP,GAAG,IAAI,IAAI,CAAC;gBACZ,IAAI,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC;gBACvB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;oBACJ,GAAG,IAAI,GAAG,CAAC;gBACf,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC;oBACf,GAAG,IAAI,GAAG,CAAC;gBACf,IAAI;oBACA,GAAG,IAAI,GAAG,CAAC;gBACf,GAAG,IAAI,IAAI,GAAG,GAAG,CAAC;YACtB,CAAC;YAED,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;QACD,6BAA6B,GAAW;YACpC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAChC,CAAC;QACD,6BAA6B,EAAkB;YAC3C,EAAE,CAAC,KAAK,CAAC,cAAc,GAAG,WAAW,CAAC;QAC1C,CAAC;QACD,6BAA6B,EAAkB;YAC3C,EAAE,CAAC,KAAK,CAAC,cAAc,GAAG,MAAM,CAAC;QACrC,CAAC;IACL,CAAC,EA1FY,MAAM,GAAN,YAAM,KAAN,YAAM,QA0FlB;AAAD,CAAC,EA1FM,KAAK,KAAL,KAAK,QA0FX;AC1FD,IAAI,aAAqB,CAAC;AAE1B,IAAO,KAAK,CAuKX;AAvKD,WAAO,KAAK,EAAC,CAAC;IACV;QAA6B,2BAAsB;QAQ/C,iBAAY,GAAgB;YACxB,iBAAO,CAAC;YAPJ,WAAM,GAAc,IAAI,CAAC;YAEzB,WAAM,GAAW,CAAC,CAAC;YAMvB,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;YAClE,IAAI,CAAC,UAAU,GAAG,IAAI,YAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACpD,CAAC;QAED,sBAAI,GAAJ,UAAK,MAAyB;YAA9B,iBAUC;YATG,gBAAK,CAAC,IAAI,YAAC,MAAM,CAAC,CAAC;YAEnB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;gBACrB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAChC,IAAI,CAAC,eAAe,EAAE,CAAC;YACjB,QAAQ,CAAC,IAAK,CAAC,QAAQ,GAAG,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,GAAQ,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,EAAzD,CAAyD,CAAC;YACjG,MAAM,CAAC,QAAQ,GAAG,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,GAAQ,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,EAAzD,CAAyD,CAAC;YAEnF,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACrC,CAAC;QAED,wBAAM,GAAN,UAAO,GAAc,EAAE,IAAc;YACjC,EAAE,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;gBAChB,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,YAAY,eAAS,CAAC,CAAC;oBAC5B,MAAM,IAAI,SAAS,CAAC,gCAAgC,CAAC,CAAC;gBAC1D,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;oBACZ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;gBACzD,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YACtB,CAAC;YACD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QACvD,CAAC;QAED,6BAAW,GAAX,UAAY,KAA2B,EAAE,IAAc;YACnD,gBAAK,CAAC,WAAW,YAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAC/B,IAAI,IAAI,GAAW,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;QAED,wBAAM,GAAN,UAAO,GAAc;YACjB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QACjD,CAAC;QAED,6BAAW,GAAX,UAAY,KAA2B;YACnC,IAAI,IAAI,GAAW,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1B,gBAAK,CAAC,WAAW,YAAC,KAAK,CAAC,CAAC;QAC7B,CAAC;QAED,8BAAY,GAAZ;YACI,IAAI,OAAO,GAAG,gBAAK,CAAC,YAAY,WAAE,CAAC;YACnC,EAAE,CAAC,CAAC,OAAO,CAAC;gBACR,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QAEO,mCAAiB,GAAzB;YACI,GAAG,CAAC,CAAC,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;gBAClD,GAAG,CAAC,CAAC,IAAI,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC;oBAChE,IAAI,GAAG,GAAG,SAAS,CAAC,OAAO,CAAC;oBAC5B,IAAI,IAAI,GAAG,GAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBACzC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC;oBACxB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACzC,CAAC;YACL,CAAC;QACL,CAAC;QAED,uBAAK,GAAL,UAAM,IAA0B,EAAE,OAAiB;YAC/C,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAChD,CAAC;QAEM,gBAAQ,GAAf,UAAgB,GAAc;YAC1B,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC;YACvB,IAAI,OAAO,GAAY,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;YACtD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC;YAC7C,OAAO,OAAO,EAAE,CAAC;gBACb,EAAE,CAAC,CAAC,OAAO,KAAK,GAAG,CAAC;oBAChB,MAAM,CAAC,IAAI,CAAC;gBAChB,OAAO,GAAG,OAAO,CAAC,gBAAgB,CAAC;YACvC,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAEM,aAAK,GAAZ,UAAa,GAAqB,EAAE,OAAiB;YACjD,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC;YACvB,IAAI,OAAO,GAAY,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;YACtD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC,KAAK,CAAC;YACjB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QAClD,CAAC;QAEM,yBAAiB,GAAxB,UAAyB,GAAc;YACnC,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC;YACvB,IAAI,OAAO,GAAY,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;YACtD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC;YAC7C,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC;QAC3B,CAAC;QAEM,uBAAe,GAAtB,UAAuB,GAAc;YACjC,IAAI,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;YACxB,IAAI,OAAO,GAAY,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;YACvD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC,KAAK,CAAC;YACjB,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YACxC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAEM,uBAAe,GAAtB,UAAuB,GAAiB;YACpC,IAAI,OAAO,GAAY,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;YACtD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC,KAAK,CAAC;YACjB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACnD,CAAC;QAEM,2BAAmB,GAA1B,UAA2B,GAAiB;YACxC,IAAI,OAAO,GAAY,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC;YACtD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBACT,MAAM,CAAC;YACX,OAAO,CAAC,UAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;QAChD,CAAC;QAEO,gCAAc,GAAtB,UAAuB,GAAS;YAAhC,iBAQC;YAPG,EAAE,CAAC,CAAC,aAAa,CAAC;gBACd,YAAY,CAAC,aAAa,CAAC,CAAC;YAChC,aAAa,GAAG,UAAU,CAAC;gBACvB,KAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,KAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,aAAa,GAAG,IAAI,CAAC;YACzB,CAAC,EAAE,EAAE,CAAC,CAAC;QACX,CAAC;QAEO,iCAAe,GAAvB;YACI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3G,CAAC;QAEO,8BAAY,GAApB;YACI,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1B,IAAI,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YAClC,EAAE,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC;gBACpB,MAAM,CAAC,KAAK,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;YACtB,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YACrC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAES,+BAAa,GAAvB,UAAwB,OAAe,EAAE,OAAe;YACpD,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,iBAAW,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;YAClE,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,cAAc,EAAE,CAAC;QAC1B,CAAC;QAEO,iCAAe,GAAvB,UAAwB,IAAa;YACjC,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;YAChC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,GAAG,IAAI,KAAK,IAAI,GAAG,EAAE,GAAG,QAAQ,CAAC;QACtE,CAAC;QACL,cAAC;IAAD,CArKA,AAqKC,CArK4B,OAAO,CAAC,MAAM,CAAC,OAAO,GAqKlD;IArKY,aAAO,UAqKnB,CAAA;AACL,CAAC,EAvKM,KAAK,KAAL,KAAK,QAuKX;ACzKD,IAAO,KAAK,CA2DX;AA3DD,WAAO,KAAK,EAAC,CAAC;IACV;QAUI,eAAY,IAAY,EAAE,MAAW;YAPrC,cAAS,GAAuB,IAAI,CAAC;YAE7B,aAAQ,GAAG,KAAK,CAAC;YACjB,gBAAW,GAAG,KAAK,CAAC;YAKxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;QAC7B,CAAC;QAED,6BAAa,GAAb;YAAA,iBASC;YARG,IAAI,MAAM,GAAG,iBAAW,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACnE,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,CAAC;gBAC5B,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACnC,MAAM,CAAC,YAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;iBACzB,IAAI,CAAC;gBACF,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,MAAM,CAAC,MAAM,CAAC;YAClB,CAAC,CAAC,CAAC;QACX,CAAC;QAED,yBAAS,GAAT;YAAA,iBAmBC;YAlBG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACd,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACjC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;gBAC/B,KAAI,CAAC,aAAa,EAAE;qBACf,IAAI,CAAC,UAAA,MAAM,IAAI,OAAA,YAAM,CAAC,OAAO,CAAC,MAAM,EAAE,KAAI,CAAC,UAAU,CAAC,EAAvC,CAAuC,CAAC;qBACvD,IAAI,CAAC,UAAA,EAAE;oBACJ,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,IAAI,EAAE,GAAG,YAAM,CAAC,IAAI,CAAqB,IAAI,EAAE,EAAE,CAAC,CAAC;oBACnD,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,YAAY,wBAAkB,CAAC,CAAC;wBACpC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;oBAChE,MAAM,CAAC,cAAc,CAAC,KAAI,EAAE,WAAW,EAAE,EAAC,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC;oBACvE,OAAO,CAAC,KAAI,CAAC,CAAC;gBAClB,CAAC,EAAE,UAAA,GAAG;oBACF,EAAE,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC;wBAClB,OAAO,CAAC,IAAI,CAAC,yBAAyB,GAAG,KAAI,CAAC,UAAU,GAAG,IAAI,GAAG,KAAI,CAAC,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;oBAC5F,OAAO,CAAC,KAAI,CAAC,CAAC;gBAClB,CAAC,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;QACP,CAAC;QAED,gCAAgB,GAAhB,UAAiB,IAAS;YACtB,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;YACxB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;gBACJ,MAAM,CAAC,SAAS,CAAC;YACrB,IAAI,KAAK,GAAU,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAChC,EAAE,CAAC,CAAC,KAAK,YAAY,WAAK,CAAC;gBACvB,MAAM,CAAC,KAAK,CAAC;YACjB,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;QA/CM,iBAAW,GAAG,KAAK,CAAC;QAgD/B,YAAC;IAAD,CAxDA,AAwDC,IAAA;IAxDY,WAAK,QAwDjB,CAAA;IACD,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACjC,CAAC,EA3DM,KAAK,KAAL,KAAK,QA2DX;AC3DD,IAAO,KAAK,CA0DX;AA1DD,WAAO,KAAK,EAAC,CAAC;IACV,IAAc,WAAW,CAwDxB;IAxDD,WAAc,WAAW,EAAC,CAAC;QACvB,IAAI,OAAO,GAAG,EAAE,CAAC;QAEjB,IAAI,oBAAoB,GAAG,4CAA4C,CAAC;QAExE,uBAA+B,GAAQ,EAAE,IAAY;YACjD,EAAE,CAAC,CAAC,SAAG,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBACvB,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YACrC,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC;gBACtB,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,oBAAoB,CAAC;YACxF,MAAM,CAAC,eAAe,CAAC,GAAG,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;QACnD,CAAC;QARe,yBAAa,gBAQ5B,CAAA;QAED,4BAAoC,GAAQ,EAAE,WAAmB;YAC7D,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG;gBACtB,kBAAkB,EAAE,WAAW;aAClC,CAAC;QACN,CAAC;QAJe,8BAAkB,qBAIjC,CAAA;QAED,aAAqB,OAAe,EAAE,IAAY;YAK9C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACX,OAAO,CAAC,IAAI,CAAC,kDAAkD,CAAC,CAAC;gBACjE,MAAM,CAAC;YACX,CAAC;YACD,IAAI,GAAG,GAAG,IAAI,SAAG,CAAC,OAAO,CAAC,CAAC;YAC3B,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,KAAK,MAAM,CAAC;gBACtB,GAAG,GAAG,IAAI,SAAG,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC;YAEtC,EAAE,CAAC,CAAC,IAAI,KAAK,SAAS,CAAC;gBACnB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC;gBACnB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG;oBACtB,IAAI,EAAE,IAAI;iBACb,CAAC;YACN,IAAI;gBACA,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG;oBACtB,kBAAkB,EAAE,IAAI;iBAC3B,CAAC;QACV,CAAC;QAvBe,eAAG,MAuBlB,CAAA;QAED,yBAA0B,GAAQ,EAAE,IAAY,EAAE,QAAgB;YAC9D,IAAI,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC;YACvB,IAAI,EAAE,GAAG,QAAQ,CAAC;YAClB,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;YACtC,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YACrC,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QAED,kBAAkB,CAAC,IAAI,SAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,wCAAwC,CAAC,CAAC;QACnF,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC9B,CAAC,EAxDa,WAAW,GAAX,iBAAW,KAAX,iBAAW,QAwDxB;AACL,CAAC,EA1DM,KAAK,KAAL,KAAK,QA0DX;AC1DD,IAAO,KAAK,CAwDX;AAxDD,WAAO,KAAK,EAAC,CAAC;IAMC,wBAAkB,GAAG,OAAO,CAAC;IAExC;QAII;YAHQ,WAAM,GAAoB,EAAE,CAAC;YAC7B,sBAAiB,GAAW,IAAI,CAAC;YAGrC,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC,cAAc,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;YAC/E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAqB,KAAK,CAAC,WAAW,CAAC,CAAC;QAC5D,CAAC;QAEO,6CAAkB,GAA1B,UAA2B,MAAW,EAAE,IAAwC;YAC5E,IAAI,IAAI,GAAkB,IAAI,CAAC,OAAO,CAAC;YACjC,IAAK,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC;QAED,oCAAS,GAAT,UAAU,SAAkB;YACxB,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;gBACX,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC;YACvC,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC,EAA3B,CAA2B,CAAC,CAAC;YACxD,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM;iBACzB,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,QAAQ,EAAZ,CAAY,CAAC;iBAC3B,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,eAAe,EAAE,EAArB,CAAqB,CAAC,CAAC,CAAC;QAC5C,CAAC;QAED,oCAAS,GAAT,UAAU,eAAoB;YAC1B,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;gBACjB,MAAM,CAAC,IAAI,CAAC;YAChB,IAAI,GAAG,GAAG,eAAe,CAAC,KAAK,CAAC;YAChC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAC9B,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,WAAW,CAAC;oBACvB,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;YACjE,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAEO,oCAAS,GAAjB,UAAkB,GAAW;YACzB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACvD,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBAClB,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,GAAG,CAAC;oBAC3B,MAAM,CAAC,GAAG,CAAC;YACnB,CAAC;QAEL,CAAC;QACL,uBAAC;IAAD,CA7CA,AA6CC,IAAA;IAEU,kBAAY,GAAkB,IAAI,gBAAgB,EAAE,CAAC;AACpE,CAAC,EAxDM,KAAK,KAAL,KAAK,QAwDX;ACvDD,IAAO,KAAK,CAeX;AAfD,WAAO,KAAK;IAAC,IAAA,KAAK,CAejB;IAfY,WAAA,KAAK,EAAC,CAAC;QAChB,IAAc,iBAAiB,CAa9B;QAbD,WAAc,iBAAiB,EAAC,CAAC;YAC7B,uBAA8B,aAA4B,EAAE,GAAQ;gBAChE,EAAE,CAAC,CAAC,aAAa,KAAK,mBAAa,CAAC,WAAW,CAAC;oBAC5C,MAAM,CAAC,GAAG,CAAC;gBACf,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACV,KAAK,SAAG,CAAC,IAAI;wBACT,MAAM,CAAC,SAAG,CAAC,KAAK,CAAC;oBACrB,KAAK,SAAG,CAAC,KAAK;wBACV,MAAM,CAAC,SAAG,CAAC,IAAI,CAAC;oBACpB;wBACI,MAAM,CAAC,GAAG,CAAC;gBACnB,CAAC;YACL,CAAC;YAXe,+BAAa,gBAW5B,CAAA;QACL,CAAC,EAba,iBAAiB,GAAjB,uBAAiB,KAAjB,uBAAiB,QAa9B;IACL,CAAC,EAfY,KAAK,GAAL,WAAK,KAAL,WAAK,QAejB;AAAD,CAAC,EAfM,KAAK,KAAL,KAAK,QAeX;ACXD,IAAO,KAAK,CAoQX;AApQD,WAAO,KAAK;IAAC,IAAA,KAAK,CAoQjB;IApQY,WAAA,KAAK,EAAC,CAAC;QAIhB;YAEI,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,KAAK,6BAA6B,CAAC;gBACpD,MAAM,CAAC,IAAI,YAAY,EAAE,CAAC;YAC9B,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,KAAK,UAAU,CAAC,CAAC,CAAC;gBACnC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;oBACzC,MAAM,CAAC,IAAI,YAAY,EAAE,CAAC;gBAC9B,MAAM,CAAC,IAAI,kBAAkB,EAAE,CAAC;YACpC,CAAC;YACD,MAAM,CAAC,IAAI,UAAU,EAAE,CAAC;QAC5B,CAAC;QAVe,sBAAgB,mBAU/B,CAAA;QAED,IAAI,cAAc,GAAU,EAAE,CAAC;QAC/B,cAAc,CAAC,CAAC,CAAC,GAAG,SAAG,CAAC,IAAI,CAAC;QAC7B,cAAc,CAAC,CAAC,CAAC,GAAG,SAAG,CAAC,GAAG,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,KAAK,CAAC;QAC/B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,KAAK,CAAC;QAC/B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,IAAI,CAAC;QAC9B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,GAAG,CAAC;QAE7B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,QAAQ,CAAC;QAClC,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,MAAM,CAAC;QAChC,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,KAAK,CAAC;QAC/B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,MAAM,CAAC;QAChC,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,QAAQ,CAAC;QAClC,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,GAAG,CAAC;QAC7B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,IAAI,CAAC;QAC9B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,IAAI,CAAC;QAC9B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,KAAK,CAAC;QAC/B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,IAAI,CAAC;QAC9B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,MAAM,CAAC;QAChC,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,MAAM,CAAC;QAChC,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,EAAE,CAAC;QAG5B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc,CAAC,EAAE,CAAC,GAAG,SAAG,CAAC,CAAC,CAAC;QAC3B,cAAc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","file":"fayde.js","sourcesContent":["//https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\r\nif (!Function.prototype.bind) {\r\n    Function.prototype.bind = function (oThis) {\r\n        if (typeof this !== 'function') {\r\n            // closest thing possible to the ECMAScript 5\r\n            // internal IsCallable function\r\n            throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\r\n        }\r\n\r\n        var aArgs = Array.prototype.slice.call(arguments, 1),\r\n            fToBind = this,\r\n            fNOP = function () {\r\n            },\r\n            fBound = function () {\r\n                return fToBind.apply(this instanceof fNOP && oThis\r\n                        ? this\r\n                        : oThis,\r\n                    aArgs.concat(Array.prototype.slice.call(arguments)));\r\n            };\r\n\r\n        fNOP.prototype = this.prototype;\r\n        fBound.prototype = new fNOP();\r\n\r\n        return fBound;\r\n    };\r\n}","(function (context) {\r\n    if (!context.perfex) {\r\n        context.perfex = {};\r\n    }\r\n    if (!context.perfex.timer) {\r\n        context.perfex.timer = <any>{\r\n            all: [],\r\n            reset () {\r\n            },\r\n            start (tag: string) {\r\n            },\r\n            stop () {\r\n            }\r\n        };\r\n    }\r\n    if (!context.perfex.phases) {\r\n        context.perfex.phases = <any>{\r\n            current: null,\r\n            all: [],\r\n            start (tag: string) {\r\n            }\r\n        };\r\n    }\r\n})(window);","module Fayde {\r\n    interface IThemesHash {\r\n        [name: string]: Theme;\r\n    }\r\n\r\n    export class ThemedLibrary extends nullstone.Library {\r\n        private $$themes: IThemesHash = {};\r\n        private $$activeTheme: Theme = null;\r\n        private $$activeThemeName: string = null;\r\n\r\n        get activeTheme(): Theme {\r\n            return this.$$activeTheme;\r\n        }\r\n\r\n        get isActiveThemeInvalid(): boolean {\r\n            return !this.$$activeTheme || this.$$activeTheme.Name !== this.$$activeThemeName;\r\n        }\r\n\r\n        loadAsync(): Promise<nullstone.Library> {\r\n            return Promise.resolve(this)\r\n                .tap(lib => Promise.all([\r\n                    super.loadAsync(),\r\n                    this.retrieveTheme()\r\n                ]))\r\n                .tap(() => this.ensureThemeLoaded());\r\n        }\r\n\r\n        protected retrieveTheme(): Promise<string> {\r\n            if (this.isActiveThemeInvalid || !this.$$activeThemeName)\r\n                return Promise.resolve(null);\r\n            var theme = this.getTheme(this.$$activeThemeName);\r\n            return theme.RetrieveAsync();\r\n        }\r\n\r\n        protected ensureThemeLoaded(): Promise<Theme> {\r\n            if (!this.isActiveThemeInvalid)\r\n                return Promise.resolve(this.$$activeTheme);\r\n            if (!this.$$activeThemeName)\r\n                return Promise.resolve(null);\r\n            return this.loadActiveTheme();\r\n        }\r\n\r\n        getTheme(name: string): Theme {\r\n            var theme = this.$$themes[name];\r\n            if (!theme)\r\n                theme = this.$$themes[name] = new Theme(name, this.uri);\r\n            return theme;\r\n        }\r\n\r\n        setThemeName(name: string) {\r\n            this.$$activeThemeName = name;\r\n        }\r\n\r\n        loadActiveTheme(): Promise<Theme> {\r\n            var theme = this.getTheme(this.$$activeThemeName);\r\n            return theme.LoadAsync()\r\n                .then(() => this.$$activeTheme = theme);\r\n        }\r\n    }\r\n}","/// <reference path=\"./ThemedLibrary\" />\r\n\r\nmodule Fayde {\r\n    export class ThemedLibraryResolver extends nullstone.LibraryResolver {\r\n        createLibrary(uri: string): nullstone.ILibrary {\r\n            return new ThemedLibrary(uri);\r\n        }\r\n    }\r\n}","/// <reference path=\"./Engine/ThemedLibraryResolver\" />\r\n\r\nmodule Fayde {\r\n    export var XMLNS = \"http://schemas.wsick.com/fayde\";\r\n    export var XMLNSX = \"http://schemas.wsick.com/fayde/x\";\r\n    export var XMLNSINTERNAL = \"http://schemas.wsick.com/fayde/internal\";\r\n\r\n    export var Enum = nullstone.Enum;\r\n    export interface Enum {\r\n        new(): nullstone.Enum;\r\n    }\r\n\r\n    export var Uri = nullstone.Uri;\r\n    export interface Uri extends nullstone.Uri {\r\n    }\r\n\r\n    export class ResourceTypeManager extends nullstone.TypeManager {\r\n        createLibResolver (): nullstone.ILibraryResolver {\r\n            return new ThemedLibraryResolver();\r\n        }\r\n\r\n        resolveResource (uri: Uri): string {\r\n            if (uri.scheme === \"lib\") {\r\n                var res = uri.resource;\r\n                var full = uri.toString();\r\n                var base = full.replace(res, \"\");\r\n                var lib = this.resolveLibrary(base);\r\n                if (!lib)\r\n                    throw new Error(`Could not find library when resolving resource [${full}].`);\r\n                return joinPaths(lib.basePath, res.length > 1 ? res.substr(1) : \"\");\r\n            }\r\n            return uri.toString();\r\n        }\r\n    }\r\n    export var TypeManager = new ResourceTypeManager(XMLNS, XMLNSX);\r\n\r\n    function joinPaths (base: string, rel: string): string {\r\n        if (base[base.length - 1] !== \"/\")\r\n            base += \"/\";\r\n        return base + (rel[0] === \"/\" ? rel.substr(1) : rel);\r\n    }\r\n\r\n    export var CoreLibrary = TypeManager.resolveLibrary(XMLNS);\r\n    (<any>CoreLibrary).$$module = Fayde;\r\n    (<any>CoreLibrary).$$loaded = true;\r\n    export var XLibrary = TypeManager.resolveLibrary(XMLNSX);\r\n    (<any>XLibrary).$$module = Fayde;\r\n    (<any>XLibrary).$$loaded = true;\r\n\r\n    export function RegisterType (type: Function, uri: string, name?: string) {\r\n        name = name || nullstone.getTypeName(type);\r\n        TypeManager.add(uri, name, type);\r\n    }\r\n\r\n    export function RegisterEnum (enu: any, uri: string, name: string) {\r\n        TypeManager.addEnum(uri, name, enu);\r\n    }\r\n\r\n    export var IType_ = new nullstone.Interface(\"IType\");\r\n    IType_.is = function (o): boolean {\r\n        return typeof o === \"function\";\r\n    };\r\n}","module Fayde.Clipboard {\n    export class BasicClipboard implements IClipboard {\n        CopyText(text: string) {\n            var res = (<any>window).clipboardData.setData(\"Text\", text);\n            if (!res)\n                alert(\"Your browser do not allow copy to the clipboard.\");\n        }\n\n        GetTextContents(callback: (text: string) => void) {\n            var text = (<any>window).clipboardData.getData(\"Text\");\n            callback(text);\n        }\n    }\n}","module Fayde.Clipboard {\n    export function Create(): IClipboard {\n        if ((<any>window).clipboardData)\n            return new BasicClipboard();\n        return new NetscapeClipboard();\n    }\n}","module Fayde.Clipboard {\n    export interface IClipboard {\n        CopyText(text: string);\n        GetTextContents(callback: (text: string) => void);\n    }\n\n    var cp = new nullstone.Memoizer((key) => {\n        var div = document.createElement(\"div\");\n        div.id = key;\n        ((style: CSSStyleDeclaration) => {\n            style.opacity = \"0.0\";\n            style.position = \"absolute\";\n            style.left = \"-300px\";\n            //style.top = \"-150px\";\n        })(div.style);\n        document.body.appendChild(div);\n        div.contentEditable = \"true\";\n        return div;\n    });\n\n    export function memoizePlaceholder(key: string): HTMLDivElement {\n        return cp.memoize(key);\n    }\n}","/// <reference path=\"BasicClipboard\" />\n\nmodule Fayde.Clipboard {\n    export class NetscapeClipboard implements IClipboard {\n        private $$fn: (text: string) => void = null;\n\n        constructor() {\n            document.body.contentEditable = \"true\";\n            document.body.style.cursor = \"default\";\n            document.body.addEventListener(\"paste\", this.$$notify);\n        }\n\n        CopyText(text: string) {\n            var div = memoizePlaceholder(\"special_copy\");\n            div.textContent = text;\n            selectContent(div);\n\n            tryRequestPrivilege();\n            // Copy the selected content to the clipboard\n            // Works in Firefox and in Safari before version 5\n            if (!document.execCommand(\"copy\", false, null))\n                alert(\"Your browser does not allow copy to the clipboard. This feature will not function\");\n        }\n\n        GetTextContents(callback: (text: string) => void) {\n            this.$$fn = callback;\n        }\n\n        private $$notify = (e: any) => {\n            if (!this.$$fn)\n                return;\n            var ev = e.originalEvent || e;\n            var dt = ev.clipboardData;\n            this.$$fn(dt.getData('text/plain'));\n            this.$$fn = null;\n        }\n    }\n\n    function selectContent(element: HTMLDivElement) {\n        var rangeToSelect = document.createRange();\n        rangeToSelect.selectNodeContents(element);\n\n        // select the contents\n        var selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(rangeToSelect);\n    }\n\n    function tryRequestPrivilege() {\n        var netscape = window ? (<any>window).netscape : null;\n        if (netscape && netscape.security) {\n            netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");\n        }\n    }\n}","module Fayde.Collections {\r\n    export enum CollectionChangedAction {\r\n        Add = 1,\r\n        Remove = 2,\r\n        Replace = 3,\r\n        Reset = 4,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(CollectionChangedAction, \"NotifyCollectionChangedAction\");\r\n\r\n    export class CollectionChangedEventArgs implements nullstone.IEventArgs {\r\n        Action: CollectionChangedAction;\r\n        OldStartingIndex: number;\r\n        NewStartingIndex: number;\r\n        OldItems: any[];\r\n        NewItems: any[];\r\n\r\n        static Reset(allValues: any[]): CollectionChangedEventArgs {\r\n            var args = new CollectionChangedEventArgs();\r\n            Object.defineProperty(args, \"Action\", { value: CollectionChangedAction.Reset, writable: false });\r\n            Object.defineProperty(args, \"OldStartingIndex\", { value: 0, writable: false });\r\n            Object.defineProperty(args, \"NewStartingIndex\", { value: -1, writable: false });\r\n            Object.defineProperty(args, \"OldItems\", { value: allValues, writable: false });\r\n            Object.defineProperty(args, \"NewItems\", { value: null, writable: false });\r\n            return args;\r\n        }\r\n        static Replace(newValue: any, oldValue: any, index: number): CollectionChangedEventArgs {\r\n            var args = new CollectionChangedEventArgs();\r\n            Object.defineProperty(args, \"Action\", { value: CollectionChangedAction.Replace, writable: false });\r\n            Object.defineProperty(args, \"OldStartingIndex\", { value: -1, writable: false });\r\n            Object.defineProperty(args, \"NewStartingIndex\", { value: index, writable: false });\r\n            Object.defineProperty(args, \"OldItems\", { value: [oldValue], writable: false });\r\n            Object.defineProperty(args, \"NewItems\", { value: [newValue], writable: false });\r\n            return args;\r\n        }\r\n        static Add(newValue: any, index: number): CollectionChangedEventArgs {\r\n            var args = new CollectionChangedEventArgs();\r\n            Object.defineProperty(args, \"Action\", { value: CollectionChangedAction.Add, writable: false });\r\n            Object.defineProperty(args, \"OldStartingIndex\", { value: -1, writable: false });\r\n            Object.defineProperty(args, \"NewStartingIndex\", { value: index, writable: false });\r\n            Object.defineProperty(args, \"OldItems\", { value: null, writable: false });\r\n            Object.defineProperty(args, \"NewItems\", { value: [newValue], writable: false });\r\n            return args;\r\n        }\r\n        static AddRange(newValues: any[], index: number): CollectionChangedEventArgs {\r\n            var args = new CollectionChangedEventArgs();\r\n            Object.defineProperty(args, \"Action\", { value: CollectionChangedAction.Add, writable: false });\r\n            Object.defineProperty(args, \"OldStartingIndex\", { value: -1, writable: false });\r\n            Object.defineProperty(args, \"NewStartingIndex\", { value: index, writable: false });\r\n            Object.defineProperty(args, \"OldItems\", { value: null, writable: false });\r\n            Object.defineProperty(args, \"NewItems\", { value: newValues, writable: false });\r\n            return args;\r\n        }\r\n        static Remove(oldValue: any, index: number): CollectionChangedEventArgs {\r\n            var args = new CollectionChangedEventArgs();\r\n            Object.defineProperty(args, \"Action\", { value: CollectionChangedAction.Remove, writable: false });\r\n            Object.defineProperty(args, \"OldStartingIndex\", { value: index, writable: false });\r\n            Object.defineProperty(args, \"NewStartingIndex\", { value: -1, writable: false });\r\n            Object.defineProperty(args, \"OldItems\", { value: [oldValue], writable: false });\r\n            Object.defineProperty(args, \"NewItems\", { value: null, writable: false });\r\n            return args;\r\n        }\r\n    }\r\n}","module Fayde.Collections {\r\n    export interface INotifyCollectionChanged {\r\n        CollectionChanged: nullstone.Event<CollectionChangedEventArgs>;\r\n    }\r\n    export var INotifyCollectionChanged_ = new nullstone.Interface<INotifyCollectionChanged>(\"INotifyCollectionChanged\");\r\n    INotifyCollectionChanged_.is = (o: any): boolean => {\r\n        return o && o.CollectionChanged instanceof nullstone.Event;\r\n    };\r\n}","module Fayde {\r\n    export class PropertyChangedEventArgs implements nullstone.IEventArgs {\r\n        PropertyName: string;\r\n        constructor(propertyName: string) {\r\n            Object.defineProperty(this, \"PropertyName\", { value: propertyName, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PropertyChangedEventArgs);\r\n\r\n    export interface INotifyPropertyChanged {\r\n        PropertyChanged: nullstone.Event<PropertyChangedEventArgs>;\r\n    }\r\n    export var INotifyPropertyChanged_ = new nullstone.Interface<INotifyPropertyChanged>(\"INotifyPropertyChanged\");\r\n    INotifyPropertyChanged_.is = (o: any): boolean => {\r\n        return o && o.PropertyChanged instanceof nullstone.Event;\r\n    };\r\n}","/// <reference path=\"INotifyCollectionChanged.ts\" />\r\n/// <reference path=\"../Core/INotifyPropertyChanged.ts\" />\r\n\r\nmodule Fayde.Collections {\r\n    export class ObservableCollection<T> implements nullstone.IEnumerable<T>, nullstone.ICollection<T>, INotifyCollectionChanged, INotifyPropertyChanged {\r\n        private _ht: T[] = [];\r\n\r\n        getEnumerator (): nullstone.IEnumerator<T> {\r\n            return nullstone.IEnumerator_.fromArray(this._ht);\r\n        }\r\n\r\n        CollectionChanged = new nullstone.Event<CollectionChangedEventArgs>();\r\n        PropertyChanged = new nullstone.Event<PropertyChangedEventArgs>();\r\n\r\n        get Count (): number {\r\n            return this._ht.length;\r\n        }\r\n\r\n        ToArray (): T[] {\r\n            return this._ht.slice(0);\r\n        }\r\n\r\n        GetValueAt (index: number): T {\r\n            var ht = this._ht;\r\n            if (index < 0 || index >= ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            return ht[index];\r\n        }\r\n\r\n        SetValueAt (index: number, value: T) {\r\n            var ht = this._ht;\r\n            if (index < 0 || index >= ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            var oldValue = ht[index];\r\n            ht[index] = value;\r\n            this.CollectionChanged.raise(this, CollectionChangedEventArgs.Replace(value, oldValue, index));\r\n        }\r\n\r\n        Add (value: T) {\r\n            var index = this._ht.push(value) - 1;\r\n            this.CollectionChanged.raise(this, CollectionChangedEventArgs.Add(value, index));\r\n            this._RaisePropertyChanged(\"Count\");\r\n        }\r\n\r\n        AddRange (values: T[]) {\r\n            var index = this._ht.length;\r\n            var len = values.length;\r\n            for (var i = 0; i < len; i++) {\r\n                this._ht.push(values[i]);\r\n            }\r\n            this.CollectionChanged.raise(this, CollectionChangedEventArgs.AddRange(values, index));\r\n            this._RaisePropertyChanged(\"Count\");\r\n        }\r\n\r\n        Insert (index: number, value: T) {\r\n            var ht = this._ht;\r\n            if (index < 0 || index > ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            if (index >= ht.length)\r\n                ht.push(value);\r\n            else\r\n                ht.splice(index, 0, value);\r\n            this.CollectionChanged.raise(this, CollectionChangedEventArgs.Add(value, index));\r\n            this._RaisePropertyChanged(\"Count\");\r\n        }\r\n\r\n        IndexOf (value: T): number {\r\n            return this._ht.indexOf(value);\r\n        }\r\n\r\n        Contains (value: T): boolean {\r\n            return this._ht.indexOf(value) > -1;\r\n        }\r\n\r\n        Remove (value: T): boolean {\r\n            var index = this._ht.indexOf(value);\r\n            if (index < 0)\r\n                return false;\r\n            this._ht.splice(index, 1);\r\n            this.CollectionChanged.raise(this, CollectionChangedEventArgs.Remove(value, index));\r\n            this._RaisePropertyChanged(\"Count\");\r\n            return true;\r\n        }\r\n\r\n        RemoveAt (index: number) {\r\n            if (index < 0 || index >= this._ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            var item = this._ht.splice(index, 1)[0];\r\n            this.CollectionChanged.raise(this, CollectionChangedEventArgs.Remove(item, index));\r\n            this._RaisePropertyChanged(\"Count\");\r\n        }\r\n\r\n        Clear () {\r\n            var old = this._ht;\r\n            this._ht = [];\r\n            this.CollectionChanged.raise(this, CollectionChangedEventArgs.Reset(old));\r\n            this._RaisePropertyChanged(\"Count\");\r\n        }\r\n\r\n        private _RaisePropertyChanged (propertyName: string) {\r\n            this.PropertyChanged.raise(this, new PropertyChangedEventArgs(propertyName));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ObservableCollection);\r\n    nullstone.ICollection_.mark(ObservableCollection);\r\n}","/// <reference path=\"ObservableCollection.ts\" />\r\n\r\nmodule Fayde.Collections {\r\n    export class DeepObservableCollection<T> extends ObservableCollection<T> {\r\n        ItemPropertyChanged = new nullstone.Event<ItemPropertyChangedEventArgs<T>>();\r\n        constructor() {\r\n            super();\r\n            this.CollectionChanged.on(this._OnCollectionChanged, this);\r\n        }\r\n\r\n        private _OnCollectionChanged(sender: any, e: CollectionChangedEventArgs) {\r\n            if (e.NewItems) {\r\n                for (var i = 0; i < e.NewItems.length; i++) {\r\n                    var notify = INotifyPropertyChanged_.as(e.NewItems[i]);\r\n                    if (notify)\r\n                        notify.PropertyChanged.on(this._OnItemPropertyChanged, this);\r\n                }\r\n            }\r\n            if (e.OldItems) {\r\n                for (var i = 0; i < e.OldItems.length; i++) {\r\n                    var notify = INotifyPropertyChanged_.as(e.OldItems[i]);\r\n                    if (notify)\r\n                        notify.PropertyChanged.off(this._OnItemPropertyChanged, this);\r\n                }\r\n            }\r\n        }\r\n        private _OnItemPropertyChanged(sender: T, e: PropertyChangedEventArgs) {\r\n            this.ItemPropertyChanged.raise(this, new ItemPropertyChangedEventArgs<T>(sender, e.PropertyName));\r\n        }\r\n    }\r\n} ","module Fayde.Collections {\r\n    export interface IFilterItemFunc<T> {\r\n        (item: T): boolean;\r\n    }\r\n    export interface IFilterItemIndexFunc<T> {\r\n        (item: T, index: number): boolean;\r\n    }\r\n\r\n    export class FilteredCollection<T> extends DeepObservableCollection<T> {\r\n        private _Source: DeepObservableCollection<T>;\r\n        get Source () { return this._Source; }\r\n        set Source (value: DeepObservableCollection<T>) { this._SetSource(value); }\r\n\r\n        private _Filter: IFilterItemIndexFunc<T>;\r\n        get Filter () {\r\n            return this._Filter;\r\n        }\r\n\r\n        set Filter (value: IFilterItemIndexFunc<T>) {\r\n            this._Filter = value;\r\n            this.Update();\r\n        }\r\n\r\n        constructor (filter?: IFilterItemFunc<T>, source?: DeepObservableCollection<T>);\r\n        constructor (filter?: IFilterItemIndexFunc<T>, source?: DeepObservableCollection<T>);\r\n        constructor (filter?: IFilterItemIndexFunc<T>, source?: DeepObservableCollection<T>) {\r\n            super();\r\n            this.Filter = filter;\r\n            this._SetSource(source || new DeepObservableCollection<T>());\r\n        }\r\n\r\n        private _SetSource (source: DeepObservableCollection<T>) {\r\n            if (this._Source) {\r\n                this._Source.CollectionChanged.off(this._OnSourceCollectionChanged, this);\r\n                this._Source.ItemPropertyChanged.off(this._OnSourceItemPropertyChanged, this);\r\n            }\r\n            this._Source = source;\r\n            if (source) {\r\n                source.CollectionChanged.on(this._OnSourceCollectionChanged, this);\r\n                source.ItemPropertyChanged.on(this._OnSourceItemPropertyChanged, this);\r\n            }\r\n            this.Update();\r\n        }\r\n\r\n        private _OnSourceCollectionChanged (sender: any, e: CollectionChangedEventArgs) {\r\n            this.Update();\r\n        }\r\n\r\n        private _OnSourceItemPropertyChanged (sender: any, e: ItemPropertyChangedEventArgs<T>) {\r\n            this.Update();\r\n            var index = this.Source.IndexOf(e.Item);\r\n            if (this.Filter && this.Filter(e.Item, index))\r\n                this.ItemPropertyChanged.raise(this, e);\r\n        }\r\n\r\n        Update () {\r\n            if (!this._Source)\r\n                return;\r\n            var filter = this.Filter || ((item: T) => true);\r\n            for (var i = 0, j = 0, enumerator = this._Source.getEnumerator(); enumerator.moveNext(); i++) {\r\n                var isIncluded = filter(enumerator.current, i);\r\n                var isCurrent = j < this.Count && this.GetValueAt(j) === enumerator.current;\r\n                if (isIncluded && !isCurrent)\r\n                    this.Insert(j, enumerator.current);\r\n                else if (!isIncluded && isCurrent)\r\n                    this.RemoveAt(j);\r\n                if (isIncluded)\r\n                    j++;\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../Core/INotifyPropertyChanged.ts\" />\r\n\r\nmodule Fayde.Collections {\r\n    export class ItemPropertyChangedEventArgs<T> extends PropertyChangedEventArgs {\r\n        Item: T;\r\n        constructor(item: T, propertyName: string) {\r\n            super(propertyName);\r\n            Object.defineProperty(this, \"Item\", { value: item, writable: false });\r\n        }\r\n    }\r\n}","module Fayde.Collections {\r\n    export class ReadOnlyObservableCollection<T> implements nullstone.ICollection<T>, INotifyCollectionChanged, INotifyPropertyChanged {\r\n        get Count (): number {\r\n            return this._Source.Count;\r\n        }\r\n\r\n        private _Source: ObservableCollection<T>;\r\n\r\n        CollectionChanged = new nullstone.Event<CollectionChangedEventArgs>();\r\n        PropertyChanged = new nullstone.Event<PropertyChangedEventArgs>();\r\n\r\n        constructor (source: ObservableCollection<T>) {\r\n            this._Source = source;\r\n            this._Source.CollectionChanged.on(this._OnCollectionChanged, this);\r\n            this._Source.PropertyChanged.on(this._OnPropertyChanged, this);\r\n        }\r\n\r\n        GetValueAt (index: number) {\r\n            return this._Source.GetValueAt(index);\r\n        }\r\n\r\n        getEnumerator (): nullstone.IEnumerator<T> {\r\n            return this._Source.getEnumerator();\r\n        }\r\n\r\n        ToArray (): T[] {\r\n            return this._Source.ToArray();\r\n        }\r\n\r\n        IndexOf (value: T): number {\r\n            return this._Source.IndexOf(value);\r\n        }\r\n\r\n        Contains (value: T): boolean {\r\n            return this._Source.Contains(value);\r\n        }\r\n\r\n        private _OnCollectionChanged (sender: any, args: CollectionChangedEventArgs) {\r\n            this.CollectionChanged.raise(this, args);\r\n        }\r\n\r\n        private _OnPropertyChanged (sender: any, args: PropertyChangedEventArgs) {\r\n            this.PropertyChanged.raise(this, args);\r\n        }\r\n\r\n        SetValueAt (index: number, value: T) {\r\n            throw new Error(\"Collection is read only.\");\r\n        }\r\n\r\n        Insert (index: number, value: T) {\r\n            throw new Error(\"Collection is read only.\");\r\n        }\r\n\r\n        Add (value: T) {\r\n            throw new Error(\"Collection is read only.\");\r\n        }\r\n\r\n        Remove (value: T): boolean {\r\n            throw new Error(\"Collection is read only.\");\r\n        }\r\n\r\n        RemoveAt (index: number) {\r\n            throw new Error(\"Collection is read only.\");\r\n        }\r\n\r\n        Clear () {\r\n            throw new Error(\"Collection is read only.\");\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ObservableCollection);\r\n    nullstone.addTypeInterfaces(ReadOnlyObservableCollection, nullstone.ICollection_, INotifyCollectionChanged_, INotifyPropertyChanged_);\r\n}","module Fayde {\r\n    export interface IIsAttachedMonitor {\r\n        Callback: (newIsAttached: boolean) => void;\r\n        Detach();\r\n    }\r\n\r\n    export class XamlNode {\r\n        XObject: XamlObject;\r\n        ParentNode: XamlNode = null;\r\n        Name: string = \"\";\r\n        NameScope: NameScope = null;\r\n        DocNameScope: NameScope = null;\r\n        private IsShareable: boolean = false;\r\n        private _OwnerNameScope: NameScope = null;\r\n        private _LogicalChildren: XamlNode[] = [];\r\n\r\n        private _IAMonitors: IIsAttachedMonitor[] = null;\r\n\r\n        constructor(xobj: XamlObject) {\r\n            this.XObject = xobj;\r\n        }\r\n\r\n        private _DataContext: any = undefined;\r\n        get DataContext(): any { return this._DataContext; }\r\n        set DataContext(value: any) {\r\n            var old = this._DataContext;\r\n            if (old === value)\r\n                return;\r\n            this._DataContext = value;\r\n            this.OnDataContextChanged(old, value);\r\n        }\r\n        OnDataContextChanged(oldDataContext: any, newDataContext: any) {\r\n            var childNodes = this._LogicalChildren;\r\n            var len = childNodes.length;\r\n            var childNode: XamlNode = null;\r\n            for (var i = 0; i < len; i++) {\r\n                childNode = childNodes[i];\r\n                childNode.DataContext = newDataContext;\r\n            }\r\n        }\r\n\r\n        private _IsEnabled: boolean = true;\r\n        get IsEnabled(): boolean { return this._IsEnabled; }\r\n        set IsEnabled(value: boolean) {\r\n            value = value !== false;\r\n            var old = this._IsEnabled;\r\n            if (old === value)\r\n                return;\r\n            this._IsEnabled = value;\r\n            this.OnIsEnabledChanged(old, value);\r\n        }\r\n        OnIsEnabledChanged(oldValue: boolean, newValue: boolean) {\r\n            var childNodes = this._LogicalChildren;\r\n            var len = childNodes.length;\r\n            var childNode: XamlNode = null;\r\n            for (var i = 0; i < len; i++) {\r\n                childNode = childNodes[i];\r\n                childNode.IsEnabled = newValue;\r\n            }\r\n        }\r\n\r\n        FindName(name: string, doc?: boolean): XamlNode {\r\n            var scope = this.FindNameScope();\r\n            var node: XamlNode;\r\n            if (scope)\r\n                node = scope.FindName(name);\r\n            var docscope: NameScope;;\r\n            if (!node && doc && (docscope = this.DocNameScope))\r\n                node = docscope.FindName(name);\r\n            return node;\r\n        }\r\n        SetName(name: string) {\r\n            this.Name = name;\r\n            var ns = this.FindNameScope();\r\n            if (ns)\r\n                ns.RegisterName(name, this);\r\n        }\r\n        FindNameScope(): NameScope {\r\n            if (this._OwnerNameScope)\r\n                return this._OwnerNameScope;\r\n\r\n            var curNode = this;\r\n            var ns;\r\n            while (curNode) {\r\n                ns = curNode.NameScope;\r\n                if (ns) {\r\n                    this._OwnerNameScope = ns;\r\n                    return ns;\r\n                }\r\n                curNode = curNode.ParentNode;\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        IsAttached: boolean = false;\r\n        SetIsAttached(value: boolean) {\r\n            if (this.IsAttached === value)\r\n                return;\r\n            this.IsAttached = value;\r\n            this.OnIsAttachedChanged(value);\r\n        }\r\n        OnIsAttachedChanged(newIsAttached: boolean) {\r\n            var xobj = this.XObject;\r\n            if (newIsAttached && this.ParentNode && !xobj.App) {\r\n                xobj.App = this.ParentNode.XObject.App;\r\n            }\r\n\r\n            var childNodes = this._LogicalChildren;\r\n            var len = childNodes.length;\r\n            var childNode: XamlNode = null;\r\n            for (var i = 0; i < len; i++) {\r\n                childNode = childNodes[i];\r\n                childNode.SetIsAttached(newIsAttached);\r\n            }\r\n\r\n            for (var i = 0, monitors = (this._IAMonitors || []).slice(0), len = monitors.length; i < len; i++) {\r\n                monitors[i].Callback(newIsAttached);\r\n            }\r\n\r\n            if (!newIsAttached)\r\n                this._OwnerNameScope = undefined;\r\n        }\r\n        MonitorIsAttached(func: (newIsAttached: boolean) => void ): IIsAttachedMonitor {\r\n            var monitors = this._IAMonitors;\r\n            if (!monitors) this._IAMonitors = monitors = [];\r\n            var monitor: IIsAttachedMonitor = {\r\n                Callback: func,\r\n                Detach: null\r\n            };\r\n            monitor.Detach = function () {\r\n                var index = monitors.indexOf(monitor);\r\n                if (index > -1) monitors.splice(index, 1);\r\n            };\r\n            this._IAMonitors.push(monitor);\r\n            return monitor;\r\n        }\r\n\r\n        AttachTo(parentNode: XamlNode, error: BError): boolean {\r\n            if (this.ParentNode && this.IsShareable)\r\n                return true;\r\n            var data = {\r\n                ParentNode: parentNode,\r\n                ChildNode: this,\r\n                Name: \"\"\r\n            };\r\n            var curNode = parentNode;\r\n            while (curNode) {\r\n                if (curNode === this) {\r\n                    error.Message = \"Cycle found.\";\r\n                    error.Data = data;\r\n                    error.Number = BError.Attach;\r\n                    return false;\r\n                }\r\n                curNode = curNode.ParentNode;\r\n            }\r\n\r\n            if (this.ParentNode) {\r\n                if (this.ParentNode === parentNode)\r\n                    return true;\r\n                error.Message = \"Element is already a child of another element.\";\r\n                error.Data = data;\r\n                error.Number = BError.Attach;\r\n                return false;\r\n            }\r\n\r\n            var parentScope = parentNode.FindNameScope();\r\n            var thisScope = this.NameScope;\r\n            if (thisScope) {\r\n                if (!thisScope.IsRoot) {\r\n                    parentScope.Absorb(thisScope);\r\n                    this.NameScope = null;\r\n                    this._OwnerNameScope = parentScope;\r\n                }\r\n            } else if (parentScope) {\r\n                var name = this.Name;\r\n                if (name) {\r\n                    var existing = parentScope.FindName(name);\r\n                    if (existing && existing !== this) {\r\n                        error.Message = \"Name is already registered in parent namescope.\";\r\n                        data.Name = name;\r\n                        error.Data = data;\r\n                        error.Number = BError.Attach;\r\n                        return false;\r\n                    }\r\n                    parentScope.RegisterName(name, this);\r\n                }\r\n                this._OwnerNameScope = parentScope;\r\n            }\r\n\r\n            var old = this.ParentNode;\r\n            this.ParentNode = parentNode;\r\n            this.OnParentChanged(old, parentNode);\r\n            \r\n            parentNode._LogicalChildren.push(this);\r\n            this.SetIsAttached(parentNode.IsAttached);\r\n\r\n            return true;\r\n        }\r\n        Detach() {\r\n            var name = this.Name;\r\n            if (name && !this.NameScope) {\r\n                var ns = this.FindNameScope();\r\n                if (ns) ns.UnregisterName(this.Name);\r\n            }\r\n            this._OwnerNameScope = null;\r\n            this.SetIsAttached(false);\r\n            var old = this.ParentNode;\r\n            this.ParentNode = null;\r\n            if (old) {\r\n                var index = old._LogicalChildren.indexOf(this);\r\n                if (index > -1) old._LogicalChildren.splice(index, 1);\r\n                this.OnParentChanged(old, null);\r\n            }\r\n        }\r\n        OnParentChanged(oldParentNode: XamlNode, newParentNode: XamlNode) { }\r\n\r\n        GetInheritedEnumerator(): nullstone.IEnumerator<DONode> { return undefined; }\r\n\r\n        static SetShareable(xn: XamlNode) {\r\n            xn.IsShareable = true;\r\n        }\r\n    }\r\n}","module Fayde {\r\n    export class XamlObject implements Providers.IIsPropertyInheritable {\r\n        private static _LastID: number = 0;\r\n        private _ID: number;\r\n        XamlNode: Fayde.XamlNode;\r\n        TemplateOwner: DependencyObject = null;\r\n        App: Application = null;\r\n\r\n        constructor() {\r\n            this._ID = XamlObject._LastID++;\r\n            this.XamlNode = this.CreateNode();\r\n        }\r\n        CreateNode(): XamlNode {\r\n            return new XamlNode(this);\r\n        }\r\n        get Name() { return this.XamlNode.Name; }\r\n        get Parent(): XamlObject {\r\n            var pn = this.XamlNode.ParentNode;\r\n            if (!pn) return;\r\n            return pn.XObject;\r\n        }\r\n\r\n        FindName(name: string, doc?: boolean): XamlObject {\r\n            var n = this.XamlNode.FindName(name, doc);\r\n            return n ? n.XObject : undefined;\r\n        }\r\n\r\n        Clone(): XamlObject {\r\n            var xobj: XamlObject = new (<any>this).constructor();\r\n            xobj.CloneCore(this);\r\n            return xobj;\r\n        }\r\n        CloneCore(source: XamlObject) { }\r\n\r\n        IsInheritable(propd: DependencyProperty): boolean { return false; }\r\n    }\r\n    Fayde.CoreLibrary.add(XamlObject);\r\n}","\r\nmodule Fayde.Providers {\r\n    export enum PropertyPrecedence {\r\n        IsEnabled = 0,\r\n        LocalValue = 1,\r\n        LocalStyle = 2,\r\n        ImplicitStyle = 3,\r\n        Inherited = 4,\r\n        InheritedDataContext = 5,\r\n        DefaultValue = 6,\r\n\r\n        Lowest = 6,\r\n        Highest = 0,\r\n        Count = 7,\r\n    }\r\n    \r\n    export interface IPropertyChangedListener {\r\n        Property: DependencyProperty;\r\n        OnPropertyChanged(sender: DependencyObject, args: IDependencyPropertyChangedEventArgs);\r\n        Detach();\r\n    }\r\n\r\n    export interface IPropertyStorage {\r\n        OwnerNode: DONode;\r\n        Property: DependencyProperty;\r\n        Precedence: PropertyPrecedence;\r\n        Animations: Media.Animation.IAnimationStorage[];\r\n        Local: any;\r\n        LocalStyleValue: any;\r\n        ImplicitStyleValue: any;\r\n        PropListeners: IPropertyChangedListener[];\r\n    }\r\n\r\n    export interface IPropertyStorageOwner {\r\n        _PropertyStorage: IPropertyStorage[];\r\n    }\r\n\r\n    export function GetStorage(dobj: DependencyObject, propd: DependencyProperty): IPropertyStorage {\r\n        var arr = (<IPropertyStorageOwner>dobj)._PropertyStorage;\r\n        var storage = arr[propd._ID];\r\n        if (!storage) arr[propd._ID] = storage = propd.Store.CreateStorage(dobj, propd);\r\n        return storage;\r\n    }\r\n\r\n    export class PropertyStore {\r\n        static Instance: PropertyStore;\r\n        GetValue(storage: IPropertyStorage): any {\r\n            var val: any;\r\n            if ((val = storage.Local) !== undefined)\r\n                return val;\r\n            if ((val = storage.LocalStyleValue) !== undefined)\r\n                return val;\r\n            if ((val = storage.ImplicitStyleValue) !== undefined)\r\n                return val;\r\n            return storage.Property.DefaultValue;\r\n        }\r\n        GetValuePrecedence(storage: IPropertyStorage): PropertyPrecedence {\r\n            if (storage.Local !== undefined)\r\n                return PropertyPrecedence.LocalValue;\r\n            if (storage.LocalStyleValue !== undefined)\r\n                return PropertyPrecedence.LocalStyle;\r\n            if (storage.ImplicitStyleValue !== undefined)\r\n                return PropertyPrecedence.ImplicitStyle;\r\n            return PropertyPrecedence.DefaultValue;\r\n        }\r\n\r\n        SetLocalValue(storage: Providers.IPropertyStorage, newValue: any) {\r\n            if (newValue === undefined || newValue === DependencyProperty.UnsetValue) {\r\n                this.ClearValue(storage);\r\n                return;\r\n            }\r\n\r\n            var propd = storage.Property;\r\n            if (newValue && propd.GetTargetType() === String) {\r\n                if (typeof newValue !== \"string\")\r\n                    newValue = newValue.toString();\r\n                //TODO: More type checks\r\n            }\r\n\r\n            var isValidOut = { IsValid: false };\r\n            newValue = propd.ValidateSetValue(storage.OwnerNode.XObject, newValue, isValidOut);\r\n            if (!isValidOut.IsValid)\r\n                return;\r\n\r\n                \r\n            var precDiff = storage.Precedence - PropertyPrecedence.LocalValue;\r\n            if (!propd.AlwaysChange && precDiff < 0) {\r\n                storage.Local = newValue;\r\n                return;\r\n            }\r\n\r\n            var oldValue = undefined;\r\n            if (precDiff > 0)\r\n                oldValue = this.GetValue(storage);\r\n            else\r\n                oldValue = storage.Local;\r\n            storage.Local = newValue;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.LocalValue, oldValue, newValue);\r\n        }\r\n        SetLocalStyleValue(storage: IPropertyStorage, newValue: any) {\r\n            var precDiff = storage.Precedence - PropertyPrecedence.LocalStyle;\r\n            if (precDiff < 0) {\r\n                storage.LocalStyleValue = newValue;\r\n                return;\r\n            }\r\n\r\n            var oldValue = undefined;\r\n            if (precDiff > 0)\r\n                oldValue = this.GetValue(storage);\r\n            else\r\n                oldValue = storage.LocalStyleValue;\r\n            storage.LocalStyleValue = newValue;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.LocalStyle, oldValue, newValue);\r\n        }\r\n        SetImplicitStyle(storage: IPropertyStorage, newValue: any) {\r\n            var precDiff = storage.Precedence - PropertyPrecedence.ImplicitStyle;\r\n            if (precDiff < 0) {\r\n                storage.ImplicitStyleValue = newValue;\r\n                return;\r\n            }\r\n\r\n            var oldValue = undefined;\r\n            if (precDiff > 0)\r\n                oldValue = this.GetValue(storage);\r\n            else\r\n                oldValue = storage.ImplicitStyleValue;\r\n            storage.ImplicitStyleValue = newValue;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.ImplicitStyle, oldValue, newValue);\r\n        }\r\n\r\n        ClearValue(storage: Providers.IPropertyStorage) {\r\n            var oldLocal = storage.Local;\r\n            if (oldLocal === undefined)\r\n                return;\r\n            storage.Local = undefined;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.LocalValue, oldLocal, undefined);\r\n        }\r\n\r\n        OnPropertyChanged(storage: IPropertyStorage, effectivePrecedence: PropertyPrecedence, oldValue: any, newValue: any): IDependencyPropertyChangedEventArgs {\r\n            var propd = storage.Property;\r\n            if (newValue === undefined) {\r\n                effectivePrecedence = this.GetValuePrecedence(storage);\r\n                newValue = this.GetValue(storage);\r\n            }\r\n            \r\n            storage.Precedence = effectivePrecedence;\r\n            if (!propd.AlwaysChange && oldValue === newValue)\r\n                return undefined;\r\n\r\n            if (!storage.Property.IsCustom) {\r\n                if (oldValue instanceof XamlObject)\r\n                    (<XamlObject>oldValue).XamlNode.Detach();\r\n                if (newValue instanceof XamlObject) {\r\n                    var error = new BError();\r\n                    if (!(<XamlObject>newValue).XamlNode.AttachTo(storage.OwnerNode, error))\r\n                        error.ThrowException();\r\n                }\r\n            }\r\n\r\n            var args = {\r\n                Property: propd,\r\n                OldValue: oldValue,\r\n                NewValue: newValue\r\n            };\r\n            var sender = storage.OwnerNode.XObject;\r\n            if (propd.ChangedCallback)\r\n                propd.ChangedCallback(sender, args);\r\n            var listeners = storage.PropListeners;\r\n            if (listeners) {\r\n                var len = listeners.length;\r\n                for (var i = 0; i < len; i++) {\r\n                    listeners[i].OnPropertyChanged(sender, args);\r\n                }\r\n            }\r\n            return args;\r\n        }\r\n        ListenToChanged(target: DependencyObject, propd: DependencyProperty, func: (sender, args: IDependencyPropertyChangedEventArgs) => void , closure: any): Providers.IPropertyChangedListener {\r\n            var storage = GetStorage(target, propd);\r\n            var listeners = storage.PropListeners;\r\n            if (!listeners) listeners = storage.PropListeners = [];\r\n\r\n            var listener = {\r\n                Detach: function () {\r\n                    var index = listeners.indexOf(listener);\r\n                    if (index > -1)\r\n                        listeners.splice(index, 1);\r\n                },\r\n                Property: propd,\r\n                OnPropertyChanged: function (sender: DependencyObject, args: IDependencyPropertyChangedEventArgs) { func.call(closure, sender, args); }\r\n            };\r\n            listeners.push(listener);\r\n            return listener;\r\n        }\r\n\r\n        CreateStorage(dobj: DependencyObject, propd: DependencyProperty): IPropertyStorage {\r\n            return {\r\n                OwnerNode: dobj.XamlNode,\r\n                Property: propd,\r\n                Precedence: PropertyPrecedence.DefaultValue,\r\n                Animations: undefined,\r\n                Local: undefined,\r\n                LocalStyleValue: undefined,\r\n                ImplicitStyleValue: undefined,\r\n                PropListeners: undefined,\r\n            };\r\n        }\r\n        Clone(dobj: DependencyObject, sourceStorage: IPropertyStorage): IPropertyStorage {\r\n            var newStorage = this.CreateStorage(dobj, sourceStorage.Property);\r\n            newStorage.Precedence = sourceStorage.Precedence;\r\n            //newStorage.ImplicitStyleValue = undefined;\r\n            //newStorage.LocalStyleValue = undefined;\r\n            newStorage.Local = Fayde.Clone(sourceStorage.Local);\r\n            var anims = newStorage.Animations = sourceStorage.Animations;\r\n            if (anims) {\r\n                for (var i = 0; i < anims.length; i++) {\r\n                    anims[i].PropStorage = newStorage;\r\n                }\r\n            }\r\n            //TODO: Copy over property listeners?\r\n            return newStorage;\r\n        }\r\n    }\r\n    PropertyStore.Instance = new PropertyStore();\r\n}","/// <reference path=\"PropertyStore.ts\" />\r\n\r\nmodule Fayde.Providers {\r\n    export class ImmutableStore extends PropertyStore {\r\n        static Instance: ImmutableStore;\r\n\r\n        GetValue(storage: IPropertyStorage): any {\r\n            return storage.Local;\r\n        }\r\n        GetValuePrecedence(storage: IPropertyStorage): PropertyPrecedence {\r\n            return PropertyPrecedence.LocalValue;\r\n        }\r\n        SetLocalValue(storage: Providers.IPropertyStorage, newValue: any) {\r\n            console.warn(\"Trying to set value for immutable property.\");\r\n        }\r\n        ClearValue(storage: Providers.IPropertyStorage) {\r\n            console.warn(\"Trying to clear value for immutable property.\");\r\n        }\r\n        ListenToChanged(target: DependencyObject, propd: DependencyProperty, func: (sender, args: IDependencyPropertyChangedEventArgs) => void, closure: any): Providers.IPropertyChangedListener {\r\n            return {\r\n                Property: propd,\r\n                OnPropertyChanged: function (sender: DependencyObject, args: IDependencyPropertyChangedEventArgs) { },\r\n                Detach: function () { }\r\n            };\r\n        }\r\n        Clone(dobj: DependencyObject, sourceStorage: IPropertyStorage): IPropertyStorage {\r\n            if (sourceStorage.Local instanceof XamlObjectCollection) {\r\n                var newStorage = Providers.GetStorage(dobj, sourceStorage.Property);\r\n                var newColl = <XamlObjectCollection<any>>newStorage.Local;\r\n                newColl.CloneCore(<XamlObjectCollection<any>>sourceStorage.Local);\r\n                var anims = newStorage.Animations = sourceStorage.Animations;\r\n                if (anims) {\r\n                    for (var i = 0; i < anims.length; i++) {\r\n                        anims[i].PropStorage = newStorage;\r\n                    }\r\n                }\r\n                return newStorage;\r\n            } else {\r\n                console.warn(\"Cloning Immutable improperly\");\r\n                return super.Clone(dobj, sourceStorage);\r\n            }\r\n        }\r\n    }\r\n    ImmutableStore.Instance = new ImmutableStore();\r\n}","/// <reference path=\"Providers/ImmutableStore.ts\" />\r\n\r\ninterface IOutIsValid {\r\n    IsValid: boolean;\r\n}\r\n\r\ninterface IType {\r\n}\r\n\r\nclass DependencyProperty {\r\n    static UnsetValue = {};\r\n\r\n    private static _IDs: DependencyProperty[] = [];\r\n    private static _LastID: number = 0;\r\n\r\n    _ID: number;\r\n    Name: string;\r\n    GetTargetType: () => IType;\r\n    OwnerType: any;\r\n    DefaultValue: any;\r\n    IsReadOnly: boolean = false;\r\n    IsCustom: boolean = true;\r\n    IsAttached: boolean = false;\r\n    IsInheritable: boolean = false;\r\n    IsImmutable: boolean = false;\r\n    ChangedCallback: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void;\r\n    AlwaysChange: boolean = false;\r\n    Store: Fayde.Providers.PropertyStore;\r\n    private _Coercer: (dobj: Fayde.DependencyObject, propd: DependencyProperty, value: any) => any = null;\r\n    private _Validator: (dobj: Fayde.DependencyObject, propd: DependencyProperty, value: any, original: any) => boolean = null;\r\n\r\n    static Register (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void) {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd.Store = Fayde.Providers.PropertyStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterReadOnly (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void) {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd.IsReadOnly = true;\r\n        propd.Store = Fayde.Providers.PropertyStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterAttached (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void) {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd.IsAttached = true;\r\n        propd.Store = Fayde.Providers.PropertyStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterCore (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void) {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd.IsCustom = false;\r\n        propd.Store = Fayde.Providers.PropertyStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterReadOnlyCore (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void) {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd.IsCustom = false;\r\n        propd.IsReadOnly = true;\r\n        propd.Store = Fayde.Providers.PropertyStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterAttachedCore (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void) {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd.IsCustom = false;\r\n        propd.IsAttached = true;\r\n        propd.Store = Fayde.Providers.PropertyStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterImmutable<T>(name: string, getTargetType: () => IType, ownerType: any): ImmutableDependencyProperty<T> {\r\n        var propd = new ImmutableDependencyProperty<T>();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = undefined;\r\n        propd.IsImmutable = true;\r\n        propd.Store = Fayde.Providers.ImmutableStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterInheritable (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void) {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd.IsCustom = true;\r\n        propd.IsInheritable = true;\r\n        propd.Store = Fayde.Providers.InheritedStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    static RegisterFull (name: string, getTargetType: () => IType, ownerType: any, defaultValue?: any, changedCallback?: (dobj: Fayde.DependencyObject, args: DependencyPropertyChangedEventArgs) => void, coercer?: (dobj: Fayde.DependencyObject, propd: DependencyProperty, value: any) => any, alwaysChange?: boolean, validator?: (dobj: Fayde.DependencyObject, propd: DependencyProperty, value: any) => boolean, isCustom?: boolean, isReadOnly?: boolean, isAttached?: boolean): DependencyProperty {\r\n        var propd = new DependencyProperty();\r\n        propd.Name = name;\r\n        propd.GetTargetType = getTargetType;\r\n        propd.OwnerType = ownerType;\r\n        propd.DefaultValue = defaultValue;\r\n        propd.ChangedCallback = changedCallback;\r\n        propd._Coercer = coercer;\r\n        propd.AlwaysChange = alwaysChange;\r\n        propd._Validator = validator;\r\n        propd.IsCustom = isCustom !== false;\r\n        propd.IsReadOnly = isReadOnly === true;\r\n        propd.IsAttached = isAttached === true;\r\n        propd.Store = Fayde.Providers.PropertyStore.Instance;\r\n        propd.FinishRegister();\r\n        return propd;\r\n    }\r\n\r\n    private FinishRegister () {\r\n        var name = this.Name;\r\n        var ownerType = this.OwnerType;\r\n        if (!ownerType || typeof ownerType !== \"function\")\r\n            throw new InvalidOperationException(\"DependencyProperty does not have a valid OwnerType.\");\r\n        var registeredDPs = (<any>ownerType)._RegisteredDPs;\r\n        if (!registeredDPs) {\r\n            var registeredDPs: any = {};\r\n            Object.defineProperty(ownerType, \"_RegisteredDPs\", {\r\n                value: registeredDPs,\r\n                enumerable: false,\r\n                writable: false\r\n            });\r\n        }\r\n        if (registeredDPs[name] !== undefined)\r\n            throw new InvalidOperationException(\"Dependency Property is already registered. [\" + name + \"]\");\r\n        registeredDPs[name] = this;\r\n        this._ID = DependencyProperty._LastID = DependencyProperty._LastID + 1;\r\n        DependencyProperty._IDs[this._ID] = this;\r\n\r\n        if (this.IsImmutable)\r\n            return;\r\n\r\n        var propd = this;\r\n        var getter = function () {\r\n            return (<Fayde.DependencyObject>this).GetValue(propd);\r\n        };\r\n        var setter = function (value) {\r\n            (<Fayde.DependencyObject>this).SetValue(propd, value);\r\n        };\r\n        if (this.IsReadOnly)\r\n            setter = function (value) {\r\n                throw new Exception(\"Property [\" + propd.Name + \"] is readonly.\");\r\n            };\r\n        Object.defineProperty(ownerType.prototype, this.Name, {\r\n            get: getter,\r\n            set: setter,\r\n            configurable: true\r\n        });\r\n    }\r\n\r\n    ExtendTo (type: any): DependencyProperty {\r\n        var registeredDPs = type._RegisteredDPs;\r\n        if (!registeredDPs) {\r\n            var registeredDPs: any = {};\r\n            Object.defineProperty(type, \"_RegisteredDPs\", {\r\n                value: registeredDPs,\r\n                enumerable: false,\r\n                writable: false\r\n            });\r\n        }\r\n        registeredDPs[this.Name] = this;\r\n\r\n        var propd = this;\r\n        var getter = function () {\r\n            return (<Fayde.DependencyObject>this).GetValue(propd);\r\n        };\r\n        var setter = function (value) {\r\n            (<Fayde.DependencyObject>this).SetValue(propd, value);\r\n        };\r\n        Object.defineProperty(type.prototype, this.Name, {\r\n            get: getter,\r\n            set: setter,\r\n            configurable: true\r\n        });\r\n        return this;\r\n    }\r\n\r\n    ValidateSetValue (dobj: Fayde.DependencyObject, value: any, isValidOut: IOutIsValid) {\r\n        var coerced = value;\r\n        if (this._Coercer)\r\n            coerced = this._Coercer(dobj, this, coerced);\r\n        /* TODO: Handle Type Problems\r\n         if (!this._IsValueValid(dobj, coerced))\r\n         return coerced;\r\n         */\r\n        isValidOut.IsValid = true;\r\n        if (this._Validator)\r\n            isValidOut.IsValid = !!this._Validator(dobj, this, coerced, value);\r\n        return coerced;\r\n    }\r\n\r\n    static GetDependencyProperty (ownerType: any, name: string, noError?: boolean): DependencyProperty {\r\n        if (!ownerType)\r\n            return undefined;\r\n        var reg: DependencyProperty[] = (<any>ownerType)._RegisteredDPs;\r\n        var propd: DependencyProperty;\r\n        if (reg)\r\n            propd = reg[name];\r\n        if (!propd)\r\n            propd = DependencyProperty.GetDependencyProperty(nullstone.getTypeParent(ownerType), name, true);\r\n        if (!propd && !noError)\r\n            throw new Exception(\"Cannot locate dependency property [\" + (<any>ownerType).name + \"].[\" + name + \"]\");\r\n        return propd;\r\n    }\r\n}\r\nFayde.CoreLibrary.add(DependencyProperty);\r\n\r\nclass ImmutableDependencyProperty<T> extends DependencyProperty {\r\n    IsImmutable: boolean = true;\r\n\r\n    Initialize (dobj: Fayde.DependencyObject): T {\r\n        var storage = Fayde.Providers.GetStorage(dobj, this);\r\n        storage.Precedence = Fayde.Providers.PropertyPrecedence.LocalValue;\r\n        var type = <any>this.GetTargetType();\r\n        var obj: T = new type();\r\n        Object.defineProperty(dobj, this.Name, {\r\n            value: obj,\r\n            writable: false\r\n        });\r\n        return storage.Local = obj;\r\n    }\r\n}","/// <reference path=\"PropertyStore.ts\" />\r\n\r\nmodule Fayde.Providers {\r\n    export interface IDataContextStorage extends IPropertyStorage {\r\n        InheritedValue: any;\r\n    }\r\n\r\n    export class DataContextStore extends PropertyStore {\r\n        static Instance: DataContextStore;\r\n        GetValue(storage: IDataContextStorage): any {\r\n            var val = super.GetValue(storage);\r\n            if (val === undefined)\r\n                val = storage.InheritedValue;\r\n            return val;\r\n        }\r\n        GetValuePrecedence(storage: IDataContextStorage): PropertyPrecedence {\r\n            var prec = super.GetValuePrecedence(storage);\r\n            if (prec < PropertyPrecedence.InheritedDataContext)\r\n                return prec;\r\n            if (storage.InheritedValue !== undefined)\r\n                return PropertyPrecedence.InheritedDataContext;\r\n            return PropertyPrecedence.DefaultValue;\r\n        }\r\n        OnInheritedChanged(storage: IDataContextStorage, newInherited?: any) {\r\n            var oldInherited = storage.InheritedValue;\r\n            storage.InheritedValue = newInherited;\r\n            if (storage.Precedence >= PropertyPrecedence.InheritedDataContext && oldInherited !== newInherited)\r\n                this.OnPropertyChanged(storage, PropertyPrecedence.InheritedDataContext, oldInherited, newInherited);\r\n        }\r\n\r\n        CreateStorage(dobj: DependencyObject, propd: DependencyProperty): IDataContextStorage {\r\n            return {\r\n                OwnerNode: dobj.XamlNode,\r\n                Property: propd,\r\n                Precedence: PropertyPrecedence.DefaultValue,\r\n                Animations: undefined,\r\n                Local: undefined,\r\n                LocalStyleValue: undefined,\r\n                ImplicitStyleValue: undefined,\r\n                InheritedValue: undefined,\r\n                PropListeners: undefined,\r\n            };\r\n        }\r\n\r\n        OnPropertyChanged(storage: IDataContextStorage, effectivePrecedence: PropertyPrecedence, oldValue: any, newValue: any): IDependencyPropertyChangedEventArgs {\r\n            var args = super.OnPropertyChanged(storage, effectivePrecedence, oldValue, newValue);\r\n            if (args) {\r\n                if (effectivePrecedence > PropertyPrecedence.LocalValue && this.TryUpdateDataContextExpression(storage, args.NewValue))\r\n                    return;\r\n                storage.OwnerNode.OnDataContextChanged(args.OldValue, args.NewValue);\r\n            }\r\n            return args;\r\n        }\r\n\r\n        private TryUpdateDataContextExpression(storage: IDataContextStorage, newDataContext: any): boolean {\r\n            var val = storage.InheritedValue;\r\n            var exprs = <Expression[]>(<any>storage.OwnerNode.XObject)._Expressions;\r\n            var dcexpr = exprs[storage.Property._ID];\r\n            if (!dcexpr)\r\n                return false;\r\n            dcexpr.OnDataContextChanged(newDataContext);\r\n            return true;\r\n        }\r\n    }\r\n    DataContextStore.Instance = new DataContextStore();\r\n}","module Fayde {\r\n    export interface IDPReactionCallback<T> {\r\n        (dobj: DependencyObject, ov: T, nv: T): void;\r\n    }\r\n\r\n    export function DPReaction<TValue>(propd: DependencyProperty, callback?: IDPReactionCallback<TValue>, listen?: boolean) {\r\n        if (listen === false) {\r\n            propd.ChangedCallback = reaction<TValue>(callback);\r\n        } else {\r\n            propd.ChangedCallback = lReaction<TValue>(callback);\r\n        }\r\n    }\r\n\r\n    function reaction<T>(callback: IDPReactionCallback<T>) {\r\n        return (dobj: DependencyObject, args: DependencyPropertyChangedEventArgs) => {\r\n            callback && callback(dobj, args.OldValue, args.NewValue);\r\n        };\r\n    }\r\n\r\n    function lReaction<T>(callback: IDPReactionCallback<T>) {\r\n        return (dobj: DependencyObject, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            UnreactTo(ov, dobj);\r\n            callback && callback(dobj, ov, nv);\r\n            ReactTo(nv, dobj, () => callback(dobj, nv, nv));\r\n        };\r\n    }\r\n}","module Fayde {\r\n    interface IReactable {\r\n        $$reaction_sources: any[];\r\n        $$reactions: IReaction[];\r\n    }\r\n    interface IReaction {\r\n        (val?: any);\r\n    }\r\n\r\n    export function Incite (obj: any, val?: any) {\r\n        if (!obj)\r\n            return;\r\n        var reactions = (<IReactable>obj).$$reactions;\r\n        if (!reactions)\r\n            return;\r\n        var rs = (<IReactable>obj).$$reaction_sources;\r\n        for (var i = 0; i < reactions.length; i++) {\r\n            reactions[i].call(rs[i], val);\r\n        }\r\n    }\r\n\r\n    export function ReactTo (obj: any, scope: any, changed: (val?: any) => any) {\r\n        if (!obj)\r\n            return;\r\n        var rs = obj.$$reaction_sources;\r\n        if (!rs) {\r\n            rs = [];\r\n            Object.defineProperty(obj, \"$$reaction_sources\", {value: rs, enumerable: false});\r\n        }\r\n        rs.push(scope);\r\n        var reactions = obj.$$reactions;\r\n        if (!reactions) {\r\n            reactions = [];\r\n            Object.defineProperty(obj, \"$$reactions\", {value: reactions, enumerable: false});\r\n        }\r\n        reactions.push(changed);\r\n    }\r\n\r\n    export function UnreactTo (obj: any, scope: any) {\r\n        if (!obj)\r\n            return;\r\n        var reactions = obj.$$reactions;\r\n        if (!reactions)\r\n            return;\r\n        var rs = obj.$$reaction_sources;\r\n        var index = rs.indexOf(scope);\r\n        if (index < 0)\r\n            return;\r\n        rs.splice(index, 1);\r\n        reactions.splice(index, 1);\r\n    }\r\n}","/// <reference path=\"XamlNode.ts\" />\r\n/// <reference path=\"XamlObject.ts\" />\r\n/// <reference path=\"DependencyProperty.ts\" />\r\n/// <reference path=\"Providers/PropertyStore.ts\" />\r\n/// <reference path=\"Providers/DataContextStore.ts\" />\r\n/// <reference path=\"DPReaction.ts\" />\r\n/// <reference path=\"../Runtime/React.ts\" />\r\n\r\nmodule Fayde {\r\n    export class DONode extends XamlNode {\r\n        XObject: DependencyObject;\r\n        constructor(xobj: DependencyObject) {\r\n            super(xobj);\r\n        }\r\n\r\n        OnParentChanged(oldParentNode: XamlNode, newParentNode: XamlNode) {\r\n            super.OnParentChanged(oldParentNode, newParentNode);\r\n            var propd = DependencyObject.DataContextProperty;\r\n            var storage = <Providers.IDataContextStorage>Providers.GetStorage(this.XObject, propd);\r\n            var newInherited = newParentNode ? newParentNode.DataContext : undefined;\r\n            (<Providers.DataContextStore>propd.Store).OnInheritedChanged(storage, newInherited);\r\n        }\r\n\r\n        get DataContext(): any { return this.XObject.DataContext; }\r\n        set DataContext(value: any) {\r\n            var propd = DependencyObject.DataContextProperty;\r\n            var storage = <Providers.IDataContextStorage>Providers.GetStorage(this.XObject, propd);\r\n            (<Providers.DataContextStore>propd.Store).OnInheritedChanged(storage, value);\r\n        }\r\n        OnDataContextChanged(oldDataContext: any, newDataContext: any) {\r\n            var dcpid = DependencyObject.DataContextProperty._ID.toString();\r\n            var exprs = <Expression[]>(<any>this.XObject)._Expressions;\r\n            var expr: Expression;\r\n            for (var id in exprs) {\r\n                expr = exprs[id];\r\n                if (!(expr instanceof Expression))\r\n                    continue;\r\n                //DataContextProperty expressions are updated in DataContextStore\r\n                if (id === dcpid)\r\n                    continue;\r\n                expr.OnDataContextChanged(newDataContext);\r\n            }\r\n            super.OnDataContextChanged(oldDataContext, newDataContext);\r\n        }\r\n    }\r\n\r\n    export class DependencyObject extends XamlObject implements ICloneable, Providers.IPropertyStorageOwner {\r\n        private _Expressions: Expression[] = [];\r\n        _PropertyStorage: Providers.IPropertyStorage[] = [];\r\n\r\n        static DataContextProperty = DependencyProperty.Register(\"DataContext\", () => Object, DependencyObject);\r\n        DataContext: any;\r\n\r\n        constructor() {\r\n            super();\r\n        }\r\n        XamlNode: DONode;\r\n        CreateNode(): DONode { return new DONode(this); }\r\n\r\n        GetValue(propd: DependencyProperty): any {\r\n            if (!propd)\r\n                throw new ArgumentException(\"No property specified.\");\r\n            var storage = Providers.GetStorage(this, propd);\r\n            return propd.Store.GetValue(storage);\r\n        }\r\n        SetValue(propd: DependencyProperty, value: any) {\r\n            if (!propd)\r\n                throw new ArgumentException(\"No property specified.\");\r\n            if (propd.IsReadOnly)\r\n                throw new InvalidOperationException(\"DependencyProperty '\" + (<any>propd.OwnerType).name + \".\" + propd.Name + \"' is read only.\");\r\n            this.SetValueInternal(propd, value);\r\n        }\r\n        SetValueInternal(propd: DependencyProperty, value: any) {\r\n            var expression: Expression;\r\n            if (value instanceof Expression) {\r\n                expression = value;\r\n                expression.Seal(this, propd);\r\n            }\r\n\r\n            var existing = this._Expressions[propd._ID];\r\n\r\n            var updateTwoWay = false;\r\n            var addingExpression = false;\r\n            if (expression) {\r\n                if (expression !== existing) {\r\n                    if (expression.IsAttached)\r\n                        throw new ArgumentException(\"Cannot attach the same Expression to multiple FrameworkElements\");\r\n\r\n                    if (existing)\r\n                        this._RemoveExpression(propd);\r\n                    this._AddExpression(propd, expression);\r\n                }\r\n                addingExpression = true;\r\n                value = expression.GetValue(propd);\r\n            } else if (existing) {\r\n                if (existing instanceof Data.BindingExpressionBase) {\r\n                    var binding = (<Data.BindingExpressionBase>existing).ParentBinding;\r\n                    if (binding.Mode === Data.BindingMode.TwoWay) {\r\n                        updateTwoWay = !existing.IsUpdating && !propd.IsCustom;\r\n                    } else if (!existing.IsUpdating || binding.Mode === Data.BindingMode.OneTime) {\r\n                        this._RemoveExpression(propd);\r\n                    }\r\n                } else if (!existing.IsUpdating) {\r\n                    this._RemoveExpression(propd);\r\n                }\r\n            }\r\n\r\n            var storage = Providers.GetStorage(this, propd);\r\n            try {\r\n                propd.Store.SetLocalValue(storage, value);\r\n                if (updateTwoWay)\r\n                    (<Data.BindingExpressionBase>existing)._TryUpdateSourceObject(value);\r\n            } catch (err) {\r\n                if (!addingExpression)\r\n                    throw err;\r\n                var msg = \"Error setting value: \" + err.toString();\r\n                msg += err.stack;\r\n                console.warn(msg);\r\n                propd.Store.SetLocalValue(storage, propd.DefaultValue);\r\n                if (updateTwoWay)\r\n                    (<Data.BindingExpressionBase>existing)._TryUpdateSourceObject(value);\r\n            }\r\n        }\r\n        SetCurrentValue(propd: DependencyProperty, value: any) {\r\n            var storage = Providers.GetStorage(this, propd);\r\n            propd.Store.SetLocalValue(storage, value);\r\n\r\n            var expr = <Data.BindingExpressionBase>this._Expressions[propd._ID];\r\n            if (expr instanceof Data.BindingExpressionBase)\r\n                expr._TryUpdateSourceObject(value);\r\n        }\r\n        ClearValue(propd: DependencyProperty) {\r\n            if (!propd)\r\n                throw new ArgumentException(\"No dependency property.\");\r\n            if (propd.IsReadOnly && !propd.IsCustom)\r\n                throw new ArgumentException(\"This property is readonly.\");\r\n            this._RemoveExpression(propd);\r\n\r\n            var storage = Providers.GetStorage(this, propd);\r\n            var anims = storage.Animations;\r\n            if (anims && anims.length > 0)\r\n                return;\r\n            propd.Store.ClearValue(storage);\r\n        }\r\n        ReadLocalValue(propd: DependencyProperty): any {\r\n            if (!propd)\r\n                throw new ArgumentException(\"No property specified.\");\r\n            var expr = this._Expressions[propd._ID];\r\n            var val: any;\r\n            if (expr)\r\n                val = expr.GetValue(propd);\r\n            else\r\n                val = this.ReadLocalValueInternal(propd);\r\n            if (val === undefined)\r\n                return DependencyProperty.UnsetValue;\r\n            return val;\r\n        }\r\n        ReadLocalValueInternal(propd: DependencyProperty): any {\r\n            var storage = Providers.GetStorage(this, propd);\r\n            return storage.Local;\r\n        }\r\n\r\n        private _AddExpression(propd: DependencyProperty, expr: Expression) {\r\n            this._Expressions[propd._ID] = expr;\r\n            expr.OnAttached(this);\r\n        }\r\n        private _RemoveExpression(propd: DependencyProperty) {\r\n            var expr = this._Expressions[propd._ID];\r\n            if (expr) {\r\n                this._Expressions[propd._ID] = undefined;\r\n                expr.OnDetached(this);\r\n            }\r\n        }\r\n        _HasDeferredValueExpression(propd: DependencyProperty) {\r\n            var expr = this._Expressions[propd._ID];\r\n            return expr instanceof DeferredValueExpression;\r\n        }\r\n        GetBindingExpression(propd: DependencyProperty): Data.BindingExpressionBase {\r\n            var expr = this._Expressions[propd._ID];\r\n            if (expr instanceof Data.BindingExpressionBase)\r\n                return <Data.BindingExpressionBase>expr;\r\n        }\r\n        HasValueOrExpression(propd: DependencyProperty): boolean {\r\n            if (this._Expressions[propd._ID] instanceof Expression)\r\n                return true;\r\n            return this.ReadLocalValueInternal(propd) !== undefined;\r\n        }\r\n        SetBinding(propd: DependencyProperty, binding: Data.Binding): Data.BindingExpressionBase {\r\n            if (!propd)\r\n                throw new ArgumentException(\"propd\");\r\n            if (!binding)\r\n                throw new ArgumentException(\"binding\");\r\n\r\n            var e = new Data.BindingExpression(binding);\r\n            this.SetValueInternal(propd, e);\r\n            return e;\r\n        }\r\n\r\n        CloneCore(source: DependencyObject) {\r\n            var sarr = source._PropertyStorage;\r\n            var darr = this._PropertyStorage;\r\n            if (!darr)\r\n                darr = this._PropertyStorage = [];\r\n            for (var id in sarr) {\r\n                var storage: Providers.IPropertyStorage = sarr[id];\r\n                darr[id] = storage.Property.Store.Clone(this, storage);\r\n            }\r\n        }\r\n\r\n        ListenToChanged (propd: DependencyProperty, func: (sender, args: IDependencyPropertyChangedEventArgs) => void, closure?: any): Providers.IPropertyChangedListener {\r\n            return propd.Store.ListenToChanged(this, propd, func, closure);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DependencyObject);\r\n\r\n    DependencyObject.DataContextProperty.Store = Fayde.Providers.DataContextStore.Instance;\r\n}","module Fayde {\r\n    export interface IUIReactionCallback<T> {\r\n        (updater: minerva.core.Updater, ov: T, nv: T, uie?: UIElement): void;\r\n    }\r\n\r\n    export function UIReaction<TValue>(propd: DependencyProperty, callback?: IUIReactionCallback<TValue>, listen?: boolean, sync?: (src: TValue, dest: TValue) => void, instance?: any);\r\n\r\n    export function UIReaction<TValue>(propd: DependencyProperty, callback?: IUIReactionCallback<TValue>, listen?: boolean, sync?: boolean, instance?: any);\r\n\r\n    export function UIReaction<TValue>(propd: DependencyProperty, callback?: IUIReactionCallback<TValue>, listen?: boolean, sync?: any, instance?: any) {\r\n        var changed: Function;\r\n        if (sync === false) {\r\n            changed = (listen === false) ? reaction<TValue>(callback) : lReaction<TValue>(callback);\r\n        } else {\r\n            var name = propd.Name;\r\n            name = name.charAt(0).toLowerCase() + name.substr(1);\r\n            if (typeof sync !== \"function\")\r\n                changed = (listen === false) ? sReaction<TValue>(callback, name) : slReaction<TValue>(callback, name);\r\n            else\r\n                changed = (listen === false) ? sReaction<TValue>(callback, name, sync) : slReaction<TValue>(callback, name, sync);\r\n        }\r\n        if (instance)\r\n            propd.Store.ListenToChanged(instance, propd, <any>changed, instance);\r\n        else\r\n            propd.ChangedCallback = <any>changed;\r\n    }\r\n\r\n    function reaction<T>(callback: IUIReactionCallback<T>) {\r\n        return (uie: UIElement, args: DependencyPropertyChangedEventArgs) => {\r\n            callback && callback(uie.XamlNode.LayoutUpdater, args.OldValue, args.NewValue, uie);\r\n        };\r\n    }\r\n\r\n    function sReaction<T>(callback: IUIReactionCallback<T>, name: string, syncer?: (src: T, dest: T) => void) {\r\n        return (uie: UIElement, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            var upd = uie.XamlNode.LayoutUpdater;\r\n            if (!syncer)\r\n                upd.assets[name] = nv;\r\n            else\r\n                syncer(nv, upd.assets[name]);\r\n            callback && callback(upd, ov, nv, uie);\r\n        };\r\n    }\r\n\r\n    function lReaction<T>(callback: IUIReactionCallback<T>) {\r\n        return (uie: UIElement, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            var upd = uie.XamlNode.LayoutUpdater;\r\n            UnreactTo(ov, uie);\r\n            callback && callback(upd, ov, nv, uie);\r\n            ReactTo(nv, uie, () => callback(upd, nv, nv, uie));\r\n        };\r\n    }\r\n\r\n    function slReaction<T>(callback: IUIReactionCallback<T>, name: string, syncer?: (src: T, dest: T) => void) {\r\n        return (uie: UIElement, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            var upd = uie.XamlNode.LayoutUpdater;\r\n            UnreactTo(ov, uie);\r\n            if (!syncer)\r\n                upd.assets[name] = nv;\r\n            else\r\n                syncer(nv, upd.assets[name]);\r\n            callback && callback(upd, ov, nv, uie);\r\n            ReactTo(nv, uie, () => callback && callback(upd, nv, nv, uie));\r\n        };\r\n    }\r\n}","module Fayde {\r\n    export function UIReactionAttached<TValue>(propd: DependencyProperty, callback?: IUIReactionCallback<TValue>) {\r\n        propd.ChangedCallback = reaction<TValue>(nullstone.getTypeName(propd.OwnerType) + '.' + propd.Name, callback);\r\n    }\r\n\r\n    function reaction<T>(name: string, callback?: IUIReactionCallback<T>) {\r\n        return (uie: UIElement, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            var upd = uie.XamlNode.LayoutUpdater;\r\n            upd.setAttachedValue(name, nv);\r\n            callback && callback(upd, ov, nv, uie);\r\n        };\r\n    }\r\n}","/// <reference path=\"PropertyStore.ts\" />\r\n\r\nmodule Fayde.Providers {\r\n    export interface IInheritedStorage extends IPropertyStorage {\r\n        InheritedValue: any;\r\n    }\r\n\r\n    export interface IIsPropertyInheritable {\r\n        IsInheritable(propd: DependencyProperty): boolean;\r\n    }\r\n\r\n    export class InheritedStore extends PropertyStore {\r\n        static Instance: InheritedStore;\r\n        GetValue(storage: IInheritedStorage): any {\r\n            var val: any;\r\n            if ((val = storage.Local) !== undefined)\r\n                return val;\r\n            if ((val = storage.LocalStyleValue) !== undefined)\r\n                return val;\r\n            if ((val = storage.ImplicitStyleValue) !== undefined)\r\n                return val;\r\n            if ((val = storage.InheritedValue) !== undefined)\r\n                return val;\r\n            return storage.Property.DefaultValue;\r\n        }\r\n        GetValuePrecedence(storage: IInheritedStorage): PropertyPrecedence {\r\n            var prec = super.GetValuePrecedence(storage);\r\n            if (prec < PropertyPrecedence.Inherited)\r\n                return prec;\r\n            if (storage.InheritedValue !== undefined)\r\n                return PropertyPrecedence.Inherited;\r\n            return PropertyPrecedence.DefaultValue;\r\n        }\r\n\r\n        OnPropertyChanged(storage: IPropertyStorage, effectivePrecedence: PropertyPrecedence, oldValue: any, newValue: any): IDependencyPropertyChangedEventArgs {\r\n            var args = super.OnPropertyChanged(storage, effectivePrecedence, oldValue, newValue);\r\n            if (effectivePrecedence <= PropertyPrecedence.Inherited)\r\n                this.Propagate(storage.OwnerNode, storage.Property, newValue);\r\n            return args;\r\n        }\r\n\r\n        CreateStorage(dobj: DependencyObject, propd: DependencyProperty): IInheritedStorage {\r\n            return {\r\n                OwnerNode: dobj.XamlNode,\r\n                Property: propd,\r\n                Precedence: PropertyPrecedence.DefaultValue,\r\n                Animations: undefined,\r\n                Local: undefined,\r\n                LocalStyleValue: undefined,\r\n                ImplicitStyleValue: undefined,\r\n                InheritedValue: undefined,\r\n                PropListeners: undefined,\r\n            };\r\n        }\r\n\r\n        static PropagateInheritedOnAdd(dobj: DependencyObject, subtreeNode: DONode) {\r\n            var destination = subtreeNode.XObject;\r\n            var store: InheritedStore = InheritedStore.Instance;\r\n            var arr = (<IPropertyStorageOwner>destination)._PropertyStorage;\r\n            var storage: IPropertyStorage;\r\n\r\n            var allProps = InheritableOwner.AllInheritedProperties;\r\n            var len = allProps.length;\r\n            var propd: DependencyProperty;\r\n            var newValue: any;\r\n            var sourceNode: XamlNode;\r\n            for (var i = 0; i < len; i++) {\r\n                propd = allProps[i];\r\n                sourceNode = dobj.XamlNode;\r\n                while (sourceNode && !((<IIsPropertyInheritable>sourceNode.XObject).IsInheritable(propd))) {\r\n                    sourceNode = sourceNode.ParentNode;\r\n                }\r\n                if (!sourceNode)\r\n                    continue;\r\n                newValue = (<DependencyObject>sourceNode.XObject).GetValue(propd);\r\n                if (newValue === propd.DefaultValue)\r\n                    continue;\r\n\r\n                storage = arr[propd._ID];\r\n                if (!storage) storage = arr[propd._ID] = store.CreateStorage(destination, propd);\r\n                if (!store.SetInheritedValue(subtreeNode, propd, newValue))\r\n                    store.Propagate(subtreeNode, propd, newValue);\r\n            }\r\n        }\r\n        static ClearInheritedOnRemove(dobj: DependencyObject, subtreeNode: DONode) {\r\n            var store: InheritedStore = InheritedStore.Instance;\r\n            var allProps = InheritableOwner.AllInheritedProperties;\r\n            var len = allProps.length;\r\n            var propd: DependencyProperty;\r\n            for (var i = 0; i < len; i++) {\r\n                propd = allProps[i];\r\n                if (!store.SetInheritedValue(subtreeNode, propd, undefined))\r\n                    store.Propagate(subtreeNode, propd, undefined);\r\n            }\r\n        }\r\n        private Propagate(ownerNode: XamlNode, propd: DependencyProperty, newValue: any) {\r\n            var enumerator = ownerNode.GetInheritedEnumerator();\r\n            var uin: UINode;\r\n            while (enumerator.moveNext()) {\r\n                uin = <UINode>enumerator.current;\r\n                if (!this.SetInheritedValue(uin, propd, newValue))\r\n                    this.Propagate(uin, propd, newValue);\r\n            }\r\n        }\r\n        private SetInheritedValue(don: DONode, propd: DependencyProperty, newValue: any): boolean {\r\n            /// Returns false if object doesn't understand this inheritable property\r\n            var dobj = don.XObject;\r\n            if (!(<IIsPropertyInheritable>dobj).IsInheritable(propd))\r\n                return false;\r\n            var storage = <IInheritedStorage>GetStorage(dobj, propd);\r\n            if (storage.Precedence < PropertyPrecedence.Inherited) {\r\n                //Overriden locally, don't propagate\r\n                storage.InheritedValue = newValue;\r\n                return true;\r\n            }\r\n            var oldValue = storage.InheritedValue;\r\n            if (oldValue === undefined) oldValue = propd.DefaultValue;\r\n            storage.InheritedValue = newValue;\r\n            storage.Precedence = PropertyPrecedence.Inherited;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.Inherited, oldValue, newValue);\r\n            return true;\r\n        }\r\n    }\r\n    InheritedStore.Instance = new InheritedStore();\r\n}","module Fayde {\r\n    export enum Orientation {\r\n        Horizontal = 0,\r\n        Vertical = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(Orientation, \"Orientation\");\r\n\r\n    export enum Visibility {\r\n        Visible = 0,\r\n        Collapsed = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(Visibility, \"Visibility\");\r\n    nullstone.registerEnumConverter(Visibility, function (val: any): any {\r\n        if (val === \"true\" || val === true || val === Visibility.Visible || val === \"Visible\")\r\n            return Visibility.Visible;\r\n        return Visibility.Collapsed;\r\n    });\r\n\r\n    export enum CursorType {\r\n        Default,\r\n        Hand,\r\n        IBeam,\r\n        Wait,\r\n        SizeNESW,\r\n        SizeNWSE,\r\n        SizeNS,\r\n        SizeWE\r\n        //TODO: Add cursor types\r\n    }\r\n    Fayde.CoreLibrary.addEnum(CursorType, \"CursorType\");\r\n    export var CursorTypeMappings = {\r\n        Default: \"\",\r\n        Hand: \"pointer\",\r\n        IBeam: \"text\",\r\n        Wait: \"wait\",\r\n        SizeNESW: \"ne-resize\",\r\n        SizeNWSE: \"nw-resize\",\r\n        SizeNS: \"n-resize\",\r\n        SizeWE: \"w-resize\"\r\n        //TODO: Add cursor types\r\n    }\r\n\r\n    export enum HorizontalAlignment {\r\n        Left = 0,\r\n        Center = 1,\r\n        Right = 2,\r\n        Stretch = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(HorizontalAlignment, \"HorizontalAlignment\");\r\n\r\n    export enum VerticalAlignment {\r\n        Top = 0,\r\n        Center = 1,\r\n        Bottom = 2,\r\n        Stretch = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(VerticalAlignment, \"VerticalAlignment\");\r\n\r\n    export enum FlowDirection {\r\n        LeftToRight = 0,\r\n        RightToLeft = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(FlowDirection, \"FlowDirection\");\r\n\r\n    export enum FontWeight {\r\n        Thin = 100,\r\n        ExtraLight = 200,\r\n        Light = 300,\r\n        Normal = 400,\r\n        Medium = 500,\r\n        SemiBold = 600,\r\n        Bold = 700,\r\n        ExtraBold = 800,\r\n        Black = 900,\r\n        ExtraBlack = 950,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(FontWeight, \"FontWeight\");\r\n\r\n    export enum TextAlignment {\r\n        Left = 0,\r\n        Center = 1,\r\n        Right = 2,\r\n        Justify = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(TextAlignment, \"TextAlignment\");\r\n\r\n    //FLAGS\r\n    export enum TextDecorations {\r\n        None = 0,\r\n        Underline = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(TextDecorations, \"TextDecorations\");\r\n\r\n    export enum LineStackingStrategy {\r\n        MaxHeight = 0,\r\n        BlockLineHeight = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(LineStackingStrategy, \"LineStackingStrategy\");\r\n}","module Fayde {\r\n    export var FontStyle = minerva.FontStyle;\r\n    export var FontStretch = minerva.FontStretch;\r\n    Fayde.CoreLibrary.addEnum(FontStretch, \"FontStretch\");\r\n    export var Font = minerva.Font;\r\n    Fayde.CoreLibrary.add(minerva.Font);\r\n}","/// <reference path=\"UIReaction.ts\" />\r\n/// <reference path=\"Providers/InheritedStore.ts\" />\r\n/// <reference path=\"../Primitives/Font.ts\" />\r\n\r\nmodule Fayde {\r\n    export class InheritableOwner {\r\n        static UseLayoutRoundingProperty = DependencyProperty.RegisterInheritable(\"UseLayoutRounding\", () => Boolean, InheritableOwner, true);\r\n        static FlowDirectionProperty = DependencyProperty.RegisterInheritable(\"FlowDirection\", () => new Enum(minerva.FlowDirection), InheritableOwner, minerva.FlowDirection.LeftToRight);\r\n\r\n        static ForegroundProperty = DependencyProperty.RegisterInheritable(\"Foreground\", () => Media.Brush, InheritableOwner);\r\n        static FontFamilyProperty = DependencyProperty.RegisterInheritable(\"FontFamily\", () => String, InheritableOwner, Font.DEFAULT_FAMILY);\r\n        static FontSizeProperty = DependencyProperty.RegisterInheritable(\"FontSize\", () => Number, InheritableOwner, Font.DEFAULT_SIZE);\r\n        static FontStretchProperty = DependencyProperty.RegisterInheritable(\"FontStretch\", () => String, InheritableOwner, Font.DEFAULT_STRETCH);\r\n        static FontStyleProperty = DependencyProperty.RegisterInheritable(\"FontStyle\", () => String, InheritableOwner, Font.DEFAULT_STYLE);\r\n        static FontWeightProperty = DependencyProperty.RegisterInheritable(\"FontWeight\", () => new Enum(FontWeight), InheritableOwner, Font.DEFAULT_WEIGHT);\r\n        static TextDecorationsProperty = DependencyProperty.RegisterInheritable(\"TextDecorations\", () => new Enum(TextDecorations), InheritableOwner, TextDecorations.None);\r\n        static LanguageProperty = DependencyProperty.RegisterInheritable(\"Language\", () => String, InheritableOwner);\r\n\r\n        static AllInheritedProperties: DependencyProperty[];\r\n    }\r\n    InheritableOwner.AllInheritedProperties = [\r\n        InheritableOwner.ForegroundProperty,\r\n        InheritableOwner.FontFamilyProperty,\r\n        InheritableOwner.FontStretchProperty,\r\n        InheritableOwner.FontStyleProperty,\r\n        InheritableOwner.FontWeightProperty,\r\n        InheritableOwner.FontSizeProperty,\r\n        InheritableOwner.LanguageProperty,\r\n        InheritableOwner.FlowDirectionProperty,\r\n        InheritableOwner.UseLayoutRoundingProperty,\r\n        InheritableOwner.TextDecorationsProperty\r\n    ];\r\n    Fayde.CoreLibrary.add(InheritableOwner);\r\n\r\n    module reactions {\r\n        UIReaction<boolean>(InheritableOwner.UseLayoutRoundingProperty, minerva.core.reactTo.useLayoutRounding, false);\r\n        UIReaction<minerva.FlowDirection>(InheritableOwner.FlowDirectionProperty, minerva.core.reactTo.flowDirection, false);\r\n    }\r\n}","/// <reference path=\"DependencyObject.ts\" />\r\n/// <reference path=\"UIReaction.ts\" />\r\n/// <reference path=\"UIReactionAttached.ts\" />\r\n/// <reference path=\"Providers/InheritedStore.ts\" />\r\n/// <reference path=\"Enums.ts\" />\r\n/// <reference path=\"InheritableOwner.ts\" />\r\n\r\nmodule Fayde {\r\n    export class UINode extends DONode {\r\n        XObject: UIElement;\r\n        LayoutUpdater: minerva.core.Updater;\r\n        IsMouseOver: boolean = false;\r\n\r\n        constructor(xobj: UIElement) {\r\n            super(xobj);\r\n            var upd = this.LayoutUpdater = xobj.CreateLayoutUpdater();\r\n            upd.setAttachedValue(\"$node\", this);\r\n            upd.setAttachedValue(\"$id\", (<any>this.XObject)._ID);\r\n        }\r\n\r\n        VisualParentNode: UINode;\r\n        GetVisualRoot(): UINode {\r\n            var curNode = this;\r\n            var vpNode: UINode;\r\n            while (vpNode = curNode.VisualParentNode) {\r\n                curNode = vpNode;\r\n            }\r\n            return curNode;\r\n        }\r\n\r\n        IsLoaded: boolean = false;\r\n        SetIsLoaded(value: boolean) { }\r\n\r\n        OnVisualChildAttached(uie: UIElement) {\r\n            var un = uie.XamlNode;\r\n            Providers.InheritedStore.PropagateInheritedOnAdd(this.XObject, un);\r\n            un.SetVisualParentNode(this);\r\n        }\r\n        OnVisualChildDetached(uie: UIElement) {\r\n            var un = uie.XamlNode;\r\n            un.SetVisualParentNode(null);\r\n            Providers.InheritedStore.ClearInheritedOnRemove(this.XObject, un);\r\n        }\r\n\r\n        private SetVisualParentNode(visualParentNode: UINode) {\r\n            if (this.VisualParentNode === visualParentNode)\r\n                return;\r\n            this.VisualParentNode = visualParentNode;\r\n            this.LayoutUpdater.setVisualParent(visualParentNode ? visualParentNode.LayoutUpdater : null);\r\n        }\r\n\r\n        Focus(recurse?: boolean): boolean { return false; }\r\n\r\n        _EmitFocusChange(type: string) {\r\n            if (type === \"got\")\r\n                this._EmitGotFocus();\r\n            else if (type === \"lost\")\r\n                this._EmitLostFocus();\r\n        }\r\n        private _EmitLostFocus() {\r\n            var e = new Fayde.RoutedEventArgs();\r\n            var x = this.XObject;\r\n            x.OnLostFocus(e);\r\n            x.LostFocus.raise(x, e);\r\n        }\r\n        private _EmitGotFocus() {\r\n            var e = new Fayde.RoutedEventArgs();\r\n            var x = this.XObject;\r\n            x.OnGotFocus(e);\r\n            x.GotFocus.raise(x, e);\r\n        }\r\n        _EmitKeyDown(args: Fayde.Input.KeyEventArgs) {\r\n            var x = this.XObject;\r\n            x.OnKeyDown(args);\r\n            x.KeyDown.raise(x, args);\r\n        }\r\n        _EmitKeyUp(args: Fayde.Input.KeyEventArgs) {\r\n            var x = this.XObject;\r\n            x.OnKeyUp(args);\r\n            x.KeyUp.raise(x, args);\r\n        }\r\n        _EmitLostMouseCapture(pos: Point) {\r\n            var x = this.XObject;\r\n            var e = new Input.MouseEventArgs(pos);\r\n            x.OnLostMouseCapture(e);\r\n            x.LostMouseCapture.raise(x, e);\r\n        }\r\n        _EmitMouseEvent(type: Input.MouseInputType, isLeftButton: boolean, isRightButton: boolean, args: Input.MouseEventArgs): boolean {\r\n            var x = this.XObject;\r\n            switch (type) {\r\n                case Input.MouseInputType.MouseUp:\r\n                    if (isLeftButton) {\r\n                        x.OnMouseLeftButtonUp(<Input.MouseButtonEventArgs>args);\r\n                        x.MouseLeftButtonUp.raise(x, args);\r\n                    } else if (isRightButton) {\r\n                        x.OnMouseRightButtonUp(<Input.MouseButtonEventArgs>args);\r\n                        x.MouseRightButtonUp.raise(x, args);\r\n                    }\r\n                    break;\r\n                case Input.MouseInputType.MouseDown:\r\n                    if (isLeftButton) {\r\n                        x.OnMouseLeftButtonDown(<Input.MouseButtonEventArgs>args);\r\n                        x.MouseLeftButtonDown.raise(x, args);\r\n                    } else if (isRightButton) {\r\n                        x.OnMouseRightButtonDown(<Input.MouseButtonEventArgs>args);\r\n                        x.MouseRightButtonDown.raise(x, args);\r\n                    }\r\n                    break;\r\n                case Input.MouseInputType.MouseLeave:\r\n                    this.IsMouseOver = false;\r\n                    x.OnMouseLeave(args);\r\n                    x.MouseLeave.raise(x, args);\r\n                    break;\r\n                case Input.MouseInputType.MouseEnter:\r\n                    this.IsMouseOver = true;\r\n                    x.OnMouseEnter(args);\r\n                    x.MouseEnter.raise(x, args);\r\n                    break;\r\n                case Input.MouseInputType.MouseMove:\r\n                    x.OnMouseMove(args);\r\n                    x.MouseMove.raise(x, args);\r\n                    break;\r\n                case Input.MouseInputType.MouseWheel:\r\n                    x.OnMouseWheel(<Input.MouseWheelEventArgs>args);\r\n                    x.MouseWheel.raise(x, <Input.MouseWheelEventArgs>args);\r\n                    break;\r\n                default:\r\n                    return false;\r\n            }\r\n            return args.Handled;\r\n        }\r\n        _EmitTouchEvent(type: Input.TouchInputType, args: Input.TouchEventArgs) {\r\n            var x = this.XObject;\r\n            switch (type) {\r\n                case Input.TouchInputType.TouchDown:\r\n                    x.OnTouchDown(args);\r\n                    x.TouchDown.raise(x, args);\r\n                    break;\r\n                case Input.TouchInputType.TouchUp:\r\n                    x.OnTouchUp(args);\r\n                    x.TouchUp.raise(x, args);\r\n                    break;\r\n                case Input.TouchInputType.TouchMove:\r\n                    x.OnTouchMove(args);\r\n                    x.TouchMove.raise(x, args);\r\n                    break;\r\n                case Input.TouchInputType.TouchEnter:\r\n                    x.OnTouchEnter(args);\r\n                    x.TouchEnter.raise(x, args);\r\n                    break;\r\n                case Input.TouchInputType.TouchLeave:\r\n                    x.OnTouchLeave(args);\r\n                    x.TouchLeave.raise(x, args);\r\n                    break;\r\n                default:\r\n                    return false;\r\n            }\r\n            return args.Handled;\r\n        }\r\n        _EmitGotTouchCapture(e: Input.TouchEventArgs) {\r\n            var x = this.XObject;\r\n            x.OnGotTouchCapture(e);\r\n            x.GotTouchCapture.raise(this, e);\r\n        }\r\n        _EmitLostTouchCapture(e: Input.TouchEventArgs) {\r\n            var x = this.XObject;\r\n            x.OnLostTouchCapture(e);\r\n            x.LostTouchCapture.raise(this, e);\r\n        }\r\n\r\n        CanCaptureMouse(): boolean { return true; }\r\n        CaptureMouse(): boolean {\r\n            if (!this.IsAttached)\r\n                return false;\r\n            Surface.SetMouseCapture(this);\r\n            return true;\r\n        }\r\n        ReleaseMouseCapture() {\r\n            if (!this.IsAttached)\r\n                return;\r\n            Surface.ReleaseMouseCapture(this);\r\n        }\r\n\r\n        IsAncestorOf(uin: UINode) {\r\n            var vpNode = uin;\r\n            while (vpNode && vpNode !== this)\r\n                vpNode = vpNode.VisualParentNode;\r\n            return vpNode === this;\r\n        }\r\n\r\n        TransformToVisual (uin?: UINode): Media.GeneralTransform {\r\n            var raw = minerva.core.Updater.transformToVisual(this.LayoutUpdater, uin ? uin.LayoutUpdater : null);\r\n            if (!raw)\r\n                throw new ArgumentException(\"UIElement not attached.\");\r\n            var mt = new Media.MatrixTransform();\r\n            mt.SetCurrentValue(Media.MatrixTransform.MatrixProperty, new Media.Matrix(raw));\r\n            return mt;\r\n        }\r\n    }\r\n\r\n    export class UIElement extends DependencyObject implements Providers.IIsPropertyInheritable {\r\n        XamlNode: UINode;\r\n        CreateNode(): UINode { return new UINode(this); }\r\n        CreateLayoutUpdater(): minerva.core.Updater { return new minerva.core.Updater(); }\r\n\r\n        get IsItemsControl(): boolean { return false; }\r\n\r\n        get VisualParent() {\r\n            var vpNode = this.XamlNode.VisualParentNode;\r\n            if (vpNode) return vpNode.XObject;\r\n            return undefined;\r\n        }\r\n\r\n        static AllowDropProperty: DependencyProperty;\r\n        static CacheModeProperty: DependencyProperty;\r\n        static ClipProperty = DependencyProperty.RegisterCore(\"Clip\", () => Media.Geometry, UIElement);\r\n        static EffectProperty = DependencyProperty.Register(\"Effect\", () => Media.Effects.Effect, UIElement);\r\n        static IsHitTestVisibleProperty = DependencyProperty.RegisterCore(\"IsHitTestVisible\", () => Boolean, UIElement, true);\r\n        static OpacityMaskProperty = DependencyProperty.RegisterCore(\"OpacityMask\", () => Media.Brush, UIElement);\r\n        static OpacityProperty = DependencyProperty.RegisterCore(\"Opacity\", () => Number, UIElement, 1.0);\r\n        static RenderTransformProperty = DependencyProperty.RegisterCore(\"RenderTransform\", () => Media.Transform, UIElement);\r\n        static RenderTransformOriginProperty = DependencyProperty.Register(\"RenderTransformOrigin\", () => Point, UIElement);\r\n        static TagProperty = DependencyProperty.Register(\"Tag\", () => Object, UIElement);\r\n        static TriggersProperty: DependencyProperty = DependencyProperty.RegisterCore(\"Triggers\", () => TriggerCollection, UIElement, undefined, (d, args) => (<UIElement>d)._TriggersChanged(args));\r\n        static UseLayoutRoundingProperty = InheritableOwner.UseLayoutRoundingProperty.ExtendTo(UIElement);\r\n        static VisibilityProperty = DependencyProperty.RegisterCore(\"Visibility\", () => new Enum(Visibility), UIElement, Visibility.Visible);\r\n\r\n        IsInheritable(propd: DependencyProperty): boolean {\r\n            return propd === UIElement.UseLayoutRoundingProperty;\r\n        }\r\n\r\n        get IsMouseOver() { return this.XamlNode.IsMouseOver; }\r\n        get DesiredSize(): minerva.Size {\r\n            var ds = this.XamlNode.LayoutUpdater.assets.desiredSize;\r\n            return new minerva.Size(ds.width, ds.height);\r\n        }\r\n        get RenderSize(): minerva.Size {\r\n            var ds = this.XamlNode.LayoutUpdater.assets.renderSize;\r\n            return new minerva.Size(ds.width, ds.height);\r\n        }\r\n\r\n        //AllowDrop: boolean;\r\n        //CacheMode;\r\n        Clip: Media.Geometry;\r\n        Effect: Media.Effects.Effect;\r\n        IsHitTestVisible: boolean;\r\n        Cursor: CursorType;\r\n        OpacityMask: Media.Brush;\r\n        Opacity: number;\r\n        //Projection: Media.Projection;\r\n        RenderTransform: Media.Transform;\r\n        RenderTransformOrigin: Point;\r\n        Tag: any;\r\n        Triggers: TriggerCollection;\r\n        UseLayoutRounding: boolean;\r\n        Visibility: Visibility;\r\n\r\n        Focus(): boolean { return this.XamlNode.Focus(); }\r\n        CaptureMouse():boolean { return this.XamlNode.CaptureMouse(); }\r\n        ReleaseMouseCapture() { this.XamlNode.ReleaseMouseCapture(); }\r\n\r\n        IsAncestorOf(uie: UIElement): boolean {\r\n            if (!uie) return false;\r\n            return this.XamlNode.IsAncestorOf(uie.XamlNode);\r\n        }\r\n        TransformToVisual(uie: UIElement): Media.GeneralTransform {\r\n            var uin = (uie) ? uie.XamlNode : null;\r\n            return this.XamlNode.TransformToVisual(uin);\r\n        }\r\n\r\n        InvalidateMeasure() { this.XamlNode.LayoutUpdater.invalidateMeasure(); }\r\n        Measure(availableSize: minerva.Size) {\r\n            this.XamlNode.LayoutUpdater.measure(availableSize);\r\n        }\r\n        InvalidateArrange() { this.XamlNode.LayoutUpdater.invalidateArrange(); }\r\n        Arrange(finalRect: minerva.Rect) {\r\n            this.XamlNode.LayoutUpdater.arrange(finalRect);\r\n        }\r\n\r\n        LostFocus = new RoutedEvent<RoutedEventArgs>();\r\n        GotFocus = new RoutedEvent<RoutedEventArgs>();\r\n        LostMouseCapture = new RoutedEvent<Input.MouseEventArgs>();\r\n        KeyDown = new RoutedEvent<Input.KeyEventArgs>();\r\n        KeyUp = new RoutedEvent<Input.KeyEventArgs>();\r\n        MouseLeftButtonUp = new RoutedEvent<Input.MouseButtonEventArgs>();\r\n        MouseRightButtonUp = new RoutedEvent<Input.MouseButtonEventArgs>();\r\n        MouseLeftButtonDown = new RoutedEvent<Input.MouseButtonEventArgs>();\r\n        MouseRightButtonDown = new RoutedEvent<Input.MouseButtonEventArgs>();\r\n        MouseLeave = new RoutedEvent<Input.MouseEventArgs>();\r\n        MouseEnter = new RoutedEvent<Input.MouseEventArgs>();\r\n        MouseMove = new RoutedEvent<Input.MouseEventArgs>();\r\n        MouseWheel = new RoutedEvent<Input.MouseWheelEventArgs>();\r\n        TouchDown = new RoutedEvent<Input.TouchEventArgs>();\r\n        TouchUp = new RoutedEvent<Input.TouchEventArgs>();\r\n        TouchEnter = new RoutedEvent<Input.TouchEventArgs>();\r\n        TouchLeave = new RoutedEvent<Input.TouchEventArgs>();\r\n        TouchMove = new RoutedEvent<Input.TouchEventArgs>();\r\n        GotTouchCapture = new RoutedEvent<Input.TouchEventArgs>();\r\n        LostTouchCapture = new RoutedEvent<Input.TouchEventArgs>();\r\n\r\n        OnGotFocus(e: RoutedEventArgs) { }\r\n        OnLostFocus(e: RoutedEventArgs) { }\r\n        OnLostMouseCapture(e: Input.MouseEventArgs) { }\r\n        OnKeyDown(e: Input.KeyEventArgs) { }\r\n        OnKeyUp(e: Input.KeyEventArgs) { }\r\n        OnMouseEnter(e: Input.MouseEventArgs) { }\r\n        OnMouseLeave(e: Input.MouseEventArgs) { }\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) { }\r\n        OnMouseLeftButtonUp(e: Input.MouseButtonEventArgs) { }\r\n        OnMouseMove(e: Input.MouseEventArgs) { }\r\n        OnMouseRightButtonDown(e: Input.MouseButtonEventArgs) { }\r\n        OnMouseRightButtonUp(e: Input.MouseButtonEventArgs) { }\r\n        OnMouseWheel(e: Input.MouseWheelEventArgs) { }\r\n        OnTouchDown(e: Input.TouchEventArgs) { }\r\n        OnTouchUp(e: Input.TouchEventArgs) { }\r\n        OnTouchEnter(e: Input.TouchEventArgs) { }\r\n        OnTouchLeave(e: Input.TouchEventArgs) { }\r\n        OnTouchMove(e: Input.TouchEventArgs) { }\r\n        OnGotTouchCapture(e: Input.TouchEventArgs) { }\r\n        OnLostTouchCapture(e: Input.TouchEventArgs) { }\r\n\r\n        private _TriggersChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var oldTriggers = <TriggerCollection>args.OldValue;\r\n            var newTriggers = <TriggerCollection>args.NewValue;\r\n            if (oldTriggers instanceof TriggerCollection)\r\n                oldTriggers.DetachTarget(this);\r\n            if (newTriggers instanceof TriggerCollection)\r\n                newTriggers.AttachTarget(this);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(UIElement);\r\n\r\n    module reactions {\r\n        UIReaction<minerva.IGeometry>(UIElement.ClipProperty, minerva.core.reactTo.clip);\r\n        UIReaction<minerva.IEffect>(UIElement.EffectProperty, minerva.core.reactTo.effect);\r\n        UIReaction<boolean>(UIElement.IsHitTestVisibleProperty, minerva.core.reactTo.isHitTestVisible, false);\r\n        UIReaction<number>(UIElement.OpacityProperty, minerva.core.reactTo.opacity, false);\r\n        UIReaction<Media.Transform>(UIElement.RenderTransformProperty, minerva.core.reactTo.renderTransform);\r\n        UIReaction<minerva.Point>(UIElement.RenderTransformOriginProperty, minerva.core.reactTo.renderTransformOrigin, false, minerva.Point.copyTo);\r\n        UIReaction<minerva.Visibility>(UIElement.VisibilityProperty, (upd, ov, nv, uie?) => {\r\n            minerva.core.reactTo.visibility(upd, ov, nv);\r\n            Surface.RemoveFocusFrom(uie);\r\n        }, false);\r\n    }\r\n}","/// <reference path=\"PropertyStore.ts\" />\r\n\r\nmodule Fayde.Providers {\r\n    export class ResourcesStore extends PropertyStore {\r\n        static Instance: ResourcesStore;\r\n\r\n        GetValue (storage: IPropertyStorage): ResourceDictionary {\r\n            if (storage.Local !== undefined)\r\n                return storage.Local;\r\n            var rd = storage.Local = new ResourceDictionary();\r\n            rd.AttachTo(storage.OwnerNode.XObject);\r\n            return rd;\r\n        }\r\n\r\n        GetValuePrecedence (storage: IPropertyStorage): PropertyPrecedence {\r\n            return PropertyPrecedence.LocalValue;\r\n        }\r\n\r\n        SetLocalValue (storage: Providers.IPropertyStorage, newValue: number) {\r\n            console.warn(\"Cannot set Resources.\");\r\n        }\r\n\r\n        SetLocalStyleValue (storage: IPropertyStorage, newValue: any) {\r\n        }\r\n\r\n        SetImplicitStyle (storage: IPropertyStorage, newValue: any) {\r\n        }\r\n\r\n        ClearValue (storage: Providers.IPropertyStorage, notifyListeners?: boolean) {\r\n        }\r\n    }\r\n    ResourcesStore.Instance = new ResourcesStore();\r\n}","/// <reference path=\"PropertyStore.ts\" />\r\n\r\nmodule Fayde.Providers {\r\n    export class ActualSizeStore extends PropertyStore {\r\n        static Instance: ActualSizeStore;\r\n\r\n        GetValue(storage: IPropertyStorage): number {\r\n            if (storage.Local !== undefined)\r\n                return storage.Local;\r\n            return 0.0;\r\n        }\r\n        GetValuePrecedence(storage: IPropertyStorage): PropertyPrecedence { return PropertyPrecedence.LocalValue; }\r\n\r\n        SetLocalValue(storage: Providers.IPropertyStorage, newValue: number) {\r\n            var oldValue = storage.Local;\r\n            storage.Local = newValue;\r\n            if (oldValue === newValue)\r\n                return;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.LocalValue, oldValue, newValue);\r\n        }\r\n        SetLocalStyleValue(storage: IPropertyStorage, newValue: any) { }\r\n        SetImplicitStyle(storage: IPropertyStorage, newValue: any) { }\r\n\r\n        ClearValue(storage: Providers.IPropertyStorage, notifyListeners?: boolean) { }\r\n    }\r\n    ActualSizeStore.Instance = new ActualSizeStore();\r\n}","/// <reference path=\"UIElement.ts\" />\r\n/// <reference path=\"Providers/ResourcesStore.ts\" />\r\n/// <reference path=\"Providers/ActualSizeStore.ts\" />\r\n\r\nmodule Fayde {\r\n    export class FENode extends UINode implements Providers.IStyleHolder, Providers.IImplicitStyleHolder {\r\n        _LocalStyle: Style;\r\n        _ImplicitStyles: Style[];\r\n        _StyleMask: number;\r\n\r\n        XObject: FrameworkElement;\r\n        constructor(xobj: FrameworkElement) {\r\n            super(xobj);\r\n            var lu = this.LayoutUpdater;\r\n            lu.tree.setTemplateApplier(() => {\r\n                var error = new BError();\r\n                var result = this.ApplyTemplateWithError(error);\r\n                if (error.Message)\r\n                    error.ThrowException();\r\n                return result;\r\n            });\r\n            lu.setSizeUpdater({\r\n                setActualWidth (value: number) {\r\n                    xobj.SetCurrentValue(FrameworkElement.ActualWidthProperty, value);\r\n                },\r\n                setActualHeight (value: number) {\r\n                    xobj.SetCurrentValue(FrameworkElement.ActualHeightProperty, value);\r\n                },\r\n                onSizeChanged (oldSize: minerva.Size, newSize: minerva.Size) {\r\n                    xobj.SizeChanged.raise(xobj, new SizeChangedEventArgs(oldSize, newSize));\r\n                }\r\n            });\r\n        }\r\n        SubtreeNode: XamlNode;\r\n        SetSubtreeNode(subtreeNode: XamlNode, error: BError): boolean {\r\n            if (this.SubtreeNode) {\r\n                this.SubtreeNode.Detach();\r\n                this.SubtreeNode = null;\r\n            }\r\n            if (subtreeNode && !subtreeNode.AttachTo(this, error))\r\n                return false;\r\n            this.SubtreeNode = subtreeNode;\r\n            return true;\r\n        }\r\n\r\n        GetInheritedEnumerator(): nullstone.IEnumerator<DONode> {\r\n            return this.GetVisualTreeEnumerator();\r\n        }\r\n\r\n        GetVisualTreeEnumerator(): nullstone.IEnumerator<FENode> {\r\n            var walker = this.LayoutUpdater.tree.walk();\r\n            return {\r\n                current: undefined,\r\n                moveNext: function() {\r\n                    if (!walker.step())\r\n                        return false;\r\n                    this.current = walker.current.getAttachedValue(\"$node\");\r\n                    return true;\r\n                }\r\n            };\r\n        }\r\n\r\n        SetIsLoaded(value: boolean) {\r\n            if (this.IsLoaded === value)\r\n                return;\r\n            this.IsLoaded = value;\r\n            this.OnIsLoadedChanged(value);\r\n        }\r\n        OnIsLoadedChanged(newIsLoaded: boolean) {\r\n            var xobj = this.XObject;\r\n            var res = xobj.Resources;\r\n            if (!newIsLoaded) {\r\n                Providers.ImplicitStyleBroker.Clear(xobj, Providers.StyleMask.VisualTree);\r\n                xobj.Unloaded.raise(xobj, new RoutedEventArgs());\r\n                //TODO: Should we set is loaded on resources that are FrameworkElements?\r\n            } else {\r\n                Providers.ImplicitStyleBroker.Set(xobj, Providers.StyleMask.All);\r\n            }\r\n            for (var en = this.GetVisualTreeEnumerator(); en.moveNext();) {\r\n                en.current.SetIsLoaded(newIsLoaded);\r\n            }\r\n            if (newIsLoaded) {\r\n                //TODO: Should we set is loaded on resources that are FrameworkElements?\r\n                xobj.Loaded.raise(xobj, new RoutedEventArgs());\r\n                this.InvokeLoaded();\r\n                //LOOKS USELESS: \r\n                //Providers.DataContextStore.EmitDataContextChanged(xobj);\r\n            }\r\n        }\r\n        InvokeLoaded() { }\r\n\r\n        AttachVisualChild(uie: UIElement, error: BError): boolean {\r\n            this.OnVisualChildAttached(uie);\r\n            if (!this.SetSubtreeNode(uie.XamlNode, error))\r\n                return false;\r\n            uie.XamlNode.SetIsLoaded(this.IsLoaded);\r\n            return true;\r\n        }\r\n        DetachVisualChild(uie: UIElement, error: BError) {\r\n            if (!this.SetSubtreeNode(null, error))\r\n                return false;\r\n            this.OnVisualChildDetached(uie);\r\n            uie.XamlNode.SetIsLoaded(false);\r\n            return true;\r\n        }\r\n\r\n        ApplyTemplateWithError(error: BError): boolean {\r\n            if (this.SubtreeNode)\r\n                return false;\r\n            var result = this.DoApplyTemplateWithError(error);\r\n            var xobj = this.XObject;\r\n            if (result)\r\n                xobj.OnApplyTemplate();\r\n            xobj.TemplateApplied.raise(xobj, null);\r\n            return result;\r\n        }\r\n        DoApplyTemplateWithError(error: BError): boolean { return false; }\r\n        FinishApplyTemplateWithError(uie: UIElement, error: BError): boolean {\r\n            if (!uie || error.Message)\r\n                return false;\r\n            this.AttachVisualChild(uie, error);\r\n            return error.Message == null;\r\n        }\r\n\r\n        UpdateLayout() {\r\n            console.warn(\"FENode.UpdateLayout not implemented\");\r\n        }\r\n\r\n        static DetachFromVisualParent (xobj: UIElement) {\r\n            var vpNode = <FENode>xobj.XamlNode.VisualParentNode;\r\n            if (vpNode instanceof FENode) {\r\n                var err = new BError();\r\n                vpNode.DetachVisualChild(xobj, err);\r\n                if (err.Message)\r\n                    err.ThrowException();\r\n            }\r\n        }\r\n    }\r\n\r\n    export class FrameworkElement extends UIElement implements IResourcable, Providers.IIsPropertyInheritable {\r\n        XamlNode: FENode;\r\n        CreateNode(): FENode { return new FENode(this); }\r\n\r\n        static ActualHeightProperty = DependencyProperty.RegisterReadOnly(\"ActualHeight\", () => Number, FrameworkElement);\r\n        static ActualWidthProperty = DependencyProperty.RegisterReadOnly(\"ActualWidth\", () => Number, FrameworkElement);\r\n        static CursorProperty = DependencyProperty.Register(\"Cursor\", () => new Enum(CursorType), FrameworkElement, CursorType.Default);\r\n        static FlowDirectionProperty = InheritableOwner.FlowDirectionProperty.ExtendTo(FrameworkElement);\r\n        static HeightProperty = DependencyProperty.Register(\"Height\", () => Length, FrameworkElement, NaN);\r\n        static HorizontalAlignmentProperty = DependencyProperty.Register(\"HorizontalAlignment\", () => new Enum(HorizontalAlignment), FrameworkElement, HorizontalAlignment.Stretch);\r\n        static LanguageProperty = InheritableOwner.LanguageProperty.ExtendTo(FrameworkElement);\r\n        static MarginProperty = DependencyProperty.RegisterCore(\"Margin\", () => Thickness, FrameworkElement);\r\n        static MaxHeightProperty = DependencyProperty.Register(\"MaxHeight\", () => Number, FrameworkElement, Number.POSITIVE_INFINITY);\r\n        static MaxWidthProperty = DependencyProperty.Register(\"MaxWidth\", () => Number, FrameworkElement, Number.POSITIVE_INFINITY);\r\n        static MinHeightProperty = DependencyProperty.Register(\"MinHeight\", () => Number, FrameworkElement, 0.0);\r\n        static MinWidthProperty = DependencyProperty.Register(\"MinWidth\", () => Number, FrameworkElement, 0.0);\r\n        static StyleProperty = DependencyProperty.Register(\"Style\", () => Style, FrameworkElement, undefined, (dobj, args) => Providers.LocalStyleBroker.Set(<FrameworkElement>dobj, args.NewValue));\r\n        static VerticalAlignmentProperty = DependencyProperty.Register(\"VerticalAlignment\", () => new Enum(VerticalAlignment), FrameworkElement, VerticalAlignment.Stretch);\r\n        static WidthProperty = DependencyProperty.Register(\"Width\", () => Length, FrameworkElement, NaN);\r\n        static ResourcesProperty = DependencyProperty.Register(\"Resources\", () => ResourceDictionary, FrameworkElement);\r\n        static DefaultStyleKeyProperty = DependencyProperty.Register(\"DefaultStyleKey\", () => Function, FrameworkElement);\r\n\r\n        IsInheritable(propd: DependencyProperty): boolean {\r\n            if (propd === FrameworkElement.FlowDirectionProperty)\r\n                return true;\r\n            if (propd === FrameworkElement.LanguageProperty)\r\n                return true;\r\n            return super.IsInheritable(propd);\r\n        }\r\n\r\n        ActualHeight: number;\r\n        ActualWidth: number;\r\n        FlowDirection: FlowDirection;\r\n        Height: number;\r\n        HorizontalAlignment: HorizontalAlignment;\r\n        Language: string;\r\n        Margin: Thickness;\r\n        MaxWidth: number;\r\n        MaxHeight: number;\r\n        MinWidth: number;\r\n        MinHeight: number;\r\n        Style: Style;\r\n        VerticalAlignment: VerticalAlignment;\r\n        Width: number;\r\n        Resources: ResourceDictionary;\r\n        DefaultStyleKey: Function;\r\n\r\n        SizeChanged = new RoutedEvent<RoutedEventArgs>();\r\n        Loaded = new RoutedEvent<RoutedEventArgs>();\r\n        Unloaded = new RoutedEvent<RoutedEventArgs>();\r\n        LayoutUpdated = new nullstone.Event<nullstone.IEventArgs>();\r\n\r\n        OnApplyTemplate() { }\r\n        TemplateApplied = new nullstone.Event<nullstone.IEventArgs>();\r\n\r\n        OnBindingValidationError (args: Validation.ValidationErrorEventArgs) {\r\n            this.BindingValidationError.raise(this, args);\r\n        }\r\n        BindingValidationError = new nullstone.Event<Validation.ValidationErrorEventArgs>();\r\n\r\n        UpdateLayout() { this.XamlNode.UpdateLayout(); }\r\n    }\r\n    Fayde.CoreLibrary.add(FrameworkElement);\r\n\r\n    FrameworkElement.ActualWidthProperty.Store = Providers.ActualSizeStore.Instance;\r\n    FrameworkElement.ActualHeightProperty.Store = Providers.ActualSizeStore.Instance;\r\n    FrameworkElement.ResourcesProperty.Store = Providers.ResourcesStore.Instance;\r\n\r\n    module reactions {\r\n        UIReaction<number>(FrameworkElement.WidthProperty, minerva.core.reactTo.width, false);\r\n        UIReaction<number>(FrameworkElement.HeightProperty, minerva.core.reactTo.height, false);\r\n        UIReaction<number>(FrameworkElement.MaxWidthProperty, minerva.core.reactTo.maxWidth, false);\r\n        UIReaction<number>(FrameworkElement.MaxHeightProperty, minerva.core.reactTo.maxHeight, false);\r\n        UIReaction<number>(FrameworkElement.MinWidthProperty, minerva.core.reactTo.minWidth, false);\r\n        UIReaction<number>(FrameworkElement.MinHeightProperty, minerva.core.reactTo.minHeight, false);\r\n        UIReaction<Thickness>(FrameworkElement.MarginProperty, minerva.core.reactTo.margin, false, minerva.Thickness.copyTo);\r\n        UIReaction<minerva.HorizontalAlignment>(FrameworkElement.HorizontalAlignmentProperty, minerva.core.reactTo.horizontalAlignment, false);\r\n        UIReaction<minerva.VerticalAlignment>(FrameworkElement.VerticalAlignmentProperty, minerva.core.reactTo.verticalAlignment, false);\r\n    }\r\n}","module Fayde.Markup {\r\n    export interface IContentAnnotation {\r\n        (type: Function, prop: DependencyProperty);\r\n        Get(type: Function): DependencyProperty;\r\n    }\r\n    export var Content = <IContentAnnotation>(function () {\r\n        function ca(type: Function, prop: DependencyProperty) {\r\n            nullstone.Annotation(type, \"Content\", prop, true);\r\n        }\r\n        (<any>ca).Get = function (type: Function): DependencyProperty {\r\n            var cur = type;\r\n            while (cur) {\r\n                var anns = nullstone.GetAnnotations(cur, \"Content\");\r\n                if (anns) {\r\n                    var cp = anns[0];\r\n                    if (cp)\r\n                        return cp;\r\n                }\r\n                cur = nullstone.getTypeParent(cur);\r\n            }\r\n            return undefined;\r\n        };\r\n        return ca;\r\n    })();\r\n\r\n    export interface ITextContentAnnotation {\r\n        (type: Function, prop: DependencyProperty);\r\n        Get(type: Function): DependencyProperty;\r\n    }\r\n    export var TextContent = <ITextContentAnnotation>(function () {\r\n        function tca(type: Function, prop: DependencyProperty) {\r\n            nullstone.Annotation(type, \"TextContent\", prop, true);\r\n        }\r\n        (<any>tca).Get = function (type: Function): DependencyProperty {\r\n            var cur = type;\r\n            while (cur) {\r\n                var anns = nullstone.GetAnnotations(cur, \"TextContent\");\r\n                if (anns) {\r\n                    var cp = anns[0];\r\n                    if (cp)\r\n                        return cp;\r\n                }\r\n                cur = nullstone.getTypeParent(cur);\r\n            }\r\n            return undefined;\r\n        };\r\n        return tca;\r\n    })();\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n/// <reference path=\"../Markup/ContentAnnotation.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class Border extends FrameworkElement {\r\n        CreateLayoutUpdater (): minerva.controls.border.BorderUpdater {\r\n            return new minerva.controls.border.BorderUpdater();\r\n        }\r\n\r\n        static BackgroundProperty = DependencyProperty.RegisterCore(\"Background\", () => Media.Brush, Border);\r\n        static BorderBrushProperty = DependencyProperty.RegisterCore(\"BorderBrush\", () => Media.Brush, Border);\r\n        static BorderThicknessProperty = DependencyProperty.Register(\"BorderThickness\", () => Thickness, Border); //TODO: Validator\r\n        static ChildProperty = DependencyProperty.Register(\"Child\", () => UIElement, Border);\r\n        static CornerRadiusProperty = DependencyProperty.Register(\"CornerRadius\", () => CornerRadius, Border); //TODO: Validator\r\n        static PaddingProperty = DependencyProperty.Register(\"Padding\", () => Thickness, Border); //TODO: Validator\r\n        Background: Media.Brush;\r\n        BorderBrush: Media.Brush;\r\n        BorderThickness: minerva.Thickness;\r\n        Child: UIElement;\r\n        CornerRadius: CornerRadius;\r\n        Padding: Thickness;\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = Border;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Border);\r\n    Markup.Content(Border, Border.ChildProperty);\r\n\r\n    UIReaction<minerva.IBrush>(Border.BackgroundProperty, (upd, ov, nv) => {\r\n        upd.invalidate();\r\n    });\r\n    UIReaction<minerva.IBrush>(Border.BorderBrushProperty, (upd, ov, nv) => {\r\n        upd.invalidate();\r\n    });\r\n    UIReaction<Thickness>(Border.BorderThicknessProperty, (upd, ov, nv) => upd.invalidateMeasure(), false, minerva.Thickness.copyTo);\r\n    UIReaction<Thickness>(Border.PaddingProperty, (upd, ov, nv) => upd.invalidateMeasure(), false, minerva.Thickness.copyTo);\r\n    UIReaction<minerva.CornerRadius>(Border.CornerRadiusProperty, (upd, ov, nv) => upd.invalidate(), false, minerva.CornerRadius.copyTo);\r\n    UIReaction<UIElement>(Border.ChildProperty, (upd, ov, nv, border?: Border) => {\r\n        var node = border.XamlNode;\r\n        var error = new BError();\r\n        if (ov instanceof UIElement)\r\n            node.DetachVisualChild(ov, error);\r\n        if (nv instanceof UIElement)\r\n            node.AttachVisualChild(nv, error);\r\n        if (error.Message)\r\n            error.ThrowException();\r\n        upd.updateBounds();\r\n        upd.invalidateMeasure();\r\n    }, false, false);\r\n}","/// <reference path=\"PropertyStore.ts\" />\r\n\r\nmodule Fayde.Providers {\r\n    export interface IIsEnabledStorage extends IPropertyStorage {\r\n        InheritedValue: boolean;\r\n    }\r\n\r\n    export class IsEnabledStore extends PropertyStore {\r\n        static Instance: IsEnabledStore;\r\n        GetValue(storage: IIsEnabledStorage): boolean {\r\n            if (storage.InheritedValue === false)\r\n                return false;\r\n            return super.GetValue(storage);\r\n        }\r\n        GetValuePrecedence(storage: IIsEnabledStorage): PropertyPrecedence {\r\n            if (storage.InheritedValue === false)\r\n                return PropertyPrecedence.IsEnabled;\r\n            return super.GetValuePrecedence(storage);\r\n        }\r\n\r\n        SetLocalValue(storage: IIsEnabledStorage, newValue: boolean) {\r\n            var oldValue = storage.Local;\r\n            storage.Local = newValue;\r\n            if (oldValue === newValue || storage.InheritedValue === false)\r\n                return;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.LocalValue, oldValue, newValue);\r\n        }\r\n\r\n        OnPropertyChanged(storage: IPropertyStorage, effectivePrecedence: PropertyPrecedence, oldValue: any, newValue: any): IDependencyPropertyChangedEventArgs {\r\n            var args = super.OnPropertyChanged(storage, effectivePrecedence, oldValue, newValue);\r\n            storage.OwnerNode.OnIsEnabledChanged(oldValue, newValue);\r\n            return args;\r\n        }\r\n\r\n        CreateStorage(dobj: DependencyObject, propd: DependencyProperty): IIsEnabledStorage {\r\n            return {\r\n                OwnerNode: dobj.XamlNode,\r\n                Property: propd,\r\n                Precedence: PropertyPrecedence.DefaultValue,\r\n                InheritedValue: true,\r\n                Animations: undefined,\r\n                Local: undefined,\r\n                LocalStyleValue: undefined,\r\n                ImplicitStyleValue: undefined,\r\n                PropListeners: undefined,\r\n            };\r\n        }\r\n        \r\n        EmitInheritedChanged(storage: IIsEnabledStorage, newInherited: boolean) {\r\n            var oldInherited = storage.InheritedValue;\r\n            if (newInherited !== false) {\r\n                storage.Precedence = super.GetValuePrecedence(storage);\r\n                storage.InheritedValue = true;\r\n            } else {\r\n                storage.InheritedValue = false;\r\n            }\r\n            if (oldInherited === newInherited)\r\n                return;\r\n            this.OnPropertyChanged(storage, PropertyPrecedence.IsEnabled, oldInherited, newInherited);\r\n        }\r\n        static EmitInheritedChanged(cn: Controls.ControlNode, value: boolean) {\r\n            var propd = Controls.Control.IsEnabledProperty;\r\n            var storage = <Providers.IIsEnabledStorage>Providers.GetStorage(cn.XObject, propd);\r\n            (<Providers.IsEnabledStore>propd.Store).EmitInheritedChanged(storage, value);\r\n        }\r\n    }\r\n    IsEnabledStore.Instance = new IsEnabledStore();\r\n}","module Fayde.Input {\r\n    // http://msdn.microsoft.com/en-us/library/system.windows.input.keyboardnavigationmode.aspx\r\n    export enum KeyboardNavigationMode {\r\n        Continue = 0,\r\n        Once = 1,\r\n        Cycle = 2,\r\n        None = 3,\r\n        Contained = 4,\r\n        Local = 5,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(KeyboardNavigationMode, \"KeyboardNavigationMode\");\r\n\r\n    export enum ModifierKeys {\r\n        None = 0,\r\n        Alt = 1,\r\n        Control = 2,\r\n        Shift = 4,\r\n        Windows = 8,\r\n        Apple = 16,\r\n    }\r\n\r\n    export interface IModifiersOn {\r\n        Shift: boolean;\r\n        Ctrl: boolean;\r\n        Alt: boolean;\r\n    }\r\n\r\n    export class Keyboard {\r\n        static Modifiers: ModifierKeys = ModifierKeys.None;\r\n\r\n        static RefreshModifiers(e: Fayde.Input.IModifiersOn) {\r\n            if (e.Shift)\r\n                Keyboard.Modifiers |= ModifierKeys.Shift;\r\n            else\r\n                Keyboard.Modifiers &= ~ModifierKeys.Shift;\r\n            if (e.Ctrl)\r\n                Keyboard.Modifiers |= ModifierKeys.Control;\r\n            else\r\n                Keyboard.Modifiers &= ~ModifierKeys.Control;\r\n            if (e.Alt)\r\n                Keyboard.Modifiers |= ModifierKeys.Alt;\r\n            else\r\n                Keyboard.Modifiers &= ~ModifierKeys.Alt;\r\n        }\r\n\r\n        static HasControl() {\r\n            return (Keyboard.Modifiers & ModifierKeys.Control) === ModifierKeys.Control;\r\n        }\r\n        static HasAlt() {\r\n            return (Keyboard.Modifiers & ModifierKeys.Alt) === ModifierKeys.Alt;\r\n        }\r\n        static HasShift() {\r\n            return (Keyboard.Modifiers & ModifierKeys.Shift) === ModifierKeys.Shift;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Keyboard);\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n/// <reference path=\"../Core/Providers/IsEnabledStore.ts\" />\r\n/// <reference path=\"../Input/Keyboard.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export interface IIsEnabledListener {\r\n        Callback: (newIsEnabled: boolean) => void;\r\n        Detach();\r\n    }\r\n\r\n    export class ControlNode extends FENode {\r\n        XObject: Control;\r\n        TemplateRoot: FrameworkElement;\r\n        IsFocused: boolean = false;\r\n        LayoutUpdater: minerva.controls.control.ControlUpdater;\r\n\r\n        constructor(xobj: Control) {\r\n            super(xobj);\r\n        }\r\n\r\n        TabTo() {\r\n            var xobj = this.XObject;\r\n            return xobj.IsEnabled && xobj.IsTabStop && this.Focus();\r\n        }\r\n\r\n        ApplyTemplateWithError(error: BError): boolean {\r\n            if (!super.ApplyTemplateWithError(error))\r\n                return false;\r\n            this.XObject.UpdateValidationState();\r\n            return true;\r\n        }\r\n        DoApplyTemplateWithError(error: BError): boolean {\r\n            var xobj = this.XObject;\r\n            var t = xobj.Template;\r\n            var root: UIElement;\r\n            if (t) root = t.GetVisualTree(xobj);\r\n            if (!root && !(root = this.GetDefaultVisualTree()))\r\n                return false;\r\n\r\n            if (this.TemplateRoot && this.TemplateRoot !== root)\r\n                this.DetachVisualChild(this.TemplateRoot, error)\r\n            this.TemplateRoot = <FrameworkElement>root;\r\n            if (this.TemplateRoot)\r\n                this.AttachVisualChild(this.TemplateRoot, error);\r\n            if (error.Message)\r\n                return false;\r\n\r\n            //TODO: Deployment Loaded Event (Async)\r\n\r\n            return true;\r\n        }\r\n        GetDefaultVisualTree(): UIElement { return undefined; }\r\n\r\n        OnIsAttachedChanged(newIsAttached: boolean) {\r\n            super.OnIsAttachedChanged(newIsAttached);\r\n            if (!newIsAttached)\r\n                Media.VSM.VisualStateManager.Deactivate(this.XObject, this.TemplateRoot);\r\n            else\r\n                Media.VSM.VisualStateManager.Activate(this.XObject, this.TemplateRoot);\r\n        }\r\n\r\n        OnParentChanged(oldParentNode: XamlNode, newParentNode: XamlNode) {\r\n            super.OnParentChanged(oldParentNode, newParentNode);\r\n            this.IsEnabled = newParentNode ? newParentNode.IsEnabled : true;\r\n        }\r\n\r\n        OnTemplateChanged(oldTemplate: ControlTemplate, newTemplate: ControlTemplate) {\r\n            var subtree = this.SubtreeNode;\r\n            if (subtree) {\r\n                var error = new BError();\r\n                if (!this.DetachVisualChild(<UIElement>subtree.XObject, error))\r\n                    error.ThrowException();\r\n            }\r\n            this.LayoutUpdater.invalidateMeasure();\r\n        }\r\n\r\n        get IsEnabled(): boolean { return this.XObject.IsEnabled; }\r\n        set IsEnabled(value: boolean) {\r\n            Providers.IsEnabledStore.EmitInheritedChanged(this, value);\r\n            this.OnIsEnabledChanged(undefined, value);\r\n        }\r\n        OnIsEnabledChanged(oldValue: boolean, newValue: boolean) {\r\n            if (!newValue) {\r\n                this.IsMouseOver = false;\r\n                if (Surface.RemoveFocusFrom(this.XObject)) {\r\n                    TabNavigationWalker.Focus(this, true);\r\n                }\r\n                this.ReleaseMouseCapture();\r\n            }\r\n            super.OnIsEnabledChanged(oldValue, newValue);\r\n        }\r\n\r\n        Focus(recurse?: boolean): boolean {\r\n            return Surface.Focus(this.XObject, recurse);\r\n        }\r\n\r\n        CanCaptureMouse(): boolean { return this.XObject.IsEnabled; }\r\n    }\r\n\r\n    export class Control extends FrameworkElement implements Providers.IIsPropertyInheritable {\r\n        XamlNode: ControlNode;\r\n        CreateNode(): ControlNode { return new ControlNode(this); }\r\n        CreateLayoutUpdater() { return new minerva.controls.control.ControlUpdater(); }\r\n\r\n        constructor() {\r\n            super();\r\n            UIReaction<boolean>(Control.IsEnabledProperty, (upd, nv, ov, control?: Control) => {\r\n                var args = {\r\n                    Property: Control.IsEnabledProperty,\r\n                    OldValue: ov,\r\n                    NewValue: nv\r\n                };\r\n                control.OnIsEnabledChanged(args);\r\n                if (nv !== true)\r\n                    control.XamlNode.IsMouseOver = false;\r\n                control.UpdateVisualState();\r\n                control.IsEnabledChanged.raiseAsync(control, args);\r\n            }, false, true, this);\r\n            //TODO: Do these make sense? These properties are usually bound to child visuals which will invalidate\r\n            UIReaction<minerva.Thickness>(Control.PaddingProperty, (upd, nv, ov) => upd.invalidateMeasure(), false, true, this);\r\n            UIReaction<minerva.Thickness>(Control.BorderThicknessProperty, (upd, nv, ov) => upd.invalidateMeasure(), false, true, this);\r\n            UIReaction<HorizontalAlignment>(Control.HorizontalContentAlignmentProperty, (upd, nv, ov) => upd.invalidateArrange(), false, true, this);\r\n            UIReaction<VerticalAlignment>(Control.VerticalContentAlignmentProperty, (upd, nv, ov) => upd.invalidateArrange(), false, true, this);\r\n        }\r\n\r\n        static BackgroundProperty = DependencyProperty.RegisterCore(\"Background\", () => Media.Brush, Control);\r\n        static BorderBrushProperty = DependencyProperty.RegisterCore(\"BorderBrush\", () => Media.Brush, Control);\r\n        static BorderThicknessProperty = DependencyProperty.RegisterCore(\"BorderThickness\", () => Thickness, Control);\r\n        static FontFamilyProperty = InheritableOwner.FontFamilyProperty.ExtendTo(Control);\r\n        static FontSizeProperty = InheritableOwner.FontSizeProperty.ExtendTo(Control);\r\n        static FontStretchProperty = InheritableOwner.FontStretchProperty.ExtendTo(Control);\r\n        static FontStyleProperty = InheritableOwner.FontStyleProperty.ExtendTo(Control);\r\n        static FontWeightProperty = InheritableOwner.FontWeightProperty.ExtendTo(Control);\r\n        static ForegroundProperty = InheritableOwner.ForegroundProperty.ExtendTo(Control);\r\n        static HorizontalContentAlignmentProperty: DependencyProperty = DependencyProperty.Register(\"HorizontalContentAlignment\", () => new Enum(HorizontalAlignment), Control, HorizontalAlignment.Center);\r\n        static IsEnabledProperty = DependencyProperty.Register(\"IsEnabled\", () => Boolean, Control, true);\r\n        static IsTabStopProperty = DependencyProperty.Register(\"IsTabStop\", () => Boolean, Control, true);\r\n        static PaddingProperty = DependencyProperty.RegisterCore(\"Padding\", () => Thickness, Control);\r\n        static TabIndexProperty = DependencyProperty.Register(\"TabIndex\", () => Number, Control);\r\n        static TabNavigationProperty = DependencyProperty.Register(\"TabNavigation\", () => new Enum(Input.KeyboardNavigationMode), Control, Input.KeyboardNavigationMode.Local);\r\n        static TemplateProperty = DependencyProperty.Register(\"Template\", () => ControlTemplate, Control, undefined, (d, args) => (<Control>d).XamlNode.OnTemplateChanged(args.OldValue, args.NewValue));\r\n        static VerticalContentAlignmentProperty = DependencyProperty.Register(\"VerticalContentAlignment\", () => new Enum(VerticalAlignment), Control, VerticalAlignment.Center);\r\n\r\n        IsInheritable(propd: DependencyProperty): boolean {\r\n            if (ControlInheritedProperties.indexOf(propd) > -1)\r\n                return true;\r\n            return super.IsInheritable(propd);\r\n        }\r\n\r\n        Background: Media.Brush;\r\n        BorderBrush: Media.Brush;\r\n        BorderThickness: Thickness;\r\n        FontFamily: string;\r\n        FontSize: number;\r\n        FontStretch: string;\r\n        FontStyle: string;\r\n        FontWeight: FontWeight;\r\n        Foreground: Media.Brush;\r\n        HorizontalContentAlignment: HorizontalAlignment;\r\n        IsEnabled: boolean;\r\n        IsTabStop: boolean;\r\n        Padding: Thickness;\r\n        TabIndex: number;\r\n        TabNavigation: Input.KeyboardNavigationMode;\r\n        Template: ControlTemplate;\r\n        VerticalContentAlignment: VerticalAlignment;\r\n\r\n        get IsFocused() { return this.XamlNode.IsFocused; }\r\n\r\n        GetTemplateChild(childName: string, type?: Function): DependencyObject {\r\n            var root = this.XamlNode.TemplateRoot;\r\n            if (!root)\r\n                return;\r\n            var n = root.XamlNode.FindName(childName);\r\n            if (!n)\r\n                return;\r\n            var xobj = n.XObject;\r\n            if (!type || (xobj instanceof type))\r\n                return <DependencyObject>xobj;\r\n        }\r\n\r\n        ApplyTemplate(): boolean {\r\n            var error = new BError();\r\n            var result = this.XamlNode.ApplyTemplateWithError(error);\r\n            if (error.Message)\r\n                error.ThrowException();\r\n            return result;\r\n        }\r\n\r\n        GetDefaultStyle(): Style {\r\n            return undefined;\r\n        }\r\n\r\n        IsEnabledChanged = new nullstone.Event<DependencyPropertyChangedEventArgs>();\r\n        OnIsEnabledChanged(e: IDependencyPropertyChangedEventArgs) { }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            this.XamlNode.IsFocused = true;\r\n            this.UpdateValidationState();\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            this.XamlNode.IsFocused = false;\r\n            this.UpdateValidationState();\r\n        }\r\n\r\n        UpdateVisualState(useTransitions?: boolean) {\r\n            useTransitions = useTransitions !== false;\r\n            var gotoFunc = (state: string) => Media.VSM.VisualStateManager.GoToState(this, state, useTransitions);\r\n            this.GoToStates(gotoFunc);\r\n        }\r\n        GoToStates(gotoFunc: (state: string) => boolean) {\r\n            this.GoToStateCommon(gotoFunc);\r\n            this.GoToStateFocus(gotoFunc);\r\n            this.GoToStateSelection(gotoFunc);\r\n        }\r\n        GoToStateCommon(gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsEnabled)\r\n                return gotoFunc(\"Disabled\");\r\n            if (this.IsMouseOver)\r\n                return gotoFunc(\"MouseOver\");\r\n            return gotoFunc(\"Normal\");\r\n        }\r\n        GoToStateFocus(gotoFunc: (state: string) => boolean): boolean {\r\n            if (this.IsFocused && this.IsEnabled)\r\n                return gotoFunc(\"Focused\");\r\n            return gotoFunc(\"Unfocused\");\r\n        }\r\n        GoToStateSelection(gotoFunc: (state: string) => boolean): boolean {\r\n            return false;\r\n        }\r\n\r\n        UpdateValidationState (valid?: boolean) {\r\n            if (valid === undefined) {\r\n                var errors = Validation.GetErrors(this);\r\n                valid = errors.Count < 1;\r\n            }\r\n            var gotoFunc = (state: string) => Media.VSM.VisualStateManager.GoToState(this, state, true);\r\n            this.GoToStateValidation(valid, gotoFunc);\r\n        }\r\n\r\n        GoToStateValidation (valid: boolean, gotoFunc: (state: string) => boolean) {\r\n            if (valid)\r\n                return gotoFunc(\"Valid\");\r\n            else if (this.IsFocused)\r\n                return gotoFunc(\"InvalidFocused\");\r\n            return gotoFunc(\"InvalidUnfocused\");\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Control);\r\n\r\n    Control.IsEnabledProperty.Store = Providers.IsEnabledStore.Instance;\r\n\r\n    var ControlInheritedProperties = [\r\n        Control.FontFamilyProperty,\r\n        Control.FontSizeProperty,\r\n        Control.FontStretchProperty,\r\n        Control.FontStyleProperty,\r\n        Control.FontWeightProperty,\r\n        Control.ForegroundProperty\r\n    ];\r\n\r\n    export interface ITemplateVisualStateDefinition {\r\n        Name: string;\r\n        GroupName: string;\r\n    }\r\n    export var TemplateVisualStates = nullstone.CreateTypedAnnotation<ITemplateVisualStateDefinition>(\"TemplateVisualState\");\r\n\r\n    export interface ITemplatePartDefinition {\r\n        Name: string;\r\n        Type: Function;\r\n    }\r\n    export var TemplateParts = nullstone.CreateTypedAnnotation<ITemplatePartDefinition>(\"TemplatePart\");\r\n}","/// <reference path=\"Control.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ContentControlNode extends ControlNode {\r\n        private _DefaultPresenter: ContentPresenter = null;\r\n\r\n        XObject: ContentControl;\r\n\r\n        constructor (xobj: ContentControl) {\r\n            super(xobj);\r\n        }\r\n\r\n        GetDefaultVisualTree (): UIElement {\r\n            var xobj = this.XObject;\r\n            var content = xobj.Content;\r\n            if (content instanceof UIElement)\r\n                return <UIElement>content;\r\n\r\n            var presenter = this._DefaultPresenter;\r\n            if (!presenter) {\r\n                presenter = this._DefaultPresenter = new ContentPresenter();\r\n                presenter.TemplateOwner = this.XObject;\r\n            }\r\n            presenter.SetValue(ContentPresenter.ContentProperty, new TemplateBindingExpression(\"Content\"));\r\n            presenter.SetValue(ContentPresenter.ContentTemplateProperty, new TemplateBindingExpression(\"ContentTemplate\"));\r\n            return presenter;\r\n        }\r\n\r\n        OnContentChanged (o: any, n: any) {\r\n            if (o instanceof UIElement || n instanceof UIElement)\r\n                this.CleanOldContent(o);\r\n        }\r\n\r\n        OnTemplateChanged (oldTemplate: ControlTemplate, newTemplate: ControlTemplate) {\r\n            if (oldTemplate)\r\n                this.CleanOldContent(this.XObject.Content);\r\n            super.OnTemplateChanged(oldTemplate, newTemplate);\r\n        }\r\n\r\n        private CleanOldContent (content: any) {\r\n            if (content instanceof UIElement) {\r\n                FENode.DetachFromVisualParent(content);\r\n                this.LayoutUpdater.invalidateMeasure();\r\n            } else {\r\n                var presenter = this._DefaultPresenter;\r\n                if (presenter) {\r\n                    presenter.ClearValue(ContentPresenter.ContentProperty);\r\n                    presenter.ClearValue(ContentPresenter.ContentTemplateProperty);\r\n                    FENode.DetachFromVisualParent(presenter);\r\n                    this.LayoutUpdater.invalidateMeasure();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    export class ContentControl extends Control {\r\n        XamlNode: ContentControlNode;\r\n\r\n        CreateNode (): ContentControlNode {\r\n            return new ContentControlNode(this);\r\n        }\r\n\r\n        static ContentProperty = DependencyProperty.Register(\"Content\", () => Object, ContentControl, undefined, (d: ContentControl, args) => d.OnContentPropertyChanged(args));\r\n        static ContentTemplateProperty = DependencyProperty.Register(\"ContentTemplate\", () => DataTemplate, ContentControl, undefined, (d: ContentControl, args) => d.OnContentTemplateChanged(args.OldValue, args.NewValue));\r\n        static ContentUriProperty = DependencyProperty.Register(\"ContentUri\", () => Uri, ContentControl, undefined, (d: ContentControl, args) => d.OnContentUriPropertyChanged(args));\r\n        Content: any;\r\n        ContentTemplate: DataTemplate;\r\n        ContentUri: Uri;\r\n\r\n        private OnContentPropertyChanged (args: DependencyPropertyChangedEventArgs) {\r\n            this.XamlNode.OnContentChanged(args.OldValue, args.NewValue);\r\n            this.OnContentChanged(args.OldValue, args.NewValue);\r\n        }\r\n\r\n        private OnContentUriPropertyChanged (args: DependencyPropertyChangedEventArgs) {\r\n            var oldUri: Uri;\r\n            if (args.OldValue instanceof Uri) {\r\n                this.Content = undefined;\r\n                oldUri = <Uri>args.OldValue;\r\n            }\r\n            var newUri: Uri;\r\n            if (args.NewValue instanceof Uri) {\r\n                newUri = <Uri>args.NewValue;\r\n                Markup.Resolve(newUri)\r\n                    .then(m => this._OnLoadedUri(m), err => this._OnErroredUri(err, newUri))\r\n            }\r\n            this.OnContentUriChanged(oldUri, newUri);\r\n        }\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = ContentControl;\r\n        }\r\n\r\n        OnContentChanged (oldContent: any, newContent: any) {\r\n        }\r\n\r\n        OnContentTemplateChanged (oldContentTemplate: DataTemplate, newContentTemplate: DataTemplate) {\r\n        }\r\n\r\n        OnContentUriChanged (oldSourceUri: Uri, newSourceUri: Uri) {\r\n        }\r\n\r\n        private _OnLoadedUri (xm: nullstone.markup.Markup<any>) {\r\n            this.Content = Markup.Load(this.App, xm);\r\n        }\r\n\r\n        private _OnErroredUri (err: any, src: Uri) {\r\n            console.warn(\"Error resolving XamlResource: '\" + src.toString() + \"'.\");\r\n            //TODO: Set content to error message?\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ContentControl);\r\n    Markup.Content(ContentControl, ContentControl.ContentProperty);\r\n}","\r\nmodule Fayde.Controls {\r\n    export enum TextWrapping {\r\n        NoWrap = 0,\r\n        Wrap = 1,\r\n        WrapWithOverflow = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(TextWrapping, \"TextWrapping\");\r\n\r\n    export enum ScrollBarVisibility {\r\n        Disabled = 0,\r\n        Auto = 1,\r\n        Hidden = 2,\r\n        Visible = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(ScrollBarVisibility, \"ScrollBarVisibility\");\r\n\r\n    export enum TextTrimming {\r\n        None = 0,\r\n        WordEllipsis = 1,\r\n        CharacterEllipsis = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(TextTrimming, \"TextTrimming\");\r\n\r\n    export enum ClickMode {\r\n        Release = 0,\r\n        Press = 1,\r\n        Hover = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(ClickMode, \"ClickMode\");\r\n\r\n    export enum PlacementMode {\r\n        Bottom = 0,\r\n        Right = 1,\r\n        Mouse = 2,\r\n        Left = 3,\r\n        Top = 4,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(PlacementMode, \"PlacementMode\");\r\n\r\n    export enum SelectionMode {\r\n        Single = 0,\r\n        Multiple = 1,\r\n        Extended = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(SelectionMode, \"SelectionMode\");\r\n\r\n    export enum MediaElementState {\r\n        Closed = 0,\r\n        Opening = 1,\r\n        //Individualizing = 2,\r\n        //AcquiringLicense = 3,\r\n        Buffering = 4,\r\n        Playing = 5,\r\n        Paused = 6,\r\n        Stopped = 7\r\n    }\r\n    Fayde.CoreLibrary.addEnum(MediaElementState, \"MediaElementState\");\r\n\r\n    export enum SelectionOnFocus {\r\n        Unchanged = 0,          // Selcetion will not be modified\r\n        SelectAll = 1,          // The whole text will be selected\r\n        CaretToBeginning = 2,   // The caret will be moved to the start to the text\r\n        CaretToEnd = 3,         // The caret will be moved to the end of the text\r\n        Default = 4,            // The default (Nothing happens)\r\n        DefaultSelectAll = 5    // Default will be used when focusing the control with the mouse click. SelectAll will be use when focusing the control with the Tab key\r\n    }\r\n\r\n    Fayde.CoreLibrary.addEnum(SelectionOnFocus, \"SelectionOnFocus\");\r\n}","/// <reference path=\"../ContentControl.ts\" />\r\n/// <reference path=\"../Enums.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class ButtonBase extends ContentControl {\r\n        static ClickModeProperty = DependencyProperty.Register(\"ClickMode\", () => new Enum(ClickMode), ButtonBase, ClickMode.Release);\r\n        static IsPressedProperty = DependencyProperty.RegisterReadOnly(\"IsPressed\", () => Boolean, ButtonBase, false, (d, args) => (<ButtonBase>d).OnIsPressedChanged(args));\r\n        static IsFocusedProperty = DependencyProperty.RegisterReadOnly(\"IsFocused\", () => Boolean, ButtonBase, false);\r\n        static CommandProperty = DependencyProperty.RegisterCore(\"Command\", () => Input.ICommand_, ButtonBase, undefined, (d, args) => (<ButtonBase>d).OnCommandChanged(args));\r\n        static CommandParameterProperty = DependencyProperty.RegisterCore(\"CommandParameter\", () => Object, ButtonBase, undefined, (d, args) => (<ButtonBase>d).OnCommandParameterChanged(args));\r\n        ClickMode: ClickMode;\r\n        IsPressed: boolean;\r\n        IsFocused: boolean;\r\n        Command: Input.ICommand;\r\n        CommandParameter: any;\r\n        Click = new RoutedEvent<RoutedEventArgs>();\r\n\r\n        private _IsMouseCaptured: boolean = false;\r\n        private _TouchCaptures: number[];\r\n        private _IsMouseLeftButtonDown: boolean = false;\r\n        private _IsSpaceKeyDown: boolean = false;\r\n        _MousePosition: Point = new Point();\r\n        private _SuspendStateChanges: boolean = false;\r\n\r\n        constructor() {\r\n            super();\r\n            this.IsTabStop = true;\r\n        }\r\n\r\n        OnIsPressedChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnIsEnabledChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            if (!!e.NewValue)\r\n                return;\r\n            this._DoWithSuspend(() => {\r\n                this.SetCurrentValue(ButtonBase.IsFocusedProperty, false);\r\n                this.SetCurrentValue(ButtonBase.IsPressedProperty, false);\r\n                this._IsMouseCaptured = false;\r\n                this._IsSpaceKeyDown = false;\r\n                this._IsMouseLeftButtonDown = false;\r\n            });\r\n        }\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState();\r\n\r\n            if (this.ClickMode !== ClickMode.Hover || !this.IsEnabled)\r\n                return;\r\n\r\n            this._DoWithSuspend(() => {\r\n                this.SetCurrentValue(ButtonBase.IsPressedProperty, true);\r\n                this.OnClick();\r\n            });\r\n        }\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState();\r\n\r\n            if (this.ClickMode !== ClickMode.Hover || !this.IsEnabled)\r\n                return;\r\n\r\n            this._DoWithSuspend(() => {\r\n                this.SetCurrentValue(ButtonBase.IsPressedProperty, false);\r\n            });\r\n        }\r\n        OnMouseMove(e: Input.MouseEventArgs) {\r\n            super.OnMouseMove(e);\r\n\r\n            this._MousePosition = e.GetPosition(this);\r\n\r\n            if (this._IsMouseLeftButtonDown && this.IsEnabled && this.ClickMode !== ClickMode.Hover && this._IsMouseCaptured && !this._IsSpaceKeyDown) {\r\n                this.SetCurrentValue(ButtonBase.IsPressedProperty, this._IsValidPosition(this._MousePosition));\r\n            }\r\n        }\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n\r\n            this._IsMouseLeftButtonDown = true;\r\n            if (!this.IsEnabled)\r\n                return;\r\n            var clickMode = this.ClickMode;\r\n            if (clickMode === ClickMode.Hover)\r\n                return;\r\n\r\n            e.Handled = true;\r\n            this._DoWithSuspend(() => {\r\n                this.Focus();\r\n                this._CaptureMouseInternal();\r\n                if (this._IsMouseCaptured)\r\n                    this.SetCurrentValue(ButtonBase.IsPressedProperty, true);\r\n            });\r\n\r\n            if (clickMode === ClickMode.Press)\r\n                this.OnClick();\r\n        }\r\n        OnMouseLeftButtonUp(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n\r\n            this._IsMouseLeftButtonDown = false;\r\n            if (!this.IsEnabled)\r\n                return;\r\n            var clickMode = this.ClickMode;\r\n            if (clickMode === ClickMode.Hover)\r\n                return;\r\n\r\n            e.Handled = true;\r\n            if (!this._IsSpaceKeyDown && this.IsPressed && clickMode === ClickMode.Release)\r\n                this.OnClick();\r\n\r\n            if (!this._IsSpaceKeyDown) {\r\n                this._ReleaseMouseCaptureInternal();\r\n                this.SetCurrentValue(ButtonBase.IsPressedProperty, false);\r\n            }\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.SetCurrentValue(ButtonBase.IsFocusedProperty, true);\r\n            this.UpdateVisualState();\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.SetCurrentValue(ButtonBase.IsFocusedProperty, false);\r\n\r\n            if (this.ClickMode === ClickMode.Hover)\r\n                return;\r\n\r\n            this._DoWithSuspend(() => {\r\n                this.SetCurrentValue(ButtonBase.IsPressedProperty, false);\r\n                this._ReleaseMouseCaptureInternal();\r\n                this._IsSpaceKeyDown = false;\r\n            });\r\n        }\r\n\r\n        OnTouchMove(e: Input.TouchEventArgs) {\r\n            super.OnTouchMove(e);\r\n            if (!this.IsEnabled || e.Device.Captured !== this)\r\n                return;\r\n            var tp = e.GetTouchPoint(this);\r\n            this.SetCurrentValue(ButtonBase.IsPressedProperty, this._IsValidPosition(tp.Position));\r\n        }\r\n        OnTouchDown(e: Input.TouchEventArgs) {\r\n            super.OnTouchDown(e);\r\n            if (!this.IsEnabled)\r\n                return;\r\n            e.Handled = true;\r\n            this._DoWithSuspend(() => {\r\n                this.Focus();\r\n                if (e.Device.Capture(this))\r\n                    this.SetCurrentValue(ButtonBase.IsPressedProperty, true);\r\n            });\r\n\r\n            if (this.ClickMode === ClickMode.Press)\r\n                this.OnClick();\r\n        }\r\n        OnTouchUp(e: Input.TouchEventArgs) {\r\n            super.OnTouchUp(e);\r\n            if (!this.IsEnabled)\r\n                return;\r\n            e.Handled = true;\r\n            if (this.IsPressed && this.ClickMode === ClickMode.Release)\r\n                this.OnClick();\r\n            e.Device.ReleaseCapture(this);\r\n            this.SetCurrentValue(ButtonBase.IsPressedProperty, false);\r\n        }\r\n\r\n        OnClick() {\r\n            var cmd = this.Command;\r\n            var par = this.CommandParameter;\r\n            if (cmd != null) {\r\n                var canf = cmd.CanExecute;\r\n                if ((canf == null || typeof canf !== \"function\" || canf(par)) && (cmd.Execute && typeof cmd.Execute === \"function\"))\r\n                    cmd.Execute(par);\r\n            }\r\n\r\n            this.Click.raise(this, new RoutedEventArgs());\r\n        }\r\n\r\n        private _DoWithSuspend(action: () => void) {\r\n            this._SuspendStateChanges = true;\r\n            try {\r\n                action();\r\n            } finally {\r\n                this._SuspendStateChanges = false;\r\n                this.UpdateVisualState();\r\n            }\r\n        }\r\n\r\n        UpdateVisualState(useTransitions?: boolean) {\r\n            if (this._SuspendStateChanges)\r\n                return;\r\n            super.UpdateVisualState(useTransitions);\r\n        }\r\n        GoToStateCommon(gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsEnabled)\r\n                return gotoFunc(\"Disabled\");\r\n            if (this.IsPressed)\r\n                return gotoFunc(\"Pressed\");\r\n            if (this.IsMouseOver)\r\n                return gotoFunc(\"MouseOver\");\r\n            return gotoFunc(\"Normal\");\r\n        }\r\n\r\n        private _CaptureMouseInternal() {\r\n            if (!this._IsMouseCaptured)\r\n                this._IsMouseCaptured = this.CaptureMouse();\r\n        }\r\n        private _ReleaseMouseCaptureInternal() {\r\n            this.ReleaseMouseCapture();\r\n            this._IsMouseCaptured = false;\r\n        }\r\n        private _IsValidPosition(pos: Point): boolean {\r\n            return pos.x >= 0.0 && pos.x <= this.ActualWidth\r\n                && pos.y >= 0.0 && pos.y <= this.ActualHeight;\r\n        }\r\n\r\n        private OnCommandChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var cmd = Input.ICommand_.as(args.OldValue);\r\n            if (cmd)\r\n                cmd.CanExecuteChanged.off(this.OnCommandCanExecuteChanged, this);\r\n\r\n            cmd = Input.ICommand_.as(args.NewValue);\r\n            if (cmd) {\r\n                cmd.CanExecuteChanged.on(this.OnCommandCanExecuteChanged, this);\r\n                this.IsEnabled = cmd.CanExecute(this.CommandParameter);\r\n            }\r\n        }\r\n        private OnCommandCanExecuteChanged(sender, e) {\r\n            this.IsEnabled = this.Command.CanExecute(this.CommandParameter);\r\n        }\r\n        private OnCommandParameterChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var cmd = this.Command;\r\n            if (cmd)\r\n                this.IsEnabled = cmd.CanExecute(args.NewValue);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ButtonBase);\r\n}","/// <reference path=\"Primitives/ButtonBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class Button extends Primitives.ButtonBase {\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = Button;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        OnIsEnabledChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            super.OnIsEnabledChanged(e);\r\n            this.IsTabStop = e.NewValue;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Button);\r\n    TemplateVisualStates(Button, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" });\r\n}","/// <reference path=\"XamlObject.ts\" />\r\n\r\nmodule Fayde {\r\n    export class XamlObjectCollection<T extends XamlObject> extends XamlObject implements nullstone.ICollection<T> {\r\n        _ht: Array<T> = [];\r\n\r\n        AttachTo (xobj: XamlObject) {\r\n            var error = new BError();\r\n            if (!this.XamlNode.AttachTo(xobj.XamlNode, error))\r\n                error.ThrowException();\r\n        }\r\n\r\n        get Count () {\r\n            return this._ht.length;\r\n        }\r\n\r\n        GetRange (startIndex: number, endIndex: number): T[] {\r\n            return this._ht.slice(startIndex, endIndex);\r\n        }\r\n\r\n        GetValueAt (index: number): T {\r\n            return this._ht[index];\r\n        }\r\n\r\n        SetValueAt (index: number, value: T): boolean {\r\n            if (!this.CanAdd(value))\r\n                return false;\r\n\r\n            if (index < 0 || index >= this._ht.length)\r\n                return false;\r\n\r\n            var removed = this._ht[index];\r\n            var added = value;\r\n\r\n            var error = new BError();\r\n            if (this.AddingToCollection(added, error)) {\r\n                this._ht[index] = added;\r\n                this.RemovedFromCollection(removed, true);\r\n                this._RaiseItemReplaced(removed, added, index);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        Add (value: T): number {\r\n            var rv = this.Insert(this._ht.length, value);\r\n            return rv ? this._ht.length - 1 : -1;\r\n        }\r\n\r\n        Insert (index: number, value: T): boolean {\r\n            if (!this.CanAdd(value))\r\n                return false;\r\n            if (index < 0)\r\n                return false;\r\n            var count = this._ht.length;\r\n            if (index > count)\r\n                index = count;\r\n\r\n            var error = new BError();\r\n            if (this.AddingToCollection(value, error)) {\r\n                this._ht.splice(index, 0, value);\r\n                this._RaiseItemAdded(value, index);\r\n                return true;\r\n            }\r\n            if (error.Message)\r\n                throw new Exception(error.Message);\r\n            return false;\r\n        }\r\n\r\n        Remove (value: T): boolean {\r\n            var index = this.IndexOf(value);\r\n            if (index === -1)\r\n                return false;\r\n            return this.RemoveAt(index);\r\n        }\r\n\r\n        RemoveAt (index: number): boolean {\r\n            if (index < 0 || index >= this._ht.length)\r\n                return false;\r\n            var value = this._ht[index];\r\n            this._ht.splice(index, 1);\r\n            this.RemovedFromCollection(value, true);\r\n            this._RaiseItemRemoved(value, index);\r\n            return true;\r\n        }\r\n\r\n        Clear (): boolean {\r\n            var old = this._ht;\r\n            //LOOKS USELESS: this._RaiseClearing(old);\r\n            this._ht = [];\r\n            var len = old.length;\r\n            for (var i = 0; i < len; i++) {\r\n                this.RemovedFromCollection(old[i], true);\r\n            }\r\n            this._RaiseCleared(old);\r\n            return true;\r\n        }\r\n\r\n        IndexOf (value: T): number {\r\n            return this._ht.indexOf(value);\r\n        }\r\n\r\n        Contains (value: T): boolean {\r\n            return this.IndexOf(value) > -1;\r\n        }\r\n\r\n        CanAdd (value: T): boolean {\r\n            return true;\r\n        }\r\n\r\n        AddingToCollection (value: T, error: BError): boolean {\r\n            if (value instanceof XamlObject)\r\n                return value.XamlNode.AttachTo(this.XamlNode, error);\r\n            return true;\r\n        }\r\n\r\n        RemovedFromCollection (value: T, isValueSafe: boolean) {\r\n            if (value instanceof XamlObject)\r\n                value.XamlNode.Detach();\r\n        }\r\n\r\n        getEnumerator (reverse?: boolean): nullstone.IEnumerator<T> {\r\n            return nullstone.IEnumerator_.fromArray(this._ht, reverse);\r\n        }\r\n\r\n        GetNodeEnumerator<U extends XamlNode>(reverse?: boolean): nullstone.IEnumerator<U> {\r\n            var prev = this.getEnumerator(reverse);\r\n            return {\r\n                current: undefined,\r\n                moveNext: function (): boolean {\r\n                    if (!prev.moveNext()) {\r\n                        this.current = undefined;\r\n                        return false;\r\n                    }\r\n                    var xobj = prev.current;\r\n                    this.current = xobj.XamlNode;\r\n                    return true;\r\n                }\r\n            };\r\n        }\r\n\r\n        _RaiseItemAdded (value: T, index: number) {\r\n        }\r\n\r\n        _RaiseItemRemoved (value: T, index: number) {\r\n        }\r\n\r\n        _RaiseItemReplaced (removed: T, added: T, index: number) {\r\n        }\r\n\r\n        //_RaiseClearing(arr: T[]) { }\r\n        _RaiseCleared (old: T[]) {\r\n        }\r\n\r\n        CloneCore (source: XamlObjectCollection<T>) {\r\n            for (var en = source.getEnumerator(); en.moveNext();) {\r\n                this.Add(Fayde.Clone(en.current));\r\n            }\r\n        }\r\n\r\n        ToArray (): T[] {\r\n            return this._ht.slice(0);\r\n        }\r\n    }\r\n    nullstone.ICollection_.mark(XamlObjectCollection);\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n/// <reference path=\"../Core/Providers/ImmutableStore.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    class PanelChildrenCollection extends XamlObjectCollection<UIElement> {\r\n        $$updaters: minerva.core.Updater[] = [];\r\n        AddingToCollection(value: UIElement, error: BError): boolean {\r\n            var panelNode = <PanelNode>this.XamlNode.ParentNode;\r\n            if (!panelNode.AttachVisualChild(value, error))\r\n                return false;\r\n            return super.AddingToCollection(value, error);\r\n        }\r\n        RemovedFromCollection(value: UIElement, isValueSafe: boolean) {\r\n            var panelNode = <PanelNode>this.XamlNode.ParentNode;\r\n            panelNode.DetachVisualChild(value, null);\r\n            super.RemovedFromCollection(value, isValueSafe);\r\n        }\r\n        _RaiseCleared (values: UIElement[]) {\r\n            this.$$updaters.length = 0;\r\n        }\r\n        _RaiseItemAdded(value: UIElement, index: number) {\r\n            this.$$updaters.splice(index, 0, value.XamlNode.LayoutUpdater);\r\n        }\r\n        _RaiseItemRemoved(value: UIElement, index: number) {\r\n            this.$$updaters.splice(index, 1);\r\n        }\r\n        _RaiseItemReplaced(removed: UIElement, added: UIElement, index: number) {\r\n            this.$$updaters.splice(index, 1, added.XamlNode.LayoutUpdater);\r\n        }\r\n    }\r\n\r\n    export class PanelNode extends FENode {\r\n        LayoutUpdater: minerva.controls.panel.PanelUpdater;\r\n        XObject: Panel;\r\n        constructor(xobj: Panel) {\r\n            super(xobj);\r\n        }\r\n        AttachVisualChild(uie: UIElement, error: BError): boolean {\r\n            this.OnVisualChildAttached(uie);\r\n            uie.XamlNode.SetIsLoaded(this.IsLoaded);\r\n            return true;\r\n        }\r\n        DetachVisualChild(uie: UIElement, error: BError): boolean {\r\n            this.OnVisualChildDetached(uie);\r\n            uie.XamlNode.SetIsLoaded(false);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    export class Panel extends FrameworkElement {\r\n        XamlNode: PanelNode;\r\n        CreateNode(): PanelNode { return new PanelNode(this); }\r\n        CreateLayoutUpdater() { return new minerva.controls.panel.PanelUpdater(); }\r\n\r\n        static BackgroundProperty = DependencyProperty.Register(\"Background\", () => Media.Brush, Panel);\r\n        static ChildrenProperty = DependencyProperty.RegisterImmutable<XamlObjectCollection<UIElement>>(\"Children\", () => PanelChildrenCollection, Panel);\r\n        static ZIndexProperty = DependencyProperty.RegisterAttached(\"ZIndex\", () => Number, Panel, 0);\r\n        static GetZIndex(uie: UIElement): number { return uie.GetValue(Panel.ZIndexProperty); }\r\n        static SetZIndex(uie: UIElement, value: number) { uie.SetValue(Panel.ZIndexProperty, value); }\r\n        Background: Media.Brush;\r\n        Children: XamlObjectCollection<UIElement>;\r\n\r\n        constructor() {\r\n            super();\r\n            var coll = <PanelChildrenCollection>Panel.ChildrenProperty.Initialize(this);\r\n            this.XamlNode.LayoutUpdater.setChildren(coll.$$updaters);\r\n            var error = new BError();\r\n            this.XamlNode.SetSubtreeNode(coll.XamlNode, error);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Panel);\r\n    Markup.Content(Panel, Panel.ChildrenProperty);\r\n\r\n    module reactions {\r\n        UIReaction<minerva.IBrush>(Panel.BackgroundProperty, (upd, ov, nv) => {\r\n            if (nv !== ov) //nv === ov when child properties update\r\n                upd.updateBounds();\r\n            upd.invalidate();\r\n        });\r\n        UIReactionAttached<number>(Panel.ZIndexProperty, minerva.controls.panel.reactTo.zIndex);\r\n    }\r\n}","/// <reference path=\"Panel.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class Canvas extends Panel {\r\n        CreateLayoutUpdater() { return new minerva.controls.canvas.CanvasUpdater(); }\r\n\r\n        static TopProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"Top\", () => Number, Canvas, 0.0);\r\n        static GetTop(d: DependencyObject): number { return d.GetValue(Canvas.TopProperty); }\r\n        static SetTop(d: DependencyObject, value: number) { d.SetValue(Canvas.TopProperty, value); }\r\n        static LeftProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"Left\", () => Number, Canvas, 0.0);\r\n        static GetLeft(d: DependencyObject): number { return d.GetValue(Canvas.LeftProperty); }\r\n        static SetLeft(d: DependencyObject, value: number) { d.SetValue(Canvas.LeftProperty, value); }\r\n    }\r\n    Fayde.CoreLibrary.add(Canvas);\r\n\r\n    module reactions {\r\n        UIReactionAttached<number>(Canvas.TopProperty, minerva.controls.canvas.reactTo.top);\r\n        UIReactionAttached<number>(Canvas.LeftProperty, minerva.controls.canvas.reactTo.left);\r\n    }\r\n}","/// <reference path=\"ButtonBase.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class ToggleButton extends ButtonBase {\r\n        Checked = new RoutedEvent<RoutedEventArgs>();\r\n        Indeterminate = new RoutedEvent<RoutedEventArgs>();\r\n        Unchecked = new RoutedEvent<RoutedEventArgs>();\r\n\r\n        static IsCheckedProperty: DependencyProperty = DependencyProperty.RegisterCore(\"IsChecked\", () => Boolean, ToggleButton, false, (d, args) => (<ToggleButton>d).OnIsCheckedChanged(args));\r\n        static IsThreeStateProperty: DependencyProperty = DependencyProperty.RegisterCore(\"IsThreeState\", () => Boolean, ToggleButton, false);\r\n        IsChecked: boolean;\r\n        IsThreeState: boolean;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ToggleButton;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        OnContentChanged(oldContent: any, newContent: any) {\r\n            super.OnContentChanged(oldContent, newContent);\r\n            this.UpdateVisualState();\r\n        }\r\n        OnClick() {\r\n            this.OnToggle();\r\n            super.OnClick();\r\n        }\r\n        UpdateVisualState(useTransitions?: boolean) {\r\n            useTransitions = useTransitions !== false;\r\n            super.UpdateVisualState(useTransitions);\r\n\r\n            var isChecked = this.IsChecked;\r\n            var vsm = Fayde.Media.VSM.VisualStateManager;\r\n            if (isChecked === true) {\r\n                vsm.GoToState(this, \"Checked\", useTransitions);\r\n            } else if (isChecked === false) {\r\n                vsm.GoToState(this, \"Unchecked\", useTransitions);\r\n            } else {\r\n                // isChecked is null\r\n                if (!vsm.GoToState(this, \"Indeterminate\", useTransitions)) {\r\n                    vsm.GoToState(this, \"Unchecked\", useTransitions)\r\n                }\r\n            }\r\n        }\r\n\r\n        OnIsCheckedChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var isChecked = args.NewValue;\r\n            this.UpdateVisualState();\r\n            var rargs = new RoutedEventArgs();\r\n            if (isChecked === true) {\r\n                this.Checked.raise(this, rargs);\r\n            } else if (isChecked === false) {\r\n                this.Unchecked.raise(this, rargs);\r\n            } else {\r\n                this.Indeterminate.raise(this, rargs);\r\n            }\r\n        }\r\n        OnToggle() {\r\n            var isChecked = this.IsChecked;\r\n            if (isChecked === true) {\r\n                this.SetCurrentValue(ToggleButton.IsCheckedProperty, this.IsThreeState ? null : false);\r\n            } else {\r\n                this.SetCurrentValue(ToggleButton.IsCheckedProperty, isChecked != null);\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ToggleButton);\r\n    TemplateVisualStates(ToggleButton, { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"CheckStates\", Name: \"Checked\" },\r\n        { GroupName: \"CheckStates\", Name: \"Unchecked\" },\r\n        { GroupName: \"CheckStates\", Name: \"Indeterminate\" });\r\n}","/// <reference path=\"Primitives/ToggleButton.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class CheckBox extends Primitives.ToggleButton {\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = CheckBox;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(CheckBox);\r\n    TemplateVisualStates(CheckBox, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"CheckStates\", Name: \"Checked\" },\r\n        { GroupName: \"CheckStates\", Name: \"Unchecked\" },\r\n        { GroupName: \"CheckStates\", Name: \"Indeterminate\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidFocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"Valid\" });\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ColumnDefinition extends DependencyObject implements minerva.controls.grid.IColumnDefinition {\r\n        //NOTE: Will not receive property changes from GridLength\r\n        static WidthProperty = DependencyProperty.Register(\"Width\", () => GridLength, ColumnDefinition, undefined, Incite);\r\n        static MaxWidthProperty = DependencyProperty.Register(\"MaxWidth\", () => Number, ColumnDefinition, Number.POSITIVE_INFINITY, Incite);\r\n        static MinWidthProperty = DependencyProperty.Register(\"MinWidth\", () => Number, ColumnDefinition, 0.0, Incite);\r\n        static ActualWidthProperty = DependencyProperty.RegisterReadOnly(\"ActualWidth\", () => Number, ColumnDefinition, 0.0);\r\n        Width: GridLength;\r\n        MaxWidth: number;\r\n        MinWidth: number;\r\n        ActualWidth: number;\r\n\r\n        setActualWidth (value: number) {\r\n            this.SetCurrentValue(ColumnDefinition.ActualWidthProperty, value);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ColumnDefinition);\r\n\r\n    import GridUnitType = minerva.controls.grid.GridUnitType;\r\n    function ConvertColumnDefinition (o: any): ColumnDefinition {\r\n        if (!o || o instanceof ColumnDefinition)\r\n            return <ColumnDefinition>o;\r\n        var s: string = o.toString();\r\n        var cd = new ColumnDefinition();\r\n        if (s.toLowerCase() === \"auto\") {\r\n            cd.Width = new GridLength(0, GridUnitType.Auto);\r\n            return cd;\r\n        }\r\n        if (s === \"*\") {\r\n            cd.Width = new GridLength(1, GridUnitType.Star);\r\n            return cd;\r\n        }\r\n        var v = parseFloat(s);\r\n        if (isNaN(v))\r\n            throw new XamlParseException(\"Invalid ColumnDefinition: '\" + s + \"'.\");\r\n        cd.Width = new GridLength(v, s[s.length - 1] === \"*\" ? GridUnitType.Star : GridUnitType.Pixel);\r\n        return cd;\r\n    }\r\n\r\n    nullstone.registerTypeConverter(ColumnDefinition, ConvertColumnDefinition);\r\n\r\n    export class ColumnDefinitionCollection extends XamlObjectCollection<ColumnDefinition> {\r\n        _RaiseItemAdded (value: ColumnDefinition, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: true\r\n            });\r\n        }\r\n\r\n        _RaiseItemRemoved (value: ColumnDefinition, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: false\r\n            });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ColumnDefinitionCollection);\r\n\r\n    function ConvertColumnDefinitionCollection (o: any): ColumnDefinitionCollection {\r\n        if (!o || o instanceof ColumnDefinitionCollection)\r\n            return <ColumnDefinitionCollection>o;\r\n        if (typeof o === \"string\") {\r\n            var tokens = (<string>o).split(\" \");\r\n            var len = tokens.length;\r\n            var cdc = new ColumnDefinitionCollection();\r\n            var cd: ColumnDefinition;\r\n            for (var i = 0; i < len; i++) {\r\n                if (cd = ConvertColumnDefinition(tokens[i]))\r\n                    cdc.Add(cd);\r\n            }\r\n            return cdc;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    nullstone.registerTypeConverter(ColumnDefinitionCollection, ConvertColumnDefinitionCollection);\r\n}","/// <reference path=\"Control.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ItemsControlNode extends ControlNode {\r\n        XObject: ItemsControl;\r\n        constructor(xobj: ItemsControl) {\r\n            super(xobj);\r\n        }\r\n\r\n        ItemsPresenter: ItemsPresenter = null;\r\n        GetDefaultVisualTree(): UIElement {\r\n            var presenter = this.ItemsPresenter;\r\n            if (!presenter)\r\n                (presenter = new ItemsPresenter()).TemplateOwner = this.XObject;\r\n            return presenter;\r\n        }\r\n    }\r\n\r\n    export class ItemsControl extends Control {\r\n        XamlNode: ItemsControlNode;\r\n        CreateNode(): ItemsControlNode { return new ItemsControlNode(this); }\r\n\r\n        get IsItemsControl(): boolean { return true; }\r\n\r\n        static DisplayMemberPathProperty = DependencyProperty.Register(\"DisplayMemberPath\", () => String, ItemsControl, null, (d, args) => (<ItemsControl>d).OnDisplayMemberPathChanged(args));\r\n        static ItemsPanelProperty = DependencyProperty.Register(\"ItemsPanel\", () => ItemsPanelTemplate, ItemsControl);\r\n        static ItemsSourceProperty = DependencyProperty.RegisterFull(\"ItemsSource\", () => nullstone.IEnumerable_, ItemsControl, null, (d, args) => (<ItemsControl>d).OnItemsSourceChanged(args));\r\n        static ItemsProperty = DependencyProperty.RegisterImmutable<ItemCollection>(\"Items\", () => ItemCollection, ItemsControl);\r\n        static ItemTemplateProperty = DependencyProperty.Register(\"ItemTemplate\", () => DataTemplate, ItemsControl, undefined, (d, args) => (<ItemsControl>d).OnItemTemplateChanged(args));\r\n\r\n        static IsItemsHostProperty = DependencyProperty.RegisterAttached(\"IsItemsHost\", () => Boolean, ItemsControl, false);\r\n        static GetIsItemsHost(d: DependencyObject): boolean { return d.GetValue(ItemsControl.IsItemsHostProperty) === true; }\r\n        static SetIsItemsHost(d: DependencyObject, value: boolean) { d.SetValue(ItemsControl.IsItemsHostProperty, value === true); }\r\n\r\n        DisplayMemberPath: string;\r\n        ItemsPanel: ItemsPanelTemplate;\r\n        ItemsSource: nullstone.IEnumerable<any>;\r\n        Items: ItemCollection;\r\n        ItemTemplate: DataTemplate;\r\n\r\n        OnDisplayMemberPathChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            for (var en = this.ItemContainersManager.GetEnumerator(); en.moveNext();) {\r\n                this.UpdateContainerTemplate(en.current, en.CurrentItem);\r\n            }\r\n        }\r\n        OnItemsSourceChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            //Unsubscribe from old\r\n            var nc = Collections.INotifyCollectionChanged_.as(e.OldValue);\r\n            if (nc)\r\n                nc.CollectionChanged.off(this._OnItemsSourceUpdated, this);\r\n            var items = this.Items;\r\n            var resetargs = Collections.CollectionChangedEventArgs.Reset(items.ToArray());\r\n\r\n            //Reset old\r\n            try {\r\n                this._SuspendItemsChanged = true;\r\n                items.Clear();\r\n            } finally {\r\n                this._SuspendItemsChanged = false;\r\n            }\r\n            this.OnItemsChanged(resetargs);\r\n\r\n            //Notify new\r\n            this._IsDataBound = !!e.NewValue;\r\n            var arr = toArray(e.NewValue);\r\n            try {\r\n                this._SuspendItemsChanged = true;\r\n                if (arr)\r\n                    items.AddRange(arr);\r\n            } finally {\r\n                this._SuspendItemsChanged = false;\r\n            }\r\n            if (arr)\r\n                this.OnItemsChanged(Collections.CollectionChangedEventArgs.AddRange(arr, 0));\r\n\r\n            //Subscribe to new\r\n            var nc = Collections.INotifyCollectionChanged_.as(e.NewValue);\r\n            if (nc)\r\n                nc.CollectionChanged.on(this._OnItemsSourceUpdated, this);\r\n        }\r\n\r\n        OnItemTemplateChanged (e: IDependencyPropertyChangedEventArgs) {\r\n            for (var en = this.ItemContainersManager.GetEnumerator(); en.moveNext();) {\r\n                this.UpdateContainerTemplate(en.current, en.CurrentItem);\r\n            }\r\n        }\r\n\r\n        private _ItemContainersManager: Internal.IItemContainersManager;\r\n        get ItemContainersManager(): Internal.IItemContainersManager { return this._ItemContainersManager; }\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ItemsControl;\r\n            var coll = <ItemCollection>ItemsControl.ItemsProperty.Initialize(this);\r\n            coll.ItemsChanged.on(this._OnItemsUpdated, this);\r\n\r\n            this._ItemContainersManager = new Internal.ItemContainersManager(this);\r\n        }\r\n\r\n        PrepareContainerForItem(container: UIElement, item: any) {\r\n            if (this.DisplayMemberPath != null && this.ItemTemplate != null)\r\n                throw new InvalidOperationException(\"Cannot set 'DisplayMemberPath' and 'ItemTemplate' simultaneously\");\r\n            this.UpdateContainerTemplate(container, item);\r\n        }\r\n        ClearContainerForItem(container: UIElement, item: any) {\r\n            if (container instanceof ContentPresenter) {\r\n                var cp = <ContentPresenter>container;\r\n                if (cp.Content === item)\r\n                    cp.Content = null;\r\n            } else if (container instanceof ContentControl) {\r\n                var cc = <ContentControl>container;\r\n                if (cc.Content === item)\r\n                    cc.Content = null;\r\n            }\r\n        }\r\n        GetContainerForItem(): UIElement { return new ContentPresenter(); }\r\n        IsItemItsOwnContainer(item: any): boolean { return item instanceof UIElement; }\r\n\r\n        private _IsDataBound = false;\r\n        private _SuspendItemsChanged = false;\r\n        private _OnItemsUpdated(sender: any, e: Collections.CollectionChangedEventArgs) {\r\n            if (this._SuspendItemsChanged) //Ignore OnItemsSourceChanged operations\r\n                return;\r\n            if (this._IsDataBound)\r\n                throw new InvalidOperationException(\"Cannot modify Items while bound to ItemsSource.\");\r\n            this.OnItemsChanged(e);\r\n        }\r\n        private _OnItemsSourceUpdated(sender: any, e: Collections.CollectionChangedEventArgs) {\r\n            var items = this.Items;\r\n            try {\r\n                this._SuspendItemsChanged = true;\r\n                switch (e.Action) {\r\n                    case Collections.CollectionChangedAction.Add:\r\n                        for (var i = 0, len = e.NewItems.length; i < len; i++) {\r\n                            items.Insert(e.NewStartingIndex + i, e.NewItems[i]);\r\n                        }\r\n                        break;\r\n                    case Collections.CollectionChangedAction.Remove:\r\n                        for (var i = 0, len = e.OldItems.length; i < len; i++) {\r\n                            items.RemoveAt(e.OldStartingIndex);\r\n                        }\r\n                        break;\r\n                    case Collections.CollectionChangedAction.Replace:\r\n                        items.SetValueAt(e.NewStartingIndex, e.NewItems[0]);\r\n                        break;\r\n                    case Collections.CollectionChangedAction.Reset:\r\n                        items.Clear();\r\n                        break;\r\n                }\r\n            } finally {\r\n                this._SuspendItemsChanged = false;\r\n            }\r\n            this.OnItemsChanged(e);\r\n        }\r\n        OnItemsChanged(e: Collections.CollectionChangedEventArgs) {\r\n            switch (e.Action) {\r\n                case Collections.CollectionChangedAction.Add:\r\n                    this.OnItemsAdded(e.NewStartingIndex, e.NewItems);\r\n                    break;\r\n                case Collections.CollectionChangedAction.Remove:\r\n                    this.OnItemsRemoved(e.OldStartingIndex, e.OldItems);\r\n                    break;\r\n                case Collections.CollectionChangedAction.Replace:\r\n                    this.OnItemsRemoved(e.NewStartingIndex, e.OldItems);\r\n                    this.OnItemsAdded(e.NewStartingIndex, e.NewItems);\r\n                    break;\r\n                case Collections.CollectionChangedAction.Reset:\r\n                    this.OnItemsRemoved(0, e.OldItems);\r\n                    break;\r\n            }\r\n        }\r\n        OnItemsAdded(index: number, newItems: any[]) {\r\n            this._ItemContainersManager.OnItemsAdded(index, newItems);\r\n            var presenter = this.XamlNode.ItemsPresenter;\r\n            if (presenter)\r\n                presenter.OnItemsAdded(index, newItems);\r\n        }\r\n        OnItemsRemoved(index: number, oldItems: any[]) {\r\n            var presenter = this.XamlNode.ItemsPresenter;\r\n            if (presenter)\r\n                presenter.OnItemsRemoved(index, oldItems);\r\n            this._ItemContainersManager.OnItemsRemoved(index, oldItems);\r\n        }\r\n\r\n        private UpdateContainerTemplate(container: UIElement, item: any) {\r\n            if (!container || container === item)\r\n                return;\r\n\r\n            var template: DataTemplate;\r\n            if (!(item instanceof UIElement))\r\n                template = this.ItemTemplate || this._GetDisplayMemberTemplate();\r\n\r\n            if (container instanceof ContentPresenter) {\r\n                var cp = <ContentPresenter>container;\r\n                cp.ContentTemplate = template;\r\n                cp.Content = item;\r\n            } else if (container instanceof ContentControl) {\r\n                var cc = <ContentControl>container;\r\n                cc.ContentTemplate = template;\r\n                cc.Content = item;\r\n            }\r\n        }\r\n        private _DisplayMemberTemplate: DataTemplate = null;\r\n        private _GetDisplayMemberTemplate(): DataTemplate {\r\n            if (!this._DisplayMemberTemplate) {\r\n                var xm = DisplayTemplate.create(this.DisplayMemberPath || \"\");\r\n                this._DisplayMemberTemplate = Markup.Load<DataTemplate>(this.App, xm);\r\n            }\r\n            return this._DisplayMemberTemplate;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ItemsControl);\r\n    Markup.Content(ItemsControl, ItemsControl.ItemsProperty);\r\n\r\n    function toArray(value: any): any[] {\r\n        if (value instanceof Array)\r\n            return <any[]>value;\r\n        var enu = nullstone.IEnumerable_.as(value);\r\n        if (enu) {\r\n            var arr = [];\r\n            for (var en = enu.getEnumerator(); en.moveNext();) {\r\n                arr.push(en.current);\r\n            }\r\n            return arr;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    module DisplayTemplate {\r\n        export function create (dmp: string) {\r\n            return Fayde.Markup.CreateXaml(\"<DataTemplate xmlns=\\\"\" + Fayde.XMLNS + \"\\\"><Grid><TextBlock Text=\\\"{Binding \" + dmp + \"}\\\" /></Grid></DataTemplate>\"\r\n                , Fayde.XMLNS + \"/itemscontrol/displaymember/\" + dmp);\r\n        }\r\n    }\r\n}","/// <reference path=\"../ItemsControl.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class Selector extends ItemsControl {\r\n        static IsSynchronizedWithCurrentItemProperty = DependencyProperty.Register(\"IsSynchronizedWithCurrentItem\", () => Boolean, Selector, null, (d: Selector, args) => d._OnIsSynchronizedWithCurrentItemChanged(args));\r\n        static SelectedIndexProperty = DependencyProperty.Register(\"SelectedIndex\", () => Number, Selector, -1, (d: Selector, args) => d._OnSelectedIndexChanged(args));\r\n        static SelectedItemProperty = DependencyProperty.Register(\"SelectedItem\", () => Object, Selector, undefined, (d: Selector, args) => d._OnSelectedItemChanged(args));\r\n        static SelectedValueProperty = DependencyProperty.Register(\"SelectedValue\", () => Object, Selector, undefined, (d: Selector, args) => d._OnSelectedValueChanged(args));\r\n        static SelectedValuePathProperty = DependencyProperty.Register(\"SelectedValuePath\", () => String, Selector, \"\", (d: Selector, args) => d._OnSelectedValuePathChanged(args));\r\n        static IsSelectionActiveProperty = DependencyProperty.RegisterReadOnlyCore(\"IsSelectionActive\", () => Boolean, Selector);\r\n        static SelectionModeProperty = DependencyProperty.Register(\"SelectionMode\", () => new Enum(SelectionMode), Selector, undefined, (d: Selector, args) => d._OnSelectionModeChanged(args));\r\n        IsSynchronizedWithCurrentItem: boolean;\r\n        SelectedIndex: number;\r\n        SelectedItem: any;\r\n        SelectedValue: any;\r\n        SelectedValuePath: string;\r\n        IsSelectionActive: boolean;\r\n        SelectionMode: SelectionMode;\r\n\r\n        SelectionChanged: RoutedEvent<SelectionChangedEventArgs> = new RoutedEvent<SelectionChangedEventArgs>();\r\n        private _Selection: SelectorSelection;\r\n        private _SelectedItems: Collections.ObservableCollection<any> = new Collections.ObservableCollection<any>();\r\n        _SelectedItemsIsInvalid: boolean = false;\r\n        $TemplateScrollViewer: ScrollViewer = null;\r\n        private _SelectedValueWalker: Data.PropertyPathWalker = null;\r\n\r\n        private get SynchronizeWithCurrentItem(): boolean {\r\n            if (!Data.ICollectionView_.is(this.ItemsSource))\r\n                return false;\r\n            return this.IsSynchronizedWithCurrentItem !== false;\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this._Selection = new SelectorSelection(this);\r\n        }\r\n\r\n        get SelectedItems(): Collections.ObservableCollection<any> {\r\n            if (this._SelectedItemsIsInvalid)\r\n                this._Selection.RepopulateSelectedItems();\r\n            return this._SelectedItems;\r\n        }\r\n\r\n        private _OnIsSynchronizedWithCurrentItemChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (args.NewValue === true)\r\n                throw new ArgumentException(\"Setting IsSynchronizedWithCurrentItem to 'true' is not supported\");\r\n\r\n            if (args.NewValue != null)\r\n                return this.SelectedItem = null;\r\n            var icv = Data.ICollectionView_.as(this.ItemsSource);\r\n            if (icv)\r\n                this.SelectedItem = icv.CurrentItem;\r\n        }\r\n        private _OnSelectedIndexChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._Selection.IsUpdating)\r\n                return;\r\n\r\n            var items = this.Items;\r\n            if (args.NewValue < 0 || args.NewValue >= items.Count)\r\n                this._Selection.ClearSelection();\r\n            else\r\n                this._Selection.Select(items.GetValueAt(args.NewValue));\r\n        }\r\n        private _OnSelectedItemChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._Selection.IsUpdating)\r\n                return;\r\n\r\n            if (args.NewValue == null)\r\n                this._Selection.ClearSelection();\r\n            else if (this.Items.IndexOf(args.NewValue) !== -1)\r\n                this._Selection.Select(args.NewValue);\r\n            else if (this.Items.IndexOf(args.OldValue) !== -1)\r\n                this._Selection.Select(args.OldValue);\r\n            else\r\n                this._Selection.ClearSelection();\r\n        }\r\n        private _OnSelectedValueChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._Selection.IsUpdating)\r\n                return;\r\n            this._SelectItemFromValue(args.NewValue, false);\r\n        }\r\n        private _OnSelectedValuePathChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._SelectedValueWalker = !args.NewValue ? null : new Data.PropertyPathWalker(args.NewValue);\r\n            this._SelectItemFromValue(this.SelectedValue, true);\r\n        }\r\n        private _OnSelectionModeChanged(args: DependencyPropertyChangedEventArgs) {\r\n            this._Selection.Mode = args.NewValue;\r\n            if (args.NewValue !== SelectionMode.Single)\r\n                return;\r\n            var selIndex = this.SelectedIndex;\r\n            if (selIndex === -1)\r\n                return;\r\n            this._Selection.SelectOnly(this.Items.GetValueAt(selIndex));\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            var tsv = this.$TemplateScrollViewer = <ScrollViewer>this.GetTemplateChild(\"ScrollViewer\", ScrollViewer);\r\n            if (tsv) {\r\n                tsv.$TemplatedParentHandlesScrolling = true;\r\n                tsv.HorizontalScrollBarVisibility = Controls.ScrollViewer.GetHorizontalScrollBarVisibility(this);\r\n                tsv.VerticalScrollBarVisibility = Controls.ScrollViewer.GetVerticalScrollBarVisibility(this);\r\n            }\r\n        }\r\n\r\n        OnItemsChanged(e: Collections.CollectionChangedEventArgs) {\r\n            super.OnItemsChanged(e);\r\n            var item: any;\r\n            switch (e.Action) {\r\n                case Collections.CollectionChangedAction.Add:\r\n                    var lbi: ListBoxItem;\r\n                    if (e.NewItems[0] instanceof ListBoxItem) lbi = <ListBoxItem>e.NewItems[0];\r\n                    if (lbi != null && lbi.IsSelected && !this.SelectedItems.Contains(lbi)) {\r\n                        this._Selection.Select(lbi);\r\n                    } else if (this.SelectedItem != null) {\r\n                        this._Selection.Select(this.SelectedItem);\r\n                    }\r\n                    break;\r\n                case Collections.CollectionChangedAction.Reset:\r\n                    var o: any;\r\n                    var icv = Data.ICollectionView_.as(this.ItemsSource);\r\n                    if (icv && this.SynchronizeWithCurrentItem)\r\n                        o = icv.CurrentItem;\r\n                    else\r\n                        o = this.SelectedItem;\r\n                    if (this.Items.Contains(o))\r\n                        this._Selection.Select(o);\r\n                    else\r\n                        this._Selection.ClearSelection();\r\n                    break;\r\n                case Collections.CollectionChangedAction.Remove:\r\n                    item = e.OldItems[0];\r\n                    if (this.SelectedItems.Contains(item))\r\n                        this._Selection.Unselect(item);\r\n                    else if (e.OldStartingIndex <= this.SelectedIndex)\r\n                        this._Selection.Select(this.SelectedItem);\r\n                    break;\r\n                case Collections.CollectionChangedAction.Replace:\r\n                    item = e.OldItems[0];\r\n                    this._Selection.Unselect(item);\r\n                    break;\r\n                default:\r\n                    throw new NotSupportedException(\"Collection changed action '\" + e.Action + \"' not supported\");\r\n            }\r\n        }\r\n        OnItemsSourceChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            super.OnItemsSourceChanged(args);\r\n\r\n            var view = Data.ICollectionView_.as(args.OldValue);\r\n            if (view)\r\n                view.CurrentChanged.off(this._OnCurrentItemChanged, this);\r\n            \r\n            view = Data.ICollectionView_.as(args.NewValue);\r\n            if (view) {\r\n                view.CurrentChanged.on(this._OnCurrentItemChanged, this);\r\n                if (this.SynchronizeWithCurrentItem)\r\n                    this._Selection.SelectOnly(view.CurrentItem);\r\n                else\r\n                    this._Selection.ClearSelection();\r\n            } else {\r\n                this._Selection.ClearSelection();\r\n            }\r\n        }\r\n        OnItemContainerStyleChanged(oldStyle, newStyle) { }\r\n\r\n        ClearContainerForItem(element: UIElement, item: any) {\r\n            super.ClearContainerForItem(element, item);\r\n            var lbi = <ListBoxItem>element;\r\n            lbi.ParentSelector = null;\r\n            if (lbi !== item)\r\n                lbi.Content = null;\r\n        }\r\n        PrepareContainerForItem(element: UIElement, item: any) {\r\n            super.PrepareContainerForItem(element, item);\r\n            var lbi = <ListBoxItem>element;\r\n            lbi.ParentSelector = this;\r\n            if (this.SelectedItems.Contains(item))\r\n                lbi.IsSelected = true;\r\n            if (lbi.IsSelected && !this.SelectedItems.Contains(item))\r\n                this._Selection.Select(item);\r\n        }\r\n\r\n        _GetValueFromItem(item: any) {\r\n            if (this._SelectedValueWalker == null)\r\n                return item;\r\n            if (item == null)\r\n                return item;\r\n            return this._SelectedValueWalker.GetValue(item);\r\n        }\r\n        private _SelectItemFromValue(selectedValue: any, ignoreSelectedValue?: boolean) {\r\n            if (selectedValue == null) {\r\n                this._Selection.ClearSelection(ignoreSelectedValue);\r\n                return;\r\n            }\r\n\r\n            var items = this.Items;\r\n            var count = items.Count;\r\n            for (var i = 0; i < count; i++) {\r\n                var item = items.GetValueAt(i);\r\n                var val = this._GetValueFromItem(item);\r\n                if (nullstone.equals(selectedValue, val)) {\r\n                    if (!this.SelectedItems.Contains(item))\r\n                        this._Selection.Select(item);\r\n                    return;\r\n                }\r\n            }\r\n            this._Selection.ClearSelection(ignoreSelectedValue);\r\n        }\r\n\r\n        SelectAll() {\r\n            this._Selection.SelectAll(this.Items.ToArray());\r\n        }\r\n\r\n        private _OnCurrentItemChanged(sender, e: nullstone.IEventArgs) {\r\n            if (!this._Selection.IsUpdating && this.SynchronizeWithCurrentItem) {\r\n                var icv = <Data.ICollectionView>this.ItemsSource;\r\n                if (!nullstone.equals(icv.CurrentItem, this.SelectedItem))\r\n                    this._Selection.SelectOnly(icv.CurrentItem);\r\n            }\r\n        }\r\n\r\n        _RaiseSelectionChanged(oldVals: any[], newVals: any[]) {\r\n            if (!oldVals) oldVals = [];\r\n            if (!newVals) newVals = [];\r\n\r\n            var lbi: ListBoxItem;\r\n            var oldCount = oldVals.length;\r\n            var oldValue;\r\n            for (var i = 0; i < oldCount; i++) {\r\n                oldValue = oldVals[i];\r\n                if (oldValue == null)\r\n                    continue;\r\n                lbi = null;\r\n                if (oldValue instanceof ListBoxItem) lbi = <ListBoxItem>oldValue;\r\n                lbi = lbi || <ListBoxItem>this.ItemContainersManager.ContainerFromItem(oldValue);\r\n                if (lbi)\r\n                    lbi.IsSelected = false;\r\n            }\r\n\r\n            var newCount = newVals.length;\r\n            var newValue;\r\n            for (var i = 0; i < newCount; i++) {\r\n                newValue = newVals[i];\r\n                if (newValue == null)\r\n                    continue;\r\n                lbi = null;\r\n                if (newValue instanceof ListBoxItem) lbi = <ListBoxItem>newValue;\r\n                lbi = lbi || <ListBoxItem>this.ItemContainersManager.ContainerFromItem(newValue);\r\n                if (lbi) {\r\n                    lbi.IsSelected = true;\r\n                    lbi.Focus();\r\n                }\r\n            }\r\n\r\n            var args = new SelectionChangedEventArgs(oldVals, newVals);\r\n            this.OnSelectionChanged(args);\r\n            this.SelectionChanged.raise(this, args);\r\n        }\r\n        OnSelectionChanged(args: SelectionChangedEventArgs) { }\r\n\r\n        NotifyListItemClicked(lbi: ListBoxItem) {\r\n            this._Selection.Select(this.ItemContainersManager.ItemFromContainer(lbi));\r\n        }\r\n        NotifyListItemLoaded(lbi: ListBoxItem) {\r\n            if (this.ItemContainersManager.ItemFromContainer(lbi) === this.SelectedItem) {\r\n                lbi.IsSelected = true;\r\n                lbi.Focus();\r\n            }\r\n        }\r\n        NotifyListItemGotFocus(lbi: ListBoxItem) { }\r\n        NotifyListItemLostFocus(lbi: ListBoxItem) { }\r\n    }\r\n    Fayde.CoreLibrary.add(Selector);\r\n}","module Fayde.Markup {\r\n    import XamlMarkup = nullstone.markup.xaml.XamlMarkup;\r\n    var lastId = 0;\r\n\r\n    export function CreateXaml (xaml: string, uri?: string): XamlMarkup;\r\n    export function CreateXaml (el: Element, uri?: string): XamlMarkup;\r\n    export function CreateXaml (obj: any, uri?: string): XamlMarkup {\r\n        lastId++;\r\n        uri = uri || \"http://gen/\" + lastId.toString();\r\n        var xm = new XamlMarkup(uri);\r\n        var root = (typeof obj === \"string\")\r\n            ? xm.loadRoot(obj)\r\n            : obj;\r\n        if (!root.isDefaultNamespace(Fayde.XMLNS))\r\n            throw new XamlParseException(\"Invalid default namespace. [\" + root.lookupNamespaceURI(null) + \"]\");\r\n        xm.setRoot(root);\r\n        return xm;\r\n    }\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n/// <reference path=\"../Markup/Creator.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    var fmd = Markup.CreateXaml(\"<DataTemplate xmlns=\\\"\" + Fayde.XMLNS + \"\\\"><Grid><TextBlock Text=\\\"{Binding}\\\" /></Grid></DataTemplate>\"\r\n        , Fayde.XMLNS + \"/contentpresenter/default\");\r\n    var fallbackTemplate: DataTemplate;\r\n    function getFallbackTemplate (app: Application): DataTemplate {\r\n        return fallbackTemplate = fallbackTemplate || Markup.Load<DataTemplate>(app, fmd);\r\n    }\r\n\r\n    export class ContentPresenterNode extends FENode {\r\n        private _ContentRoot: UIElement;\r\n        get ContentRoot(): UIElement { return this._ContentRoot; }\r\n\r\n        XObject: ContentPresenter;\r\n        constructor(xobj: ContentPresenter) {\r\n            super(xobj);\r\n        }\r\n\r\n        DoApplyTemplateWithError(error: BError): boolean {\r\n            if (this._ContentRoot)\r\n                return false;\r\n\r\n            var xobj = this.XObject;\r\n            // This is meant to create {TemplateBinding ...} as a convenience when user doesn't\r\n            // This really should check for a value or an expression\r\n            if (xobj.TemplateOwner instanceof ContentControl) {\r\n                if (!xobj.HasValueOrExpression(ContentPresenter.ContentProperty)) {\r\n                    xobj.SetValue(ContentPresenter.ContentProperty, new TemplateBindingExpression(\"Content\"));\r\n                }\r\n                if (!xobj.HasValueOrExpression(ContentPresenter.ContentTemplateProperty)) {\r\n                    xobj.SetValue(ContentPresenter.ContentTemplateProperty, new TemplateBindingExpression(\"ContentTemplate\"));\r\n                }\r\n            }\r\n\r\n            var content = xobj.Content;\r\n            if (content instanceof UIElement) {\r\n                this._ContentRoot = content;\r\n                xobj.DataContext = undefined;\r\n            } else {\r\n                xobj.DataContext = content == null ? null : content;\r\n                this._ContentRoot = this._GetContentTemplate(content ? content.constructor : null).GetVisualTree(xobj);\r\n            }\r\n\r\n            if (!this._ContentRoot)\r\n                return false;\r\n\r\n            return this.AttachVisualChild(this._ContentRoot, error);\r\n        }\r\n\r\n        ClearRoot() {\r\n            if (this._ContentRoot)\r\n                this.DetachVisualChild(this._ContentRoot, null);\r\n            this._ContentRoot = null;\r\n        }\r\n\r\n        _ContentChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var isUIContent = args.NewValue instanceof UIElement;\r\n            if (isUIContent || args.OldValue instanceof UIElement) {\r\n                this.ClearRoot();\r\n            } else if (!isUIContent) {\r\n                if (this._ShouldInvalidateImplicitTemplate(args.OldValue, args.NewValue))\r\n                    this.ClearRoot();\r\n                this.XObject.DataContext = args.NewValue == null ? null : args.NewValue;\r\n            }\r\n            this.LayoutUpdater.invalidateMeasure();\r\n        }\r\n        _ContentTemplateChanged() {\r\n            this.ClearRoot();\r\n            this.LayoutUpdater.invalidateMeasure();\r\n        }\r\n\r\n        private _ShouldInvalidateImplicitTemplate(oldValue: any, newValue: any): boolean {\r\n            //NOTE: If we are using an implicit data template, we need to make sure we invalidate when Content changes\r\n            var octor = oldValue ? oldValue.constructor : null;\r\n            var nctor = newValue ? newValue.constructor : null;\r\n            if (octor !== nctor)\r\n                return true;\r\n            if (octor === Object)\r\n                return true;\r\n            return false;\r\n        }\r\n\r\n        private _GetContentTemplate(type: Function): DataTemplate {\r\n            var dt = this.XObject.ContentTemplate;\r\n            if (dt)\r\n                return dt;\r\n\r\n            if (type && typeof type === \"function\") {\r\n                //Traverse logical tree looking in Resources for implicitly typed DataTemplate\r\n                var node = <XamlNode>this;\r\n                var rd: ResourceDictionary;\r\n                while (node) {\r\n                    var xobj = node.XObject;\r\n                    if (xobj instanceof FrameworkElement && (rd = (<FrameworkElement>xobj).Resources)) {\r\n                        dt = rd.Get(type);\r\n                        if (dt instanceof DataTemplate)\r\n                            return dt;\r\n                    }\r\n                    node = node.ParentNode;\r\n                }\r\n                var surface = <Surface>this.LayoutUpdater.tree.surface;\r\n                var app = surface ? surface.App : null;\r\n                if (app) {\r\n                    dt = app.Resources.Get(type);\r\n                    if (dt instanceof DataTemplate)\r\n                        return dt;\r\n                }\r\n            }\r\n\r\n            return getFallbackTemplate(this.XObject.App);\r\n        }\r\n    }\r\n\r\n    export class ContentPresenter extends FrameworkElement {\r\n        XamlNode: ContentPresenterNode;\r\n        CreateNode(): ContentPresenterNode { return new ContentPresenterNode(this); }\r\n\r\n        static ContentProperty = DependencyProperty.Register(\"Content\", () => Object, ContentPresenter, undefined, (d: ContentPresenter, args) => d.XamlNode._ContentChanged(args));\r\n        static ContentTemplateProperty = DependencyProperty.Register(\"ContentTemplate\", () => DataTemplate, ContentPresenter, undefined, (d: ContentPresenter, args) => d.XamlNode._ContentTemplateChanged());\r\n        Content: any;\r\n        ContentTemplate: DataTemplate;\r\n    }\r\n    Fayde.CoreLibrary.add(ContentPresenter);\r\n    Markup.Content(ContentPresenter, ContentPresenter.ContentProperty);\r\n}","/// <reference path=\"../../Core/FrameworkElement.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    import PopupUpdater = minerva.controls.popup.PopupUpdater;\r\n\r\n    export class PopupNode extends FENode {\r\n        LayoutUpdater: PopupUpdater;\r\n        XObject: Popup;\r\n\r\n        ClickedOutside = new nullstone.Event<nullstone.IEventArgs>();\r\n\r\n        OnIsAttachedChanged (newIsAttached: boolean) {\r\n            super.OnIsAttachedChanged(newIsAttached);\r\n            this.RegisterInitiator(this.VisualParentNode.XObject);\r\n            if (!newIsAttached && this.XObject.IsOpen)\r\n                this.XObject.IsOpen = false;\r\n        }\r\n\r\n        private _Overlay: Canvas = null;\r\n        private _Catcher: Canvas = null;\r\n\r\n        EnsureOverlay (): Canvas {\r\n            if (!this._Overlay) {\r\n                this._Overlay = new Canvas();\r\n                this.LayoutUpdater.setLayer(this._Overlay.XamlNode.LayoutUpdater);\r\n            }\r\n            return this._Overlay;\r\n        }\r\n\r\n        EnsureCatcher (): Canvas {\r\n            var catcher = this._Catcher;\r\n            if (this.ClickedOutside.has && !catcher) {\r\n                catcher = this._Catcher = new Canvas();\r\n                catcher.Background = Media.SolidColorBrush.FromColor(Color.FromRgba(255, 255, 255, 0));\r\n                catcher.LayoutUpdated.on(this.UpdateCatcher, this);\r\n                catcher.MouseLeftButtonDown.on(this._RaiseClickedOutside, this);\r\n                this.EnsureOverlay().Children.Insert(0, catcher);\r\n            }\r\n            return catcher;\r\n        }\r\n\r\n        UpdateCatcher () {\r\n            var root = this._Overlay;\r\n            if (!root)\r\n                return;\r\n            var surface = this.LayoutUpdater.tree.initiatorSurface;\r\n            if (!surface)\r\n                return;\r\n            root.Width = surface.width;\r\n            root.Height = surface.height;\r\n            var catcher = this._Catcher;\r\n            if (!catcher)\r\n                return;\r\n            catcher.Width = root.Width;\r\n            catcher.Height = root.Height;\r\n        }\r\n\r\n        private _RaiseClickedOutside (sender, e) {\r\n            this.ClickedOutside.raise(this, null);\r\n        }\r\n\r\n        RegisterInitiator (initiator: UIElement) {\r\n            if (!(initiator instanceof UIElement))\r\n                return;\r\n            this.LayoutUpdater.setInitiator(initiator.XamlNode.LayoutUpdater);\r\n        }\r\n    }\r\n\r\n    export class Popup extends FrameworkElement {\r\n        XamlNode: PopupNode;\r\n        CreateNode (): PopupNode { return new PopupNode(this); }\r\n        CreateLayoutUpdater () { return new PopupUpdater(); }\r\n\r\n        static ChildProperty = DependencyProperty.Register(\"Child\", () => UIElement, Popup);\r\n        static HorizontalOffsetProperty = DependencyProperty.Register(\"HorizontalOffset\", () => Number, Popup, 0.0);\r\n        static VerticalOffsetProperty = DependencyProperty.Register(\"VerticalOffset\", () => Number, Popup, 0.0);\r\n        static IsOpenProperty = DependencyProperty.Register(\"IsOpen\", () => Boolean, Popup, false);\r\n        Child: UIElement;\r\n        HorizontalOffset: number;\r\n        VerticalOffset: number;\r\n        IsOpen: boolean;\r\n\r\n        Opened = new nullstone.Event<nullstone.IEventArgs>();\r\n        Closed = new nullstone.Event<nullstone.IEventArgs>();\r\n\r\n        WatchOutsideClick (callback: () => void, closure: any) {\r\n            this.XamlNode.ClickedOutside.on(callback, closure);\r\n            this.XamlNode.EnsureCatcher();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Popup);\r\n    Markup.Content(Popup, Popup.ChildProperty);\r\n\r\n    module reactions {\r\n        UIReaction<boolean>(Popup.IsOpenProperty, (upd, ov, nv, popup?: Popup) => {\r\n            if (nv === true) {\r\n                popup.Opened.raiseAsync(popup, null);\r\n                popup.XamlNode.UpdateCatcher();\r\n            } else {\r\n                popup.Closed.raiseAsync(popup, null);\r\n            }\r\n            minerva.controls.popup.reactTo.isOpen(upd, ov, nv);\r\n        }, false);\r\n        UIReaction<UIElement>(Popup.ChildProperty, (upd, ov, nv, popup?: Popup) => {\r\n            var overlay = popup.XamlNode.EnsureOverlay();\r\n            if (ov) {\r\n                Providers.InheritedStore.ClearInheritedOnRemove(popup, ov.XamlNode);\r\n                overlay.Children.Remove(ov);\r\n            }\r\n            upd.setChild(nv ? nv.XamlNode.LayoutUpdater : null);\r\n            if (nv) {\r\n                popup.XamlNode.EnsureCatcher();\r\n                overlay.Children.Add(nv);\r\n                Providers.InheritedStore.PropagateInheritedOnAdd(popup, nv.XamlNode);\r\n            }\r\n        }, false, false);\r\n        UIReaction<number>(Popup.HorizontalOffsetProperty, minerva.controls.popup.reactTo.horizontalOffset, false);\r\n        UIReaction<number>(Popup.VerticalOffsetProperty, minerva.controls.popup.reactTo.verticalOffset, false);\r\n    }\r\n}","module Fayde.Controls.Primitives {\r\n    export interface IScrollInfo {\r\n        ScrollOwner: ScrollViewer;\r\n\r\n        LineUp(): boolean;\r\n        LineDown(): boolean;\r\n        LineLeft(): boolean;\r\n        LineRight(): boolean;\r\n\r\n        MouseWheelUp(): boolean;\r\n        MouseWheelDown(): boolean;\r\n        MouseWheelLeft(): boolean;\r\n        MouseWheelRight(): boolean;\r\n\r\n        PageUp(): boolean;\r\n        PageDown(): boolean;\r\n        PageLeft(): boolean;\r\n        PageRight(): boolean;\r\n\r\n        MakeVisible(uie: UIElement, rectangle: minerva.Rect): minerva.Rect;\r\n\r\n        SetHorizontalOffset(offset: number): boolean;\r\n        SetVerticalOffset(offset: number): boolean;\r\n\r\n        CanHorizontallyScroll: boolean;\r\n        CanVerticallyScroll: boolean;\r\n        ExtentHeight: number;\r\n        ExtentWidth: number;\r\n        HorizontalOffset: number;\r\n        VerticalOffset: number;\r\n        ViewportHeight: number;\r\n        ViewportWidth: number;\r\n    }\r\n    export var IScrollInfo_ = new nullstone.Interface<IScrollInfo>(\"IScrollInfo\");\r\n}","/// <reference path=\"ContentPresenter.ts\" />\r\n/// <reference path=\"Primitives/IScrollInfo.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ScrollContentPresenter extends ContentPresenter implements Primitives.IScrollInfo {\r\n        CreateLayoutUpdater() {\r\n            var updater = new minerva.controls.scrollcontentpresenter.ScrollContentPresenterUpdater();\r\n            updater.assets.scrollData = this._ScrollData = new Primitives.ScrollData();\r\n            return updater;\r\n        }\r\n\r\n        private _ScrollData: Primitives.ScrollData;\r\n        private _IsClipPropertySet: boolean = false;\r\n        private _ClippingRectangle: Media.RectangleGeometry = null;\r\n\r\n        get ScrollOwner(): ScrollViewer { return this._ScrollData.scrollOwner; }\r\n        set ScrollOwner(value: ScrollViewer) { this._ScrollData.scrollOwner = value; }\r\n        get CanHorizontallyScroll(): boolean { return this._ScrollData.canHorizontallyScroll;; }\r\n        set CanHorizontallyScroll(value: boolean) {\r\n            var sd = this._ScrollData;\r\n            if (sd.canHorizontallyScroll !== value) {\r\n                sd.canHorizontallyScroll = value;\r\n                this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n            }\r\n        }\r\n        get CanVerticallyScroll(): boolean { return this._ScrollData.canVerticallyScroll; }\r\n        set CanVerticallyScroll(value: boolean) {\r\n            var sd = this._ScrollData;\r\n            if (sd.canVerticallyScroll !== value) {\r\n                sd.canVerticallyScroll = value;\r\n                this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n            }\r\n        }\r\n        get ExtentWidth(): number { return this._ScrollData.extentWidth; }\r\n        get ExtentHeight(): number { return this._ScrollData.extentHeight; }\r\n        get ViewportWidth(): number { return this._ScrollData.viewportWidth; }\r\n        get ViewportHeight(): number { return this._ScrollData.viewportHeight; }\r\n        get HorizontalOffset(): number { return this._ScrollData.offsetX; }\r\n        get VerticalOffset(): number { return this._ScrollData.offsetY; }\r\n        LineUp(): boolean { return this.SetVerticalOffset(this._ScrollData.offsetY - 16); }\r\n        LineDown(): boolean { return this.SetVerticalOffset(this._ScrollData.offsetY + 16); }\r\n        LineLeft(): boolean { return this.SetHorizontalOffset(this._ScrollData.offsetX - 16); }\r\n        LineRight(): boolean { return this.SetHorizontalOffset(this._ScrollData.offsetX + 16); }\r\n        MouseWheelUp(): boolean { return this.SetVerticalOffset(this._ScrollData.offsetY - 48); }\r\n        MouseWheelDown(): boolean { return this.SetVerticalOffset(this._ScrollData.offsetY + 48); }\r\n        MouseWheelLeft(): boolean { return this.SetHorizontalOffset(this._ScrollData.offsetX - 48); }\r\n        MouseWheelRight(): boolean { return this.SetHorizontalOffset(this._ScrollData.offsetX + 48); }\r\n        PageUp(): boolean { return this.SetVerticalOffset(this._ScrollData.offsetY - this._ScrollData.viewportHeight); }\r\n        PageDown(): boolean { return this.SetVerticalOffset(this._ScrollData.offsetY + this._ScrollData.viewportHeight); }\r\n        PageLeft(): boolean { return this.SetHorizontalOffset(this._ScrollData.offsetX - this._ScrollData.viewportWidth); }\r\n        PageRight(): boolean { return this.SetHorizontalOffset(this._ScrollData.offsetX + this._ScrollData.viewportWidth); }\r\n        MakeVisible(uie: UIElement, viewport: minerva.Rect): minerva.Rect {\r\n            var vis = new minerva.Rect();\r\n            if (minerva.Rect.isEmpty(viewport) || !uie || uie === this || !this.XamlNode.IsAncestorOf(uie.XamlNode))\r\n                return vis;\r\n\r\n            var generalTransform = uie.TransformToVisual(this);\r\n            var xpoint = generalTransform.Transform(viewport);\r\n            minerva.Size.copyTo(viewport, vis);\r\n            minerva.Point.copyTo(xpoint, vis);\r\n            return vis;\r\n\r\n            //TODO: Not sure why this was skipped\r\n            /*\r\n            var irect = new minerva.Rect();\r\n            minerva.Rect.set(irect, this.HorizontalOffset, this.VerticalOffset, this.ViewportWidth, this.ViewportHeight);\r\n            viewport.X += irect.X;\r\n            viewport.Y += irect.Y;\r\n            var num = computeScrollOffsetWithMinimalScroll(irect.X, irect.X + irect.Width, viewport.X, viewport.X + viewport.Width);\r\n            var num1 = computeScrollOffsetWithMinimalScroll(irect.Y, irect.Y + irect.Height, viewport.Y, viewport.Y + viewport.Height);\r\n            this.SetHorizontalOffset(num);\r\n            this.SetVerticalOffset(num1);\r\n            irect.X = num;\r\n            irect.Y = num1;\r\n            minerva.Rect.intersection(viewport, irect);\r\n            if (!minerva.Rect.isEmpty(viewport)) {\r\n                viewport.X -= irect.X;\r\n                viewport.Y -= irect.Y;\r\n            }\r\n            return viewport;\r\n            */\r\n        }\r\n        SetHorizontalOffset(offset: number): boolean {\r\n            if (isNaN(offset))\r\n                throw new ArgumentException(\"Offset is not a number.\");\r\n            var sd = this._ScrollData;\r\n            if (!sd.canHorizontallyScroll)\r\n                return false;\r\n            offset = Math.max(0, Math.min(offset, sd.extentWidth - sd.viewportWidth));\r\n            if (NumberEx.AreClose(this._ScrollData.offsetX, offset))\r\n                return false;\r\n\r\n            sd.cachedOffsetX = offset;\r\n            this.XamlNode.LayoutUpdater.invalidateArrange();\r\n            return true;\r\n        }\r\n        SetVerticalOffset(offset: number): boolean {\r\n            if (isNaN(offset))\r\n                throw new ArgumentException(\"Offset is not a number.\");\r\n            var sd = this._ScrollData;\r\n            if (!sd.canVerticallyScroll)\r\n                return false;\r\n            offset = Math.max(0, Math.min(offset, sd.extentHeight - sd.viewportHeight));\r\n            if (NumberEx.AreClose(this._ScrollData.offsetY, offset))\r\n                return false;\r\n\r\n            sd.cachedOffsetY = offset;\r\n            this.XamlNode.LayoutUpdater.invalidateArrange();\r\n            return true;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n\r\n            var sv: ScrollViewer;\r\n            if (this.TemplateOwner instanceof ScrollViewer)\r\n                sv = <ScrollViewer>this.TemplateOwner;\r\n            else\r\n                return;\r\n\r\n            var content = this.Content;\r\n            var info = Primitives.IScrollInfo_.as(content);\r\n            if (!info && content instanceof ItemsPresenter) {\r\n                var ip = <ItemsPresenter>content;\r\n                var err = new BError();\r\n                ip.XamlNode.ApplyTemplateWithError(err);\r\n                if (err.Message)\r\n                    err.ThrowException();\r\n                info = Primitives.IScrollInfo_.as(ip.Panel);\r\n            }\r\n\r\n            if (!info)\r\n                info = this;\r\n\r\n            info.CanHorizontallyScroll = sv.HorizontalScrollBarVisibility !== ScrollBarVisibility.Disabled;\r\n            info.CanVerticallyScroll = sv.VerticalScrollBarVisibility !== ScrollBarVisibility.Disabled;\r\n            info.ScrollOwner = sv;\r\n            sv.ScrollInfo = info;\r\n            sv.InvalidateScrollInfo();\r\n        }\r\n\r\n    }\r\n    Fayde.CoreLibrary.add(ScrollContentPresenter);\r\n    nullstone.addTypeInterfaces(ScrollContentPresenter, Primitives.IScrollInfo_);\r\n\r\n    function computeScrollOffsetWithMinimalScroll(topView, bottomView, topChild, bottomChild) {\r\n        var flag = NumberEx.IsLessThanClose(topChild, topView) && NumberEx.IsLessThanClose(bottomChild, bottomView);\r\n        var flag1 = NumberEx.IsGreaterThanClose(topChild, topView) && NumberEx.IsGreaterThanClose(bottomChild, bottomView);\r\n\r\n        var flag4 = (bottomChild - topChild) > (bottomView - topView);\r\n        if ((!flag || flag4) && (!flag1 || !flag4)) {\r\n            if (flag || flag1)\r\n                return bottomChild - bottomView - topView;\r\n            return topView;\r\n        }\r\n        return topChild;\r\n    }\r\n}","/// <reference path=\"../Control.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class RangeBase extends Controls.Control {\r\n        static MinimumProperty = DependencyProperty.RegisterFull(\"Minimum\", () => Number, RangeBase, 0, (d, args) => (<RangeBase>d)._Coercer.OnMinimumChanged(args.OldValue, args.NewValue), undefined, false, numberValidator);\r\n        static MaximumProperty = DependencyProperty.RegisterFull(\"Maximum\", () => Number, RangeBase, 1, (d, args) => (<RangeBase>d)._Coercer.OnMaximumChanged(args.OldValue, args.NewValue), undefined, false, numberValidator);\r\n        static LargeChangeProperty = DependencyProperty.RegisterFull(\"LargeChange\", () => Number, RangeBase, 1, undefined, undefined, false, changeValidator);\r\n        static SmallChangeProperty = DependencyProperty.RegisterFull(\"SmallChange\", () => Number, RangeBase, 0.1, undefined, undefined, false, changeValidator);\r\n        static ValueProperty = DependencyProperty.RegisterFull(\"Value\", () => Number, RangeBase, 0, (d, args) => (<RangeBase>d)._Coercer.OnValueChanged(args.OldValue, args.NewValue), undefined, false, numberValidator);\r\n\r\n        Minimum: number;\r\n        Maximum: number;\r\n        SmallChange: number;\r\n        LargeChange: number;\r\n        Value: number;\r\n        \r\n        OnMinimumChanged(oldMin: number, newMin: number) { }\r\n        OnMaximumChanged(oldMax: number, newMax: number) { }\r\n        OnValueChanged(oldVal: number, newVal: number) {\r\n            this.ValueChanged.raise(this, new RoutedPropertyChangedEventArgs(oldVal, newVal));\r\n        }\r\n        ValueChanged = new RoutedPropertyChangedEvent<number>();\r\n\r\n        private _Coercer: Internal.IRangeCoercer;\r\n\r\n        constructor() {\r\n            super();\r\n            this._Coercer = new Internal.RangeCoercer(this, \r\n                (val) => this.SetCurrentValue(RangeBase.MaximumProperty, val),\r\n                (val) => this.SetCurrentValue(RangeBase.ValueProperty, val));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RangeBase);\r\n\r\n    function numberValidator(d: DependencyObject, propd: DependencyProperty, value: any): boolean {\r\n        if (typeof value !== \"number\")\r\n            return false;\r\n        if (isNaN(value))\r\n            return false;\r\n        if (!isFinite(value))\r\n            return false;\r\n        return true;\r\n    }\r\n    function changeValidator(d: DependencyObject, propd: DependencyProperty, value: any): boolean {\r\n        if (!numberValidator(d, propd, value))\r\n            return false;\r\n        return value >= 0;\r\n    }\r\n}","/// <reference path=\"ButtonBase.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class RepeatButton extends ButtonBase {\r\n        static DelayProperty = DependencyProperty.Register(\"Delay\", () => Number, RepeatButton, 500, (d: RepeatButton, args) => d.OnDelayChanged(args));\r\n        static IntervalProperty = DependencyProperty.Register(\"Interval\", () => Number, RepeatButton, 33, (d: RepeatButton, args) => d.OnIntervalChanged(args));\r\n        Delay: number;\r\n        Interval: number;\r\n\r\n        private _KeyboardCausingRepeat: boolean = false;\r\n        private _MouseCausingRepeat: boolean = false;\r\n        _MousePosition: Point = null;\r\n        private _IntervalID: number = null;\r\n        private _NewInterval: number = null;\r\n\r\n        constructor() {\r\n            super();\r\n            this.ClickMode = ClickMode.Press;\r\n            this.DefaultStyleKey = RepeatButton;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        OnDelayChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (args.NewValue < 0)\r\n                throw new ArgumentException(\"Delay Property cannot be negative.\");\r\n        }\r\n        OnIntervalChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (args.NewValue < 0)\r\n                throw new ArgumentException(\"Interval Property cannot be negative.\");\r\n            this._NewInterval = args.NewValue;\r\n        }\r\n\r\n        OnIsEnabledChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            super.OnIsEnabledChanged(e);\r\n            this._KeyboardCausingRepeat = false;\r\n            this._MouseCausingRepeat = false;\r\n            this._UpdateRepeatState();\r\n        }\r\n        OnKeyDown(e: Input.KeyEventArgs) {\r\n            if (e.Key === Input.Key.Space && this.ClickMode !== ClickMode.Hover) {\r\n                this._KeyboardCausingRepeat = true;\r\n                this._UpdateRepeatState();\r\n            }\r\n            super.OnKeyDown(e);\r\n        }\r\n        OnKeyUp(e: Input.KeyEventArgs) {\r\n            super.OnKeyUp(e);\r\n            if (e.Key === Input.Key.Space && this.ClickMode !== ClickMode.Hover) {\r\n                this._KeyboardCausingRepeat = false;\r\n                this._UpdateRepeatState();\r\n            }\r\n            this.UpdateVisualState();\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            if (this.ClickMode !== ClickMode.Hover) {\r\n                this._KeyboardCausingRepeat = false;\r\n                this._MouseCausingRepeat = false;\r\n                this._UpdateRepeatState();\r\n            }\r\n        }\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            if (this.ClickMode === ClickMode.Hover) {\r\n                this._MouseCausingRepeat = true;\r\n                this._UpdateRepeatState();\r\n            }\r\n            this.UpdateVisualState();\r\n            this._UpdateMousePosition(e);\r\n        }\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            if (this.ClickMode === ClickMode.Hover) {\r\n                this._MouseCausingRepeat = false;\r\n                this._UpdateRepeatState();\r\n            }\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            if (e.Handled)\r\n                return;\r\n            super.OnMouseLeftButtonDown(e);\r\n            if (this.ClickMode !== ClickMode.Hover) {\r\n                this._MouseCausingRepeat = true;\r\n                this._UpdateRepeatState();\r\n            }\r\n        }\r\n        OnMouseLeftButtonUp(e: Input.MouseButtonEventArgs) {\r\n            if (e.Handled)\r\n                return;\r\n            super.OnMouseLeftButtonUp(e);\r\n            if (this.ClickMode !== ClickMode.Hover) {\r\n                this._MouseCausingRepeat = false;\r\n                this._UpdateRepeatState();\r\n            }\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseMove(e: Input.MouseEventArgs) {\r\n            this._UpdateMousePosition(e);\r\n        }\r\n\r\n        private _UpdateMousePosition(e: Input.MouseEventArgs) {\r\n            var curNode: XamlNode = this.XamlNode;\r\n            var parentNode: FENode = <FENode>curNode;\r\n            while (curNode instanceof FENode) {\r\n                parentNode = <FENode>curNode;\r\n                curNode = curNode.ParentNode;\r\n            }\r\n            this._MousePosition = e.GetPosition(parentNode.XObject);\r\n        }\r\n\r\n        private _UpdateRepeatState() {\r\n            if (this._MouseCausingRepeat || this._KeyboardCausingRepeat) {\r\n                if (this._IntervalID == null)\r\n                    this._IntervalID = window.setInterval(() => this._StartRepeatingAfterDelay(), this.Delay);\r\n            } else {\r\n                if (this._IntervalID != null)\r\n                    window.clearInterval(this._IntervalID);\r\n                this._IntervalID = null;\r\n            }\r\n        }\r\n\r\n        private _StartRepeatingAfterDelay() {\r\n            window.clearInterval(this._IntervalID);\r\n            this._IntervalID = window.setInterval(() => this._OnTimeout(), this.Interval);\r\n        }\r\n        private _OnTimeout() {\r\n            if (this._NewInterval != null) {\r\n                window.clearInterval(this._IntervalID);\r\n                this._IntervalID = window.setInterval(() => this._OnTimeout(), this._NewInterval);\r\n                this._NewInterval = null;\r\n            }\r\n\r\n            if (!this.IsPressed)\r\n                return;\r\n\r\n            if (this._KeyboardCausingRepeat) {\r\n                this.OnClick();\r\n                return;\r\n            }\r\n\r\n            var els = VisualTreeHelper.FindElementsInHostCoordinates(this._MousePosition, this);\r\n            if (els.indexOf(this) > -1) {\r\n                this.OnClick();\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RepeatButton);\r\n    TemplateVisualStates(RepeatButton, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" });\r\n}","/// <reference path=\"../Control.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class Thumb extends Control {\r\n        private _PreviousPosition: Point = null;\r\n        private _Origin: Point = null;\r\n\r\n        DragCompleted = new RoutedEvent<DragCompletedEventArgs>();\r\n        DragDelta = new RoutedEvent<DragDeltaEventArgs>();\r\n        DragStarted = new RoutedEvent<DragStartedEventArgs>();\r\n\r\n        static IsDraggingProperty = DependencyProperty.RegisterReadOnly(\"IsDragging\", () => Boolean, Thumb, false, (d, args) => (<Thumb>d).OnDraggingChanged(args));\r\n        static IsFocusedProperty = DependencyProperty.RegisterReadOnly(\"IsFocused\", () => Boolean, Thumb);\r\n        IsDragging: boolean;\r\n        IsFocused: boolean;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = Thumb;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        private OnDraggingChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this._FocusChanged(Surface.HasFocus(this));\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this._FocusChanged(Surface.HasFocus(this));\r\n        }\r\n        private _FocusChanged(hasFocus: boolean) {\r\n            this.SetCurrentValue(Thumb.IsFocusedProperty, hasFocus);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnLostMouseCapture(e: Input.MouseEventArgs) {\r\n            if (!this.IsDragging || !this.IsEnabled)\r\n                return;\r\n            this.SetCurrentValue(Thumb.IsDraggingProperty, false);\r\n            this._RaiseDragCompleted(false);\r\n        }\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            if (this.IsEnabled)\r\n                this.UpdateVisualState();\r\n        }\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            if (this.IsEnabled)\r\n                this.UpdateVisualState();\r\n        }\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            if (e.Handled || this.IsDragging || !this.IsEnabled)\r\n                return;\r\n            e.Handled = true;\r\n            this.CaptureMouse();\r\n            this.SetCurrentValue(Thumb.IsDraggingProperty, true);\r\n\r\n            var vpNode = this.XamlNode.VisualParentNode;\r\n            this._Origin = this._PreviousPosition = e.GetPosition((vpNode) ? vpNode.XObject : undefined);\r\n            var success = false;\r\n            try {\r\n                this._RaiseDragStarted();\r\n                success = true;\r\n            } finally {\r\n                if (!success)\r\n                    this.CancelDrag();\r\n            }\r\n        }\r\n        OnMouseMove(e: Input.MouseEventArgs) {\r\n            if (!this.IsDragging)\r\n                return;\r\n            var vpNode = this.XamlNode.VisualParentNode;\r\n            var p = e.GetPosition((vpNode) ? vpNode.XObject : undefined);\r\n            if (!minerva.Point.isEqual(p, this._PreviousPosition)) {\r\n                this._RaiseDragDelta(p.x - this._PreviousPosition.x, p.y - this._PreviousPosition.y);\r\n                this._PreviousPosition = p;\r\n            }\r\n        }\r\n\r\n        OnLostTouchCapture(e: Input.TouchEventArgs) {\r\n            super.OnLostTouchCapture(e);\r\n            if (!this.IsDragging || !this.IsEnabled)\r\n                return;\r\n            this.SetCurrentValue(Thumb.IsDraggingProperty, false);\r\n            this._RaiseDragCompleted(false);\r\n        }\r\n        OnTouchEnter(e: Input.TouchEventArgs) {\r\n            super.OnTouchEnter(e);\r\n            if (this.IsEnabled)\r\n                this.UpdateVisualState();\r\n        }\r\n        OnTouchLeave(e: Input.TouchEventArgs) {\r\n            super.OnTouchLeave(e);\r\n            if (this.IsEnabled)\r\n                this.UpdateVisualState();\r\n        }\r\n        OnTouchDown(e: Input.TouchEventArgs) {\r\n            super.OnTouchDown(e);\r\n            if (e.Handled || this.IsDragging || !this.IsEnabled)\r\n                return;\r\n            e.Handled = true;\r\n            e.Device.Capture(this);\r\n            this.SetCurrentValue(Thumb.IsDraggingProperty, true);\r\n\r\n            var vpNode = this.XamlNode.VisualParentNode;\r\n            var tp = e.GetTouchPoint(vpNode ? vpNode.XObject : undefined);\r\n            this._Origin = this._PreviousPosition = tp.Position;\r\n            var success = false;\r\n            try {\r\n                this._RaiseDragStarted();\r\n                success = true;\r\n            } finally {\r\n                if (!success)\r\n                    this.CancelDrag();\r\n            }\r\n        }\r\n        OnTouchUp(e: Input.TouchEventArgs) {\r\n            super.OnTouchUp(e);\r\n            if (e.Handled || !this.IsDragging || !this.IsEnabled)\r\n                return;\r\n            e.Handled = true;\r\n            e.Device.ReleaseCapture(this);\r\n        }\r\n        OnTouchMove(e: Input.TouchEventArgs) {\r\n            super.OnTouchMove(e);\r\n            if (!this.IsDragging || e.Device.Captured !== this)\r\n                return;\r\n            var vpNode = this.XamlNode.VisualParentNode;\r\n            var tp = e.Device.GetTouchPoint(vpNode ? vpNode.XObject : undefined);\r\n            var pos = tp.Position;\r\n            if (!minerva.Point.isEqual(pos, this._PreviousPosition)) {\r\n                this._RaiseDragDelta(pos.x - this._PreviousPosition.x, pos.y - this._PreviousPosition.y);\r\n                this._PreviousPosition = pos;\r\n            }\r\n        }\r\n\r\n        CancelDrag() {\r\n            if (!this.IsDragging)\r\n                return;\r\n            this.SetCurrentValue(Thumb.IsDraggingProperty, false);\r\n            this._RaiseDragCompleted(true);\r\n        }\r\n\r\n        private _RaiseDragStarted() {\r\n            this.DragStarted.raise(this, new DragStartedEventArgs(this._Origin.x, this._Origin.y));\r\n        }\r\n        private _RaiseDragDelta(x: number, y: number) {\r\n            this.DragDelta.raise(this, new DragDeltaEventArgs(x, y));\r\n        }\r\n        private _RaiseDragCompleted(canceled: boolean) {\r\n            this.DragCompleted.raise(this, new DragCompletedEventArgs(this._PreviousPosition.x - this._Origin.x, this._PreviousPosition.y - this._Origin.y, canceled));\r\n        }\r\n\r\n        GoToStateCommon(gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsEnabled)\r\n                return gotoFunc(\"Disabled\");\r\n            if (this.IsDragging)\r\n                return gotoFunc(\"Pressed\");\r\n            if (this.IsMouseOver)\r\n                return gotoFunc(\"MouseOver\");\r\n            return gotoFunc(\"Normal\");\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Thumb);\r\n    TemplateVisualStates(Thumb,\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" });\r\n}","/// <reference path=\"RangeBase.ts\" />\r\n/// <reference path=\"RepeatButton.ts\" />\r\n/// <reference path=\"Thumb.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class ScrollBar extends RangeBase {\r\n        private _DragValue: number = 0;\r\n\r\n        Scroll = new RoutedEvent<ScrollEventArgs>();\r\n\r\n        static OrientationProperty = DependencyProperty.Register(\"Orientation\", () => new Enum(Orientation), ScrollBar, Orientation.Horizontal, (d, args) => (<ScrollBar>d)._OnOrientationChanged());\r\n        static ViewportSizeProperty = DependencyProperty.Register(\"ViewportSize\", () => Number, ScrollBar, 0, (d, args) => (<ScrollBar>d)._UpdateTrackLayout());\r\n        Orientation: Orientation;\r\n        ViewportSize: number;\r\n\r\n        get IsDragging(): boolean {\r\n            if (this.$HorizontalThumb)\r\n                return this.$HorizontalThumb.IsDragging;\r\n            if (this.$VerticalThumb)\r\n                return this.$VerticalThumb.IsDragging;\r\n            return false;\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ScrollBar;\r\n            this.SizeChanged.on(this._HandleSizeChanged, this);\r\n        }\r\n\r\n        private $HorizontalTemplate: FrameworkElement;\r\n        private $HorizontalSmallIncrease: RepeatButton;\r\n        private $HorizontalSmallDecrease: RepeatButton;\r\n        private $HorizontalLargeIncrease: RepeatButton;\r\n        private $HorizontalLargeDecrease: RepeatButton;\r\n        private $HorizontalThumb: Thumb;\r\n\r\n        private $VerticalTemplate: FrameworkElement;\r\n        private $VerticalSmallIncrease: RepeatButton;\r\n        private $VerticalSmallDecrease: RepeatButton;\r\n        private $VerticalLargeIncrease: RepeatButton;\r\n        private $VerticalLargeDecrease: RepeatButton;\r\n        private $VerticalThumb: Thumb;\r\n        \r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.$HorizontalTemplate = <FrameworkElement>this.GetTemplateChild(\"HorizontalRoot\", FrameworkElement);\r\n            this.$HorizontalLargeIncrease = <RepeatButton>this.GetTemplateChild(\"HorizontalLargeIncrease\", RepeatButton);\r\n            this.$HorizontalLargeDecrease = <RepeatButton>this.GetTemplateChild(\"HorizontalLargeDecrease\", RepeatButton);\r\n            this.$HorizontalSmallIncrease = <RepeatButton>this.GetTemplateChild(\"HorizontalSmallIncrease\", RepeatButton);\r\n            this.$HorizontalSmallDecrease = <RepeatButton>this.GetTemplateChild(\"HorizontalSmallDecrease\", RepeatButton);\r\n            this.$HorizontalThumb = <Thumb>this.GetTemplateChild(\"HorizontalThumb\", Thumb);\r\n            this.$VerticalTemplate = <FrameworkElement>this.GetTemplateChild(\"VerticalRoot\", FrameworkElement);\r\n            this.$VerticalLargeIncrease = <RepeatButton>this.GetTemplateChild(\"VerticalLargeIncrease\", RepeatButton);\r\n            this.$VerticalLargeDecrease = <RepeatButton>this.GetTemplateChild(\"VerticalLargeDecrease\", RepeatButton);\r\n            this.$VerticalSmallIncrease = <RepeatButton>this.GetTemplateChild(\"VerticalSmallIncrease\", RepeatButton);\r\n            this.$VerticalSmallDecrease = <RepeatButton>this.GetTemplateChild(\"VerticalSmallDecrease\", RepeatButton);\r\n            this.$VerticalThumb = <Thumb>this.GetTemplateChild(\"VerticalThumb\", Thumb);\r\n\r\n            if (this.$HorizontalThumb) {\r\n                this.$HorizontalThumb.DragStarted.on(this._OnThumbDragStarted, this);\r\n                this.$HorizontalThumb.DragDelta.on(this._OnThumbDragDelta, this);\r\n                this.$HorizontalThumb.DragCompleted.on(this._OnThumbDragCompleted, this);\r\n            }\r\n            if (this.$HorizontalLargeIncrease) {\r\n                this.$HorizontalLargeIncrease.Click.on(this._LargeIncrement, this);\r\n            }\r\n            if (this.$HorizontalLargeDecrease) {\r\n                this.$HorizontalLargeDecrease.Click.on(this._LargeDecrement, this);\r\n            }\r\n            if (this.$HorizontalSmallIncrease) {\r\n                this.$HorizontalSmallIncrease.Click.on(this._SmallIncrement, this);\r\n            }\r\n            if (this.$HorizontalSmallDecrease) {\r\n                this.$HorizontalSmallDecrease.Click.on(this._SmallDecrement, this);\r\n            }\r\n            if (this.$VerticalThumb) {\r\n                this.$VerticalThumb.DragStarted.on(this._OnThumbDragStarted, this);\r\n                this.$VerticalThumb.DragDelta.on(this._OnThumbDragDelta, this);\r\n                this.$VerticalThumb.DragCompleted.on(this._OnThumbDragCompleted, this);\r\n            }\r\n            if (this.$VerticalLargeIncrease) {\r\n                this.$VerticalLargeIncrease.Click.on(this._LargeIncrement, this);\r\n            }\r\n            if (this.$VerticalLargeDecrease) {\r\n                this.$VerticalLargeDecrease.Click.on(this._LargeDecrement, this);\r\n            }\r\n            if (this.$VerticalSmallIncrease) {\r\n                this.$VerticalSmallIncrease.Click.on(this._SmallIncrement, this);\r\n            }\r\n            if (this.$VerticalSmallDecrease) {\r\n                this.$VerticalSmallDecrease.Click.on(this._SmallDecrement, this);\r\n            }\r\n\r\n            this._OnOrientationChanged();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        OnMaximumChanged(oldMax: number, newMax: number) {\r\n            super.OnMaximumChanged(oldMax, newMax);\r\n            this._UpdateTrackLayout();\r\n        }\r\n        OnMinimumChanged(oldMin: number, newMin: number) {\r\n            super.OnMinimumChanged(oldMin, newMin);\r\n            this._UpdateTrackLayout();\r\n        }\r\n        OnValueChanged(oldValue: number, newValue: number) {\r\n            super.OnValueChanged(oldValue, newValue);\r\n            this._UpdateTrackLayout();\r\n        }\r\n\r\n        private _OnThumbDragStarted(sender, e: DragStartedEventArgs) {\r\n            this._DragValue = this.Value;\r\n        }\r\n        private _OnThumbDragDelta(sender, e: DragDeltaEventArgs) {\r\n            var change = 0;\r\n            var zoomFactor = 1; //TODO: FullScreen?\r\n            var num = zoomFactor;\r\n            var max = this.Maximum;\r\n            var min = this.Minimum;\r\n            var diff = max - min;\r\n            var trackLength = this._GetTrackLength();\r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            if (this.$VerticalThumb && !isHorizontal) {\r\n                change = num * e.VerticalChange / (trackLength - this.$VerticalThumb.ActualHeight) * diff;\r\n            }\r\n            if (this.$HorizontalThumb && isHorizontal) {\r\n                change = num * e.HorizontalChange / (trackLength - this.$HorizontalThumb.ActualWidth) * diff;\r\n            }\r\n            if (!isNaN(change) && isFinite(change)) {\r\n                this._DragValue += change;\r\n                var num1 = Math.min(max, Math.max(min, this._DragValue));\r\n                if (num1 !== this.Value) {\r\n                    this.Value = num1;\r\n                    this._RaiseScroll(ScrollEventType.ThumbTrack);\r\n                }\r\n            }\r\n        }\r\n        private _OnThumbDragCompleted(sender, e: DragCompletedEventArgs) {\r\n            this._RaiseScroll(ScrollEventType.EndScroll);\r\n        }\r\n\r\n        private _SmallDecrement(sender, e: RoutedEventArgs) {\r\n            var curValue = this.Value;\r\n            var num = Math.max(curValue - this.SmallChange, this.Minimum);\r\n            if (curValue !== num) {\r\n                this.SetCurrentValue(RangeBase.ValueProperty, num);\r\n                this._RaiseScroll(ScrollEventType.SmallDecrement);\r\n            }\r\n        }\r\n        private _SmallIncrement(sender, e: RoutedEventArgs) {\r\n            var curValue = this.Value;\r\n            var num = Math.min(curValue + this.SmallChange, this.Maximum);\r\n            if (curValue !== num) {\r\n                this.SetCurrentValue(RangeBase.ValueProperty, num);\r\n                this._RaiseScroll(ScrollEventType.SmallIncrement);\r\n            }\r\n        }\r\n        private _LargeDecrement(sender, e: RoutedEventArgs) {\r\n            var curValue = this.Value;\r\n            var num = Math.max(curValue - this.LargeChange, this.Minimum);\r\n            if (curValue !== num) {\r\n                this.SetCurrentValue(RangeBase.ValueProperty, num);\r\n                this._RaiseScroll(ScrollEventType.LargeDecrement);\r\n            }\r\n        }\r\n        private _LargeIncrement(sender, e: RoutedEventArgs) {\r\n            var curValue = this.Value;\r\n            var num = Math.min(curValue + this.LargeChange, this.Maximum);\r\n            if (curValue !== num) {\r\n                this.SetCurrentValue(RangeBase.ValueProperty, num);\r\n                this._RaiseScroll(ScrollEventType.LargeIncrement);\r\n            }\r\n        }\r\n\r\n        private _HandleSizeChanged(sender, e: nullstone.IEventArgs) {\r\n            this._UpdateTrackLayout();\r\n        }\r\n        private _OnOrientationChanged() {\r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            if (this.$HorizontalTemplate) {\r\n                this.$HorizontalTemplate.Visibility = isHorizontal ? Visibility.Visible : Visibility.Collapsed;\r\n            }\r\n            if (this.$VerticalTemplate) {\r\n                this.$VerticalTemplate.Visibility = isHorizontal ? Visibility.Collapsed : Visibility.Visible;\r\n            }\r\n            this._UpdateTrackLayout();\r\n        }\r\n        private _UpdateTrackLayout() {\r\n            var trackLength = this._GetTrackLength();\r\n            var max = this.Maximum;\r\n            var min = this.Minimum;\r\n            var val = this.Value;\r\n            var multiplier = (val - min) / (max - min);\r\n            var thumbSize = this._UpdateThumbSize(trackLength);\r\n\r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            if (isHorizontal && this.$HorizontalLargeDecrease && this.$HorizontalThumb) {\r\n                this.$HorizontalLargeDecrease.Width = Math.max(0, multiplier * (trackLength - thumbSize));\r\n            } else if (!isHorizontal && this.$VerticalLargeDecrease && this.$VerticalThumb) {\r\n                this.$VerticalLargeDecrease.Height = Math.max(0, multiplier * (trackLength - thumbSize));\r\n            }\r\n        }\r\n        private _UpdateThumbSize(trackLength: number): number {\r\n            var result = Number.NaN;\r\n            var hideThumb = trackLength <= 0;\r\n            if (trackLength > 0) {\r\n                var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n                var max = this.Maximum;\r\n                var min = this.Minimum;\r\n                if (isHorizontal && this.$HorizontalThumb) {\r\n                    if (max - min !== 0)\r\n                        result = Math.max(this.$HorizontalThumb.MinWidth, this._ConvertViewportSizeToDisplayUnits(trackLength));\r\n                    if (max - min === 0 || result > this.ActualWidth || trackLength <= this.$HorizontalThumb.MinWidth) {\r\n                        hideThumb = true;\r\n                    } else {\r\n                        this.$HorizontalThumb.Visibility = Visibility.Visible;\r\n                        this.$HorizontalThumb.Width = result;\r\n                    }\r\n                } else if (!isHorizontal && this.$VerticalThumb) {\r\n                    if (max - min !== 0)\r\n                        result = Math.max(this.$VerticalThumb.MinHeight, this._ConvertViewportSizeToDisplayUnits(trackLength));\r\n                    if (max - min === 0 || result > this.ActualHeight || trackLength <= this.$VerticalThumb.MinHeight) {\r\n                        hideThumb = true;\r\n                    } else {\r\n                        this.$VerticalThumb.Visibility = Visibility.Visible;\r\n                        this.$VerticalThumb.Height = result;\r\n                    }\r\n                }\r\n            }\r\n            if (hideThumb) {\r\n                if (this.$HorizontalThumb) {\r\n                    this.$HorizontalThumb.Visibility = Visibility.Collapsed;\r\n                }\r\n                if (this.$VerticalThumb) {\r\n                    this.$VerticalThumb.Visibility = Visibility.Collapsed;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        private _GetTrackLength(): number {\r\n            var actual = NaN;\r\n            if (this.Orientation === Orientation.Horizontal) {\r\n                actual = this.ActualWidth;\r\n                if (this.$HorizontalSmallDecrease) {\r\n                    var thickness = this.$HorizontalSmallDecrease.Margin;\r\n                    actual = actual - (this.$HorizontalSmallDecrease.ActualWidth + thickness.left + thickness.right);\r\n                }\r\n                if (this.$HorizontalSmallIncrease) {\r\n                    var thickness = this.$HorizontalSmallIncrease.Margin;\r\n                    actual = actual - (this.$HorizontalSmallIncrease.ActualWidth + thickness.left + thickness.right);\r\n                }\r\n            } else {\r\n                actual = this.ActualHeight;\r\n                if (this.$VerticalSmallDecrease) {\r\n                    var thickness = this.$VerticalSmallDecrease.Margin;\r\n                    actual = actual - (this.$VerticalSmallDecrease.ActualHeight + thickness.top + thickness.bottom);\r\n                }\r\n                if (this.$VerticalSmallIncrease) {\r\n                    var thickness = this.$VerticalSmallIncrease.Margin;\r\n                    actual = actual - (this.$VerticalSmallIncrease.ActualHeight + thickness.top + thickness.bottom);\r\n                }\r\n            }\r\n            return actual;\r\n        }\r\n        private _ConvertViewportSizeToDisplayUnits(trackLength: number): number {\r\n            var viewportSize = this.ViewportSize;\r\n            return trackLength * viewportSize / (viewportSize + this.Maximum - this.Minimum);\r\n        }\r\n        private _RaiseScroll(type: Primitives.ScrollEventType) {\r\n            var args = new ScrollEventArgs(type, this.Value);\r\n            args.OriginalSource = this;\r\n            this.Scroll.raise(this, args);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ScrollBar);\r\n    TemplateVisualStates(ScrollBar, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" });\r\n    TemplateParts(ScrollBar,\r\n        { Name: \"VerticalRoot\", Type: FrameworkElement },\r\n        { Name: \"VerticalLargeIncrease\", Type: RepeatButton },\r\n        { Name: \"VerticalLargeDecrease\", Type: RepeatButton },\r\n        { Name: \"VerticalSmallIncrease\", Type: RepeatButton },\r\n        { Name: \"VerticalSmallDecrease\", Type: RepeatButton },\r\n        { Name: \"VerticalThumb\", Type: Thumb },\r\n        { Name: \"HorizontalRoot\", Type: FrameworkElement },\r\n        { Name: \"HorizontalLargeIncrease\", Type: RepeatButton },\r\n        { Name: \"HorizontalLargeDecrease\", Type: RepeatButton },\r\n        { Name: \"HorizontalSmallIncrease\", Type: RepeatButton },\r\n        { Name: \"HorizontalSmallDecrease\", Type: RepeatButton },\r\n        { Name: \"HorizontalThumb\", Type: Thumb });\r\n}","/// <reference path=\"ContentControl.ts\" />\r\n/// <reference path=\"ScrollContentPresenter.ts\" />\r\n/// <reference path=\"Primitives/ScrollBar.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ScrollViewer extends ContentControl {\r\n        private static _ScrollBarVisibilityChanged(d: DependencyObject, args: IDependencyPropertyChangedEventArgs) {\r\n            if (!d) return;\r\n            if (d instanceof ScrollViewer) {\r\n                var sv = <ScrollViewer>d;\r\n                sv.XamlNode.LayoutUpdater.invalidateMeasure();\r\n                var scrollInfo = sv.ScrollInfo;\r\n                if (scrollInfo) {\r\n                    scrollInfo.CanHorizontallyScroll = sv.HorizontalScrollBarVisibility !== ScrollBarVisibility.Disabled;\r\n                    scrollInfo.CanVerticallyScroll = sv.VerticalScrollBarVisibility !== ScrollBarVisibility.Disabled;\r\n                }\r\n                sv._UpdateScrollBarVisibility();\r\n                return;\r\n            }\r\n\r\n            if (d instanceof ListBox) {\r\n                var listbox = <ListBox>d;\r\n                if (listbox.$TemplateScrollViewer)\r\n                    listbox.$TemplateScrollViewer.SetValue(args.Property, args.NewValue);\r\n                return;\r\n            }\r\n        }\r\n\r\n        static HorizontalScrollBarVisibilityProperty = DependencyProperty.RegisterAttachedCore(\"HorizontalScrollBarVisibility\", () => new Enum(ScrollBarVisibility), ScrollViewer, ScrollBarVisibility.Disabled, ScrollViewer._ScrollBarVisibilityChanged);\r\n        static GetHorizontalScrollBarVisibility(d: DependencyObject): ScrollBarVisibility { return d.GetValue(ScrollViewer.HorizontalScrollBarVisibilityProperty); }\r\n        static SetHorizontalScrollBarVisibility(d: DependencyObject, value: ScrollBarVisibility) { d.SetValue(ScrollViewer.HorizontalScrollBarVisibilityProperty, value); }\r\n        get HorizontalScrollBarVisibility(): ScrollBarVisibility { return this.GetValue(ScrollViewer.HorizontalScrollBarVisibilityProperty); }\r\n        set HorizontalScrollBarVisibility(value: ScrollBarVisibility) { this.SetValue(ScrollViewer.HorizontalScrollBarVisibilityProperty, value); }\r\n\r\n        static VerticalScrollBarVisibilityProperty = DependencyProperty.RegisterAttachedCore(\"VerticalScrollBarVisibility\", () => new Enum(ScrollBarVisibility), ScrollViewer, ScrollBarVisibility.Disabled, ScrollViewer._ScrollBarVisibilityChanged);\r\n        static GetVerticalScrollBarVisibility(d: DependencyObject): ScrollBarVisibility { return d.GetValue(ScrollViewer.VerticalScrollBarVisibilityProperty); }\r\n        static SetVerticalScrollBarVisibility(d: DependencyObject, value: ScrollBarVisibility) { d.SetValue(ScrollViewer.VerticalScrollBarVisibilityProperty, value); }\r\n        get VerticalScrollBarVisibility(): ScrollBarVisibility { return this.GetValue(ScrollViewer.VerticalScrollBarVisibilityProperty); }\r\n        set VerticalScrollBarVisibility(value: ScrollBarVisibility) { this.SetValue(ScrollViewer.VerticalScrollBarVisibilityProperty, value); }\r\n\r\n        static ComputedHorizontalScrollBarVisibilityProperty = DependencyProperty.RegisterReadOnlyCore(\"ComputedHorizontalScrollBarVisibility\", () => new Enum(Visibility), ScrollViewer);\r\n        static ComputedVerticalScrollBarVisibilityProperty = DependencyProperty.RegisterReadOnlyCore(\"ComputedVerticalScrollBarVisibility\", () => new Enum(Visibility), ScrollViewer);\r\n        static HorizontalOffsetProperty = DependencyProperty.RegisterReadOnlyCore(\"HorizontalOffset\", () => Number, ScrollViewer);\r\n        static VerticalOffsetProperty = DependencyProperty.RegisterReadOnlyCore(\"VerticalOffset\", () => Number, ScrollViewer);\r\n        static ScrollableWidthProperty = DependencyProperty.RegisterReadOnlyCore(\"ScrollableWidth\", () => Number, ScrollViewer);\r\n        static ScrollableHeightProperty = DependencyProperty.RegisterReadOnlyCore(\"ScrollableHeight\", () => Number, ScrollViewer);\r\n        static ViewportWidthProperty = DependencyProperty.RegisterReadOnlyCore(\"ViewportWidth\", () => Number, ScrollViewer);\r\n        static ViewportHeightProperty = DependencyProperty.RegisterReadOnlyCore(\"ViewportHeight\", () => Number, ScrollViewer);\r\n        static ExtentWidthProperty = DependencyProperty.RegisterReadOnlyCore(\"ExtentWidth\", () => Number, ScrollViewer);\r\n        static ExtentHeightProperty = DependencyProperty.RegisterReadOnlyCore(\"ExtentHeight\", () => Number, ScrollViewer);\r\n\r\n        ComputedHorizontalScrollBarVisibility: Visibility;\r\n        ComputedVerticalScrollBarVisibility: Visibility;\r\n        HorizontalOffset: number;\r\n        VerticalOffset: number;\r\n        ScrollableWidth: number;\r\n        ScrollableHeight: number;\r\n        ViewportWidth: number;\r\n        ViewportHeight: number;\r\n        ExtentWidth: number;\r\n        ExtentHeight: number;\r\n\r\n        $TemplatedParentHandlesScrolling: boolean = false;\r\n        $ScrollContentPresenter: ScrollContentPresenter;\r\n        private $HorizontalScrollBar: Primitives.ScrollBar;\r\n        private $VerticalScrollBar: Primitives.ScrollBar;\r\n\r\n        constructor() {\r\n            super();\r\n            //this.RequestBringIntoView.Subscribe(this._OnRequestBringIntoView, this);\r\n            this.DefaultStyleKey = ScrollViewer;\r\n        }\r\n\r\n        private _ScrollInfo: Primitives.IScrollInfo;\r\n        get ScrollInfo(): Primitives.IScrollInfo { return this._ScrollInfo; }\r\n        set ScrollInfo(value: Primitives.IScrollInfo) {\r\n            this._ScrollInfo = value;\r\n            if (value) {\r\n                value.CanHorizontallyScroll = this.HorizontalScrollBarVisibility !== ScrollBarVisibility.Disabled;\r\n                value.CanVerticallyScroll = this.VerticalScrollBarVisibility !== ScrollBarVisibility.Disabled;\r\n            }\r\n        }\r\n\r\n        InvalidateScrollInfo() {\r\n            var scrollInfo = this.ScrollInfo;\r\n            if (scrollInfo) {\r\n                this.SetCurrentValue(ScrollViewer.ExtentWidthProperty, scrollInfo.ExtentWidth);\r\n                this.SetCurrentValue(ScrollViewer.ExtentHeightProperty, scrollInfo.ExtentHeight);\r\n                this.SetCurrentValue(ScrollViewer.ViewportWidthProperty, scrollInfo.ViewportWidth);\r\n                this.SetCurrentValue(ScrollViewer.ViewportHeightProperty, scrollInfo.ViewportHeight);\r\n                this._UpdateScrollBar(Orientation.Horizontal, scrollInfo.HorizontalOffset);\r\n                this._UpdateScrollBar(Orientation.Vertical, scrollInfo.VerticalOffset);\r\n                this._UpdateScrollBarVisibility();\r\n            }\r\n\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n\r\n            var w = Math.max(0, this.ExtentWidth - this.ViewportWidth);\r\n            if (w !== this.ScrollableWidth) {\r\n                this.SetCurrentValue(ScrollViewer.ScrollableWidthProperty, w);\r\n                lu.invalidateMeasure();\r\n            }\r\n\r\n            var h = Math.max(0, this.ExtentHeight - this.ViewportHeight);\r\n            if (h !== this.ScrollableHeight) {\r\n                this.SetCurrentValue(ScrollViewer.ScrollableHeightProperty, h);\r\n                lu.invalidateMeasure();\r\n            }\r\n        }\r\n        private _UpdateScrollBarVisibility() {\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            var scrollInfo = this.ScrollInfo;\r\n\r\n            var horizontalVisibility = Visibility.Visible;\r\n            var hsbv = this.HorizontalScrollBarVisibility;\r\n            switch (hsbv) {\r\n                case ScrollBarVisibility.Visible:\r\n                    break;\r\n                case ScrollBarVisibility.Disabled:\r\n                case ScrollBarVisibility.Hidden:\r\n                    horizontalVisibility = Visibility.Collapsed;\r\n                    break;\r\n                case ScrollBarVisibility.Auto:\r\n                default:\r\n                    horizontalVisibility = (!scrollInfo || scrollInfo.ExtentWidth <= scrollInfo.ViewportWidth) ? Visibility.Collapsed : Visibility.Visible;\r\n                    break;\r\n            }\r\n\r\n            if (horizontalVisibility !== this.ComputedHorizontalScrollBarVisibility) {\r\n                this.SetCurrentValue(ScrollViewer.ComputedHorizontalScrollBarVisibilityProperty, horizontalVisibility);\r\n                lu.invalidateMeasure();\r\n            }\r\n\r\n            var verticalVisibility = Fayde.Visibility.Visible;\r\n            var vsbv = this.VerticalScrollBarVisibility;\r\n            switch (vsbv) {\r\n                case ScrollBarVisibility.Visible:\r\n                    break;\r\n                case ScrollBarVisibility.Disabled:\r\n                case ScrollBarVisibility.Hidden:\r\n                    verticalVisibility = Fayde.Visibility.Collapsed;\r\n                    break;\r\n                case ScrollBarVisibility.Auto:\r\n                default:\r\n                    verticalVisibility = (!scrollInfo || scrollInfo.ExtentHeight <= scrollInfo.ViewportHeight) ? Fayde.Visibility.Collapsed : Fayde.Visibility.Visible;\r\n                    break;\r\n            }\r\n\r\n            if (verticalVisibility !== this.ComputedVerticalScrollBarVisibility) {\r\n                this.SetCurrentValue(ScrollViewer.ComputedVerticalScrollBarVisibilityProperty, verticalVisibility);\r\n                lu.invalidateMeasure();\r\n            }\r\n        }\r\n\r\n        private _UpdateScrollBar (orientation: Orientation, value: number) {\r\n            var propd: DependencyProperty;\r\n            var sb: Primitives.ScrollBar;\r\n            if (orientation === Orientation.Horizontal) {\r\n                propd = ScrollViewer.HorizontalOffsetProperty;\r\n                sb = this.$HorizontalScrollBar;\r\n            } else {\r\n                propd = ScrollViewer.VerticalOffsetProperty;\r\n                sb = this.$VerticalScrollBar;\r\n            }\r\n\r\n            try {\r\n                this.SetCurrentValue(propd, value);\r\n                if (sb)\r\n                    sb.SetCurrentValue(Primitives.RangeBase.ValueProperty, value);\r\n            } finally {\r\n            }\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.$ScrollContentPresenter = <ScrollContentPresenter>this.GetTemplateChild(\"ScrollContentPresenter\", ScrollContentPresenter);\r\n            this.$HorizontalScrollBar = <Primitives.ScrollBar>this.GetTemplateChild(\"HorizontalScrollBar\", Primitives.ScrollBar);\r\n            if (this.$HorizontalScrollBar) {\r\n                this.$HorizontalScrollBar.Scroll.on((sender, e: Primitives.ScrollEventArgs) => this._HandleScroll(Orientation.Horizontal, e), this);\r\n            }\r\n            this.$VerticalScrollBar = <Primitives.ScrollBar>this.GetTemplateChild(\"VerticalScrollBar\", Primitives.ScrollBar);\r\n            if (this.$VerticalScrollBar) {\r\n                this.$VerticalScrollBar.Scroll.on((sender, e: Primitives.ScrollEventArgs) => this._HandleScroll(Orientation.Vertical, e), this);\r\n            }\r\n            this._UpdateScrollBarVisibility();\r\n        }\r\n\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            if (!e.Handled && this.Focus())\r\n                e.Handled = true;\r\n            super.OnMouseLeftButtonDown(e);\r\n        }\r\n        OnMouseWheel(e: Input.MouseWheelEventArgs) {\r\n            super.OnMouseWheel(e);\r\n            if (e.Handled)\r\n                return;\r\n            var scrollInfo = this.ScrollInfo;\r\n            if (!scrollInfo)\r\n                return;\r\n            if ((e.Delta > 0 && scrollInfo.VerticalOffset !== 0) || (e.Delta < 0 && scrollInfo.VerticalOffset < this.ScrollableHeight)) {\r\n                if (e.Delta >= 0)\r\n                    scrollInfo.MouseWheelUp();\r\n                else\r\n                    scrollInfo.MouseWheelDown();\r\n                e.Handled = true;\r\n            }\r\n        }\r\n\r\n        private _TouchOrigin: Point;\r\n        private _Delta = new Point();\r\n        private _TouchInitialOffset = new Point();\r\n        OnTouchDown(e: Input.TouchEventArgs) {\r\n            super.OnTouchDown(e);\r\n            var scrollInfo = this.ScrollInfo;\r\n            if (e.Handled || !this.IsEnabled || !scrollInfo)\r\n                return;\r\n            e.Handled = true;\r\n            this.Focus();\r\n            e.Device.Capture(this);\r\n\r\n            var offset = this._TouchInitialOffset;\r\n            offset.x = scrollInfo.HorizontalOffset;\r\n            offset.y = scrollInfo.VerticalOffset;\r\n\r\n            this._TouchOrigin = e.GetTouchPoint(this).Position;\r\n        }\r\n        OnTouchUp(e: Input.TouchEventArgs) {\r\n            super.OnTouchUp(e);\r\n            if (e.Handled || !this.IsEnabled)\r\n                return;\r\n            e.Handled = true;\r\n            e.Device.ReleaseCapture(this);\r\n        }\r\n        OnTouchMove(e: Input.TouchEventArgs) {\r\n            super.OnTouchMove(e);\r\n            if (e.Handled || e.Device.Captured !== this)\r\n                return;\r\n            \r\n\t\t\tvar tp = e.GetTouchPoint(this);\r\n            var pos = tp.Position;\r\n            var delta = this._Delta;\r\n            var origin = this._TouchOrigin;\r\n\t\t\tdelta.x = pos.x - origin.x;\r\n\t\t\tdelta.y = pos.y - origin.y;\r\n\t\t\tthis.ScrollToHorizontalOffset(this._TouchInitialOffset.x + delta.x);\r\n\t\t\tthis.ScrollToVerticalOffset(this._TouchInitialOffset.y + delta.y);\r\n        }\r\n\r\n        OnKeyDown(e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n\r\n            if (e.Handled)\r\n                return;\r\n\r\n            if (this.$TemplatedParentHandlesScrolling)\r\n                return;\r\n\r\n            var orientation = Orientation.Vertical;\r\n            var scrollEventType = Primitives.ScrollEventType.ThumbTrack;\r\n            //TODO: FlowDirection\r\n            //var flowDirection = this.FlowDirection === Fayde.FlowDirection.RightToLeft;\r\n            switch (e.Key) {\r\n                case Input.Key.PageUp:\r\n                    scrollEventType = Primitives.ScrollEventType.LargeDecrement;\r\n                    break;\r\n                case Input.Key.PageDown:\r\n                    scrollEventType = Primitives.ScrollEventType.LargeIncrement;\r\n                    break;\r\n                case Input.Key.End:\r\n                    if (!e.Modifiers.Ctrl)\r\n                        orientation = Orientation.Horizontal;\r\n                    scrollEventType = Primitives.ScrollEventType.Last;\r\n                    break;\r\n                case Input.Key.Home:\r\n                    if (!e.Modifiers.Ctrl)\r\n                        orientation = Orientation.Horizontal;\r\n                    scrollEventType = Primitives.ScrollEventType.First;\r\n                    break;\r\n                case Input.Key.Left:\r\n                    orientation = Orientation.Horizontal;\r\n                    scrollEventType = Primitives.ScrollEventType.SmallDecrement;\r\n                case Input.Key.Up:\r\n                    scrollEventType = Primitives.ScrollEventType.SmallDecrement;\r\n                    break;\r\n                case Input.Key.Right:\r\n                    orientation = Orientation.Horizontal;\r\n                    scrollEventType = Primitives.ScrollEventType.SmallIncrement;\r\n                case Input.Key.Down:\r\n                    scrollEventType = Primitives.ScrollEventType.SmallIncrement;\r\n                    break;\r\n            }\r\n            if (scrollEventType !== Primitives.ScrollEventType.ThumbTrack)\r\n                e.Handled = !!this._HandleScroll(orientation, new Primitives.ScrollEventArgs(scrollEventType, 0));\r\n        }\r\n\r\n        ScrollInDirection(key: Input.Key) {\r\n            switch (key) {\r\n                case Input.Key.PageUp:\r\n                    this.PageUp();\r\n                    break;\r\n                case Input.Key.PageDown:\r\n                    this.PageDown();\r\n                    break;\r\n                case Input.Key.End:\r\n                    this.PageEnd();\r\n                    break;\r\n                case Input.Key.Home:\r\n                    this.PageHome();\r\n                    break;\r\n                case Input.Key.Left:\r\n                    this.LineLeft();\r\n                    break;\r\n                case Input.Key.Up:\r\n                    this.LineUp();\r\n                    break;\r\n                case Input.Key.Right:\r\n                    this.LineRight();\r\n                    break;\r\n                case Input.Key.Down:\r\n                    this.LineDown();\r\n                    break;\r\n            }\r\n        }\r\n        ScrollToHorizontalOffset(offset: number) { this._HandleHorizontalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.ThumbPosition, offset)); }\r\n        ScrollToVerticalOffset(offset: number) { this._HandleVerticalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.ThumbPosition, offset)); }\r\n\r\n        LineUp() { this._HandleVerticalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.SmallDecrement, 0)); }\r\n        LineDown() { this._HandleVerticalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.SmallIncrement, 0)); }\r\n        LineLeft() { this._HandleHorizontalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.SmallDecrement, 0)); }\r\n        LineRight() { this._HandleHorizontalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.SmallIncrement, 0)); }\r\n\r\n        PageHome() { this._HandleHorizontalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.First, 0)); }\r\n        PageEnd() { this._HandleHorizontalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.Last, 0)); }\r\n\r\n        PageUp() { this._HandleVerticalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.LargeDecrement, 0)); }\r\n        PageDown() { this._HandleVerticalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.LargeIncrement, 0)); }\r\n        PageLeft() { this._HandleHorizontalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.LargeDecrement, 0)); }\r\n        PageRight() { this._HandleHorizontalScroll(new Primitives.ScrollEventArgs(Primitives.ScrollEventType.LargeIncrement, 0)); }\r\n\r\n        private _HandleScroll(orientation: Orientation, e: Primitives.ScrollEventArgs): boolean {\r\n            if (orientation !== Orientation.Horizontal)\r\n                return this._HandleVerticalScroll(e);\r\n            return this._HandleHorizontalScroll(e);\r\n        }\r\n        private _HandleHorizontalScroll(e: Primitives.ScrollEventArgs): boolean {\r\n            var scrollInfo = this.ScrollInfo;\r\n            if (!scrollInfo)\r\n                return false;\r\n            var offset = scrollInfo.HorizontalOffset;\r\n            var newValue = offset;\r\n            switch (e.ScrollEventType) {\r\n                case Primitives.ScrollEventType.SmallDecrement:\r\n                    return scrollInfo.LineLeft();\r\n                case Primitives.ScrollEventType.SmallIncrement:\r\n                    return scrollInfo.LineRight();\r\n                case Primitives.ScrollEventType.LargeDecrement:\r\n                    return scrollInfo.PageLeft();\r\n                case Primitives.ScrollEventType.LargeIncrement:\r\n                    return scrollInfo.PageRight();\r\n                case Primitives.ScrollEventType.ThumbPosition:\r\n                case Primitives.ScrollEventType.ThumbTrack:\r\n                    newValue = e.Value;\r\n                    break;\r\n                case Primitives.ScrollEventType.First:\r\n                    newValue = Number.NEGATIVE_INFINITY;\r\n                    break;\r\n                case Primitives.ScrollEventType.Last:\r\n                    newValue = Number.POSITIVE_INFINITY;\r\n                    break;\r\n            }\r\n            newValue = Math.max(newValue, 0);\r\n            newValue = Math.min(this.ScrollableWidth, newValue);\r\n            if (NumberEx.AreClose(offset, newValue))\r\n                return false;\r\n            scrollInfo.SetHorizontalOffset(newValue);\r\n            return true;\r\n        }\r\n        private _HandleVerticalScroll(e: Primitives.ScrollEventArgs): boolean {\r\n            var scrollInfo = this.ScrollInfo;\r\n            if (!scrollInfo)\r\n                return false;\r\n            var offset = scrollInfo.VerticalOffset;\r\n            var newValue = offset;\r\n            switch (e.ScrollEventType) {\r\n                case Primitives.ScrollEventType.SmallDecrement:\r\n                    return scrollInfo.LineUp();\r\n                case Primitives.ScrollEventType.SmallIncrement:\r\n                    return scrollInfo.LineDown();\r\n                    break;\r\n                case Primitives.ScrollEventType.LargeDecrement:\r\n                    return scrollInfo.PageUp();\r\n                    break;\r\n                case Primitives.ScrollEventType.LargeIncrement:\r\n                    return scrollInfo.PageDown();\r\n                    break;\r\n                case Primitives.ScrollEventType.ThumbPosition:\r\n                case Primitives.ScrollEventType.ThumbTrack:\r\n                    newValue = e.Value;\r\n                    break;\r\n                case Primitives.ScrollEventType.First:\r\n                    newValue = Number.NEGATIVE_INFINITY;\r\n                    break;\r\n                case Primitives.ScrollEventType.Last:\r\n                    newValue = Number.POSITIVE_INFINITY;\r\n                    break;\r\n            }\r\n            newValue = Math.max(newValue, 0);\r\n            newValue = Math.min(this.ScrollableHeight, newValue);\r\n            if (NumberEx.AreClose(offset, newValue))\r\n                return false;\r\n            return scrollInfo.SetVerticalOffset(newValue);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ScrollViewer);\r\n    TemplateParts(ScrollViewer,\r\n        { Name: \"ScrollContentPresenter\", Type: ScrollContentPresenter },\r\n        { Name: \"HorizontalScrollBar\", Type: Primitives.ScrollBar },\r\n        { Name: \"VerticalScrollBar\", Type: Primitives.ScrollBar });\r\n}","/// <reference path=\"Primitives/Selector.ts\" />\r\n/// <reference path=\"ContentPresenter.ts\" />\r\n/// <reference path=\"Primitives/Popup.ts\" />\r\n/// <reference path=\"Primitives/ToggleButton.ts\" />\r\n/// <reference path=\"ScrollViewer.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ComboBox extends Primitives.Selector {\r\n        DropDownOpened = new nullstone.Event();\r\n        DropDownClosed = new nullstone.Event();\r\n\r\n        static IsDropDownOpenProperty = DependencyProperty.Register(\"IsDropDownOpen\", () => Boolean, ComboBox, false, (d, args) => (<ComboBox>d)._IsDropDownOpenChanged(args));\r\n        static ItemContainerStyleProperty = DependencyProperty.Register(\"ItemContainerStyle\", () => Style, ComboBox, undefined, (d, args) => (<ListBox>d).OnItemContainerStyleChanged(args));\r\n        static MaxDropDownHeightProperty = DependencyProperty.Register(\"MaxDropDownHeight\", () => Number, ComboBox, Number.POSITIVE_INFINITY, (d, args) => (<ComboBox>d)._MaxDropDownHeightChanged(args));\r\n        static IsSelectionActiveProperty = Primitives.Selector.IsSelectionActiveProperty;\r\n        static WatermarkProperty = DependencyProperty.Register(\"Watermark\", () => String, ComboBox, \"\");\r\n        IsDropDownOpen: boolean;\r\n        ItemContainerStyle: Style;\r\n        MaxDropDownHeight: number;\r\n        Watermark: String;\r\n\r\n        private $ContentPresenter: ContentPresenter;\r\n        private $Popup: Primitives.Popup;\r\n        private $DropDownToggle: Primitives.ToggleButton;\r\n        private $DisplayedItem: ComboBoxItem = null;\r\n        private $SelectionBoxItem: any = null;\r\n        private $SelectionBoxItemTemplate: DataTemplate = null;\r\n        private $WatermarkElement: FrameworkElement;\r\n        private _NullSelFallback: any;\r\n        private _FocusedIndex: number = -1;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ComboBox;\r\n        }\r\n\r\n        private _IsDropDownOpenChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var open = args.NewValue;\r\n\r\n            if (this.$Popup != null)\r\n                this.$Popup.IsOpen = open;\r\n            if (this.$DropDownToggle != null)\r\n                this.$DropDownToggle.IsChecked = open;\r\n\r\n            if (open) {\r\n                this._FocusedIndex = this.Items.Count > 0 ? Math.max(this.SelectedIndex, 0) : -1;\r\n                if (this._FocusedIndex > -1) {\r\n                    var focusedItem = this.ItemContainersManager.ContainerFromIndex(this._FocusedIndex);\r\n                    if (focusedItem instanceof ComboBoxItem)\r\n                        (<ComboBoxItem>focusedItem).Focus();\r\n                }\r\n\r\n                this.LayoutUpdated.on(this._UpdatePopupSizeAndPosition, this);\r\n                this.DropDownOpened.raise(this, null);\r\n            } else {\r\n                this.Focus();\r\n                this.LayoutUpdated.off(this._UpdatePopupSizeAndPosition, this);\r\n                this.DropDownClosed.raise(this, null);\r\n            }\r\n\r\n            var selectedItem = this.SelectedItem;\r\n            this._UpdateDisplayedItem(open && selectedItem instanceof Fayde.UIElement ? null : selectedItem);\r\n            this.UpdateVisualState(true);\r\n            this._CheckWatermarkVisibility();\r\n        }\r\n        private _MaxDropDownHeightChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._UpdatePopupMaxHeight(args.NewValue);\r\n        }\r\n        \r\n        private _GetChildOfType(name: string, type: Function): any {\r\n            var temp = this.GetTemplateChild(name);\r\n            if (temp instanceof type)\r\n                return temp;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n\r\n            this.$ContentPresenter = this._GetChildOfType(\"ContentPresenter\", ContentPresenter);\r\n            this.$Popup = this._GetChildOfType(\"Popup\", Primitives.Popup);\r\n            this.$DropDownToggle = this._GetChildOfType(\"DropDownToggle\", Primitives.ToggleButton);\r\n            this.$WatermarkElement = <FrameworkElement>this.GetTemplateChild(\"WatermarkElement\", FrameworkElement);\r\n\r\n            if (this.$ContentPresenter != null)\r\n                this._NullSelFallback = this.$ContentPresenter.Content;\r\n\r\n            if (this.$Popup != null) {\r\n                this._UpdatePopupMaxHeight(this.MaxDropDownHeight);\r\n                this.$Popup.WatchOutsideClick(this._PopupClickedOutside, this);\r\n\r\n                var child = this.$Popup.Child;\r\n                if (child != null) {\r\n                    child.KeyDown.on(this._OnChildKeyDown, this);\r\n                    (<FrameworkElement>child).SizeChanged.on(this._UpdatePopupSizeAndPosition, this);\r\n                }\r\n            }\r\n\r\n            if (this.$DropDownToggle != null) {\r\n                this.$DropDownToggle.Checked.on(this._OnToggleChecked, this);\r\n                this.$DropDownToggle.Unchecked.on(this._OnToggleUnchecked, this);\r\n            }\r\n\r\n            this.UpdateVisualState(false);\r\n            this._UpdateDisplayedItem(this.SelectedItem);\r\n        }\r\n\r\n        OnItemContainerStyleChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var newStyle = <Style>args.NewValue;\r\n            var enumerator = this.ItemContainersManager.GetEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var container = <FrameworkElement>enumerator.current;\r\n                if (container && container !== enumerator.CurrentItem)\r\n                    container.Style = newStyle;\r\n            }\r\n        }\r\n        IsItemItsOwnContainer(item: any): boolean {\r\n            return item instanceof ComboBoxItem;\r\n        }\r\n        GetContainerForItem(): UIElement {\r\n            return new ComboBoxItem();\r\n        }\r\n        PrepareContainerForItem(container: UIElement, item: any) {\r\n            super.PrepareContainerForItem(container, item);\r\n            var cbi = <ComboBoxItem>container;\r\n            if (cbi !== item) {\r\n                var ics = this.ItemContainerStyle;\r\n                if (!cbi.Style && ics)\r\n                    cbi.Style = ics;\r\n            }\r\n        }\r\n\r\n        GoToStateFocus(gotoFunc: (state: string) => boolean): boolean {\r\n            var isEnabled = this.IsEnabled;\r\n            if (this.IsDropDownOpen && isEnabled)\r\n                return gotoFunc(\"FocusedDropDown\");\r\n            else if (this.IsFocused && isEnabled)\r\n                return gotoFunc(\"Focused\");\r\n            return gotoFunc(\"Unfocused\");\r\n        }\r\n\r\n        OnIsEnabledChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            super.OnIsEnabledChanged(e);\r\n            if (!this.IsEnabled)\r\n                this.IsDropDownOpen = false;\r\n        }\r\n\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            if (!e.Handled) {\r\n                e.Handled = true;\r\n                this.SetValueInternal(ComboBox.IsSelectionActiveProperty, true);\r\n                this.IsDropDownOpen = !this.IsDropDownOpen;\r\n            }\r\n        }\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState(true);\r\n        }\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState(true);\r\n        }\r\n\t\t\r\n\t\tOnTouchMove(e: Input.TouchEventArgs){\r\n\t\t\tsuper.OnTouchMove(e);\r\n            this.UpdateVisualState(true);\r\n\t\t}\r\n\t\t\r\n\t\tOnTouchDown(e: Input.TouchEventArgs){\r\n\t\t\tsuper.OnTouchDown(e);\r\n            if (!e.Handled) {\r\n                e.Handled = true;\r\n                this.SetValueInternal(ComboBox.IsSelectionActiveProperty, true);\r\n                this.IsDropDownOpen = !this.IsDropDownOpen;\r\n            }\r\n\t\t}\r\n\t\t\r\n\t\tOnTouchLeave(e: Input.TouchEventArgs){\r\n\t\t\tsuper.OnTouchLeave(e);\r\n            this.UpdateVisualState(true);\r\n\t\t}\r\n\t\t\r\n        OnKeyDown(e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (e.Handled)\r\n                return;\r\n            e.Handled = true;\r\n\r\n            var key = e.Key;\r\n            if (this.FlowDirection === FlowDirection.RightToLeft) {\r\n                if (key === Input.Key.Left)\r\n                    key = Input.Key.Right;\r\n                else if (key === Input.Key.Right)\r\n                    key = Input.Key.Left;\r\n            }\r\n            switch (key) {\r\n                case Input.Key.Escape:\r\n                    this.IsDropDownOpen = false;\r\n                    break;\r\n                case Input.Key.Enter:\r\n                case Input.Key.Space:\r\n                    if (this.IsDropDownOpen && this._FocusedIndex !== this.SelectedIndex) {\r\n                        this.SelectedIndex = this._FocusedIndex;\r\n                        this.IsDropDownOpen = false;\r\n                    } else {\r\n                        this.IsDropDownOpen = true;\r\n                    }\r\n                    break;\r\n                case Input.Key.Right:\r\n                case Input.Key.Down:\r\n                    if (this.IsDropDownOpen) {\r\n                        if (this._FocusedIndex < (this.Items.Count - 1)) {\r\n                            this._FocusedIndex++;\r\n                            (<UIElement>this.ItemContainersManager.ContainerFromIndex(this._FocusedIndex)).Focus();\r\n                        }\r\n                    } else {\r\n                        this.SelectedIndex = Math.min(this.SelectedIndex + 1, this.Items.Count - 1);\r\n                    }\r\n                    break;\r\n                case Input.Key.Left:\r\n                case Input.Key.Up:\r\n                    if (this.IsDropDownOpen) {\r\n                        if (this._FocusedIndex > 0) {\r\n                            this._FocusedIndex--;\r\n                            (<UIElement>this.ItemContainersManager.ContainerFromIndex(this._FocusedIndex)).Focus();\r\n                        }\r\n                    } else {\r\n                        this.SelectedIndex = Math.max(this.SelectedIndex - 1, 0);\r\n                    }\r\n                    break;\r\n                default:\r\n                    e.Handled = false;\r\n                    break;\r\n            }\r\n        }\r\n                \r\n        private _CheckWatermarkVisibility() {\r\n            if (this.Watermark.length > 0 && this.$WatermarkElement)\r\n                this.$WatermarkElement.Visibility = this.$SelectionBoxItem != null ? Visibility.Collapsed : Visibility.Visible;\r\n        }\r\n        \r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState(true);\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.SetValueInternal(ComboBox.IsSelectionActiveProperty, this.$Popup == null ? false : this.$Popup.IsOpen);\r\n            this.UpdateVisualState(true);\r\n        }\r\n\r\n        private _OnChildKeyDown(sender, e: Input.KeyEventArgs) {\r\n            this.OnKeyDown(e);\r\n        }\r\n        OnSelectionChanged(e: Primitives.SelectionChangedEventArgs) {\r\n            if (!this.IsDropDownOpen)\r\n                this._UpdateDisplayedItem(this.SelectedItem);\r\n            this._CheckWatermarkVisibility();\r\n        }\r\n        private _OnToggleChecked(sender, e) { this.IsDropDownOpen = true; }\r\n        private _OnToggleUnchecked(sender, e) { this.IsDropDownOpen = false; }\r\n\r\n        private _PopupClickedOutside() {\r\n            this.IsDropDownOpen = false;\r\n        }\r\n        private _UpdateDisplayedItem(selectedItem: any) {\r\n            if (!this.$ContentPresenter)\r\n                return;\r\n\r\n            if (this.$DisplayedItem != null) {\r\n                this.$DisplayedItem.Content = this.$ContentPresenter.Content;\r\n                this.$DisplayedItem = null;\r\n            }\r\n            this.$ContentPresenter.Content = null;\r\n\r\n            if (selectedItem == null) {\r\n                this.$ContentPresenter.Content = this._NullSelFallback;\r\n                this.$ContentPresenter.ContentTemplate = null;\r\n                this.$SelectionBoxItem = null;\r\n                this.$SelectionBoxItemTemplate = null;\r\n                return;\r\n            }\r\n\r\n            var content = selectedItem;\r\n            if (content instanceof ComboBoxItem)\r\n                content = content.Content;\r\n\r\n            var icm = this.ItemContainersManager;\r\n            var selectedIndex = this.SelectedIndex;\r\n            var temp = icm.ContainerFromIndex(selectedIndex);\r\n            if (temp instanceof ComboBoxItem) this.$DisplayedItem = <ComboBoxItem>temp;\r\n\r\n            this.$SelectionBoxItem = content;\r\n            this.$SelectionBoxItemTemplate = this.ItemTemplate;\r\n\r\n            if (this.$DisplayedItem != null) {\r\n                this.$SelectionBoxItemTemplate = this.$DisplayedItem.ContentTemplate;\r\n                if (content instanceof Fayde.UIElement)\r\n                    this.$DisplayedItem.Content = null;\r\n                else\r\n                    this.$DisplayedItem = null;\r\n            } else {\r\n                temp = icm.ContainerFromIndex(selectedIndex);\r\n                var container: ComboBoxItem;\r\n                if (temp instanceof ComboBoxItem) container = <ComboBoxItem>temp;\r\n                if (!container) {\r\n                    var generator = icm.CreateGenerator(selectedIndex, 1);\r\n                    if (generator.Generate() && generator.Current instanceof ComboBoxItem) {\r\n                        container = <ComboBoxItem>generator.Current;\r\n                        this.PrepareContainerForItem(container, generator.CurrentItem);\r\n                    }\r\n                }\r\n                if (container)\r\n                    this.$SelectionBoxItemTemplate = container.ContentTemplate;\r\n            }\r\n\r\n            this.$ContentPresenter.Content = this.$SelectionBoxItem;\r\n            this.$ContentPresenter.ContentTemplate = this.$SelectionBoxItemTemplate;\r\n        }\r\n        private _UpdatePopupSizeAndPosition(sender, e: nullstone.IEventArgs) {\r\n            var popup = this.$Popup;\r\n            if (!popup)\r\n                return;\r\n            var child = <FrameworkElement>popup.Child;\r\n            if (!(child instanceof FrameworkElement))\r\n                return;\r\n\r\n            child.MinWidth = this.ActualWidth;\r\n\r\n            var root = <FrameworkElement>VisualTreeHelper.GetRoot(this);\r\n            if (!root)\r\n                return;\r\n\r\n            try {\r\n                var xform = this.TransformToVisual(null);\r\n            } catch (err) {\r\n                //Ignore ComboBox being detached\r\n                return;\r\n            }\r\n\r\n            var offset = new Point(0, this.ActualHeight);\r\n            var bottomRight = new Point(offset.x + child.ActualWidth, offset.y + child.ActualHeight);\r\n\r\n            var topLeft = xform.Transform(offset);\r\n            bottomRight = xform.Transform(bottomRight);\r\n\r\n            var isRightToLeft = (this.FlowDirection === FlowDirection.RightToLeft);\r\n            if (isRightToLeft) {\r\n                var left = bottomRight.x;\r\n                bottomRight.x = topLeft.x;\r\n                topLeft.x = left;\r\n            }\r\n\r\n            var finalOffset = new Point();\r\n            var raw = root.ActualWidth;\r\n            if (bottomRight.x > raw) {\r\n                finalOffset.x = raw - bottomRight.x;\r\n            } else if (topLeft.x < 0) {\r\n                finalOffset.x = offset.x - topLeft.x;\r\n            } else {\r\n                finalOffset.x = offset.x;\r\n            }\r\n\r\n            if (isRightToLeft)\r\n                finalOffset.x = -finalOffset.x;\r\n\r\n            var rah = root.ActualHeight;\r\n            if (bottomRight.y > rah) {\r\n                finalOffset.y = -child.ActualHeight;\r\n            } else {\r\n                finalOffset.y = this.RenderSize.height;\r\n            }\r\n\r\n            popup.HorizontalOffset = finalOffset.x;\r\n            popup.VerticalOffset = finalOffset.y;\r\n\r\n            this._UpdatePopupMaxHeight(this.MaxDropDownHeight);\r\n        }\r\n        private _UpdatePopupMaxHeight(height: number) {\r\n            var child: FrameworkElement;\r\n            if (this.$Popup && (child = <FrameworkElement>this.$Popup.Child) && child instanceof FrameworkElement) {\r\n                if (height === Number.POSITIVE_INFINITY) {\r\n                    var surface = this.XamlNode.LayoutUpdater.tree.surface;\r\n                    if (surface)\r\n                        height = surface.height / 2.0;\r\n                }\r\n                child.MaxHeight = height;\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ComboBox);\r\n    TemplateParts(ComboBox, \r\n        { Name: \"ContentPresenter\", Type: ContentPresenter },\r\n        { Name: \"Popup\", Type: Primitives.Popup },\r\n        { Name: \"ContentPresenterBorder\", Type: FrameworkElement },\r\n        { Name: \"DropDownToggle\", Type: Primitives.ToggleButton },\r\n        { Name: \"ScrollViewer\", Type: ScrollViewer },\r\n        { Name: \"WatermarkElement\", Type: FrameworkElement });\r\n    TemplateVisualStates(ComboBox, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"FocusStates\", Name: \"FocusedDropDown\" },\r\n        { GroupName: \"ValidationStates\", Name: \"Valid\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidFocused\" });\r\n}","/// <reference path=\"ContentControl.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ListBoxItem extends ContentControl {\r\n        private _ParentSelector: Primitives.Selector;\r\n        get ParentSelector(): Primitives.Selector { return this._ParentSelector; }\r\n        set ParentSelector(value: Primitives.Selector) {\r\n            if (this._ParentSelector === value)\r\n                return;\r\n            this._ParentSelector = value;\r\n            this.ParentSelectorChanged.raise(this, null);\r\n        }\r\n        ParentSelectorChanged = new nullstone.Event();\r\n\r\n        static IsSelectedProperty: DependencyProperty = DependencyProperty.RegisterCore(\"IsSelected\", () => Boolean, ListBoxItem, null, (d, args) => (<ListBoxItem>d).OnIsSelectedChanged(args));\r\n        IsSelected: boolean;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ListBoxItem;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            if (e.Handled)\r\n                return;\r\n            e.Handled = true;\r\n            if (!this.XamlNode.Focus(true))\r\n                return;\r\n            if (this._ParentSelector != null)\r\n                this._ParentSelector.NotifyListItemClicked(this);\r\n        }\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState();\r\n        }\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\t\t\r\n\t\tOnTouchMove(e: Input.TouchEventArgs){\r\n\t\t\tsuper.OnTouchMove(e);\r\n\t\t\tthis.UpdateVisualState();\r\n\t\t}\r\n\t\t\r\n\t\tOnTouchDown(e: Input.TouchEventArgs){\r\n\t\t\tif (e.Handled)\r\n                return;\r\n            e.Handled = true;\r\n            if (!this.XamlNode.Focus(true))\r\n                return;\r\n            if (this._ParentSelector != null)\r\n                this._ParentSelector.NotifyListItemClicked(this);\r\n\t\t}\r\n\t\t\r\n\t\tOnTouchUp(e: Input.TouchEventArgs){\r\n\t\t\tsuper.OnTouchUp(e);\r\n            this.UpdateVisualState();\r\n\t\t}\r\n\t\t\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState();\r\n            if (this._ParentSelector != null) {\r\n                this._ParentSelector.NotifyListItemGotFocus(this);\r\n            }\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.UpdateVisualState();\r\n            if (this._ParentSelector != null) {\r\n                this._ParentSelector.NotifyListItemLostFocus(this);\r\n            }\r\n        }\r\n\r\n        GoToStateSelection(gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsSelected)\r\n                return gotoFunc(\"Unselected\");\r\n            if (gotoFunc(\"SelectedUnfocused\"))\r\n                return true;\r\n            return gotoFunc(\"Selected\");\r\n        }\r\n        \r\n        private OnIsSelectedChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this.UpdateVisualState();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ListBoxItem);\r\n    TemplateVisualStates(ListBoxItem, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Unselected\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Selected\" },\r\n        { GroupName: \"SelectionStates\", Name: \"SelectedUnfocused\" });\r\n}","/// <reference path=\"ListBoxItem.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ComboBoxItem extends ListBoxItem {\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ComboBoxItem;\r\n        }\r\n\r\n        OnMouseLeftButtonUp(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonUp(e);\r\n            if (this.ParentSelector instanceof ComboBox)\r\n                (<ComboBox>this.ParentSelector).IsDropDownOpen = false;\r\n        }\r\n\t\t\r\n\t\tOnTouchUp(e: Input.TouchEventArgs){\r\n\t\t\tsuper.OnTouchUp(e);\r\n            if (this.ParentSelector instanceof ComboBox)\r\n                (<ComboBox>this.ParentSelector).IsDropDownOpen = false;\r\n\t\t}\r\n    }\r\n    Fayde.CoreLibrary.add(ComboBoxItem);\r\n    TemplateVisualStates(ComboBoxItem, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Unselected\" },\r\n        { GroupName: \"SelectionStates\", Name: \"Selected\" },\r\n        { GroupName: \"SelectionStates\", Name: \"SelectedUnfocused\" });\r\n}","/// <reference path=\"../Core/DependencyObject\" />\r\n\r\nmodule Fayde.Markup {\r\n    export class FrameworkTemplate extends DependencyObject {\r\n        private $$markup: nullstone.markup.Markup<any>;\r\n        private $$resources: ResourceDictionary[];\r\n\r\n        Validate(): string {\r\n            return \"\";\r\n        }\r\n\r\n        GetVisualTree(bindingSource: DependencyObject): UIElement {\r\n            var uie = LoadImpl<UIElement>(this.App, this.$$markup, this.$$resources, bindingSource);\r\n            if (!(uie instanceof UIElement))\r\n                throw new XamlParseException(\"Template root visual is not a UIElement.\");\r\n            return uie;\r\n        }\r\n    }\r\n\r\n    function setTemplateRoot(ft: FrameworkTemplate, root: any) {\r\n        if (root instanceof Element)\r\n            (<any>ft).$$markup = CreateXaml(root);\r\n    }\r\n\r\n    function setResources(ft: FrameworkTemplate, res: ResourceDictionary[]) {\r\n        (<any>ft).$$resources = res;\r\n    }\r\n\r\n    export function LoadXaml<T extends XamlObject>(app: Application, xaml: string): T;\r\n    export function LoadXaml<T extends XamlObject>(app: Application, el: Element): T;\r\n    export function LoadXaml<T extends XamlObject>(app: Application, xaml: any): T {\r\n        var markup = CreateXaml(xaml);\r\n        return Load<T>(app, markup);\r\n    }\r\n\r\n    export function Load<T extends XamlObject>(app: Application, xm: nullstone.markup.Markup<any>): T {\r\n        return LoadImpl<T>(app, xm);\r\n    }\r\n\r\n    function LoadImpl<T>(app: Application, xm: nullstone.markup.Markup<any>, resources?: ResourceDictionary[], bindingSource?: DependencyObject): T {\r\n        perfex.timer.start('MarkupLoad', xm.uri.toString());\r\n\r\n        var oresolve: nullstone.IOutType = {\r\n            isPrimitive: false,\r\n            type: undefined\r\n        };\r\n\r\n        var namescope = new NameScope(true);\r\n        var active = Internal.createActiveObject(app, namescope, bindingSource);\r\n        var pactor = Internal.createPropertyActor(active, extractType, extractDP);\r\n        var oactor = Internal.createObjectActor(pactor);\r\n        var ractor = Internal.createResourcesActor(active, resources);\r\n\r\n        var last: any;\r\n        var parser = xm.createParser()\r\n            .setNamespaces(Fayde.XMLNS, Fayde.XMLNSX);\r\n        var parse = {\r\n            resolveType: (uri, name) => {\r\n                if (!TypeManager.resolveType(uri, name, oresolve))\r\n                    throw new XamlParseException(\"Could not resolve type [\" + uri + \"][\" + name + \"].\");\r\n                return oresolve;\r\n            },\r\n            resolveObject: (type) => {\r\n                if (type === ResourceDictionary && !pactor.isNewResources())\r\n                    return undefined;\r\n                perfex.timer.start('MarkupCreateObject', type);\r\n                var obj = new (type)();\r\n                if (obj instanceof FrameworkTemplate)\r\n                    parser.skipBranch();\r\n                else if (obj instanceof StaticResource)\r\n                    (<StaticResource>obj).setContext(active.getApp(), resources);\r\n                perfex.timer.stop();\r\n                return obj;\r\n            },\r\n            resolvePrimitive: (type, text) => {\r\n                return nullstone.convertAnyToType(text, type);\r\n            },\r\n            resolveResources: (owner, ownerType) => {\r\n                var rd = owner.Resources;\r\n                return rd;\r\n            },\r\n            branchSkip: (root: any, obj: any) => {\r\n                if (obj instanceof FrameworkTemplate) {\r\n                    var ft: FrameworkTemplate = last = obj;\r\n                    var err = obj.Validate();\r\n                    if (err)\r\n                        throw new XamlParseException(err);\r\n                    setTemplateRoot(ft, root);\r\n                    setResources(ft, ractor.get());\r\n                }\r\n            },\r\n            object: (obj, isContent) => {\r\n                active.set(obj);\r\n                oactor.start();\r\n                ractor.start();\r\n            },\r\n            objectEnd: (obj, key, isContent, prev) => {\r\n                last = obj;\r\n                ractor.end();\r\n                oactor.end();\r\n                active.set(prev);\r\n                if (!active.obj)\r\n                    return;\r\n                if (isContent) {\r\n                    pactor.startContent();\r\n                    pactor.addObject(obj, key);\r\n                    pactor.end();\r\n                } else {\r\n                    pactor.addObject(obj, key);\r\n                }\r\n            },\r\n            contentText: (text) => {\r\n                pactor.setContentText(text);\r\n            },\r\n            name: (name) => {\r\n                active.setName(name);\r\n            },\r\n            propertyStart: (ownerType, propName) => {\r\n                pactor.start(ownerType, propName);\r\n            },\r\n            propertyEnd: (ownerType, propName) => {\r\n                pactor.end();\r\n            },\r\n            attributeStart: (ownerType, attrName) => {\r\n            },\r\n            attributeEnd: (ownerType, attrName, obj) => {\r\n                pactor.setObject(ownerType, attrName, obj);\r\n            },\r\n            error: (err): boolean => {\r\n                if (err instanceof nullstone.markup.xaml.SkipBranchError) {\r\n                    if (active.obj instanceof FrameworkTemplate)\r\n                        throw new XamlParseException(\"Templates must contain only 1 visual root and no other child elements.\", err.root);\r\n                }\r\n                throw new XamlParseException(`Invalid XAML in document '${xm.uri}'`, err);\r\n                return false;\r\n            },\r\n            end: () => {\r\n            }\r\n        };\r\n\r\n        function extractType(text: string): any {\r\n            var prefix = <string>null;\r\n            var name = text;\r\n            var ind = name.indexOf(':');\r\n            if (ind > -1) {\r\n                prefix = name.substr(0, ind);\r\n                name = name.substr(ind + 1);\r\n            }\r\n\r\n            var uri = parser.resolvePrefix(prefix);\r\n            TypeManager.resolveType(uri, name, oresolve);\r\n            return oresolve.type;\r\n        }\r\n\r\n        function extractDP(text: string): any {\r\n            var name = text;\r\n            var ind = name.indexOf('.');\r\n            var ownerType: any;\r\n            if (ind > -1) {\r\n                ownerType = extractType(name.substr(0, ind));\r\n                name = name.substr(ind + 1);\r\n            } else {\r\n                for (var en = parser.walkUpObjects(); en.moveNext();) {\r\n                    var style: Style = en.current;\r\n                    if (style instanceof Style) {\r\n                        ownerType = style.TargetType;\r\n                        if (!ownerType)\r\n                            throw new XamlParseException(\"Style must have a TargetType.\");\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return (ownerType)\r\n                ? DependencyProperty.GetDependencyProperty(ownerType, name)\r\n                : null;\r\n        }\r\n\r\n        parser.on(parse)\r\n            .parse(xm.root);\r\n\r\n        if (last instanceof XamlObject) {\r\n            last.XamlNode.NameScope = namescope;\r\n        }\r\n\r\n        perfex.timer.stop();\r\n\r\n        return last;\r\n    }\r\n}","/// <reference path=\"../Markup/Loader\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ControlTemplate extends Markup.FrameworkTemplate {\r\n        static TargetTypeProperty = DependencyProperty.Register(\"TargetType\", () => IType_, ControlTemplate);\r\n        TargetType: Function;\r\n\r\n        Validate(): string {\r\n            if (!this.TargetType)\r\n                return \"ControlTemplate must have a TargetType.\";\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ControlTemplate);\r\n}","/// <reference path=\"ContentControl\" />\r\n\r\nmodule Fayde.Controls {\r\n    function clickResultPropertyChanged (dobj: DependencyObject, args: IDependencyPropertyChangedEventArgs) {\r\n        var btn = (dobj instanceof Primitives.ButtonBase) ? <Primitives.ButtonBase>dobj : null;\r\n        if (!btn)\r\n            return;\r\n        if (args.OldValue !== undefined)\r\n            btn.Click.off(buttonClicked, btn);\r\n        if (args.NewValue !== undefined)\r\n            btn.Click.on(buttonClicked, btn);\r\n    }\r\n\r\n    function buttonClicked (sender: Primitives.ButtonBase, args) {\r\n        var dialog = VisualTreeHelper.GetParentOfType<Dialog>(sender, Dialog);\r\n        if (dialog)\r\n            dialog.DialogResult = Dialog.GetClickResult(sender);\r\n    }\r\n\r\n    export class Dialog extends ContentControl {\r\n        static DialogResultProperty = DependencyProperty.Register(\"DialogResult\", () => Boolean, Dialog, undefined, (d: Dialog, args) => d.OnDialogResultChanged(args));\r\n        static ClickResultProperty = DependencyProperty.RegisterAttached(\"ClickResult\", () => Boolean, Dialog, undefined, clickResultPropertyChanged);\r\n        DialogResult: boolean;\r\n\r\n        private _IgnoreResult = false;\r\n\r\n        private OnDialogResultChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._IgnoreResult === true)\r\n                return;\r\n            var overlay = Primitives.Overlay.FindOverlay(this);\r\n            if (overlay) {\r\n                overlay.Close(args.NewValue);\r\n                this._IgnoreResult = true;\r\n                try {\r\n                    this.SetCurrentValue(Dialog.DialogResultProperty, undefined);\r\n                } finally {\r\n                    this._IgnoreResult = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        static GetClickResult (dobj: DependencyObject): boolean {\r\n            return dobj.GetValue(Dialog.ClickResultProperty);\r\n        }\r\n\r\n        static SetClickResult (dobj: DependencyObject, value: boolean) {\r\n            dobj.SetValue(Dialog.ClickResultProperty, value);\r\n        }\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = Dialog;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Dialog);\r\n}","/// <reference path=\"Control.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class UserControl extends Control {\r\n        static ContentProperty: DependencyProperty = DependencyProperty.Register(\"Content\", () => UIElement, UserControl);\r\n        Content: UIElement;\r\n\r\n        CreateLayoutUpdater () {\r\n            return new minerva.controls.usercontrol.UserControlUpdater();\r\n        }\r\n\r\n        InitializeComponent () {\r\n            this.ApplyTemplate();\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = UserControl;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(UserControl);\r\n    Markup.Content(UserControl, UserControl.ContentProperty);\r\n\r\n    module reactions {\r\n        UIReaction<UIElement>(UserControl.ContentProperty, (updater, ov, nv, uc?: UserControl) => {\r\n            var error = new BError();\r\n            if (ov instanceof UIElement)\r\n                uc.XamlNode.DetachVisualChild(ov, error);\r\n            if (nv instanceof UIElement)\r\n                uc.XamlNode.AttachVisualChild(nv, error);\r\n            if (error.Message)\r\n                error.ThrowException();\r\n            updater.updateBounds();\r\n        }, false, false);\r\n    }\r\n}","/// <reference path=\"UserControl.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class Page extends UserControl {\r\n        static TitleProperty = DependencyProperty.Register(\"Title\", () => String, Page);\r\n        Title: string;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = Page;\r\n        }\r\n\r\n        static GetAsync(initiator: DependencyObject, url: string): Promise<Page> {\r\n            return Markup.Resolve(url)\r\n                .then(xm => {\r\n                    TimelineProfile.Parse(true, \"Page\");\r\n                    var page = Markup.Load<Page>(initiator.App, xm);\r\n                    TimelineProfile.Parse(false, \"Page\");\r\n                    if (!(page instanceof Controls.Page))\r\n                        throw new Error(\"Markup must be a Page.\");\r\n                    return page;\r\n                });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Page);\r\n}","module Fayde.Navigation {\r\n    export interface INavigate {\r\n        Navigate(source: Uri): boolean;\r\n    }\r\n    export var INavigate_ = new nullstone.Interface<INavigate>(\"INavigate\");\r\n}","/// <reference path=\"ContentControl.ts\" />\r\n/// <reference path=\"Page.ts\" />\r\n/// <reference path=\"../Navigation/INavigate.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    import RedirectRoute = Fayde.Navigation.RedirectRoute;\r\n    function createErrorDoc(error: any): nullstone.markup.xaml.XamlMarkup {\r\n        var safe = (error || '').toString()\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;')\r\n            .replace(/'/g, '&apos;');\r\n        var xaml = '<Page xmlns=\"' + Fayde.XMLNS + '\" xmlns:x=\"' + Fayde.XMLNSX + '\" Title=\"Error\">';\r\n        xaml += '<TextBlock Text=\"' + safe + '\" />';\r\n        xaml += '</Page>';\r\n        return Markup.CreateXaml(xaml, Fayde.XMLNS + \"/frame/error\");\r\n    }\r\n\r\n    function getErrorPage(app: Application, error: string): Page {\r\n        return Markup.Load<Page>(app, createErrorDoc(error));\r\n    }\r\n\r\n    export class Frame extends ContentControl implements Navigation.INavigate {\r\n        static IsDeepLinkedProperty = DependencyProperty.Register(\"IsDeepLinked\", () => Boolean, Frame, true);\r\n        static CurrentSourceProperty = DependencyProperty.RegisterReadOnly(\"CurrentSource\", () => Uri, Frame);\r\n        static SourceProperty = DependencyProperty.Register(\"Source\", () => Uri, Frame, undefined, (d, args) => (<Frame>d).SourcePropertyChanged(args));\r\n        static UriMapperProperty = DependencyProperty.Register(\"UriMapper\", () => Navigation.UriMapper, Frame);\r\n        static RouteMapperProperty = DependencyProperty.RegisterCore(\"RouteMapper\", () => Navigation.RouteMapper, Frame);\r\n        static IsLoadingProperty = DependencyProperty.RegisterReadOnly(\"IsLoading\", () => Boolean, Frame, false, (d: Frame, args) => d.OnIsLoadingChanged(args.OldValue, args.NewValue));\r\n        IsDeepLinked: boolean;\r\n        CurrentSource: Uri;\r\n        Source: Uri;\r\n        UriMapper: Navigation.UriMapper;\r\n        RouteMapper: Navigation.RouteMapper;\r\n        IsLoading: boolean;\r\n\r\n        private _NavService = new Navigation.NavigationService();\r\n        private _CurrentRoute: Fayde.Navigation.Route = undefined;\r\n\r\n        OnIsLoadingChanged(oldIsLoading: boolean, newIsLoading: boolean) {\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        //Navigated = new MulticastEvent();\r\n        //Navigating = new MulticastEvent();\r\n        //NavigationFailed = new MulticastEvent();\r\n        //NavigationStopped = new MulticastEvent();\r\n        //FragmentNavigation = new MulticastEvent();\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = Frame;\r\n            this.Loaded.on(this._FrameLoaded, this);\r\n        }\r\n\r\n        GoToStates(gotoFunc: (state: string) => boolean) {\r\n            this.GoToStateLoading(gotoFunc);\r\n        }\r\n\r\n        GoToStateLoading(gotoFunc: (state: string) => boolean): boolean {\r\n            return gotoFunc(this.IsLoading ? \"Loading\" : \"Idle\");\r\n        }\r\n\r\n        Navigate(uri: Uri): boolean {\r\n            return this._NavService.Navigate(uri);\r\n        }\r\n\r\n        GoForward() {\r\n            //TODO: Implement\r\n        }\r\n\r\n        GoBackward() {\r\n            //TODO: Implement\r\n        }\r\n\r\n        StopLoading() {\r\n            //TODO: Implement\r\n        }\r\n\r\n        private _FrameLoaded(sender, e: RoutedEventArgs) {\r\n            if (this.IsDeepLinked) {\r\n                this._NavService.LocationChanged.on(this._HandleDeepLink, this);\r\n                this._HandleDeepLink();\r\n            }\r\n        }\r\n\r\n        private _HandleDeepLink() {\r\n            this._LoadContent(this._NavService.CurrentUri);\r\n        }\r\n\r\n        private _LoadContent(source: Uri) {\r\n            this.SetCurrentValue(Frame.CurrentSourceProperty, source);\r\n            this.StopLoading();\r\n            this.SetCurrentValue(Frame.IsLoadingProperty, true);\r\n\r\n            var fragment = source.fragment;\r\n            if (fragment[0] === \"#\")\r\n                fragment = fragment.substr(1);\r\n            TimelineProfile.Navigate(true, fragment);\r\n\r\n            var targetUri = new Uri(fragment, nullstone.UriKind.Relative);\r\n            var target: string = undefined;\r\n            if (this.RouteMapper) {\r\n                var route = this.RouteMapper.MapUri(targetUri);\r\n                if (route instanceof Navigation.RedirectRoute) {\r\n                    this.Navigate(route.NewUri);\r\n                    return;\r\n                }\r\n                this._CurrentRoute = route;\r\n                if (!this._CurrentRoute)\r\n                    throw new InvalidOperationException(\"Route could not be mapped.\" + targetUri.toString());\r\n                target = this._CurrentRoute.View.toString();\r\n            } else if (this.UriMapper) {\r\n                var mapped = this.UriMapper.MapUri(targetUri);\r\n                if (!mapped)\r\n                    throw new InvalidOperationException(\"Uri could not be mapped.\" + targetUri.toString());\r\n                target = mapped.toString();\r\n            }\r\n\r\n            Page.GetAsync(this, target)\r\n                .then(page => this._HandleSuccess(page),\r\n                    err => this._HandleError(err));\r\n        }\r\n\r\n        private _HandleSuccess(page: Page) {\r\n            this._SetPage(page);\r\n            this.SetCurrentValue(Frame.IsLoadingProperty, false);\r\n            TimelineProfile.Navigate(false);\r\n            TimelineProfile.IsNextLayoutPassProfiled = true;\r\n        }\r\n\r\n        private _HandleError(error: any) {\r\n            this._SetPage(getErrorPage(this.App, error));\r\n            this.SetCurrentValue(Frame.IsLoadingProperty, false);\r\n            TimelineProfile.Navigate(false);\r\n        }\r\n\r\n        private _SetPage(page: Page) {\r\n            document.title = page.Title;\r\n            this.Content = page;\r\n            if (this._CurrentRoute)\r\n                page.DataContext = this._CurrentRoute.DataContext;\r\n            if (page.DataContext == null)\r\n                page.DataContext = this.DataContext;\r\n        }\r\n\r\n        private SourcePropertyChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            //TODO: Ignore in design mode\r\n            if (true)//if loaded and not updating source from nav service\r\n                this.Navigate(args.NewValue);\r\n\r\n            //TODO: Show default content uri in Content when in design mode\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Frame);\r\n    nullstone.addTypeInterfaces(Frame, Navigation.INavigate_);\r\n    TemplateVisualStates(Frame,\r\n        {GroupName: \"LoadingStates\", Name: \"Idle\"},\r\n        {GroupName: \"LoadingStates\", Name: \"Loading\"});\r\n}","/// <reference path=\"Panel.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class GridNode extends PanelNode {\r\n        LayoutUpdater: minerva.controls.grid.GridUpdater;\r\n\r\n        ColumnDefinitionsChanged (coldef: ColumnDefinition, index: number, add: boolean) {\r\n            var updater = this.LayoutUpdater;\r\n            var coldefs = updater.assets.columnDefinitions;\r\n\r\n            if (add) {\r\n                coldefs.splice(index, 0, coldef);\r\n                ReactTo(coldef, this, () => updater.invalidateMeasure());\r\n            } else {\r\n                UnreactTo(coldef, this);\r\n                coldefs.splice(index, 1);\r\n            }\r\n\r\n            updater.invalidateMeasure();\r\n        }\r\n\r\n        RowDefinitionsChanged (rowdef: RowDefinition, index: number, add: boolean) {\r\n            var updater = this.LayoutUpdater;\r\n            var rowdefs = updater.assets.rowDefinitions;\r\n\r\n            if (add) {\r\n                rowdefs.splice(index, 0, rowdef);\r\n                ReactTo(rowdef, this, () => updater.invalidateMeasure());\r\n            } else {\r\n                UnreactTo(rowdef, this);\r\n                rowdefs.splice(index, 1);\r\n            }\r\n\r\n            updater.invalidateMeasure();\r\n        }\r\n    }\r\n\r\n    export class Grid extends Panel {\r\n        XamlNode: GridNode;\r\n        CreateNode(): GridNode { return new GridNode(this); }\r\n        CreateLayoutUpdater () { return new minerva.controls.grid.GridUpdater(); }\r\n\r\n        static ColumnProperty = DependencyProperty.RegisterAttached(\"Column\", () => Number, Grid, 0);\r\n        static GetColumn (d: DependencyObject): number { return d.GetValue(Grid.ColumnProperty); }\r\n        static SetColumn (d: DependencyObject, value: number) { d.SetValue(Grid.ColumnProperty, value); }\r\n\r\n        static ColumnSpanProperty = DependencyProperty.RegisterAttached(\"ColumnSpan\", () => Number, Grid, 1);\r\n        static GetColumnSpan (d: DependencyObject): number { return d.GetValue(Grid.ColumnSpanProperty); }\r\n        static SetColumnSpan (d: DependencyObject, value: number) { d.SetValue(Grid.ColumnSpanProperty, value); }\r\n\r\n        static RowProperty = DependencyProperty.RegisterAttached(\"Row\", () => Number, Grid, 0);\r\n        static GetRow (d: DependencyObject): number { return d.GetValue(Grid.RowProperty); }\r\n        static SetRow (d: DependencyObject, value: number) { d.SetValue(Grid.RowProperty, value); }\r\n\r\n        static RowSpanProperty = DependencyProperty.RegisterAttached(\"RowSpan\", () => Number, Grid, 1);\r\n        static GetRowSpan (d: DependencyObject): number { return d.GetValue(Grid.RowSpanProperty); }\r\n        static SetRowSpan (d: DependencyObject, value: number) { d.SetValue(Grid.RowSpanProperty, value); }\r\n\r\n        static ColumnDefinitionsProperty = DependencyProperty.RegisterImmutable<ColumnDefinitionCollection>(\"ColumnDefinitions\", () => ColumnDefinitionCollection, Grid);\r\n        static RowDefinitionsProperty = DependencyProperty.RegisterImmutable<RowDefinitionCollection>(\"RowDefinitions\", () => RowDefinitionCollection, Grid);\r\n        static ShowGridLinesProperty = DependencyProperty.Register(\"ShowGridLines\", () => Boolean, Grid, false);\r\n        ShowGridLines: boolean;\r\n        ColumnDefinitions: ColumnDefinitionCollection;\r\n        RowDefinitions: RowDefinitionCollection;\r\n\r\n        constructor () {\r\n            super();\r\n            var coldefs = Grid.ColumnDefinitionsProperty.Initialize(this);\r\n            ReactTo(coldefs, this, (obj?) => this.XamlNode.ColumnDefinitionsChanged(obj.item, obj.index, obj.add));\r\n            var rowdefs = Grid.RowDefinitionsProperty.Initialize(this);\r\n            ReactTo(rowdefs, this, (obj?) => this.XamlNode.RowDefinitionsChanged(obj.item, obj.index, obj.add));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Grid);\r\n\r\n    module reactions {\r\n        UIReaction<boolean>(Grid.ShowGridLinesProperty, minerva.controls.grid.reactTo.showGridLines, false);\r\n        UIReactionAttached<number>(Grid.ColumnProperty, minerva.controls.grid.reactTo.column);\r\n        UIReactionAttached<number>(Grid.ColumnSpanProperty, minerva.controls.grid.reactTo.columnSpan);\r\n        UIReactionAttached<number>(Grid.RowProperty, minerva.controls.grid.reactTo.row);\r\n        UIReactionAttached<number>(Grid.RowSpanProperty, minerva.controls.grid.reactTo.rowSpan);\r\n    }\r\n}","module Fayde.Controls {\r\n    import GridUnitType = minerva.controls.grid.GridUnitType;\r\n    Fayde.CoreLibrary.addEnum(GridUnitType, \"GridUnitType\");\r\n\r\n    export class GridLength implements minerva.controls.grid.IGridLength, ICloneable {\r\n        Value: number;\r\n        Type: GridUnitType;\r\n        constructor(value?: number, unitType?: GridUnitType) {\r\n            this.Value = value == null ? 0 : value;\r\n            this.Type = unitType || GridUnitType.Auto;\r\n        }\r\n        static Equals(gl1: GridLength, gl2: GridLength): boolean {\r\n            return Math.abs(gl1.Value - gl2.Value) < 0.001 && gl1.Type == gl2.Type;\r\n        }\r\n        Clone(): GridLength {\r\n            return new Controls.GridLength(this.Value, this.Type);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(GridLength);\r\n\r\n    nullstone.registerTypeConverter(GridLength, (val: any): GridLength => {\r\n        if (val instanceof GridLength)\r\n            return <GridLength>val;\r\n        if (!val || val.toLowerCase() === \"auto\")\r\n            return new GridLength();\r\n        var type = GridUnitType.Pixel;\r\n        if (val[val.length - 1] === \"*\") {\r\n            val = val.substr(0, val.length - 1);\r\n            type = GridUnitType.Star;\r\n        }\r\n        var v = parseFloat(val);\r\n        if (isNaN(v)) v = 1;\r\n        return new GridLength(v, type);\r\n    });\r\n}","/// <reference path=\"ContentControl.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class HeaderedContentControl extends ContentControl {\r\n        static HeaderProperty = DependencyProperty.Register(\"Header\", () => Object, HeaderedContentControl, undefined, (d, args) => (<HeaderedContentControl>d).OnHeaderChanged(args.OldValue, args.NewValue));\r\n        Header: any;\r\n        static HeaderTemplateProperty = DependencyProperty.Register(\"HeaderTemplate\", () => DataTemplate, HeaderedContentControl, undefined, (d, args) => (<HeaderedContentControl>d).OnHeaderTemplateChanged(args.OldValue, args.NewValue));\r\n        HeaderTemplate: DataTemplate;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = HeaderedContentControl;\r\n        }\r\n\r\n        OnHeaderChanged(oldHeader: any, newHeader: any) { }\r\n        OnHeaderTemplateChanged(oldHeaderTemplate: DataTemplate, newHeaderTemplate: DataTemplate) { }\r\n    }\r\n    Fayde.CoreLibrary.add(HeaderedContentControl);\r\n}","/// <reference path=\"Primitives/ButtonBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    type Target = string|Frame;\r\n\r\n    export class HyperlinkButton extends Primitives.ButtonBase {\r\n        static NavigateUriProperty = DependencyProperty.Register(\"NavigateUri\", () => Uri, HyperlinkButton);\r\n        static TargetNameProperty = DependencyProperty.Register(\"TargetName\", () => String, HyperlinkButton);\r\n        NavigateUri: Uri;\r\n        TargetName: string;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = HyperlinkButton;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        OnClick() {\r\n            super.OnClick();\r\n            var navUri = this.NavigateUri;\r\n            if (navUri)\r\n                Navigation.Navigate(this, this.TargetName, navUri);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(HyperlinkButton);\r\n    TemplateVisualStates(HyperlinkButton,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"MouseOver\"},\r\n        {GroupName: \"CommonStates\", Name: \"Pressed\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"FocusStates\", Name: \"Unfocused\"},\r\n        {GroupName: \"FocusStates\", Name: \"Focused\"});\r\n}","module Fayde.Media {\r\n    export enum BrushMappingMode {\r\n        Absolute = 0,\r\n        RelativeToBoundingBox = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(BrushMappingMode, \"BrushMappingMode\");\r\n\r\n    export enum GradientSpreadMethod {\r\n        Pad = 0,\r\n        Reflect = 1,\r\n        Repeat = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(GradientSpreadMethod, \"GradientSpreadMethod\");\r\n\r\n    export enum Stretch {\r\n        None = 0,\r\n        Fill = 1,\r\n        Uniform = 2,\r\n        UniformToFill = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(Stretch, \"Stretch\");\r\n\r\n    export enum AlignmentX {\r\n        Left = 0,\r\n        Center = 1,\r\n        Right = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(AlignmentX, \"AlignmentX\");\r\n\r\n    export enum AlignmentY {\r\n        Top = 0,\r\n        Center = 1,\r\n        Bottom = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(AlignmentY, \"AlignmentY\");\r\n\r\n    export enum TextHintingMode {\r\n        Fixed = 0,\r\n        Animated = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(TextHintingMode, \"TextHintingMode\");\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n/// <reference path=\"../Media/Enums.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    import ImageUpdater = minerva.controls.image.ImageUpdater;\r\n    export class Image extends FrameworkElement {\r\n        CreateLayoutUpdater() {\r\n            return new ImageUpdater();\r\n        }\r\n\r\n        private static _SourceCoercer(d: DependencyObject, propd: DependencyProperty, value: any): any {\r\n            if (typeof value === \"string\")\r\n                return new Media.Imaging.BitmapImage(new Uri(value));\r\n            if (value instanceof Uri)\r\n                return new Media.Imaging.BitmapImage(value);\r\n            return value;\r\n        }\r\n\r\n        static SourceProperty = DependencyProperty.RegisterFull(\"Source\", () => Media.Imaging.ImageSource, Image, undefined, undefined, Image._SourceCoercer);\r\n        // http: //msdn.microsoft.com/en-us/library/system.windows.media.stretch(v=vs.95).aspx\r\n        static StretchProperty = DependencyProperty.RegisterCore(\"Stretch\", () => new Enum(Media.Stretch), Image, Media.Stretch.Uniform);\r\n        Source: Media.Imaging.ImageSource;\r\n        Stretch: Media.Stretch;\r\n\r\n        ImageOpened = new nullstone.Event();\r\n        ImageFailed = new nullstone.Event();\r\n\r\n        private $watcher: nullstone.IDisposable = null;\r\n\r\n        OnImageErrored(source: Media.Imaging.BitmapSource, error: Error) {\r\n            this.ImageFailed.raise(this, null);\r\n        }\r\n\r\n        OnImageLoaded(source: Media.Imaging.BitmapSource) {\r\n            this.ImageOpened.raise(this, null);\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            lu.invalidateMeasure();\r\n        }\r\n\r\n        OnImageChanged(source: Media.Imaging.BitmapSource) {\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            lu.invalidateMeasure();\r\n            lu.invalidate();\r\n        }\r\n\r\n        OnSourceChanged(oldSource: Media.Imaging.ImageSource, newSource: Media.Imaging.ImageSource) {\r\n            if (this.$watcher) {\r\n                this.$watcher.dispose();\r\n                this.$watcher = null;\r\n            }\r\n            if (newSource instanceof Media.Imaging.BitmapSource) {\r\n                this.$watcher = newSource.watch({\r\n                    onErrored: (source, error) => this.OnImageErrored(source, error),\r\n                    onLoaded: (source) => this.OnImageLoaded(source),\r\n                    onChanged: (source) => this.OnImageChanged(source)\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Image);\r\n\r\n    UIReaction<Media.Imaging.ImageSource>(Image.SourceProperty, (upd: ImageUpdater, ov, nv, image?: Image) => {\r\n        image.OnSourceChanged(ov, nv);\r\n        if (!nv) {\r\n            upd.updateBounds();\r\n            upd.invalidate();\r\n        }\r\n        upd.invalidateMeasure();\r\n        upd.invalidateMetrics();\r\n    }, false);\r\n    UIReaction<minerva.Stretch>(Image.StretchProperty, (upd: ImageUpdater, ov, nv) => {\r\n        upd.invalidateMeasure();\r\n        upd.invalidateMetrics();\r\n    }, false);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export interface IItemCollection extends nullstone.ICollection<any> {\r\n        ItemsChanged: nullstone.Event<Collections.CollectionChangedEventArgs>;\r\n        ToArray(): any[];\r\n\r\n        GetRange(startIndex: number, endIndex: number): any[];\r\n        Contains(value: any): boolean;\r\n        IndexOf(value: any): number;\r\n        AddRange(values: any[]);\r\n    }\r\n\r\n    export class ItemCollection extends XamlObjectCollection<any> implements IItemCollection {\r\n        ItemsChanged = new nullstone.Event<Collections.CollectionChangedEventArgs>();\r\n\r\n        ToArray (): any[] {\r\n            return this._ht.slice(0);\r\n        }\r\n\r\n        get Count (): number {\r\n            return this._ht.length;\r\n        }\r\n\r\n        IsReadOnly: boolean = false;\r\n\r\n        GetValueAt (index: number): XamlObject {\r\n            var ht = this._ht;\r\n            if (index < 0 || index >= ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            return ht[index];\r\n        }\r\n\r\n        GetRange (startIndex: number, endIndex: number): XamlObject[] {\r\n            return this._ht.slice(startIndex, endIndex + 1);\r\n        }\r\n\r\n        SetValueAt (index: number, value: XamlObject): boolean {\r\n            this._ValidateReadOnly();\r\n            this.SetValueAtImpl(index, value);\r\n            return true;\r\n        }\r\n\r\n        SetValueAtImpl (index: number, value: any) {\r\n            var ht = this._ht;\r\n            if (index < 0 || index >= ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            var oldValue = ht[index];\r\n            ht[index] = value;\r\n            this.ItemsChanged.raise(this, Collections.CollectionChangedEventArgs.Replace(value, oldValue, index));\r\n        }\r\n\r\n        Add (value: XamlObject): number {\r\n            this._ValidateReadOnly();\r\n            if (value == null)\r\n                throw new ArgumentException(\"value\");\r\n            return this.AddImpl(value);\r\n        }\r\n\r\n        AddImpl (value: any): number {\r\n            var index = this._ht.push(value) - 1;\r\n            this.ItemsChanged.raise(this, Collections.CollectionChangedEventArgs.Add(value, index));\r\n            return index;\r\n        }\r\n\r\n        AddRange (values: any[]) {\r\n            this._ValidateReadOnly();\r\n            if (!values) return;\r\n            for (var i = 0; i < values.length; i++) {\r\n                if (values[i] == null) throw new ArgumentException(\"value\");\r\n            }\r\n            this.AddRangeImpl(values);\r\n        }\r\n\r\n        AddRangeImpl (values: any[]) {\r\n            var index = this._ht.length;\r\n            this._ht = this._ht.concat(values);\r\n            this.ItemsChanged.raise(this, Collections.CollectionChangedEventArgs.AddRange(values, index));\r\n        }\r\n\r\n        Insert (index: number, value: XamlObject): boolean {\r\n            this._ValidateReadOnly();\r\n            if (value == null)\r\n                throw new ArgumentException(\"value\");\r\n            this.InsertImpl(index, value);\r\n            return true;\r\n        }\r\n\r\n        InsertImpl (index: number, value: XamlObject) {\r\n            var ht = this._ht;\r\n            if (index < 0 || index > ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            if (index >= ht.length)\r\n                ht.push(value);\r\n            else\r\n                ht.splice(index, 0, value);\r\n            this.ItemsChanged.raise(this, Collections.CollectionChangedEventArgs.Add(value, index));\r\n        }\r\n\r\n        IndexOf (value: XamlObject): number {\r\n            return this._ht.indexOf(value);\r\n        }\r\n\r\n        Contains (value: XamlObject): boolean {\r\n            return this._ht.indexOf(value) > -1;\r\n        }\r\n\r\n        Remove (value: XamlObject): boolean {\r\n            this._ValidateReadOnly();\r\n            this.RemoveImpl(value);\r\n            return true;\r\n        }\r\n\r\n        RemoveImpl (value: XamlObject) {\r\n            var index = this._ht.indexOf(value);\r\n            if (index < 0)\r\n                return;\r\n            this._ht.splice(index, 1);\r\n            this.ItemsChanged.raise(this, Collections.CollectionChangedEventArgs.Remove(value, index));\r\n        }\r\n\r\n        RemoveAt (index: number): boolean {\r\n            this._ValidateReadOnly();\r\n            if (index < 0 || index >= this._ht.length)\r\n                throw new IndexOutOfRangeException(index);\r\n            this.RemoveAtImpl(index);\r\n            return true;\r\n        }\r\n\r\n        RemoveAtImpl (index: number) {\r\n            var item = this._ht.splice(index, 1)[0];\r\n            this.ItemsChanged.raise(this, Collections.CollectionChangedEventArgs.Remove(item, index));\r\n        }\r\n\r\n        Clear (): boolean {\r\n            this._ValidateReadOnly();\r\n            this.ClearImpl();\r\n            return true;\r\n        }\r\n\r\n        ClearImpl () {\r\n            var old = this._ht;\r\n            this._ht = [];\r\n            this.ItemsChanged.raise(this, Collections.CollectionChangedEventArgs.Reset(old));\r\n        }\r\n\r\n        private _ValidateReadOnly () {\r\n            if (this.IsReadOnly)\r\n                throw new InvalidOperationException(\"The collection is readonly.\");\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ItemCollection);\r\n}","/// <reference path=\"../Markup/Loader\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ItemsPanelTemplate extends Markup.FrameworkTemplate {\r\n        GetVisualTree(bindingSource: DependencyObject): Panel {\r\n            var panel = <Panel>super.GetVisualTree(bindingSource);\r\n            if (!(panel instanceof Panel))\r\n                throw new XamlParseException(\"The root element of an ItemsPanelTemplate must be a Panel subclass.\");\r\n            return panel;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ItemsPanelTemplate);\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n/// <reference path=\"../Markup/Creator.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    var spxd = Markup.CreateXaml(\"<ItemsPanelTemplate xmlns=\\\"\" + Fayde.XMLNS + \"\\\"><StackPanel /></ItemsPanelTemplate>\"\r\n        , Fayde.XMLNS + \"/itemspresenter/stackpanel/default\");\r\n    var spft: ItemsPanelTemplate;\r\n\r\n    var vspxd = Markup.CreateXaml(\"<ItemsPanelTemplate xmlns=\\\"\" + Fayde.XMLNS + \"\\\"><VirtualizingStackPanel /></ItemsPanelTemplate>\"\r\n        , Fayde.XMLNS + \"/itemspresenter/virtualizingstackpanel/default\");\r\n    var vspft: ItemsPanelTemplate;\r\n\r\n    function getFallbackTemplate(ic: ItemsControl): ItemsPanelTemplate {\r\n        if (ic instanceof ListBox)\r\n            return vspft = vspft || Markup.Load<ItemsPanelTemplate>(ic.App, vspxd);\r\n        return spft = spft || Markup.Load<ItemsPanelTemplate>(ic.App, spxd);\r\n    }\r\n\r\n    export class ItemsPresenterNode extends FENode {\r\n        XObject: ItemsPresenter;\r\n        constructor(xobj: ItemsPresenter) {\r\n            super(xobj);\r\n        }\r\n\r\n        private _ElementRoot: Panel;\r\n        get ElementRoot(): Panel { return this._ElementRoot; }\r\n\r\n        DoApplyTemplateWithError(error: BError): boolean {\r\n            if (this._ElementRoot)\r\n                return false;\r\n\r\n            var xobj = this.XObject;\r\n            var ic = xobj.TemplateOwner;\r\n            if (!(ic instanceof ItemsControl))\r\n                return false;\r\n\r\n            var er: Panel;\r\n            if (ic.ItemsPanel)\r\n                er = this._ElementRoot = ic.ItemsPanel.GetVisualTree(xobj);\r\n            if (!er)\r\n                er = this._ElementRoot = getFallbackTemplate(ic).GetVisualTree(xobj);\r\n\r\n            ItemsControl.SetIsItemsHost(er, true);\r\n            if (!this.FinishApplyTemplateWithError(er, error))\r\n                return false;\r\n            ic.XamlNode.ItemsPresenter = xobj;\r\n            xobj.OnItemsAdded(0, ic.Items.ToArray());\r\n            return true;\r\n        }\r\n    }\r\n\r\n    export class ItemsPresenter extends FrameworkElement {\r\n        TemplateOwner: ItemsControl;\r\n        XamlNode: ItemsPresenterNode;\r\n        CreateNode(): ItemsPresenterNode { return new ItemsPresenterNode(this); }\r\n\r\n        get ItemsControl(): ItemsControl {\r\n            return this.TemplateOwner instanceof ItemsControl ? this.TemplateOwner : null;\r\n        }\r\n        get Panel(): Panel {\r\n            var er = this.XamlNode.ElementRoot;\r\n            return er instanceof Panel ? er : undefined;\r\n        }\r\n\r\n        static Get(panel: Panel): ItemsPresenter {\r\n            if (!(panel instanceof Panel))\r\n                return null;\r\n            if (!ItemsControl.GetIsItemsHost(panel))\r\n                return null;\r\n            return panel.TemplateOwner instanceof ItemsPresenter ? <ItemsPresenter>panel.TemplateOwner : null;\r\n        }\r\n\r\n        OnItemsAdded(index: number, newItems: any[]) {\r\n            var panel = this.Panel;\r\n            if (!panel)\r\n                return;\r\n            if (panel instanceof VirtualizingPanel) {\r\n                (<VirtualizingPanel>panel).OnItemsAdded(index, newItems);\r\n            } else {\r\n                for (var ic = this.ItemsControl, children = panel.Children, generator = ic.ItemContainersManager.CreateGenerator(index, newItems.length); generator.Generate();) {\r\n                    var container = generator.Current;\r\n                    children.Insert(index + generator.GenerateIndex, <UIElement>container);\r\n                    ic.PrepareContainerForItem(container, generator.CurrentItem);\r\n                }\r\n            }\r\n        }\r\n        OnItemsRemoved(index: number, oldItems: any[]) {\r\n            var panel = this.Panel;\r\n            if (!panel)\r\n                return;\r\n            if (panel instanceof VirtualizingPanel) {\r\n                (<VirtualizingPanel>panel).OnItemsRemoved(index, oldItems);\r\n            } else {\r\n                var icm = this.ItemsControl.ItemContainersManager;\r\n                var children = panel.Children;\r\n                var count = oldItems ? oldItems.length : null;\r\n                if (count == null || count === children.Count) {\r\n                    children.Clear();\r\n                } else {\r\n                    while (count > 0) {\r\n                        children.RemoveAt(index);\r\n                        count--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ItemsPresenter);\r\n}","/// <reference path=\"Primitives/Selector.ts\" />\r\n/// <reference path=\"ScrollViewer.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    import Rect = minerva.Rect;\r\n    interface IOutValue {\r\n        Value: any;\r\n    }\r\n    export class ListBox extends Primitives.Selector {\r\n        private _FocusedIndex: number = 0;\r\n        static ItemContainerStyleProperty = DependencyProperty.Register(\"ItemContainerStyle\", () => Style, ListBox, undefined, (d, args) => (<ListBox>d).OnItemContainerStyleChanged(args));\r\n        static IsSelectionActiveProperty = Primitives.Selector.IsSelectionActiveProperty;\r\n        ItemContainerStyle: Style;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ListBox;\r\n        }\r\n\r\n        ScrollIntoView(item: any) {\r\n            var tsv = this.$TemplateScrollViewer;\r\n            if (!tsv)\r\n                return;\r\n            var items = this.Items;\r\n            if (!items.Contains(item))\r\n                return;\r\n\r\n            var ihro = {Value: <Rect>null};\r\n            var lbiro = {Value: <Rect>null};\r\n            var virtualizing = VirtualizingStackPanel.GetIsVirtualizing(this);\r\n            if (this._IsOnCurrentPage(item, ihro, lbiro))\r\n                return;\r\n            var ihr = ihro.Value;\r\n            var lbir = lbiro.Value;\r\n\r\n            if (this._GetIsVerticalOrientation()) {\r\n                if (virtualizing) {\r\n                    tsv.ScrollToVerticalOffset(this.SelectedIndex);\r\n                    return;\r\n                }\r\n                var verticalOffset = tsv.VerticalOffset;\r\n                var verticalDelta = 0;\r\n                if (Rect.getBottom(ihr) < Rect.getBottom(lbir)) {\r\n                    verticalDelta = Rect.getBottom(lbir) - Rect.getBottom(ihr);\r\n                    verticalOffset += verticalDelta;\r\n                }\r\n                if ((lbir.y - verticalDelta) < ihr.y) {\r\n                    verticalOffset -= ihr.y - (lbir.y - verticalDelta);\r\n                }\r\n                tsv.ScrollToVerticalOffset(verticalOffset);\r\n            } else {\r\n                if (virtualizing) {\r\n                    tsv.ScrollToHorizontalOffset(this.SelectedIndex);\r\n                    return;\r\n                }\r\n                var horizontalOffset = tsv.HorizontalOffset;\r\n                var horizontalDelta = 0;\r\n                if (Rect.getRight(ihr) < Rect.getRight(lbir)) {\r\n                    horizontalDelta = Rect.getRight(lbir) - Rect.getRight(ihr);\r\n                    horizontalOffset += horizontalDelta;\r\n                }\r\n                if ((ihr.x - horizontalDelta) < ihr.x) {\r\n                    horizontalOffset -= ihr.x - (lbir.x - horizontalDelta);\r\n                }\r\n                tsv.ScrollToHorizontalOffset(horizontalOffset);\r\n            }\r\n        }\r\n\r\n        private _NavigateByPage(forward: boolean) {\r\n            var tsv = this.$TemplateScrollViewer;\r\n            var newFocusedIndex = -1;\r\n            var item = (this._FocusedIndex !== -1) ? this.Items.GetValueAt(this._FocusedIndex) : null;\r\n            if (item != null && !this._IsOnCurrentPage(item)) {\r\n                this.ScrollIntoView(item);\r\n                if (tsv != null)\r\n                    tsv.UpdateLayout();\r\n            }\r\n            if (item == null) {\r\n                newFocusedIndex = this._GetFirstItemOnCurrentPage(this._FocusedIndex, forward);\r\n            } else {\r\n                var firstItemOnCurrentPage = this._GetFirstItemOnCurrentPage(this._FocusedIndex, forward);\r\n                if (firstItemOnCurrentPage !== this._FocusedIndex) {\r\n                    newFocusedIndex = firstItemOnCurrentPage;\r\n                } else {\r\n                    if (tsv != null) {\r\n                        if (this._GetIsVerticalOrientation()) {\r\n                            tsv.ScrollToVerticalOffset(Math.max(0, Math.min(tsv.ScrollableHeight,\r\n                                tsv.VerticalOffset + (tsv.ViewportHeight * (forward ? 1 : -1)))));\r\n                        } else {\r\n                            tsv.ScrollToHorizontalOffset(Math.max(0, Math.min(tsv.ScrollableWidth,\r\n                                tsv.HorizontalOffset + (tsv.ViewportWidth * (forward ? 1 : -1)))));\r\n\r\n                        }\r\n                        tsv.UpdateLayout();\r\n                    }\r\n                    newFocusedIndex = this._GetFirstItemOnCurrentPage(this._FocusedIndex, forward);\r\n                }\r\n            }\r\n            return newFocusedIndex;\r\n        }\r\n\r\n        private _ScrollInDirection(key: Input.Key) {\r\n            if (this.$TemplateScrollViewer)\r\n                this.$TemplateScrollViewer.ScrollInDirection(key);\r\n        }\r\n\r\n        private _IsOnCurrentPage(item: any, itemsHostRectOut?: IOutValue, listBoxItemsRectOut?: IOutValue) {\r\n            if (!itemsHostRectOut) itemsHostRectOut = {Value: null};\r\n            if (!listBoxItemsRectOut) listBoxItemsRectOut = {Value: null};\r\n\r\n            var itemsHost: UIElement = <UIElement>VisualTreeHelper.GetChild(VisualTreeHelper.GetChild(this, 0), 0);\r\n\r\n            var tsv = this.$TemplateScrollViewer;\r\n            if (tsv != null) {\r\n                itemsHost = tsv;\r\n                if (tsv.$ScrollContentPresenter != null)\r\n                    itemsHost = tsv.$ScrollContentPresenter;\r\n            }\r\n            if (!(itemsHost instanceof FrameworkElement))\r\n                itemsHost = null;\r\n\r\n            var ihro = itemsHostRectOut.Value = new minerva.Rect();\r\n            var lbiro = listBoxItemsRectOut.Value = new minerva.Rect();\r\n            if (!itemsHost)\r\n                return false;\r\n            minerva.Size.copyTo(itemsHost.RenderSize, ihro);\r\n\r\n            var lbi = <ListBoxItem>this.ItemContainersManager.ContainerFromItem(item);\r\n            if (!lbi)\r\n                return false;\r\n\r\n            minerva.Size.copyTo(lbi.RenderSize, lbiro);\r\n\r\n            if (itemsHost instanceof Control) {\r\n                var padding = (<Control>itemsHost).Padding;\r\n                if (padding) {\r\n                    ihro.x = ihro.x + padding.left;\r\n                    ihro.y = ihro.y + padding.top;\r\n                    ihro.width = ihro.width - padding.left - padding.right;\r\n                    ihro.height = ihro.height - padding.top - padding.bottom;\r\n                }\r\n            }\r\n\r\n            var genXform = lbi.TransformToVisual(itemsHost);\r\n            if (genXform != null) {\r\n                var ptl = genXform.Transform(new Point());\r\n                var pbr = genXform.Transform(new Point(lbi.RenderSize.width, lbi.RenderSize.height));\r\n                lbiro.x = Math.min(ptl.x, pbr.x);\r\n                lbiro.y = Math.min(ptl.y, pbr.y);\r\n                lbiro.width = Math.abs(ptl.x - pbr.x);\r\n                lbiro.height = Math.abs(ptl.y - pbr.y);\r\n            }\r\n\r\n            return this._GetIsVerticalOrientation()\r\n                ? ihro.y <= lbiro.y && minerva.Rect.getBottom(ihro) >= minerva.Rect.getBottom(lbiro)\r\n                : ihro.x <= lbiro.x && minerva.Rect.getRight(ihro) >= minerva.Rect.getRight(lbiro);\r\n        }\r\n\r\n        private _GetFirstItemOnCurrentPage(startingIndex: number, forward: boolean): number {\r\n            var delta = forward ? 1 : -1;\r\n            var fiocp = -1;\r\n            var probeIndex = startingIndex;\r\n            var items = this.Items;\r\n            var itemsCount = items.Count;\r\n            while (probeIndex >= 0 && probeIndex < itemsCount && !this._IsOnCurrentPage(items.GetValueAt(probeIndex))) {\r\n                fiocp = probeIndex;\r\n                probeIndex += delta;\r\n            }\r\n            while (probeIndex >= 0 && probeIndex < itemsCount && this._IsOnCurrentPage(items.GetValueAt(probeIndex))) {\r\n                fiocp = probeIndex;\r\n                probeIndex += delta;\r\n            }\r\n            return fiocp;\r\n        }\r\n\r\n        OnItemContainerStyleChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            var oldStyle = <Style>args.OldValue;\r\n            var newStyle = <Style>args.NewValue;\r\n            var enumerator = this.ItemContainersManager.GetEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var lbi = <ListBoxItem>enumerator.current;\r\n                if (lbi instanceof ListBoxItem && lbi.Style === oldStyle)\r\n                    lbi.Style = newStyle;\r\n            }\r\n        }\r\n\r\n        OnKeyDown(args: Input.KeyEventArgs) {\r\n            if (args.Handled)\r\n                return;\r\n\r\n            var newFocusedIndex = -1;\r\n            switch (args.Key) {\r\n                case Input.Key.Space:\r\n                case Input.Key.Enter:\r\n                    if (Input.Key.Enter !== args.Key || Input.KeyboardNavigation.GetAcceptsReturn(this)) {\r\n                        if (!Input.Keyboard.HasAlt()) {\r\n                            var focusedEl = Surface.GetFocusedElement(this);\r\n                            var lbi: ListBoxItem;\r\n                            if (focusedEl instanceof ListBoxItem) lbi = <ListBoxItem>focusedEl;\r\n                            if (lbi) {\r\n                                if (Input.Keyboard.HasControl() && lbi.IsSelected) {\r\n                                    this.SelectedItem = null;\r\n                                } else {\r\n                                    this.SelectedItem = this.ItemContainersManager.ItemFromContainer(lbi);\r\n                                }\r\n                                args.Handled = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case Input.Key.Home:\r\n                    newFocusedIndex = 0;\r\n                    break;\r\n                case Input.Key.End:\r\n                    newFocusedIndex = this.Items.Count - 1;\r\n                    break;\r\n                case Input.Key.PageUp:\r\n                    newFocusedIndex = this._NavigateByPage(false);\r\n                    break;\r\n                case Input.Key.PageDown:\r\n                    newFocusedIndex = this._NavigateByPage(true);\r\n                    break;\r\n                case Input.Key.Left:\r\n                    if (this._GetIsVerticalOrientation()) {\r\n                        this._ScrollInDirection(Input.Key.Left);\r\n                    } else {\r\n                        newFocusedIndex = this._FocusedIndex - 1;\r\n                    }\r\n                    break;\r\n                case Input.Key.Up:\r\n                    if (this._GetIsVerticalOrientation()) {\r\n                        newFocusedIndex = this._FocusedIndex - 1;\r\n                    } else {\r\n                        this._ScrollInDirection(Input.Key.Up);\r\n                    }\r\n                    break;\r\n                case Input.Key.Right:\r\n                    if (this._GetIsVerticalOrientation()) {\r\n                        this._ScrollInDirection(Input.Key.Right);\r\n                    } else {\r\n                        newFocusedIndex = this._FocusedIndex + 1;\r\n                    }\r\n                    break;\r\n                case Input.Key.Down:\r\n                    if (this._GetIsVerticalOrientation()) {\r\n                        newFocusedIndex = this._FocusedIndex + 1;\r\n                    } else {\r\n                        this._ScrollInDirection(Input.Key.Down);\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (newFocusedIndex !== -1 && this._FocusedIndex !== -1 && newFocusedIndex !== this._FocusedIndex && newFocusedIndex >= 0 && newFocusedIndex < this.Items.Count) {\r\n                // A key press changes the focused ListBoxItem\r\n                var icm = this.ItemContainersManager;\r\n                var lbi = <ListBoxItem>icm.ContainerFromIndex(newFocusedIndex);\r\n                var item = icm.ItemFromContainer(lbi);\r\n                this.ScrollIntoView(item);\r\n                if (Fayde.Input.Keyboard.HasControl()) {\r\n                    lbi.Focus();\r\n                } else {\r\n                    this.SelectedItem = item;\r\n                }\r\n                args.Handled = true;\r\n            }\r\n        }\r\n\r\n        private _GetIsVerticalOrientation(): boolean {\r\n            var presenter = this.XamlNode.ItemsPresenter;\r\n            if (!presenter)\r\n                return true;\r\n            var p = presenter.Panel;\r\n            if (p instanceof StackPanel)\r\n                return (<StackPanel>p).Orientation === Orientation.Vertical;\r\n            if (p instanceof VirtualizingStackPanel)\r\n                return (<VirtualizingStackPanel>p).Orientation === Orientation.Vertical;\r\n            return true;\r\n        }\r\n\r\n        IsItemItsOwnContainer(item: any): boolean {\r\n            return item instanceof ListBoxItem;\r\n        }\r\n\r\n        GetContainerForItem(): UIElement {\r\n            var item = new ListBoxItem();\r\n            var ics = this.ItemContainerStyle;\r\n            if (ics != null)\r\n                item.Style = ics;\r\n            return item;\r\n        }\r\n\r\n        PrepareContainerForItem(element: UIElement, item: any) {\r\n            super.PrepareContainerForItem(element, item);\r\n            var ics = this.ItemContainerStyle;\r\n            var lbi = <ListBoxItem>element;\r\n            if (!lbi.Style && ics)\r\n                lbi.Style = ics;\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.SetValueInternal(ListBox.IsSelectionActiveProperty, true);\r\n        }\r\n\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.SetValueInternal(ListBox.IsSelectionActiveProperty, false);\r\n        }\r\n\r\n        NotifyListItemGotFocus(lbi: ListBoxItem) {\r\n            this._FocusedIndex = this.ItemContainersManager.IndexFromContainer(lbi);\r\n        }\r\n\r\n        NotifyListItemLostFocus(lbi: ListBoxItem) {\r\n            this._FocusedIndex = -1;\r\n        }\r\n\r\n        OnItemsSourceChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            super.OnItemsSourceChanged(e);\r\n            var tsv = this.$TemplateScrollViewer;\r\n            if (tsv) {\r\n                tsv.ScrollToVerticalOffset(0);\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ListBox);\r\n    TemplateVisualStates(ListBox,\r\n        {GroupName: \"ValidationStates\", Name: \"Valid\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidFocused\"});\r\n    TemplateParts(ListBox,\r\n        {Name: \"ScrollViewer\", Type: ScrollViewer});\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n/// <reference path=\"../Media/Enums.ts\"/>\r\n\r\nmodule Fayde.Controls {\r\n    import VideoUpdater = minerva.controls.video.VideoUpdater;\r\n\r\n    export class MediaElement extends FrameworkElement {\r\n        CreateLayoutUpdater() {\r\n            return new VideoUpdater();\r\n        }\r\n\r\n        private static _SourceCoercer(d: DependencyObject, propd: DependencyProperty, value: any): any {\r\n            if (typeof value === \"string\")\r\n                return new Media.Videos.VideoSource(new Uri(value));\r\n            if (value instanceof Uri)\r\n                return new Media.Videos.VideoSource(value);\r\n            return value;\r\n        }\r\n\r\n        static AutoPlayProperty = DependencyProperty.Register(\"AutoPlay\", () => Boolean, MediaElement, true, (d: MediaElement, args) => d.OnAutoPlayChanged(args.OldValue, args.NewValue));\r\n        static SourceProperty = DependencyProperty.RegisterFull(\"Source\", () => Media.Videos.VideoSource, MediaElement, undefined, undefined, MediaElement._SourceCoercer);\r\n        static StretchProperty = DependencyProperty.RegisterCore(\"Stretch\", () => new Enum(Media.Stretch), MediaElement, Media.Stretch.Uniform);\r\n        AutoPlay: boolean;\r\n        Source: Media.Videos.VideoSource;\r\n        Stretch: Media.Stretch;\r\n\r\n        VideoOpened = new nullstone.Event();\r\n        VideoFailed = new nullstone.Event();\r\n\r\n        private $watcher: nullstone.IDisposable = null;\r\n\r\n        protected OnAutoPlayChanged(oldValue: boolean, newValue: boolean) {\r\n            var source = this.Source;\r\n            if (source instanceof Media.Videos.VideoSourceBase)\r\n                source.setAutoPlay(newValue);\r\n        }\r\n\r\n        OnSourceChanged(oldSource: Media.Videos.VideoSourceBase, newSource: Media.Videos.VideoSourceBase) {\r\n            if (this.$watcher) {\r\n                this.$watcher.dispose();\r\n                this.$watcher = null;\r\n            }\r\n            if (newSource instanceof Media.Videos.VideoSourceBase) {\r\n                newSource.setAutoPlay(this.AutoPlay);\r\n                this.$watcher = newSource.watch({\r\n                    onErrored: (source, error) => this.OnVideoErrored(source, error),\r\n                    onCanPlay: (source) => this.OnVideoCanPlay(source),\r\n                    onChanged: (source) => this.OnVideoChanged(source)\r\n                });\r\n            }\r\n        }\r\n\r\n        OnVideoErrored(source: Media.Videos.VideoSourceBase, error: Error) {\r\n            this.VideoFailed.raise(this, null);\r\n        }\r\n\r\n        OnVideoCanPlay(source: Media.Videos.VideoSourceBase) {\r\n            this.VideoOpened.raise(this, null);\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            lu.invalidateMeasure();\r\n        }\r\n\r\n        OnVideoChanged(source: Media.Videos.VideoSourceBase) {\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            lu.invalidateMeasure();\r\n            lu.invalidate();\r\n        }\r\n\r\n        Play() {\r\n            this.Source.Play();\r\n        }\r\n\r\n        Pause() {\r\n            this.Source.Pause();\r\n        }\r\n    }\r\n\r\n    Fayde.CoreLibrary.add(MediaElement);\r\n\r\n    UIReaction<Media.Videos.VideoSource>(MediaElement.SourceProperty, (upd: VideoUpdater, ov, nv, video?: MediaElement) => {\r\n        video.OnSourceChanged(ov, nv);\r\n        if (!nv) {\r\n            upd.updateBounds();\r\n            upd.invalidate();\r\n        }\r\n        upd.invalidateMeasure();\r\n        upd.invalidateMetrics();\r\n    }, false);\r\n    UIReaction<minerva.Stretch>(MediaElement.StretchProperty, (upd: VideoUpdater, ov, nv) => {\r\n        upd.invalidateMeasure();\r\n        upd.invalidateMetrics();\r\n    }, false);\r\n}","module Fayde {\r\n    export class RoutedEventArgs implements nullstone.IEventArgs {\r\n        Handled: boolean = false;\r\n        Source: any = null;\r\n        OriginalSource: any = null;\r\n    }\r\n    Fayde.CoreLibrary.add(RoutedEventArgs);\r\n}","/// <reference path=\"../Core/RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde.Input {\r\n    export enum Key {\r\n        //     A special value indicating no key.\r\n        None = 0,\r\n        //     The BACKSPACE key.\r\n        Back = 1,\r\n        //     The TAB key.\r\n        Tab = 2,\r\n        //     The ENTER key.\r\n        Enter = 3,\r\n        //     The SHIFT key.\r\n        Shift = 4,\r\n        //     The CTRL (control) key.\r\n        Ctrl = 5,\r\n        //     The ALT key.\r\n        Alt = 6,\r\n        //     The CAPSLOCK key.\r\n        CapsLock = 7,\r\n        //     The ESC (also known as ESCAPE) key.\r\n        Escape = 8,\r\n        //     The SPACE key.\r\n        Space = 9,\r\n        //     The PAGEUP key.\r\n        PageUp = 10,\r\n        //     The PAGEDOWN key.\r\n        PageDown = 11,\r\n        //     The END key.\r\n        End = 12,\r\n        //     The HOME key.\r\n        Home = 13,\r\n        //     The left arrow key.\r\n        Left = 14,\r\n        //     The up arrow key.\r\n        Up = 15,\r\n        //     The right arrow key.\r\n        Right = 16,\r\n        //     The down arrow key.\r\n        Down = 17,\r\n        //     The INSERT key.\r\n        Insert = 18,\r\n        //     The DEL (also known as DELETE) key.\r\n        Delete = 19,\r\n        //     The 0 (zero) key.\r\n        D0 = 20,\r\n        //     The 1 key.\r\n        D1 = 21,\r\n        //     The 2 key.\r\n        D2 = 22,\r\n        //     The 3 key.\r\n        D3 = 23,\r\n        //     The 4 key.\r\n        D4 = 24,\r\n        //     The 5 key.\r\n        D5 = 25,\r\n        //     The 6 key.\r\n        D6 = 26,\r\n        //     The 7 key.\r\n        D7 = 27,\r\n        //     The 8 key.\r\n        D8 = 28,\r\n        //     The 9 key.\r\n        D9 = 29,\r\n        //     The A key.\r\n        A = 30,\r\n        //     The B key.\r\n        B = 31,\r\n        //     The C key.\r\n        C = 32,\r\n        //     The D key.\r\n        D = 33,\r\n        //     The E key.\r\n        E = 34,\r\n        //     The F key.\r\n        F = 35,\r\n        //     The G key.\r\n        G = 36,\r\n        //     The H key.\r\n        H = 37,\r\n        //     The I key.\r\n        I = 38,\r\n        //     The J key.\r\n        J = 39,\r\n        //     The K key.\r\n        K = 40,\r\n        //     The L key.\r\n        L = 41,\r\n        //     The M key.\r\n        M = 42,\r\n        //     The N key.\r\n        N = 43,\r\n        //     The O key.\r\n        O = 44,\r\n        //     The P key.\r\n        P = 45,\r\n        //     The Q key.\r\n        Q = 46,\r\n        //     The R key.\r\n        R = 47,\r\n        //     The S key.\r\n        S = 48,\r\n        //     The T key.\r\n        T = 49,\r\n        //     The U key.\r\n        U = 50,\r\n        //     The V key.\r\n        V = 51,\r\n        //     The W key.\r\n        W = 52,\r\n        //     The X key.\r\n        X = 53,\r\n        //     The Y key.\r\n        Y = 54,\r\n        //     The Z key.\r\n        Z = 55,\r\n        //     The F1 key.\r\n        F1 = 56,\r\n        //     The F2 key.\r\n        F2 = 57,\r\n        //     The F3 key.\r\n        F3 = 58,\r\n        //     The F4 key.\r\n        F4 = 59,\r\n        //     The F5 key.\r\n        F5 = 60,\r\n        //     The F6 key.\r\n        F6 = 61,\r\n        //     The F7 key.\r\n        F7 = 62,\r\n        //     The F8 key.\r\n        F8 = 63,\r\n        //     The F9 key.\r\n        F9 = 64,\r\n        //     The F10 key.\r\n        F10 = 65,\r\n        //     The F11 key.\r\n        F11 = 66,\r\n        //     The F12 key.\r\n        F12 = 67,\r\n        //     The 0 key on the number pad.\r\n        NumPad0 = 68,\r\n        //     The 1 key on the number pad.\r\n        NumPad1 = 69,\r\n        //     The 2 key on the number pad.\r\n        NumPad2 = 70,\r\n        //     The 3 key on the number pad.\r\n        NumPad3 = 71,\r\n        //     The 4 key on the number pad.\r\n        NumPad4 = 72,\r\n        //     The 5 key on the number pad.\r\n        NumPad5 = 73,\r\n        //     The 6 key on the number pad.\r\n        NumPad6 = 74,\r\n        //     The 7 key on the number pad.\r\n        NumPad7 = 75,\r\n        //     The 8 key on the number pad.\r\n        NumPad8 = 76,\r\n        //     The 9 key on the number pad.\r\n        NumPad9 = 77,\r\n        //     The * (MULTIPLY) key.\r\n        Multiply = 78,\r\n        //     The + (ADD) key.\r\n        Add = 79,\r\n        //     The - (SUBTRACT) key.\r\n        Subtract = 80,\r\n        //     The . (DECIMAL) key.\r\n        Decimal = 81,\r\n        //     The / (DIVIDE) key.\r\n        Divide = 82,\r\n        //     A special value indicating the key is out of range of this enumeration.\r\n        Unknown = 255,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(Key, \"Key\");\r\n\r\n    export class KeyboardEventArgs extends RoutedEventArgs {\r\n    }\r\n    Fayde.CoreLibrary.add(KeyboardEventArgs);\r\n\r\n    ///Modifers = { Shift: <boolean>, Ctrl: <boolean>, Alt: <boolean> }\r\n    export class KeyEventArgs extends KeyboardEventArgs {\r\n        Modifiers: IModifiersOn;\r\n        PlatformKeyCode: number;\r\n        Key: Key;\r\n        Char: string;\r\n        constructor(modifiers: IModifiersOn, keyCode: number, key: Key, c?: string) {\r\n            super();\r\n            this.Modifiers = modifiers;\r\n            this.PlatformKeyCode = keyCode;\r\n            this.Key = key;\r\n            if (this.Key == null)\r\n                this.Key = Key.Unknown;\r\n            this.Char = c;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(KeyEventArgs);\r\n}","/// <reference path=\"Control.ts\" />\r\n/// <reference path=\"../Input/KeyEventArgs.ts\" />\r\n/// <reference path=\"Enums.ts\"/>\r\n\r\nmodule Fayde.Controls {\r\n    var Key = Input.Key;\r\n    var MAX_UNDO_COUNT = 10;\r\n    export class TextBoxBase extends Control {\r\n        static CaretBrushProperty = DependencyProperty.RegisterCore(\"CaretBrush\", () => Media.Brush, TextBoxBase);\r\n        static SelectionForegroundProperty = DependencyProperty.RegisterCore(\"SelectionForeground\", () => Media.Brush, TextBoxBase);\r\n        static SelectionBackgroundProperty = DependencyProperty.RegisterCore(\"SelectionBackground\", () => Media.Brush, TextBoxBase);\r\n        static SelectionLengthProperty = DependencyProperty.RegisterFull(\"SelectionLength\", () => Number, TextBoxBase, 0, undefined, undefined, true, positiveIntValidator);\r\n        static SelectionStartProperty = DependencyProperty.RegisterFull(\"SelectionStart\", () => Number, TextBoxBase, 0, undefined, undefined, true, positiveIntValidator);\r\n        static BaselineOffsetProperty = DependencyProperty.Register(\"BaselineOffset\", () => Number, TextBoxBase);\r\n        static MaxLengthProperty = DependencyProperty.RegisterFull(\"MaxLength\", () => Number, TextBoxBase, 0, undefined, undefined, undefined, positiveIntValidator);\r\n        static SelectionOnFocusProperty = DependencyProperty.Register(\"SelectionOnFocus\", () => new Enum(SelectionOnFocus), TextBoxBase, SelectionOnFocus.Default);\r\n\r\n        CaretBrush: Media.Brush;\r\n        SelectionForeground: Media.Brush;\r\n        SelectionBackground: Media.Brush;\r\n        SelectionLength: number;\r\n        SelectionStart: number;\r\n        BaselineOffset: number;\r\n        MaxLength: number;\r\n        SelectionOnFocus: SelectionOnFocus;\r\n\r\n        private _Selecting: boolean = false;\r\n        private _Captured: boolean = false;\r\n\r\n        IsReadOnly = false;\r\n        AcceptsReturn = false;\r\n\r\n        $ContentProxy = new Internal.TextBoxContentProxy();\r\n        $Proxy: Text.Proxy;\r\n        $Advancer: Internal.ICursorAdvancer;\r\n        $View: Internal.TextBoxView;\r\n        $Clipboard = Clipboard.Create();\r\n\r\n        constructor(eventsMask: Text.EmitChangedType) {\r\n            super();\r\n            var view = this.$View = this.CreateView();\r\n            view.MouseLeftButtonDown.on((s, e) => this.OnMouseLeftButtonDown(e), this);\r\n            view.MouseLeftButtonUp.on((s, e) => this.OnMouseLeftButtonUp(e), this);\r\n            this.$Proxy = new Text.Proxy(eventsMask, MAX_UNDO_COUNT);\r\n            this._SyncFont();\r\n        }\r\n\r\n        private _SyncFont() {\r\n            var view = this.$View;\r\n            var propds = [\r\n                Control.ForegroundProperty,\r\n                Control.FontFamilyProperty,\r\n                Control.FontSizeProperty,\r\n                Control.FontStretchProperty,\r\n                Control.FontStyleProperty,\r\n                Control.FontWeightProperty\r\n            ];\r\n            propds.forEach(propd => propd.Store.ListenToChanged(this, propd, (dobj, args) => view.setFontProperty(propd, args.NewValue), this));\r\n        }\r\n\r\n        CreateView(): Internal.TextBoxView {\r\n            return new Internal.TextBoxView();\r\n        }\r\n\r\n        get Cursor(): CursorType {\r\n            var cursor = this.GetValue(FrameworkElement.CursorProperty);\r\n            if (cursor === CursorType.Default)\r\n                return CursorType.IBeam;\r\n            return cursor;\r\n        }\r\n\r\n        private selectBasedonSelectionMode() {\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n            \r\n            switch (this.SelectionOnFocus) {\r\n                case SelectionOnFocus.Unchanged: // 0\r\n                    break;\r\n\r\n                case SelectionOnFocus.SelectAll: // 1\r\n                    proxy.selectAll();\r\n                    break;\r\n\r\n                case SelectionOnFocus.CaretToBeginning: // 2\r\n                    cursor = this.$Advancer.CursorLineBegin(cursor);\r\n                    proxy.setAnchorCursor(anchor, cursor);\r\n                    break;\r\n\r\n                case SelectionOnFocus.CaretToEnd: // 3\r\n                    cursor = this.$Advancer.CursorLineEnd(cursor);\r\n                    proxy.setAnchorCursor(anchor, cursor);\r\n                    break;\r\n\r\n                case SelectionOnFocus.DefaultSelectAll: // 5\r\n                    proxy.selectAll();\r\n                    break;\r\n\r\n                default: // SelectionOnFocus.Default (4)\r\n                    break;\r\n            }\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.$ContentProxy.setElement(<FrameworkElement>this.GetTemplateChild(\"ContentElement\", FrameworkElement), this.$View);\r\n        }\r\n\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.$View.setIsFocused(false);\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.$View.setIsFocused(true);\r\n            this.selectBasedonSelectionMode();\r\n        }\r\n\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            if (e.Handled)\r\n                return;\r\n            e.Handled = true;\r\n            this.Focus();\r\n            this._Captured = this.CaptureMouse();\r\n            this._Selecting = true;\r\n\r\n            var cursor = this.$View.GetCursorFromPoint(e.GetPosition(this.$View));\r\n            this.$Proxy.beginSelect(cursor);\r\n        }\r\n\r\n        OnMouseLeftButtonUp(e: Input.MouseButtonEventArgs) {\r\n            if (e.Handled)\r\n                return;\r\n            if (this._Captured)\r\n                this.ReleaseMouseCapture();\r\n            e.Handled = true;\r\n            this._Selecting = false;\r\n            this._Captured = false;\r\n        }\r\n\r\n        OnMouseMove(e: Input.MouseEventArgs) {\r\n            if (!this._Selecting)\r\n                return;\r\n            e.Handled = true;\r\n            var cursor = this.$View.GetCursorFromPoint(e.GetPosition(this.$View));\r\n            this.$Proxy.adjustSelection(cursor);\r\n        }\r\n\r\n        OnTouchDown(e: Input.TouchEventArgs) {\r\n            super.OnTouchDown(e);\r\n            if (e.Handled)\r\n                return;\r\n            e.Handled = true;\r\n            this.Focus();\r\n            e.Device.Capture(this);\r\n            this._Selecting = true;\r\n\r\n            var pos = e.Device.GetTouchPoint(this.$View).Position;\r\n            var cursor = this.$View.GetCursorFromPoint(pos);\r\n            this.$Proxy.beginSelect(cursor);\r\n        }\r\n\r\n        OnTouchUp(e: Input.TouchEventArgs) {\r\n            super.OnTouchUp(e);\r\n            if (e.Handled)\r\n                return;\r\n            if (e.Device.Captured === this)\r\n                e.Device.ReleaseCapture(this);\r\n            e.Handled = true;\r\n            this._Selecting = false;\r\n        }\r\n\r\n        OnTouchMove(e: Input.TouchEventArgs) {\r\n            super.OnTouchMove(e);\r\n            if (!this._Selecting)\r\n                return;\r\n            e.Handled = true;\r\n            var pos = e.Device.GetTouchPoint(this.$View).Position;\r\n            var cursor = this.$View.GetCursorFromPoint(pos);\r\n            this.$Proxy.adjustSelection(cursor);\r\n        }\r\n\r\n        OnKeyDown(args: Input.KeyEventArgs) {\r\n            switch (args.Key) {\r\n                case Key.Shift: //shift\r\n                case Key.Ctrl: //ctrl\r\n                case Key.Alt: //alt\r\n                    return;\r\n            }\r\n\r\n            var isReadOnly = this.IsReadOnly;\r\n            var handled = false;\r\n            var proxy = this.$Proxy;\r\n            proxy.begin();\r\n\r\n            switch (args.Key) {\r\n                case Key.Back:\r\n                    if (isReadOnly)\r\n                        break;\r\n                    handled = this._KeyDownBackSpace(args.Modifiers);\r\n                    break;\r\n                case Key.Delete:\r\n                    if (isReadOnly)\r\n                        break;\r\n                    if (args.Modifiers.Shift) {\r\n                        //Shift+Delete => Cut\r\n                        handled = true;\r\n                    } else {\r\n                        handled = this._KeyDownDelete(args.Modifiers);\r\n                    }\r\n                    break;\r\n                case Key.Insert:\r\n                    if (args.Modifiers.Shift) {\r\n                        //Shift+Insert => Paste\r\n                        handled = true;\r\n                    } else if (args.Modifiers.Ctrl) {\r\n                        //Ctrl+Insert => Copy\r\n                        handled = true;\r\n                    }\r\n                    break;\r\n                case Key.PageDown:\r\n                    handled = this._KeyDownPageDown(args.Modifiers);\r\n                    break;\r\n                case Key.PageUp:\r\n                    handled = this._KeyDownPageUp(args.Modifiers);\r\n                    break;\r\n                case Key.Home:\r\n                    handled = this._KeyDownHome(args.Modifiers);\r\n                    break;\r\n                case Key.End:\r\n                    handled = this._KeyDownEnd(args.Modifiers);\r\n                    break;\r\n                case Key.Left:\r\n                    handled = this._KeyDownLeft(args.Modifiers);\r\n                    break;\r\n                case Key.Right:\r\n                    handled = this._KeyDownRight(args.Modifiers);\r\n                    break;\r\n                case Key.Down:\r\n                    handled = this._KeyDownDown(args.Modifiers);\r\n                    break;\r\n                case Key.Up:\r\n                    handled = this._KeyDownUp(args.Modifiers);\r\n                    break;\r\n                default:\r\n                    if (args.Modifiers.Ctrl) {\r\n                        switch (args.Key) {\r\n                            case Key.A:\r\n                                //Ctrl+A => Select All\r\n                                handled = true;\r\n                                proxy.selectAll();\r\n                                break;\r\n                            case Key.C:\r\n                                //Ctrl+C => Copy\r\n                                this.$Clipboard.CopyText(this.$Proxy.getSelectedText());\r\n                                handled = true;\r\n                                break;\r\n                            case Key.X:\r\n                                //Ctrl+X => Cut\r\n                                if (isReadOnly)\r\n                                    break;\r\n                                this.$Clipboard.CopyText(this.$Proxy.getSelectedText());\r\n                                proxy.removeText(this.$Proxy.selAnchor, this.$Proxy.selCursor);\r\n                                handled = true;\r\n                                break;\r\n                            case Key.V:\r\n                                //Ctrl+V => Paste\r\n                                if (isReadOnly)\r\n                                    break;\r\n                                this.$Clipboard.GetTextContents((text) => proxy.paste(text));\r\n                                handled = true;\r\n                                break;\r\n                            case Key.Y:\r\n                                //Ctrl+Y => Redo\r\n                                if (!isReadOnly) {\r\n                                    handled = true;\r\n                                    proxy.redo();\r\n                                }\r\n                                break;\r\n                            case Key.Z:\r\n                                //Ctrl+Z => Undo\r\n                                if (!isReadOnly) {\r\n                                    handled = true;\r\n                                    proxy.undo();\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (handled) {\r\n                args.Handled = handled;\r\n            }\r\n            proxy.end();\r\n\r\n            if (!args.Handled && !isReadOnly)\r\n                this.PostOnKeyDown(args);\r\n        }\r\n\r\n        PostOnKeyDown(args: Input.KeyEventArgs) {\r\n            if (args.Handled)\r\n                return;\r\n\r\n            if (args.Modifiers.Alt || args.Modifiers.Ctrl)\r\n                return;\r\n\r\n            var proxy = this.$Proxy;\r\n            proxy.begin();\r\n            if (args.Key === Key.Enter) {\r\n                if (this.AcceptsReturn === true) {\r\n                    proxy.enterText('\\n');\r\n                    args.Handled = true;\r\n                }\r\n            } else if (args.Char != null && !args.Modifiers.Ctrl && !args.Modifiers.Alt) {\r\n                proxy.enterText(args.Char);\r\n                args.Handled = true;\r\n            }\r\n            proxy.end();\r\n        }\r\n\r\n        private _KeyDownBackSpace(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Shift || modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n            var start = 0;\r\n            var length = 0;\r\n\r\n            if (cursor !== anchor) {\r\n                length = Math.abs(cursor - anchor);\r\n                start = Math.min(anchor, cursor);\r\n            } else if (modifiers.Ctrl) {\r\n                start = this.$Advancer.CursorPrevWord(cursor);\r\n                length = cursor - start;\r\n            } else if (cursor > 0) {\r\n                start = this.$Advancer.CursorPrevChar(cursor);\r\n                length = cursor - start;\r\n            }\r\n\r\n            proxy.removeText(start, length);\r\n            return true;\r\n        }\r\n\r\n        private _KeyDownDelete(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Shift || modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n            var start = 0;\r\n            var length = 0;\r\n\r\n            if (cursor !== anchor) {\r\n                length = Math.abs(cursor - anchor);\r\n                start = Math.min(anchor, cursor);\r\n            } else if (modifiers.Ctrl) {\r\n                //Ctrl+Delete => delete the word start at the cursor\r\n                length = this.$Advancer.CursorNextWord(cursor) - cursor;\r\n                start = cursor;\r\n            } else {\r\n                length = this.$Advancer.CursorNextChar(cursor) - cursor;\r\n                start = cursor;\r\n            }\r\n\r\n            return proxy.removeText(start, length);\r\n        }\r\n\r\n        private _KeyDownPageDown(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n\r\n            cursor = this.$Advancer.CursorDown(cursor, true);\r\n\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        private _KeyDownPageUp(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n\r\n            cursor = this.$Advancer.CursorUp(cursor, true);\r\n\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        private _KeyDownHome(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n\r\n            if (modifiers.Ctrl) {\r\n                cursor = this.$Advancer.CursorBegin(cursor);\r\n            } else {\r\n                cursor = this.$Advancer.CursorLineBegin(cursor);\r\n            }\r\n\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        private _KeyDownEnd(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n\r\n            if (modifiers.Ctrl) {\r\n                cursor = this.$Advancer.CursorEnd(cursor);\r\n            } else {\r\n                cursor = this.$Advancer.CursorLineEnd(cursor);\r\n            }\r\n\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        private _KeyDownLeft(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n\r\n            if (modifiers.Ctrl) {\r\n                cursor = this.$Advancer.CursorPrevWord(cursor);\r\n            } else if (!modifiers.Shift && anchor !== cursor) {\r\n                cursor = Math.min(anchor, cursor);\r\n            } else {\r\n                cursor = this.$Advancer.CursorPrevChar(cursor);\r\n            }\r\n\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        private _KeyDownRight(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var anchor = proxy.selAnchor;\r\n            var cursor = proxy.selCursor;\r\n\r\n            if (modifiers.Ctrl) {\r\n                cursor = this.$Advancer.CursorNextWord(cursor);\r\n            } else if (!modifiers.Shift && anchor !== cursor) {\r\n                cursor = Math.max(anchor, cursor);\r\n            } else {\r\n                cursor = this.$Advancer.CursorNextChar(cursor);\r\n            }\r\n\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        private _KeyDownDown(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var cursor = this.$Advancer.CursorDown(proxy.selCursor, false);\r\n            var anchor = proxy.selAnchor;\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        private _KeyDownUp(modifiers: Input.IModifiersOn): boolean {\r\n            if (modifiers.Alt)\r\n                return false;\r\n\r\n            var proxy = this.$Proxy;\r\n            var cursor = this.$Advancer.CursorUp(proxy.selCursor, false);\r\n            var anchor = proxy.selAnchor;\r\n            if (!modifiers.Shift)\r\n                anchor = cursor;\r\n            return proxy.setAnchorCursor(anchor, cursor);\r\n        }\r\n    }\r\n    Fayde.RegisterType(TextBoxBase, Fayde.XMLNSINTERNAL);\r\n\r\n    module reactions {\r\n        DPReaction<Media.Brush>(TextBoxBase.CaretBrushProperty, (tbb: TextBoxBase, ov, nv) => {\r\n            tbb.$View.setCaretBrush(nv);\r\n        });\r\n        DPReaction<number>(TextBoxBase.SelectionStartProperty, (tbb: TextBoxBase, ov, nv) => {\r\n            tbb.$Proxy.setSelectionStart(nv);\r\n            tbb.$View.setSelectionStart(nv);\r\n        }, false);\r\n        DPReaction<number>(TextBoxBase.SelectionLengthProperty, (tbb: TextBoxBase, ov, nv) => {\r\n            tbb.$Proxy.setSelectionLength(nv);\r\n            tbb.$View.setSelectionLength(nv);\r\n        }, false);\r\n        DPReaction<Media.Brush>(TextBoxBase.SelectionBackgroundProperty, (tbb: TextBoxBase, ov, nv) => {\r\n            tbb.$View.setFontAttr(\"selectionBackground\", nv);\r\n            tbb.XamlNode.LayoutUpdater.invalidate();\r\n        });\r\n        DPReaction<Media.Brush>(TextBoxBase.SelectionForegroundProperty, (tbb: TextBoxBase, ov, nv) => {\r\n            tbb.$View.setFontAttr(\"selectionForeground\", nv);\r\n            tbb.XamlNode.LayoutUpdater.invalidate();\r\n        });\r\n        DPReaction<number>(TextBoxBase.MaxLengthProperty, (tbb: TextBoxBase, ov, nv) => {\r\n            tbb.$Proxy.maxLength = nv;\r\n        }, false);\r\n    }\r\n\r\n    function positiveIntValidator(dobj: DependencyObject, propd: DependencyProperty, value: any): boolean {\r\n        if (typeof value !== 'number')\r\n            return false;\r\n        return value >= 0;\r\n    }\r\n}","/// <reference path=\"TextBoxBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class PasswordBox extends TextBoxBase {\r\n        static PasswordCharProperty = DependencyProperty.Register(\"PasswordChar\", () => String, PasswordBox, String.fromCharCode(9679));\r\n        static PasswordProperty = DependencyProperty.Register(\"Password\", () => String, PasswordBox);\r\n        PasswordChar: string;\r\n        Password: string;\r\n\r\n        constructor () {\r\n            super(Text.EmitChangedType.TEXT);\r\n            this.DefaultStyleKey = PasswordBox;\r\n\r\n            var proxy = this.$Proxy;\r\n            proxy.SyncSelectionStart = (value) => this.SetCurrentValue(PasswordBox.SelectionStartProperty, value);\r\n            proxy.SyncSelectionLength = (value) => this.SetCurrentValue(PasswordBox.SelectionLengthProperty, value);\r\n            proxy.SyncText = (value) => this.SetCurrentValue(PasswordBox.PasswordProperty, value);\r\n            this.$Advancer = new Internal.PasswordBoxCursorAdvancer(this.$Proxy);\r\n        }\r\n\r\n        get DisplayText (): string {\r\n            var result = \"\";\r\n            var count = this.$Proxy.text.length;\r\n            var pattern = this.PasswordChar;\r\n            while (count > 0) {\r\n                if (count & 1) result += pattern;\r\n                count >>= 1, pattern += pattern;\r\n            }\r\n            return result;\r\n        }\r\n\r\n    }\r\n    Fayde.CoreLibrary.add(PasswordBox);\r\n    TemplateVisualStates(PasswordBox,\r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"Valid\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidFocused\" });\r\n\r\n    module reactions {\r\n        DPReaction<string>(PasswordBox.PasswordCharProperty, (pb: PasswordBox, ov, nv) => {\r\n            pb.$View.setText(pb.DisplayText);\r\n        }, false);\r\n        DPReaction<string>(PasswordBox.PasswordProperty, (pb: PasswordBox, ov, nv) => {\r\n            pb.$Proxy.setText(nv);\r\n            pb.$View.setText(pb.DisplayText);\r\n        }, false);\r\n    }\r\n}","/// <reference path=\"Primitives/RangeBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ProgressBar extends Primitives.RangeBase {\r\n        private _Track: FrameworkElement;\r\n        private _Indicator: FrameworkElement;\r\n\r\n        static IsIndeterminateProperty = DependencyProperty.Register(\"IsIndeterminate\", () => Boolean, ProgressBar, false, (d, args) => (<ProgressBar>d).OnIsIndeterminateChanged(args));\r\n        IsIndeterminate: boolean;\r\n        private OnIsIndeterminateChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._UpdateIndicator();\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMinimumChanged(oldMinimum: number, newMinimum: number) {\r\n            super.OnMinimumChanged(oldMinimum, newMinimum);\r\n            this._UpdateIndicator();\r\n        }\r\n        OnMaximumChanged(oldMaximum: number, newMaximum: number) {\r\n            super.OnMaximumChanged(oldMaximum, newMaximum);\r\n            this._UpdateIndicator();\r\n        }\r\n        OnValueChanged(oldValue: number, newValue: number) {\r\n            super.OnValueChanged(oldValue, newValue);\r\n            this._UpdateIndicator();\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ProgressBar;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n\r\n            var track = this._Track;\r\n            if (track)\r\n                track.SizeChanged.off(this._OnTrackSizeChanged, this);\r\n\r\n            track = this._Track = <FrameworkElement>this.GetTemplateChild(\"ProgressBarTrack\", FrameworkElement);\r\n            this._Indicator = <FrameworkElement>this.GetTemplateChild(\"ProgressBarIndicator\", FrameworkElement);\r\n\r\n            if (track)\r\n                track.SizeChanged.on(this._OnTrackSizeChanged, this);\r\n\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        GoToStates(gotoFunc: (state: string) => boolean) {\r\n            if (this.IsIndeterminate)\r\n                gotoFunc(\"Indeterminate\");\r\n            else\r\n                gotoFunc(\"Determinate\");\r\n        }\r\n\r\n        private _OnTrackSizeChanged(sender, e) {\r\n            this._UpdateIndicator();\r\n        }\r\n        private _UpdateIndicator() {\r\n            var min = this.Minimum;\r\n            var max = this.Maximum;\r\n            var val = this.Value;\r\n\r\n            var indicator = this._Indicator;\r\n            if (!indicator)\r\n                return;\r\n\r\n            var parent = <FrameworkElement>VisualTreeHelper.GetParent(indicator);\r\n            if (!parent)\r\n                return;\r\n\r\n            var margin = indicator.Margin;\r\n            var outerWidth = (margin) ? margin.left + margin.right : 0.0;\r\n            var padding: Thickness = null;\r\n            if (parent instanceof Border)\r\n                padding = (<Border>parent).Padding;\r\n            else if (parent instanceof Control)\r\n                padding = (<Control>parent).Padding;\r\n\r\n            if (padding) {\r\n                outerWidth += padding.left;\r\n                outerWidth += padding.right;\r\n            }\r\n\r\n            var progress = 1.0;\r\n            if (!this.IsIndeterminate && max !== min)\r\n                progress = (val - min) / (max - min);\r\n            var fullWidth = Math.max(0, parent.ActualWidth - outerWidth);\r\n            indicator.Width = fullWidth * progress;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ProgressBar);\r\n    TemplateVisualStates(ProgressBar,\r\n        { GroupName: \"CommonStates\", Name: \"Indeterminate\" },\r\n        { GroupName: \"CommonStates\", Name: \"Determinate\" });\r\n    TemplateParts(ProgressBar,\r\n        { Name: \"ProgressBarIndicator\", Type: FrameworkElement },\r\n        { Name: \"ProgressBarTrack\", Type: FrameworkElement });\r\n}","/// <reference path=\"Primitives/ToggleButton.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class RadioButton extends Primitives.ToggleButton {\r\n        static GroupNameProperty: DependencyProperty = DependencyProperty.Register(\"GroupName\", () => String, RadioButton, false, (d, args) => (<RadioButton>d).OnGroupNameChanged(args));\r\n        GroupName: string;\r\n        OnGroupNameChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            unregister(args.OldValue, this);\r\n            register(args.NewValue, this);\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = RadioButton;\r\n            register(\"\", this);\r\n        }\r\n\r\n        OnIsCheckedChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            if (e.NewValue === true)\r\n                this.UpdateRadioButtonGroup();\r\n            super.OnIsCheckedChanged(e);\r\n        }\r\n        OnToggle() {\r\n            this.IsChecked = true;\r\n        }\r\n\r\n        UpdateRadioButtonGroup() {\r\n            var groupName = this.GroupName || \"\";\r\n            var elements = groupNameToElements[groupName];\r\n            if (!elements)\r\n                return;\r\n\r\n            //if this RadioButton has been assigned a group\r\n            var element: RadioButton = null;\r\n            if (groupName) {\r\n                var rootNode = this.XamlNode.GetVisualRoot();\r\n                for (var i = 0; i < elements.length; i++) {\r\n                    element = elements[i];\r\n                    if (element === this)\r\n                        continue;\r\n                    if (!element.IsChecked)\r\n                        continue;\r\n                    if (rootNode !== element.XamlNode.GetVisualRoot())\r\n                        continue;\r\n                    element.IsChecked = false;\r\n\r\n                }\r\n            } else {\r\n                //no group has been assigned\r\n                //it is automatically groups with all RadioButtons with no group and with the same visual root\r\n                var vpNode = this.XamlNode.VisualParentNode;\r\n                for (var i = 0; i < elements.length; i++) {\r\n                    element = elements[i];\r\n                    if (element === this)\r\n                        continue;\r\n                    if (!element.IsChecked)\r\n                        continue;\r\n                    if (vpNode !== element.XamlNode.VisualParentNode)\r\n                        continue;\r\n                    element.IsChecked = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RadioButton);\r\n    TemplateVisualStates(RadioButton, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Pressed\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" },\r\n        { GroupName: \"CheckStates\", Name: \"Unchecked\" },\r\n        { GroupName: \"CheckStates\", Name: \"Checked\" },\r\n        { GroupName: \"CheckStates\", Name: \"Indeterminate\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"InvalidFocused\" },\r\n        { GroupName: \"ValidationStates\", Name: \"Valid\" });\r\n\r\n    var groupNameToElements: RadioButton[][] = [];\r\n    function register(groupName: string, radioButton: RadioButton) {\r\n        // Treat null as being string.Empty\r\n        if (!groupName) groupName = \"\";\r\n\r\n        var list: RadioButton[] = groupNameToElements[groupName];\r\n        if (!list)\r\n            groupNameToElements[groupName] = list = [];\r\n        list.push(radioButton);\r\n    }\r\n    function unregister(groupName: string, radioButton: RadioButton) {\r\n        // Treat null as being string.Empty\r\n        if (!groupName) groupName = \"\";\r\n\r\n        var list: RadioButton[] = groupNameToElements[groupName];\r\n        if (list) {\r\n            var index = list.indexOf(radioButton);\r\n            if (index > -1)\r\n                list.splice(index, 1);\r\n        }\r\n    }\r\n}","/// <reference path=\"Control.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class _RichTextBoxView {\r\n    }\r\n    Fayde.RegisterType(_RichTextBoxView, Fayde.XMLNSINTERNAL);\r\n\r\n    export class RichTextBox extends Control {\r\n        HorizontalScrollBarVisibility: ScrollBarVisibility;\r\n        TextWrapping: TextWrapping;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = RichTextBox;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RichTextBox);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class RowDefinition extends DependencyObject implements minerva.controls.grid.IRowDefinition {\r\n        //NOTE: Will not receive property changes from GridLength\r\n        static HeightProperty = DependencyProperty.Register(\"Height\", () => GridLength, RowDefinition, undefined, Incite);\r\n        static MaxHeightProperty = DependencyProperty.Register(\"MaxHeight\", () => Number, RowDefinition, Number.POSITIVE_INFINITY, Incite);\r\n        static MinHeightProperty = DependencyProperty.Register(\"MinHeight\", () => Number, RowDefinition, 0.0, Incite);\r\n        static ActualHeightProperty = DependencyProperty.RegisterReadOnly(\"ActualHeight\", () => Number, RowDefinition, 0.0);\r\n        Height: GridLength;\r\n        MaxHeight: number;\r\n        MinHeight: number;\r\n        ActualHeight: number;\r\n\r\n        setActualHeight (value: number) {\r\n            this.SetCurrentValue(RowDefinition.ActualHeightProperty, value);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RowDefinition);\r\n\r\n    import GridUnitType = minerva.controls.grid.GridUnitType;\r\n    function ConvertRowDefinition (o: any): RowDefinition {\r\n        if (!o || o instanceof RowDefinition)\r\n            return <RowDefinition>o;\r\n        var s: string = o.toString();\r\n        var rd = new RowDefinition();\r\n        if (s.toLowerCase() === \"auto\") {\r\n            rd.Height = new GridLength(0, GridUnitType.Auto);\r\n            return rd;\r\n        }\r\n        if (s === \"*\") {\r\n            rd.Height = new GridLength(1, GridUnitType.Star);\r\n            return rd;\r\n        }\r\n        var v = parseFloat(s);\r\n        if (isNaN(v))\r\n            throw new XamlParseException(\"Invalid RowDefinition: '\" + s + \"'.\");\r\n        rd.Height = new GridLength(v, s[s.length - 1] === \"*\" ? GridUnitType.Star : GridUnitType.Pixel);\r\n        return rd;\r\n    }\r\n\r\n    nullstone.registerTypeConverter(RowDefinition, ConvertRowDefinition);\r\n\r\n    export class RowDefinitionCollection extends XamlObjectCollection<RowDefinition> {\r\n        _RaiseItemAdded (value: RowDefinition, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: true\r\n            });\r\n        }\r\n\r\n        _RaiseItemRemoved (value: RowDefinition, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: false\r\n            });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RowDefinitionCollection);\r\n\r\n    function ConvertRowDefinitionCollection (o: any): RowDefinitionCollection {\r\n        if (!o || o instanceof RowDefinitionCollection)\r\n            return <RowDefinitionCollection>o;\r\n        if (typeof o === \"string\") {\r\n            var tokens = (<string>o).split(\" \");\r\n            var len = tokens.length;\r\n            var rdc = new RowDefinitionCollection();\r\n            var rd: RowDefinition;\r\n            for (var i = 0; i < len; i++) {\r\n                if (rd = ConvertRowDefinition(tokens[i]))\r\n                    rdc.Add(rd);\r\n            }\r\n            return rdc;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    nullstone.registerTypeConverter(RowDefinitionCollection, ConvertRowDefinitionCollection);\r\n}","/// <reference path=\"Primitives/RangeBase.ts\" />\r\n/// <reference path=\"Primitives/RepeatButton.ts\" />\r\n/// <reference path=\"Primitives/Thumb.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    import GridUnitType = minerva.controls.grid.GridUnitType;\r\n    export class Slider extends Primitives.RangeBase {\r\n        private _DragValue: number = 0;\r\n\r\n        static IsDirectionReversedProperty: DependencyProperty = DependencyProperty.RegisterCore(\"IsDirectionReversed\", () => Boolean, Slider, false, (d, args) => (<Slider>d)._UpdateTrackLayout());\r\n        static IsFocusedProperty: DependencyProperty = DependencyProperty.RegisterReadOnlyCore(\"IsFocused\", () => Boolean, Slider, false, (d, args) => (<Slider>d).UpdateVisualState());\r\n        static OrientationProperty: DependencyProperty = DependencyProperty.RegisterCore(\"Orientation\", () => new Enum(Orientation), Slider, Orientation.Horizontal, (d, args) => (<Slider>d)._OnOrientationChanged());\r\n        IsDirectionReversed: boolean;\r\n        IsFocused: boolean;\r\n        Orientation: Orientation;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = Slider;\r\n            this.SizeChanged.on(this._HandleSizeChanged, this);\r\n        }\r\n\r\n        private $HorizontalTemplate: FrameworkElement;\r\n        private $HorizontalLargeIncrease: Primitives.RepeatButton;\r\n        private $HorizontalLargeDecrease: Primitives.RepeatButton;\r\n        private $HorizontalThumb: Primitives.Thumb;\r\n\r\n        private $VerticalTemplate: FrameworkElement;\r\n        private $VerticalLargeIncrease: Primitives.RepeatButton;\r\n        private $VerticalLargeDecrease: Primitives.RepeatButton;\r\n        private $VerticalThumb: Primitives.Thumb;\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.$HorizontalTemplate = <FrameworkElement>this.GetTemplateChild(\"HorizontalTemplate\", FrameworkElement);\r\n            this.$HorizontalLargeIncrease = <Primitives.RepeatButton>this.GetTemplateChild(\"HorizontalTrackLargeChangeIncreaseRepeatButton\", Primitives.RepeatButton);\r\n            this.$HorizontalLargeDecrease = <Primitives.RepeatButton>this.GetTemplateChild(\"HorizontalTrackLargeChangeDecreaseRepeatButton\", Primitives.RepeatButton);\r\n            this.$HorizontalThumb = <Primitives.Thumb>this.GetTemplateChild(\"HorizontalThumb\", Primitives.Thumb);\r\n            this.$VerticalTemplate = <FrameworkElement>this.GetTemplateChild(\"VerticalTemplate\", FrameworkElement);\r\n            this.$VerticalLargeIncrease = <Primitives.RepeatButton>this.GetTemplateChild(\"VerticalTrackLargeChangeIncreaseRepeatButton\", Primitives.RepeatButton);\r\n            this.$VerticalLargeDecrease = <Primitives.RepeatButton>this.GetTemplateChild(\"VerticalTrackLargeChangeDecreaseRepeatButton\", Primitives.RepeatButton);\r\n            this.$VerticalThumb = <Primitives.Thumb>this.GetTemplateChild(\"VerticalThumb\", Primitives.Thumb);\r\n\r\n            if (this.$HorizontalThumb != null) {\r\n                this.$HorizontalThumb.DragStarted.on(this._OnThumbDragStarted, this);\r\n                this.$HorizontalThumb.DragDelta.on(this._OnThumbDragDelta, this);\r\n            }\r\n            if (this.$HorizontalLargeDecrease != null) {\r\n                this.$HorizontalLargeDecrease.Click.on(function (sender, e) { this.Focus(); this.Value -= this.LargeChange; }, this);\r\n            }\r\n            if (this.$HorizontalLargeIncrease != null) {\r\n                this.$HorizontalLargeIncrease.Click.on(function (sender, e) { this.Focus(); this.Value += this.LargeChange; }, this);\r\n            }\r\n\r\n            if (this.$VerticalThumb != null) {\r\n                this.$VerticalThumb.DragStarted.on(this._OnThumbDragStarted, this);\r\n                this.$VerticalThumb.DragDelta.on(this._OnThumbDragDelta, this);\r\n            }\r\n            if (this.$VerticalLargeDecrease != null) {\r\n                this.$VerticalLargeDecrease.Click.on(function (sender, e) { this.Focus(); this.Value -= this.LargeChange; }, this);\r\n            }\r\n            if (this.$VerticalLargeIncrease != null) {\r\n                this.$VerticalLargeIncrease.Click.on(function (sender, e) { this.Focus(); this.Value += this.LargeChange; }, this);\r\n            }\r\n\r\n            this._OnOrientationChanged();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        OnIsEnabledChanged(e: IDependencyPropertyChangedEventArgs) {\r\n            super.OnIsEnabledChanged(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMinimumChanged(oldMin: number, newMin: number) {\r\n            super.OnMinimumChanged(oldMin, newMin);\r\n            this._UpdateTrackLayout();\r\n        }\r\n        OnMaximumChanged(oldMax: number, newMax: number) {\r\n            super.OnMaximumChanged(oldMax, newMax);\r\n            this._UpdateTrackLayout();\r\n        }\r\n        OnValueChanged(oldValue: number, newValue: number) {\r\n            super.OnValueChanged(oldValue, newValue);\r\n            this._UpdateTrackLayout();\r\n        }\r\n\r\n        private _HandleSizeChanged(sender, e: SizeChangedEventArgs) {\r\n            this._UpdateTrackLayout();\r\n        }\r\n        private _OnOrientationChanged() {\r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            if (this.$HorizontalTemplate != null)\r\n                this.$HorizontalTemplate.Visibility = isHorizontal ? Visibility.Visible : Visibility.Collapsed;\r\n            if (this.$VerticalTemplate != null)\r\n                this.$VerticalTemplate.Visibility = !isHorizontal ? Visibility.Visible : Visibility.Collapsed;\r\n            this._UpdateTrackLayout();\r\n        }\r\n        private _UpdateTrackLayout() {\r\n            var max = this.Maximum;\r\n            var min = this.Minimum;\r\n            var val = this.Value;\r\n            \r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            var temp = isHorizontal ? this.$HorizontalTemplate : this.$VerticalTemplate;\r\n            if (!(temp instanceof Grid))\r\n                return;\r\n            var templateGrid = <Grid>temp;\r\n            \r\n            var isReversed = this.IsDirectionReversed;\r\n            var largeDecrease: Primitives.RepeatButton;\r\n            var largeIncrease: Primitives.RepeatButton;\r\n            var thumb: Primitives.Thumb;\r\n            if (isHorizontal) {\r\n                var coldefs = templateGrid.ColumnDefinitions;\r\n                largeDecrease = this.$HorizontalLargeDecrease;\r\n                largeIncrease = this.$HorizontalLargeIncrease;\r\n                thumb = this.$HorizontalThumb;\r\n\r\n                if (coldefs && coldefs.Count === 3) {\r\n                    (<ColumnDefinition>coldefs.GetValueAt(0)).Width = new GridLength(1, isReversed ? GridUnitType.Star : GridUnitType.Auto);\r\n                    (<ColumnDefinition>coldefs.GetValueAt(2)).Width = new GridLength(1, isReversed ? GridUnitType.Auto : GridUnitType.Star);\r\n\r\n                    if (largeDecrease != null)\r\n                        Grid.SetColumn(largeDecrease, isReversed ? 2 : 0);\r\n                    if (largeIncrease != null)\r\n                        Grid.SetColumn(largeIncrease, isReversed ? 0 : 2);\r\n                }\r\n            } else {\r\n                var rowdefs = templateGrid.RowDefinitions;\r\n                largeDecrease = this.$VerticalLargeDecrease;\r\n                largeIncrease = this.$VerticalLargeIncrease;\r\n                thumb = this.$VerticalThumb;\r\n\r\n                if (rowdefs && rowdefs.Count === 3) {\r\n                    (<RowDefinition>rowdefs.GetValueAt(0)).Height = new GridLength(1, isReversed ? GridUnitType.Auto : GridUnitType.Star);\r\n                    (<RowDefinition>rowdefs.GetValueAt(2)).Height = new GridLength(1, isReversed ? GridUnitType.Star : GridUnitType.Auto);\r\n\r\n                    if (largeDecrease != null)\r\n                        Grid.SetRow(largeDecrease, isReversed ? 0 : 2);\r\n                    if (largeIncrease != null)\r\n                        Grid.SetRow(largeIncrease, isReversed ? 2 : 0);\r\n                }\r\n            }\r\n\r\n            if (max === min)\r\n                return;\r\n            var percent = val / (max - min);\r\n            if (largeDecrease != null && thumb != null) {\r\n                if (isHorizontal)\r\n                    largeDecrease.Width = Math.max(0, percent * (this.ActualWidth - thumb.ActualWidth));\r\n                else\r\n                    largeDecrease.Height = Math.max(0, percent * (this.ActualHeight - thumb.ActualHeight));\r\n            }\r\n\r\n        }\r\n\r\n        private _OnThumbDragStarted(sender, e: Primitives.DragStartedEventArgs) {\r\n            this.Focus();\r\n            this._DragValue = this.Value;\r\n        }\r\n        private _OnThumbDragDelta(sender, e: Primitives.DragDeltaEventArgs) {\r\n            var offset = 0;\r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            if (isHorizontal && this.$HorizontalThumb != null) {\r\n                offset = e.HorizontalChange / (this.ActualWidth - this.$HorizontalThumb.ActualWidth) * (this.Maximum - this.Minimum);\r\n            } else if (!isHorizontal && this.$VerticalThumb != null) {\r\n                offset = -e.VerticalChange / (this.ActualHeight - this.$VerticalThumb.ActualHeight) * (this.Maximum - this.Minimum);\r\n            }\r\n            if (!isNaN(offset) && isFinite(offset)) {\r\n                this._DragValue += this.IsDirectionReversed ? -offset : offset;\r\n                var newValue = Math.min(this.Maximum, Math.max(this.Minimum, this._DragValue));\r\n                if (newValue != this.Value)\r\n                    this.Value = newValue;\r\n            }\r\n        }\r\n\r\n        OnMouseEnter(e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            if ((this.Orientation === Fayde.Orientation.Horizontal && this.$HorizontalThumb != null && this.$HorizontalThumb.IsDragging) ||\r\n                (this.Orientation === Fayde.Orientation.Vertical && this.$VerticalThumb != null && this.$VerticalThumb.IsDragging)) {\r\n                this.UpdateVisualState();\r\n            }\r\n        }\r\n        OnMouseLeave(e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            if ((this.Orientation === Fayde.Orientation.Horizontal && this.$HorizontalThumb != null && this.$HorizontalThumb.IsDragging) ||\r\n                (this.Orientation === Fayde.Orientation.Vertical && this.$VerticalThumb != null && this.$VerticalThumb.IsDragging)) {\r\n                this.UpdateVisualState();\r\n            }\r\n        }\r\n        OnMouseLeftButtonDown(e: Input.MouseButtonEventArgs) {\r\n            super.OnMouseLeftButtonDown(e);\r\n            if (e.Handled)\r\n                return;\r\n            e.Handled = true;\r\n            this.Focus();\r\n            this.CaptureMouse();\r\n        }\r\n        OnLostMouseCapture(e: Input.MouseEventArgs) {\r\n            super.OnLostMouseCapture(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnKeyDown(e: Input.KeyEventArgs) {\r\n            super.OnKeyDown(e);\r\n            if (e.Handled)\r\n                return;\r\n            if (!this.IsEnabled)\r\n                return;\r\n\r\n            switch (e.Key) {\r\n                case Input.Key.Left:\r\n                case Input.Key.Down:\r\n                    this.Value += (this.IsDirectionReversed ? this.SmallChange : -this.SmallChange);\r\n                    break;\r\n                case Input.Key.Right:\r\n                case Input.Key.Up:\r\n                    this.Value += (this.IsDirectionReversed ? -this.SmallChange : this.SmallChange);\r\n                    break;\r\n                case Input.Key.Home:\r\n                    this.Value = this.Minimum;\r\n                    break;\r\n                case Input.Key.End:\r\n                    this.Value = this.Maximum;\r\n                    break;\r\n            }\r\n\r\n        }\r\n\r\n        OnGotFocus(e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.SetValueInternal(Slider.IsFocusedProperty, true);\r\n        }\r\n        OnLostFocus(e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.SetValueInternal(Slider.IsFocusedProperty, false);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Slider);\r\n    TemplateVisualStates(Slider, \r\n        { GroupName: \"CommonStates\", Name: \"Normal\" },\r\n        { GroupName: \"CommonStates\", Name: \"MouseOver\" },\r\n        { GroupName: \"CommonStates\", Name: \"Disabled\" },\r\n        { GroupName: \"FocusStates\", Name: \"Unfocused\" },\r\n        { GroupName: \"FocusStates\", Name: \"Focused\" });\r\n    TemplateParts(Slider,\r\n        { Name: \"HorizontalTemplate\", Type: FrameworkElement },\r\n        { Name: \"HorizontalThumb\", Type: Primitives.Thumb },\r\n        { Name: \"HorizontalTrackLargeChangeIncreaseRepeatButton\", Type: Primitives.RepeatButton },\r\n        { Name: \"HorizontalTrackLargeChangeDecreaseRepeatButton\", Type: Primitives.RepeatButton },\r\n        { Name: \"VerticalTemplate\", Type: FrameworkElement },\r\n        { Name: \"VerticalThumb\", Type: Primitives.Thumb },\r\n        { Name: \"VerticalTrackLargeChangeIncreaseRepeatButton\", Type: Primitives.RepeatButton },\r\n        { Name: \"VerticalTrackLargeChangeDecreaseRepeatButton\", Type: Primitives.RepeatButton });\r\n}","/// <reference path=\"Panel.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class StackPanel extends Panel {\r\n        CreateLayoutUpdater () {\r\n            return new minerva.controls.stackpanel.StackPanelUpdater();\r\n        }\r\n\r\n        static OrientationProperty: DependencyProperty = DependencyProperty.Register(\"Orientation\", () => new Enum(Orientation), StackPanel, Orientation.Vertical);\r\n        Orientation: Orientation;\r\n    }\r\n    Fayde.CoreLibrary.add(StackPanel);\r\n\r\n    module reactions {\r\n        UIReaction<minerva.Orientation>(StackPanel.OrientationProperty, (upd, ov, nv) => {\r\n            upd.invalidateMeasure();\r\n            upd.invalidateArrange();\r\n        }, false);\r\n    }\r\n}","/// <reference path=\"Enums.ts\" />\r\n/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    import TextBlockUpdater = minerva.controls.textblock.TextBlockUpdater;\r\n    export class TextBlockNode extends FENode {\r\n        XObject: TextBlock;\r\n        LayoutUpdater: TextBlockUpdater;\r\n\r\n        private _IsDocAuto = false;\r\n        private _SettingText = false;\r\n        private _SettingInlines = false;\r\n        private _AutoRun = new Documents.Run();\r\n\r\n        constructor (xobj: TextBlock) {\r\n            super(xobj);\r\n        }\r\n\r\n        GetInheritedEnumerator (): nullstone.IEnumerator<DONode> {\r\n            var xobj = this.XObject;\r\n            var inlines = xobj.Inlines;\r\n            if (inlines)\r\n                return <nullstone.IEnumerator<DONode>>inlines.GetNodeEnumerator();\r\n        }\r\n\r\n        TextChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._SettingInlines)\r\n                return;\r\n\r\n            this._AutoRun.Text = args.NewValue;\r\n            if (!this._IsDocAuto) {\r\n                this._IsDocAuto = true;\r\n                this.LayoutUpdater.tree.clearText();\r\n                this._SettingText = true;\r\n                var inlines = this.XObject.Inlines;\r\n                inlines.Clear();\r\n                inlines.Add(this._AutoRun);\r\n                this.LayoutUpdater.invalidateTextMetrics();\r\n                this._SettingText = false;\r\n            }\r\n        }\r\n\r\n        InlinesChanged (inline: Documents.Inline, index: number, isAdd: boolean) {\r\n            var xobj = this.XObject;\r\n            if (isAdd)\r\n                Providers.InheritedStore.PropagateInheritedOnAdd(xobj, inline.XamlNode);\r\n\r\n            var updater = this.LayoutUpdater;\r\n            if (isAdd)\r\n                updater.tree.onTextAttached(inline.TextUpdater, index);\r\n            else\r\n                updater.tree.onTextDetached(inline.TextUpdater);\r\n\r\n            if (isAdd)\r\n                ReactTo(inline, this, this.InlineChanged);\r\n            else\r\n                UnreactTo(inline, this);\r\n\r\n            if (this._SettingText)\r\n                return;\r\n\r\n            this._SettingInlines = true;\r\n            var inlines = xobj.Inlines;\r\n            var text = \"\";\r\n            for (var en = inlines.getEnumerator(); en.moveNext();) {\r\n                text += en.current._SerializeText();\r\n            }\r\n            xobj.SetCurrentValue(TextBlock.TextProperty, text);\r\n            this._SettingInlines = false;\r\n\r\n            updater.invalidateTextMetrics();\r\n        }\r\n\r\n        InlineChanged(obj?: any) {\r\n            switch (obj.type) {\r\n                case 'font':\r\n                    this.LayoutUpdater.invalidateFont(obj.full);\r\n                    break;\r\n                case 'text':\r\n                    this.LayoutUpdater.invalidateTextMetrics();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    export class TextBlock extends FrameworkElement {\r\n        XamlNode: TextBlockNode;\r\n\r\n        CreateNode (): TextBlockNode {\r\n            return new TextBlockNode(this);\r\n        }\r\n\r\n        CreateLayoutUpdater () {\r\n            return new TextBlockUpdater();\r\n        }\r\n\r\n        static PaddingProperty = DependencyProperty.RegisterCore(\"Padding\", () => Thickness, TextBlock);\r\n        static FontFamilyProperty = InheritableOwner.FontFamilyProperty.ExtendTo(TextBlock);\r\n        static FontSizeProperty = InheritableOwner.FontSizeProperty.ExtendTo(TextBlock);\r\n        static FontStretchProperty = InheritableOwner.FontStretchProperty.ExtendTo(TextBlock);\r\n        static FontStyleProperty = InheritableOwner.FontStyleProperty.ExtendTo(TextBlock);\r\n        static FontWeightProperty = InheritableOwner.FontWeightProperty.ExtendTo(TextBlock);\r\n        static ForegroundProperty = InheritableOwner.ForegroundProperty.ExtendTo(TextBlock);\r\n        static TextDecorationsProperty = InheritableOwner.TextDecorationsProperty.ExtendTo(TextBlock);\r\n        static TextProperty = DependencyProperty.Register(\"Text\", () => String, TextBlock, \"\", (d, args) => (<TextBlock>d).XamlNode.TextChanged(args));\r\n        static InlinesProperty = DependencyProperty.RegisterImmutable<Documents.InlineCollection>(\"Inlines\", () => Documents.InlineCollection, TextBlock);\r\n        static LineStackingStrategyProperty = DependencyProperty.RegisterCore(\"LineStackingStrategy\", () => new Enum(LineStackingStrategy), TextBlock, LineStackingStrategy.MaxHeight);\r\n        static LineHeightProperty = DependencyProperty.RegisterCore(\"LineHeight\", () => Number, TextBlock, NaN);\r\n        static TextAlignmentProperty = DependencyProperty.RegisterCore(\"TextAlignment\", () => new Enum(TextAlignment), TextBlock, TextAlignment.Left);\r\n        static TextTrimmingProperty = DependencyProperty.RegisterCore(\"TextTrimming\", () => new Enum(TextTrimming), TextBlock, TextTrimming.None);\r\n        static TextWrappingProperty = DependencyProperty.RegisterCore(\"TextWrapping\", () => new Enum(TextWrapping), TextBlock, TextWrapping.NoWrap);\r\n        Padding: Thickness;\r\n        Foreground: Media.Brush;\r\n        FontFamily: string;\r\n        FontStretch: string;\r\n        FontStyle: string;\r\n        FontWeight: FontWeight;\r\n        FontSize: number;\r\n        TextDecorations: TextDecorations;\r\n        Text: string;\r\n        Inlines: Documents.InlineCollection;\r\n        LineStackingStrategy: LineStackingStrategy;\r\n        LineHeight: number;\r\n        TextAlignment: TextAlignment;\r\n        TextTrimming: TextTrimming;\r\n        TextWrapping: TextWrapping;\r\n\r\n        constructor () {\r\n            super();\r\n\r\n            var inlines = TextBlock.InlinesProperty.Initialize(this);\r\n            inlines.AttachTo(this);\r\n            ReactTo(inlines, this, (change?) => this.XamlNode.InlinesChanged(change.item, change.index, change.add));\r\n\r\n            UIReaction<Media.Brush>(TextBlock.ForegroundProperty, (upd, ov, nv) => upd.invalidate(), true, true, this);\r\n            UIReaction<Thickness>(TextBlock.PaddingProperty, (upd: TextBlockUpdater, ov, nv) => upd.invalidateTextMetrics(), false, true, this);\r\n            UIReaction<minerva.LineStackingStrategy>(TextBlock.LineStackingStrategyProperty, (upd: TextBlockUpdater, ov, nv) => upd.invalidateTextMetrics(), false, true, this);\r\n            UIReaction<number>(TextBlock.LineHeightProperty, (upd: TextBlockUpdater, ov, nv) => upd.invalidateTextMetrics(), false, true, this);\r\n            UIReaction<minerva.TextAlignment>(TextBlock.TextAlignmentProperty, (upd: TextBlockUpdater, ov, nv) => upd.invalidateTextMetrics(), false, true, this);\r\n            UIReaction<minerva.TextTrimming>(TextBlock.TextTrimmingProperty, (upd: TextBlockUpdater, ov, nv) => upd.invalidateTextMetrics(), false, true, this);\r\n            UIReaction<minerva.TextWrapping>(TextBlock.TextWrappingProperty, (upd: TextBlockUpdater, ov, nv) => upd.invalidateTextMetrics(), false, true, this);\r\n        }\r\n\r\n        IsInheritable (propd: DependencyProperty): boolean {\r\n            if (TextBlockInheritedProps.indexOf(propd) > -1)\r\n                return true;\r\n            return super.IsInheritable(propd);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TextBlock);\r\n    Markup.Content(TextBlock, TextBlock.InlinesProperty);\r\n    Markup.TextContent(TextBlock, TextBlock.TextProperty);\r\n\r\n    var TextBlockInheritedProps = [\r\n        TextBlock.FontFamilyProperty,\r\n        TextBlock.FontSizeProperty,\r\n        TextBlock.FontStretchProperty,\r\n        TextBlock.FontStyleProperty,\r\n        TextBlock.FontWeightProperty,\r\n        TextBlock.ForegroundProperty\r\n    ];\r\n}","/// <reference path=\"TextBoxBase.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class TextBox extends TextBoxBase {\r\n        static AcceptsReturnProperty = DependencyProperty.Register(\"AcceptsReturn\", () => Boolean, TextBox, false);\r\n        static IsReadOnlyProperty = DependencyProperty.Register(\"IsReadOnly\", () => Boolean, TextBox, false);\r\n        static TextProperty = DependencyProperty.Register(\"Text\", () => String, TextBox);\r\n        static TextAlignmentProperty = DependencyProperty.Register(\"TextAlignment\", () => new Enum(TextAlignment), TextBox, TextAlignment.Left);\r\n        static TextWrappingProperty = DependencyProperty.Register(\"TextWrapping\", () => new Enum(TextWrapping), TextBox, TextWrapping.NoWrap);\r\n        static HorizontalScrollBarVisibilityProperty = DependencyProperty.Register(\"HorizontalScrollBarVisibility\", () => new Enum(ScrollBarVisibility), TextBox, ScrollBarVisibility.Hidden);\r\n        static VerticalScrollBarVisibilityProperty = DependencyProperty.Register(\"VerticalScrollBarVisibility\", () => new Enum(ScrollBarVisibility), TextBox, ScrollBarVisibility.Hidden);\r\n        AcceptsReturn: boolean;\r\n        IsReadOnly: boolean;\r\n        Text: string;\r\n        TextAlignment: TextAlignment;\r\n        TextWrapping: TextWrapping;\r\n        HorizontalScrollBarVisibility: ScrollBarVisibility;\r\n        VerticalScrollBarVisibility: ScrollBarVisibility;\r\n\r\n        TextChanged = new RoutedEvent<RoutedEventArgs>();\r\n\r\n        constructor () {\r\n            super(Text.EmitChangedType.TEXT | Text.EmitChangedType.SELECTION);\r\n            this.DefaultStyleKey = TextBox;\r\n\r\n            var proxy = this.$Proxy;\r\n            proxy.SyncSelectionStart = (value) => this.SetCurrentValue(TextBox.SelectionStartProperty, value);\r\n            proxy.SyncSelectionLength = (value) => this.SetCurrentValue(TextBox.SelectionLengthProperty, value);\r\n            proxy.SyncText = (value) => {\r\n                this.SetCurrentValue(TextBox.TextProperty, value);\r\n                var args = new RoutedEventArgs();\r\n                args.Source = this;\r\n                this.TextChanged.raise(this, args);\r\n            };\r\n            this.$Advancer = new Internal.TextBoxCursorAdvancer(this.$Proxy);\r\n        }\r\n\r\n        OnApplyTemplate () {\r\n            super.OnApplyTemplate();\r\n            var vis = (this.TextWrapping === TextWrapping.Wrap) ? ScrollBarVisibility.Disabled : this.HorizontalScrollBarVisibility;\r\n            this.$ContentProxy.setHorizontalScrollBar(vis);\r\n            this.$ContentProxy.setVerticalScrollBar(this.VerticalScrollBarVisibility);\r\n        }\r\n\r\n        get DisplayText (): string {\r\n            return this.Text;\r\n        }\r\n\r\n        OnMouseEnter (e: Input.MouseEventArgs) {\r\n            super.OnMouseEnter(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnMouseLeave (e: Input.MouseEventArgs) {\r\n            super.OnMouseLeave(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnGotFocus (e: RoutedEventArgs) {\r\n            super.OnGotFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        OnLostFocus (e: RoutedEventArgs) {\r\n            super.OnLostFocus(e);\r\n            this.UpdateVisualState();\r\n        }\r\n\r\n        GoToStateCommon (gotoFunc: (state: string) => boolean): boolean {\r\n            if (!this.IsEnabled)\r\n                return gotoFunc(\"Disabled\");\r\n            if (this.IsReadOnly)\r\n                return gotoFunc(\"ReadOnly\");\r\n            if (this.IsMouseOver)\r\n                return gotoFunc(\"MouseOver\");\r\n            return gotoFunc(\"Normal\");\r\n        }\r\n\r\n        SelectAll () {\r\n            this.$Proxy.selectAll();\r\n        }\r\n\r\n        Select (start: number, length: number) {\r\n            this.$Proxy.select(start, length);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TextBox);\r\n    TemplateVisualStates(TextBox,\r\n        {GroupName: \"CommonStates\", Name: \"Normal\"},\r\n        {GroupName: \"CommonStates\", Name: \"MouseOver\"},\r\n        {GroupName: \"CommonStates\", Name: \"Disabled\"},\r\n        {GroupName: \"CommonStates\", Name: \"ReadOnly\"},\r\n        {GroupName: \"FocusStates\", Name: \"Unfocused\"},\r\n        {GroupName: \"FocusStates\", Name: \"Focused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"Valid\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidUnfocused\"},\r\n        {GroupName: \"ValidationStates\", Name: \"InvalidFocused\"});\r\n    TemplateParts(TextBox,\r\n        {Name: \"ContentElement\", Type: FrameworkElement});\r\n\r\n    module reactions {\r\n        DPReaction<boolean>(TextBox.AcceptsReturnProperty, (tb: TextBox, ov, nv) => {\r\n            tb.$Proxy.acceptsReturn = nv === true;\r\n        }, false);\r\n        DPReaction<boolean>(TextBox.IsReadOnlyProperty, (tb: TextBox, ov, nv) => {\r\n            tb.$View.setIsReadOnly(nv === true);\r\n        }, false);\r\n        DPReaction<TextAlignment>(TextBox.TextAlignmentProperty, (tb: TextBox, ov, nv) => tb.$View.setTextAlignment(nv), false);\r\n        DPReaction<TextWrapping>(TextBox.TextWrappingProperty, (tb: TextBox, ov, nv) => {\r\n            var vis = (nv === TextWrapping.Wrap) ? ScrollBarVisibility.Disabled : tb.HorizontalScrollBarVisibility;\r\n            tb.$ContentProxy.setHorizontalScrollBar(vis);\r\n            tb.$View.setTextWrapping(nv);\r\n        }, false);\r\n        DPReaction<ScrollBarVisibility>(TextBox.HorizontalScrollBarVisibilityProperty, (tb: TextBox, ov, nv) => {\r\n            var vis = (tb.TextWrapping === TextWrapping.Wrap) ? ScrollBarVisibility.Disabled : tb.HorizontalScrollBarVisibility;\r\n            tb.$ContentProxy.setHorizontalScrollBar(vis);\r\n        }, false);\r\n        DPReaction<ScrollBarVisibility>(TextBox.VerticalScrollBarVisibilityProperty, (tb: TextBox, ov, nv) => {\r\n            tb.$ContentProxy.setVerticalScrollBar(nv);\r\n        }, false);\r\n        DPReaction<string>(TextBox.TextProperty, (tb: TextBox, ov, nv) => {\r\n            tb.$Proxy.setText(nv);\r\n            tb.$View.setText(tb.DisplayText);\r\n        }, false);\r\n    }\r\n}","/// <reference path=\"ContentControl.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export class ToolTip extends ContentControl {\r\n        static HorizontalOffsetProperty = DependencyProperty.Register(\"HorizontalOffset\", () => Number, ToolTip, 0, (d, args) => (<ToolTip>d).OnHorizontalOffsetChanged(args));\r\n        static VerticalOffsetProperty = DependencyProperty.Register(\"VerticalOffset\", () => Number, ToolTip, 0, (d, args) => (<ToolTip>d).OnVerticalOffsetChanged(args));\r\n        static IsOpenProperty = DependencyProperty.Register(\"IsOpen\", () => Boolean, ToolTip, false, (d, args) => (<ToolTip>d).OnIsOpenChanged(args));\r\n        static PlacementProperty = DependencyProperty.Register(\"Placement\", () => new Enum(PlacementMode), ToolTip, PlacementMode.Mouse);\r\n        static PlacementTargetProperty = DependencyProperty.Register(\"PlacementTarget\", () => UIElement, ToolTip);\r\n        HorizontalOffset: number;\r\n        VerticalOffset: number;\r\n        IsOpen: boolean;\r\n        Placement: PlacementMode;\r\n        PlacementTarget: UIElement;\r\n\r\n        private _TooltipParent: FrameworkElement = null;\r\n        private _TooltipParentDCListener: Providers.IPropertyChangedListener = null;\r\n        get TooltipParent(): FrameworkElement { return this._TooltipParent; }\r\n        set TooltipParent(value: FrameworkElement) {\r\n            if (this._TooltipParentDCListener)\r\n                this._TooltipParentDCListener.Detach();\r\n            this._TooltipParent = value;\r\n            if (this._TooltipParent)\r\n                this._TooltipParentDCListener = DependencyObject.DataContextProperty.Store.ListenToChanged(this._TooltipParent, DependencyObject.DataContextProperty, this.OnTooltipParentDataContextChanged, this);\r\n        }\r\n        PlacementOverride: PlacementMode = null;\r\n        PlacementTargetOverride: UIElement = null;\r\n\r\n        Opened = new RoutedEvent<RoutedEventArgs>();\r\n        Closed = new RoutedEvent<RoutedEventArgs>();\r\n\r\n        private _ParentPopup: Primitives.Popup = null;\r\n\r\n        constructor() {\r\n            super();\r\n            this.DefaultStyleKey = ToolTip;\r\n        }\r\n\r\n        OnApplyTemplate() {\r\n            super.OnApplyTemplate();\r\n            this.UpdateVisualState(false);\r\n        }\r\n\r\n        private OnHorizontalOffsetChanged(args: DependencyPropertyChangedEventArgs) {\r\n            if (args.NewValue !== args.OldValue)\r\n                this.OnOffsetChanged(args.NewValue, 0);\r\n        }\r\n        private OnVerticalOffsetChanged(args: DependencyPropertyChangedEventArgs) {\r\n            if (args.NewValue !== args.OldValue)\r\n                this.OnOffsetChanged(0, args.NewValue);\r\n        }\r\n        private OnIsOpenChanged(args: DependencyPropertyChangedEventArgs) {\r\n            if (args.NewValue) {\r\n                if (!this._ParentPopup)\r\n                    this.HookupParentPopup();\r\n                this._ParentPopup.IsOpen = true;\r\n                this.PerformPlacement(this.HorizontalOffset, this.VerticalOffset);\r\n            } else {\r\n                this._ParentPopup.IsOpen = false;\r\n            }\r\n            this.UpdateVisualState();\r\n        }\r\n        private OnOffsetChanged(horizontalOffset: number, verticalOffset: number) {\r\n            if (!this._ParentPopup || !this.IsOpen)\r\n                return;\r\n            this.PerformPlacement(horizontalOffset, verticalOffset);\r\n        }\r\n        private OnLayoutUpdated(sender: any, e: nullstone.IEventArgs) {\r\n            if (this._ParentPopup)\r\n                this.PerformPlacement(this.HorizontalOffset, this.VerticalOffset);\r\n        }\r\n        private OnTooltipParentDataContextChanged(sender: any, args: IDependencyPropertyChangedEventArgs) {\r\n            if (this._ParentPopup && this.TooltipParent)\r\n                this._ParentPopup.DataContext = this.TooltipParent.DataContext;\r\n        }\r\n\r\n        private HookupParentPopup() {\r\n            console.assert(!this._ParentPopup, \"this._parentPopup should be null, we want to set visual tree once\");\r\n\r\n            var pp = this._ParentPopup = new Primitives.Popup();\r\n            pp.DataContext = !this.TooltipParent ? null : this.TooltipParent.DataContext;\r\n\r\n            pp.Opened.on(this.OnPopupOpened, this);\r\n            pp.Closed.on(this.OnPopupClosed, this);\r\n            this.IsTabStop = false;\r\n\r\n            pp.XamlNode.RegisterInitiator(this._TooltipParent);\r\n            pp.Child = this;\r\n\r\n            pp.IsHitTestVisible = false;\r\n            this.IsHitTestVisible = false;\r\n        }\r\n        private OnPopupOpened(sender: any, e: nullstone.IEventArgs) {\r\n            var args = new RoutedEventArgs();\r\n            args.OriginalSource = this;\r\n            this.Opened.raise(this, args);\r\n            this.LayoutUpdated.on(this.OnLayoutUpdated, this);\r\n        }\r\n        private OnPopupClosed(sender: any, e: nullstone.IEventArgs) {\r\n            var args = new RoutedEventArgs();\r\n            args.OriginalSource = this;\r\n            this.Closed.raise(this, args);\r\n            this.LayoutUpdated.off(this.OnLayoutUpdated, this);\r\n        }\r\n        private PerformPlacement(horizontalOffset: number, verticalOffset: number) {\r\n            if (!this.IsOpen)\r\n                return;\r\n            var root = <FrameworkElement>Application.Current.RootVisual;\r\n            if (!root)\r\n                return;\r\n\r\n            var mode = this.PlacementOverride != null ? this.PlacementOverride : this.Placement;\r\n            var target = <FrameworkElement>(this.PlacementTargetOverride || this.PlacementTarget);\r\n            var targetBounds = new minerva.Rect();\r\n\r\n            var point: Point = ToolTipService.MousePosition;\r\n            if (mode !== PlacementMode.Mouse) {\r\n                point = new Point();\r\n                try {\r\n                    if (target != null) {\r\n                        targetBounds = new minerva.Rect(0, 0, target.ActualWidth, target.ActualHeight);\r\n                        targetBounds = target.TransformToVisual(null).TransformBounds(targetBounds);\r\n                        point.x = targetBounds.x;\r\n                        point.y = targetBounds.y;\r\n                    }\r\n                } catch (err) {\r\n                    console.warn(\"Could not transform the tooltip point.\");\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //TODO: Handle FlowDirection\r\n\r\n            //Move based on PlacementMode\r\n            switch (mode) {\r\n                case PlacementMode.Top:\r\n                    point.y = targetBounds.y - this.ActualHeight;\r\n                    break;\r\n                case PlacementMode.Bottom:\r\n                    point.y = targetBounds.y + targetBounds.height;\r\n                    break;\r\n                case PlacementMode.Left:\r\n                    point.x = targetBounds.x - this.ActualWidth;\r\n                    break;\r\n                case PlacementMode.Right:\r\n                    point.x = targetBounds.x + targetBounds.width;\r\n                    break;\r\n                case PlacementMode.Mouse:\r\n                    point.y += new TextBox().FontSize; // FIXME: Just a guess, it's about right.\r\n                    break;\r\n                default:\r\n                    throw new NotSupportedException(\"PlacementMode '\" + mode + \"' is not supported.\");\r\n            }\r\n\r\n            //Constrain X\r\n            var rootWidth = root.ActualWidth;\r\n            if ((point.x + this.ActualWidth) > rootWidth) {\r\n                if (mode === PlacementMode.Right)\r\n                    point.x = targetBounds.x - this.ActualWidth;\r\n                else\r\n                    point.x = rootWidth - this.ActualWidth;\r\n            } else if (point.x < 0) {\r\n                if (mode === PlacementMode.Left)\r\n                    point.x = targetBounds.x + targetBounds.width;\r\n                else\r\n                    point.x = 0;\r\n            }\r\n\r\n            //Constrain Y\r\n            var rootHeight = root.ActualHeight;\r\n            if ((point.y + this.ActualHeight) > rootHeight) {\r\n                if (mode === PlacementMode.Bottom)\r\n                    point.y = targetBounds.y - this.ActualHeight;\r\n                else\r\n                    point.y = rootHeight - this.ActualHeight;\r\n            } else if (point.y < 0) {\r\n                if (mode === PlacementMode.Top)\r\n                    point.y = targetBounds.y + targetBounds.height;\r\n                else\r\n                    point.y = 0;\r\n            }\r\n\r\n            this._ParentPopup.VerticalOffset = point.y;\r\n            this._ParentPopup.HorizontalOffset = point.x;\r\n        }\r\n\r\n        GoToStates(gotoFunc: (state: string) => boolean) {\r\n            if (this.IsOpen)\r\n                gotoFunc(\"Open\");\r\n            else\r\n                gotoFunc(\"Closed\");\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ToolTip);\r\n    TemplateVisualStates(ToolTip,\r\n        { GroupName: \"OpenStates\", Name: \"Closed\" },\r\n        { GroupName: \"OpenStates\", Name: \"Open\" });\r\n}","class Point extends minerva.Point {\r\n    Clone (): Point {\r\n        return new Point(this.x, this.y);\r\n    }\r\n\r\n    static LERP (start: Point, end: Point, p: number): Point {\r\n        var x = start.x + (end.x - start.x) * p;\r\n        var y = start.y + (end.y - start.y) * p;\r\n        return new Point(x, y);\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(Point);\r\n\r\nnullstone.registerTypeConverter(Point, (val: any): Point => {\r\n    if (!val)\r\n        return new Point();\r\n    if (val instanceof Point)\r\n        return <Point>val;\r\n    if (val instanceof minerva.Point)\r\n        return new Point(val.x, val.y);\r\n    var tokens = Fayde.splitCommaList(val.toString());\r\n    if (tokens.length === 2) {\r\n        var x = parseFloat(tokens[0]);\r\n        var y = parseFloat(tokens[1]);\r\n        return new Point(x, y);\r\n    }\r\n    throw new Exception(\"Cannot parse Point value '\" + val + \"'\");\r\n});\r\n","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../Primitives/Point.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    var AssignedToolTipProperty = DependencyProperty.Register(\"AssignedToolTip\", () => ToolTip, UIElement, null);\r\n    \r\n    var betweenShowDelay = 100;\r\n    var initialShowDelay = 400;\r\n    var showDuration = 5000;\r\n\r\n    function toolTipChanged(dobj: DependencyObject, args: DependencyPropertyChangedEventArgs) {\r\n        var owner = <UIElement>dobj;\r\n        var tooltip = args.NewValue;\r\n\r\n        if (args.OldValue)\r\n            slave.UnregisterTooltip(owner);\r\n\r\n        if (!tooltip)\r\n            return;\r\n\r\n        slave.RegisterTooltip(owner, tooltip);\r\n        slave.SetRootVisual(owner);\r\n    }\r\n    export class ToolTipService {\r\n        static ToolTipProperty = DependencyProperty.RegisterAttached(\"ToolTip\", () => DependencyObject, ToolTipService, undefined, toolTipChanged);\r\n        static GetToolTip(dobj: DependencyObject): ToolTip { return dobj.GetValue(ToolTipService.ToolTipProperty); }\r\n        static SetToolTip(dobj: DependencyObject, value: ToolTip) { dobj.SetValue(ToolTipService.ToolTipProperty, value); }\r\n\r\n        static PlacementProperty = DependencyProperty.RegisterAttached(\"Placement\", () => new Enum(PlacementMode), ToolTipService);\r\n        static GetPlacement(dobj: DependencyObject): PlacementMode { return dobj.GetValue(ToolTipService.PlacementProperty); }\r\n        static SetPlacement(dobj: DependencyObject, value: PlacementMode) { dobj.SetValue(ToolTipService.PlacementProperty, value); }\r\n\r\n        static PlacementTargetProperty = DependencyProperty.RegisterAttached(\"PlacementTarget\", () => UIElement, ToolTipService);\r\n        static GetPlacementTarget(dobj: DependencyObject): UIElement { return dobj.GetValue(ToolTipService.PlacementTargetProperty); }\r\n        static SetPlacementTarget(dobj: DependencyObject, value: UIElement) { dobj.SetValue(ToolTipService.PlacementTargetProperty, value); }\r\n\r\n        static get MousePosition(): Point {\r\n            return slave.MousePosition;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ToolTipService);\r\n\r\n\r\n    class ToolTipServiceSlave {\r\n        MousePosition: Point = new Point();\r\n        private _RootVisual: FrameworkElement = null;\r\n        private _CurrentTooltip: ToolTip = null;\r\n        private _LastEnterSource: any = null;\r\n        private _Owner: UIElement;\r\n        private _LastOpened: number = 0;\r\n        private _OpenInterval: number = null;\r\n        private _CloseInterval: number = null;\r\n\r\n        SetRootVisual(owner: UIElement) {\r\n            if (this._RootVisual)\r\n                return;\r\n            var updater = owner.XamlNode.LayoutUpdater;\r\n            var surface = <Surface>updater.tree.surface;\r\n            if (!surface)\r\n                return;\r\n            var rv = this._RootVisual = <FrameworkElement>surface.App.RootVisual;\r\n            if (!rv)\r\n                return;\r\n            // keep caching mouse position because we can't query it from Silverlight \r\n            rv.MouseMove.on(this.OnRootMouseMove, this);\r\n        }\r\n        private OnRootMouseMove(sender: any, e: Input.MouseEventArgs) {\r\n            this.MousePosition = e.GetPosition(null);\r\n        }\r\n\r\n        RegisterTooltip(owner: UIElement, tooltip: any) {\r\n            console.assert(owner != null, \"ToolTip must have an owner\");\r\n            console.assert(tooltip != null, \"ToolTip can not be null\");\r\n\r\n            owner.MouseEnter.on(this.OnOwnerMouseEnter, this);\r\n            owner.MouseLeave.on(this.OnOwnerMouseLeave, this);\r\n            owner.MouseLeftButtonDown.on(this.OnOwnerMouseLeftButtonDown, this);\r\n            owner.KeyDown.on(this.OnOwnerKeyDown, this);\r\n            var converted = this.ConvertToToolTip(tooltip);\r\n            owner.SetValue(AssignedToolTipProperty, converted);\r\n            if (owner instanceof FrameworkElement)\r\n                converted.TooltipParent = <FrameworkElement>owner;\r\n        }\r\n        UnregisterTooltip(owner: UIElement) {\r\n            console.assert(owner != null, \"owner element is required\");\r\n\r\n            var tooltip: ToolTip = owner.GetValue(AssignedToolTipProperty);\r\n            if (!tooltip || !(tooltip instanceof ToolTip))\r\n                return;\r\n\r\n            owner.MouseEnter.off(this.OnOwnerMouseEnter, this);\r\n            owner.MouseLeave.off(this.OnOwnerMouseLeave, this);\r\n            owner.MouseLeftButtonDown.off(this.OnOwnerMouseLeftButtonDown, this);\r\n            owner.KeyDown.off(this.OnOwnerKeyDown, this);\r\n\r\n            tooltip.TooltipParent = null;\r\n            if (tooltip.IsOpen) {\r\n                if (tooltip === this._CurrentTooltip) {\r\n                    window.clearInterval(this._CloseInterval);\r\n                    this._CurrentTooltip = null;\r\n                    this._Owner = null;\r\n                    this._LastEnterSource = null;\r\n                }\r\n\r\n                tooltip.IsOpen = false;\r\n            }\r\n\r\n            owner.ClearValue(AssignedToolTipProperty);\r\n        }\r\n\r\n        private OnOwnerMouseEnter(sender: any, e: Input.MouseEventArgs) {\r\n            this.MousePosition = e.GetPosition(null);\r\n            this.OnOwnerMouseEnterInternal(sender, e.OriginalSource);\r\n        }\r\n        private OnOwnerMouseLeave(sender: any, e: Input.MouseEventArgs) {\r\n            if (!this._CurrentTooltip) {\r\n                window.clearInterval(this._OpenInterval);\r\n                this._Owner = null;\r\n                this._LastEnterSource = null;\r\n                return;\r\n            }\r\n            this.CloseAutomaticToolTip();\r\n        }\r\n        private OnOwnerMouseLeftButtonDown(sender: any, e: Input.MouseButtonEventArgs) {\r\n            if (this._LastEnterSource && this._LastEnterSource === e.OriginalSource)\r\n                return;\r\n            if (this._Owner !== sender)\r\n                return;\r\n\r\n            if (!this._CurrentTooltip) {\r\n                window.clearInterval(this._OpenInterval);\r\n                this._Owner = null;\r\n                this._LastEnterSource = null;\r\n                return;\r\n            }\r\n\r\n            this.CloseAutomaticToolTip();\r\n        }\r\n        private OnOwnerKeyDown(sender: any, e: Input.KeyEventArgs) {\r\n            if (this._LastEnterSource && this._LastEnterSource === e.OriginalSource)\r\n                return;\r\n            if (this._Owner !== sender)\r\n                return;\r\n\r\n            if (!this._CurrentTooltip) {\r\n                window.clearInterval(this._OpenInterval);\r\n                this._Owner = null;\r\n                this._LastEnterSource = null;\r\n                return;\r\n            }\r\n\r\n            if (isSpecialKey(e.Key))\r\n                return;\r\n\r\n            this.CloseAutomaticToolTip();\r\n        }\r\n        private OnOwnerMouseEnterInternal(sender: any, source: any) {\r\n            if (this._LastEnterSource && this._LastEnterSource === source)\r\n                return;\r\n\r\n            if (this._CurrentTooltip) {\r\n                if (sender.GetValue(AssignedToolTipProperty) === this._CurrentTooltip)\r\n                    return;\r\n                this.CloseAutomaticToolTip();\r\n            }\r\n\r\n            this._Owner = sender;\r\n            this._LastEnterSource = source;\r\n\r\n            console.assert(!this._CurrentTooltip);\r\n\r\n            this.SetRootVisual(sender);\r\n\r\n            var sinceLastOpen = new Date().getTime() - this._LastOpened;\r\n            if (sinceLastOpen <= betweenShowDelay) {\r\n                this.OpenAutomaticToolTip();\r\n            } else {\r\n                this._OpenInterval = window.setInterval(() => this.OpenAutomaticToolTip(), initialShowDelay);\r\n            }\r\n        }\r\n\r\n        private ConvertToToolTip(o: any): ToolTip {\r\n            if (o instanceof ToolTip)\r\n                return o;\r\n\r\n            if (o instanceof FrameworkElement) {\r\n                var parent = (<FrameworkElement> o).Parent;\r\n                if (parent instanceof ToolTip)\r\n                    return <ToolTip>parent;\r\n            }\r\n\r\n            var tooltip = new ToolTip();\r\n            tooltip.Content = o;\r\n            return tooltip;\r\n        }\r\n\r\n        private OpenAutomaticToolTip() {\r\n            window.clearInterval(this._OpenInterval);\r\n\r\n            console.assert(this._Owner != null, \"ToolTip owner was not set prior to starting the open timer\");\r\n\r\n            var cur = this._CurrentTooltip = <ToolTip> this._Owner.GetValue(AssignedToolTipProperty);\r\n\r\n            if (cur != null) {\r\n                cur.PlacementOverride = ToolTipService.GetPlacement(this._Owner);\r\n                cur.PlacementTargetOverride = ToolTipService.GetPlacementTarget(this._Owner) || this._Owner;\r\n                cur.IsOpen = true;\r\n\r\n                this._CloseInterval = window.setInterval(() => this.CloseAutomaticToolTip(), showDuration);\r\n            }\r\n        }\r\n        private CloseAutomaticToolTip() {\r\n                window.clearInterval(this._CloseInterval);\r\n\r\n            var cur = this._CurrentTooltip;\r\n            cur.PlacementOverride = null;\r\n            cur.PlacementTargetOverride = null;\r\n            cur.IsOpen = false;\r\n            this._CurrentTooltip = null;\r\n\r\n            this._Owner = null;\r\n            this._LastEnterSource = null;\r\n\r\n            this._LastOpened = new Date().getTime();\r\n        }\r\n    }\r\n    var slave = new ToolTipServiceSlave();\r\n\r\n    var specialKeys: Input.Key[] =\r\n        [\r\n            Input.Key.Alt,\r\n            Input.Key.Back,\r\n            Input.Key.Delete,\r\n            Input.Key.Down,\r\n            Input.Key.End,\r\n            Input.Key.Home,\r\n            Input.Key.Insert,\r\n            Input.Key.Left,\r\n            Input.Key.PageDown,\r\n            Input.Key.PageUp,\r\n            Input.Key.Right,\r\n            Input.Key.Space,\r\n            Input.Key.Up\r\n        ];\r\n    function isSpecialKey(key: Input.Key): boolean {\r\n        return specialKeys.indexOf(key) > -1;\r\n    }\r\n}","/// <reference path=\"Panel.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    export enum VirtualizationMode {\r\n        Standard = 0,\r\n        Recycling = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(VirtualizationMode, \"VirtualizationMode\");\r\n\r\n    export class VirtualizingPanel extends Panel {\r\n        static VirtualizationModeProperty = DependencyProperty.RegisterAttached(\"VirtualizationMode\", () => new Enum(VirtualizationMode), VirtualizingPanel, VirtualizationMode.Recycling);\r\n        static GetVirtualizationMode(d: DependencyObject): VirtualizationMode { return d.GetValue(VirtualizingPanel.VirtualizationModeProperty); }\r\n        static SetVirtualizationMode(d: DependencyObject, value: VirtualizationMode) { d.SetValue(VirtualizingPanel.VirtualizationModeProperty, value); }\r\n\r\n        static IsVirtualizingProperty = DependencyProperty.RegisterAttached(\"IsVirtualizing\", () => Boolean, VirtualizingPanel, false);\r\n        static GetIsVirtualizing(d: DependencyObject): boolean { return d.GetValue(VirtualizingPanel.IsVirtualizingProperty); }\r\n        static SetIsVirtualizing(d: DependencyObject, value: boolean) { d.SetValue(VirtualizingPanel.IsVirtualizingProperty, value); }\r\n\r\n        get ItemsControl(): ItemsControl {\r\n            var presenter = ItemsPresenter.Get(this);\r\n            return presenter ? presenter.ItemsControl : null;\r\n        }\r\n\r\n        OnItemsAdded(index: number, newItems: any[]) {\r\n            this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n        }\r\n        OnItemsRemoved(index: number, oldItems: any[]) {\r\n            this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(VirtualizingPanel);\r\n}","/// <reference path=\"VirtualizingPanel.ts\" />\r\n\r\nmodule Fayde.Controls {\r\n    var LineDelta = 14.7;\r\n    var Wheelitude = 3;\r\n\r\n    import VirtualizingStackPanelUpdater = minerva.controls.virtualizingstackpanel.VirtualizingStackPanelUpdater;\r\n\r\n    export class VirtualizingStackPanel extends VirtualizingPanel implements Primitives.IScrollInfo {\r\n        CreateLayoutUpdater() {\r\n            var updater = new VirtualizingStackPanelUpdater();\r\n            updater.assets.scrollData = this._ScrollData = new Primitives.ScrollData();\r\n            updater.tree.containerOwner = new Internal.VirtualizingPanelContainerOwner(this);\r\n            return updater;\r\n        }\r\n\r\n        private _ScrollData: Primitives.ScrollData;\r\n\r\n        get ScrollOwner(): ScrollViewer {\r\n            return this._ScrollData.scrollOwner;\r\n        }\r\n\r\n        set ScrollOwner(value: ScrollViewer) {\r\n            this._ScrollData.scrollOwner = value;\r\n        }\r\n\r\n        get CanHorizontallyScroll(): boolean {\r\n            return this._ScrollData.canHorizontallyScroll;\r\n            ;\r\n        }\r\n\r\n        set CanHorizontallyScroll(value: boolean) {\r\n            var sd = this._ScrollData;\r\n            if (sd.canHorizontallyScroll !== value) {\r\n                sd.canHorizontallyScroll = value;\r\n                this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n            }\r\n        }\r\n\r\n        get CanVerticallyScroll(): boolean {\r\n            return this._ScrollData.canVerticallyScroll;\r\n        }\r\n\r\n        set CanVerticallyScroll(value: boolean) {\r\n            var sd = this._ScrollData;\r\n            if (sd.canVerticallyScroll !== value) {\r\n                sd.canVerticallyScroll = value;\r\n                this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n            }\r\n        }\r\n\r\n        get ExtentWidth(): number {\r\n            return this._ScrollData.extentWidth;\r\n        }\r\n\r\n        get ExtentHeight(): number {\r\n            return this._ScrollData.extentHeight;\r\n        }\r\n\r\n        get ViewportWidth(): number {\r\n            return this._ScrollData.viewportWidth;\r\n        }\r\n\r\n        get ViewportHeight(): number {\r\n            return this._ScrollData.viewportHeight;\r\n        }\r\n\r\n        get HorizontalOffset(): number {\r\n            return this._ScrollData.offsetX;\r\n        }\r\n\r\n        get VerticalOffset(): number {\r\n            return this._ScrollData.offsetY;\r\n        }\r\n\r\n        LineUp(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Horizontal)\r\n                return this.SetVerticalOffset(sd.offsetY - LineDelta);\r\n            return this.SetVerticalOffset(sd.offsetY - 1);\r\n        }\r\n\r\n        LineDown(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Horizontal)\r\n                return this.SetVerticalOffset(sd.offsetY + LineDelta);\r\n            return this.SetVerticalOffset(sd.offsetY + 1);\r\n        }\r\n\r\n        LineLeft(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Vertical)\r\n                return this.SetHorizontalOffset(sd.offsetX - LineDelta);\r\n            return this.SetHorizontalOffset(sd.offsetX - 1);\r\n        }\r\n\r\n        LineRight(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Vertical)\r\n                return this.SetHorizontalOffset(sd.offsetX + LineDelta);\r\n            return this.SetHorizontalOffset(sd.offsetX + 1);\r\n        }\r\n\r\n        MouseWheelUp(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Horizontal)\r\n                return this.SetVerticalOffset(sd.offsetY - LineDelta * Wheelitude);\r\n            return this.SetVerticalOffset(sd.offsetY - Wheelitude);\r\n        }\r\n\r\n        MouseWheelDown(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Horizontal)\r\n                return this.SetVerticalOffset(sd.offsetY + LineDelta * Wheelitude);\r\n            return this.SetVerticalOffset(sd.offsetY + Wheelitude);\r\n        }\r\n\r\n        MouseWheelLeft(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Vertical)\r\n                return this.SetHorizontalOffset(sd.offsetX - LineDelta * Wheelitude);\r\n            return this.SetHorizontalOffset(sd.offsetX - Wheelitude);\r\n        }\r\n\r\n        MouseWheelRight(): boolean {\r\n            var sd = this._ScrollData;\r\n            if (this.Orientation === Fayde.Orientation.Vertical)\r\n                return this.SetHorizontalOffset(sd.offsetX + LineDelta * Wheelitude);\r\n            return this.SetHorizontalOffset(sd.offsetX + Wheelitude);\r\n        }\r\n\r\n        PageUp(): boolean {\r\n            var sd = this._ScrollData;\r\n            return this.SetVerticalOffset(sd.offsetY - sd.viewportHeight);\r\n        }\r\n\r\n        PageDown(): boolean {\r\n            var sd = this._ScrollData;\r\n            return this.SetVerticalOffset(sd.offsetY + sd.viewportHeight);\r\n        }\r\n\r\n        PageLeft(): boolean {\r\n            var sd = this._ScrollData;\r\n            return this.SetHorizontalOffset(sd.offsetX - sd.viewportWidth);\r\n        }\r\n\r\n        PageRight(): boolean {\r\n            var sd = this._ScrollData;\r\n            return this.SetHorizontalOffset(sd.offsetX + sd.viewportWidth);\r\n        }\r\n\r\n        MakeVisible(uie: UIElement, rectangle: minerva.Rect): minerva.Rect {\r\n            var exposed = new minerva.Rect();\r\n            var sd = this._ScrollData;\r\n\r\n            var uin = uie.XamlNode;\r\n            var isVertical = this.Orientation === Orientation.Vertical;\r\n            var enumerator = this.Children.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var child = enumerator.current;\r\n                var childNode = child.XamlNode;\r\n                var childRenderSize = childNode.LayoutUpdater.assets.renderSize;\r\n                if (uin === childNode) {\r\n                    if (isVertical) {\r\n                        if (rectangle.x !== sd.offsetX)\r\n                            this.SetHorizontalOffset(rectangle.x);\r\n\r\n                        exposed.width = Math.min(childRenderSize.width, sd.viewportWidth);\r\n                        exposed.height = childRenderSize.height;\r\n                        exposed.x = sd.offsetX;\r\n                    } else {\r\n                        if (rectangle.y !== sd.offsetY)\r\n                            this.SetVerticalOffset(rectangle.y);\r\n\r\n                        exposed.height = Math.min(childRenderSize.height, sd.viewportHeight);\r\n                        exposed.width = childRenderSize.width;\r\n                        exposed.y = sd.offsetY;\r\n                    }\r\n                    return exposed;\r\n                }\r\n\r\n                if (isVertical)\r\n                    exposed.y += childRenderSize.height;\r\n                else\r\n                    exposed.x += childRenderSize.width;\r\n            }\r\n\r\n            throw new ArgumentException(\"Visual is not a child of this Panel\");\r\n        }\r\n\r\n        SetHorizontalOffset(offset: number): boolean {\r\n            var sd = this._ScrollData;\r\n            if (offset < 0 || sd.viewportWidth >= sd.extentWidth)\r\n                offset = 0;\r\n            else if ((offset + sd.viewportWidth) >= sd.extentWidth)\r\n                offset = sd.extentWidth - sd.viewportWidth;\r\n\r\n            if (sd.offsetX === offset)\r\n                return false;\r\n            sd.offsetX = offset;\r\n\r\n            if (this.Orientation === Fayde.Orientation.Horizontal)\r\n                this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n            else\r\n                this.XamlNode.LayoutUpdater.invalidateArrange();\r\n\r\n            var scrollOwner = this.ScrollOwner;\r\n            if (scrollOwner)\r\n                scrollOwner.InvalidateScrollInfo();\r\n            return true;\r\n        }\r\n\r\n        SetVerticalOffset(offset: number): boolean {\r\n            var sd = this._ScrollData;\r\n            if (offset < 0 || sd.viewportHeight >= sd.extentHeight)\r\n                offset = 0;\r\n            else if ((offset + sd.viewportHeight) >= sd.extentHeight)\r\n                offset = sd.extentHeight - sd.viewportHeight;\r\n\r\n            if (sd.offsetY === offset)\r\n                return false;\r\n            sd.offsetY = offset;\r\n\r\n            if (this.Orientation === Fayde.Orientation.Vertical)\r\n                this.XamlNode.LayoutUpdater.invalidateMeasure();\r\n            else\r\n                this.XamlNode.LayoutUpdater.invalidateArrange();\r\n\r\n            var scrollOwner = this.ScrollOwner;\r\n            if (scrollOwner)\r\n                scrollOwner.InvalidateScrollInfo();\r\n            return true;\r\n        }\r\n\r\n        static OrientationProperty = DependencyProperty.Register(\"Orientation\", () => new Enum(Orientation), VirtualizingStackPanel, Orientation.Vertical);\r\n        Orientation: Orientation;\r\n\r\n        OnItemsAdded(index: number, newItems: any[]) {\r\n            super.OnItemsAdded(index, newItems);\r\n\r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            var offset = isHorizontal ? this.HorizontalOffset : this.VerticalOffset;\r\n            if (index <= offset)\r\n                isHorizontal ? this.SetHorizontalOffset(offset + newItems.length) : this.SetVerticalOffset(offset + newItems.length);\r\n\r\n            var scrollOwner = this.ScrollOwner;\r\n            if (scrollOwner)\r\n                scrollOwner.InvalidateScrollInfo();\r\n        }\r\n\r\n        OnItemsRemoved(index: number, oldItems: any[]) {\r\n            super.OnItemsRemoved(index, oldItems);\r\n\r\n            var ic = this.ItemsControl;\r\n            if (ic) {\r\n                var icm = ic.ItemContainersManager;\r\n                var children = this.Children;\r\n                for (var i = 0, len = oldItems.length; i < len; i++) {\r\n                    var oldItem = oldItems[i];\r\n                    var container = icm.ContainerFromItem(oldItem);\r\n                    if (container)\r\n                        children.Remove(container);\r\n                }\r\n            }\r\n\r\n            var isHorizontal = this.Orientation === Orientation.Horizontal;\r\n            var offset = isHorizontal ? this.HorizontalOffset : this.VerticalOffset;\r\n\r\n            var numBeforeOffset = Math.min(offset, index + oldItems.length) - index;\r\n            if (numBeforeOffset > 0)\r\n                isHorizontal ? this.SetHorizontalOffset(numBeforeOffset) : this.SetVerticalOffset(numBeforeOffset);\r\n\r\n            var scrollOwner = this.ScrollOwner;\r\n            if (scrollOwner)\r\n                scrollOwner.InvalidateScrollInfo();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(VirtualizingStackPanel);\r\n    nullstone.addTypeInterfaces(VirtualizingStackPanel, Primitives.IScrollInfo_);\r\n\r\n    module reactions {\r\n        UIReaction<minerva.Orientation>(VirtualizingStackPanel.OrientationProperty, (upd, ov, nv) => upd.invalidateMeasure(), false);\r\n    }\r\n}","module Fayde.Data {\r\n    import convert = nullstone.convertAnyToType;\r\n\r\n    export var WarnBrokenPath = false;\r\n\r\n    export class Binding implements nullstone.markup.IMarkupExtension, ICloneable {\r\n        StringFormat: string;\r\n        FallbackValue: any;\r\n        TargetNullValue: any;\r\n        BindsDirectlyToSource: boolean = false;\r\n        Converter: IValueConverter;\r\n        ConverterParameter: any;\r\n        ConverterCulture: any;\r\n        ElementName: string;\r\n        Mode: BindingMode;\r\n        NotifyOnValidationError: boolean = false;\r\n        RelativeSource: RelativeSource;\r\n        Path: Data.PropertyPath;\r\n        Source: any;\r\n        UpdateSourceTrigger: UpdateSourceTrigger;\r\n        ValidatesOnExceptions: boolean = false;\r\n        ValidatesOnDataErrors: boolean = false;\r\n        ValidatesOnNotifyDataErrors: boolean = true;\r\n\r\n        constructor ();\r\n        constructor (path: string|Data.PropertyPath);\r\n        constructor (binding: Binding);\r\n        constructor (obj?: any) {\r\n            if (obj instanceof Binding) {\r\n                var binding = <Binding>obj;\r\n                this.StringFormat = binding.StringFormat;\r\n                this.FallbackValue = binding.FallbackValue;\r\n                this.TargetNullValue = binding.TargetNullValue;\r\n                this.BindsDirectlyToSource = binding.BindsDirectlyToSource;\r\n                this.Converter = binding.Converter;\r\n                this.ConverterParameter = binding.ConverterParameter;\r\n                this.ConverterCulture = binding.ConverterCulture;\r\n                this.ElementName = binding.ElementName;\r\n                this.Mode = binding.Mode;\r\n                this.NotifyOnValidationError = binding.NotifyOnValidationError;\r\n                this.RelativeSource = binding.RelativeSource ? binding.RelativeSource.Clone() : null;\r\n                this.Path = binding.Path;\r\n                this.Source = binding.Source;\r\n                this.UpdateSourceTrigger = binding.UpdateSourceTrigger;\r\n                this.ValidatesOnExceptions = binding.ValidatesOnExceptions;\r\n                this.ValidatesOnDataErrors = binding.ValidatesOnDataErrors;\r\n                this.ValidatesOnNotifyDataErrors = binding.ValidatesOnNotifyDataErrors;\r\n            } else if (typeof obj === \"string\") {\r\n                this.Path = new Data.PropertyPath(<string>obj);\r\n            } else if (obj instanceof Data.PropertyPath) {\r\n                this.Path = obj;\r\n            } else {\r\n                this.Path = new Data.PropertyPath(\"\");\r\n            }\r\n        }\r\n\r\n        init (val: string) {\r\n            this.Path = new Data.PropertyPath(val);\r\n        }\r\n\r\n        transmute (os: any[]): any {\r\n            this.$$coerce();\r\n            Object.freeze(this);\r\n            return new Data.BindingExpression(this);\r\n        }\r\n\r\n        private $$coerce () {\r\n            this.StringFormat = this.StringFormat ? this.StringFormat.toString() : undefined;\r\n            this.BindsDirectlyToSource = convert(this.BindsDirectlyToSource, Boolean) || false;\r\n            this.Mode = Enum.fromAny(BindingMode, this.Mode);\r\n            this.NotifyOnValidationError = convert(this.NotifyOnValidationError, Boolean) || false;\r\n            this.Path = convert(this.Path, Data.PropertyPath);\r\n            this.UpdateSourceTrigger = Enum.fromAny(UpdateSourceTrigger, this.UpdateSourceTrigger);\r\n            this.ValidatesOnExceptions = convert(this.ValidatesOnExceptions, Boolean) || false;\r\n            this.ValidatesOnDataErrors = convert(this.ValidatesOnDataErrors, Boolean) || false;\r\n            this.ValidatesOnNotifyDataErrors = convert(this.ValidatesOnNotifyDataErrors, Boolean) !== false; //default: true\r\n        }\r\n\r\n        Clone () {\r\n            return new Binding(this);\r\n        }\r\n\r\n        static fromData (data: IBindingData): Binding {\r\n            var binding = new Binding(data.Path);\r\n            binding.StringFormat = data.StringFormat;\r\n            binding.FallbackValue = data.FallbackValue;\r\n            binding.TargetNullValue = data.TargetNullValue;\r\n            binding.BindsDirectlyToSource = data.BindsDirectlyToSource;\r\n            binding.Converter = data.Converter;\r\n            binding.ConverterParameter = data.ConverterParameter;\r\n            binding.ConverterCulture = data.ConverterCulture;\r\n            binding.ElementName = data.ElementName;\r\n            binding.Mode = data.Mode;\r\n            binding.NotifyOnValidationError = data.NotifyOnValidationError;\r\n            binding.RelativeSource = data.RelativeSource;\r\n            binding.Source = data.Source;\r\n            binding.UpdateSourceTrigger = data.UpdateSourceTrigger;\r\n            binding.ValidatesOnExceptions = data.ValidatesOnExceptions;\r\n            binding.ValidatesOnDataErrors = data.ValidatesOnDataErrors;\r\n            binding.ValidatesOnNotifyDataErrors = data.ValidatesOnNotifyDataErrors;\r\n            return binding;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Binding);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Data {\r\n    export class CollectionViewSource extends DependencyObject {\r\n        static SourceProperty: DependencyProperty = DependencyProperty.Register(\"Source\", () => Object, CollectionViewSource);\r\n        static ViewProperty: DependencyProperty = DependencyProperty.Register(\"View\", () => ICollectionView_, CollectionViewSource);\r\n        Source: any;\r\n        View: ICollectionView;\r\n    }\r\n}","module Fayde.Data {\r\n    export class DataErrorsChangedEventArgs implements nullstone.IEventArgs {\r\n        PropertyName: string;\r\n\r\n        constructor (propertyName: string) {\r\n            this.PropertyName = propertyName;\r\n            Object.freeze(this);\r\n        }\r\n    }\r\n}","module Fayde.Data {\r\n    export enum RelativeSourceMode {\r\n        TemplatedParent = 0,\r\n        Self = 1,\r\n        FindAncestor = 2,\r\n        ItemsControlParent = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(RelativeSourceMode, \"RelativeSourceMode\");\r\n\r\n    export enum BindingMode {\r\n        OneWay = 0,\r\n        TwoWay = 1,\r\n        OneTime = 2,\r\n        OneWayToSource = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(BindingMode, \"BindingMode\");\r\n\r\n    export enum UpdateSourceTrigger {\r\n        Default = 0,\r\n        PropertyChanged = 1,\r\n        Explicit = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(UpdateSourceTrigger, \"UpdateSourceTrigger\");\r\n}","module Fayde.Data {\r\n    export interface ICollectionView extends nullstone.IEnumerable<any> {\r\n        CurrentChanged: nullstone.Event<nullstone.IEventArgs>;\r\n        CurrentItem: any;\r\n        MoveCurrentTo(item: any): boolean;\r\n    }\r\n    export var ICollectionView_ = new nullstone.Interface<ICollectionView>(\"ICollectionView\");\r\n}","module Fayde.Data {\r\n    export interface IDataErrorInfo {\r\n        Error: string;\r\n        GetError(propertyName: string): string;\r\n    }\r\n    export var IDataErrorInfo_ = new nullstone.Interface<IDataErrorInfo>(\"IDataErrorInfo\");\r\n}","module Fayde.Data {\r\n    export interface INotifyDataErrorInfo {\r\n        ErrorsChanged: nullstone.Event<DataErrorsChangedEventArgs>;\r\n        GetErrors(propertyName: string): nullstone.IEnumerable<any>;\r\n        HasErrors: boolean;\r\n    }\r\n    export var INotifyDataErrorInfo_ = new nullstone.Interface<INotifyDataErrorInfo>(\"INotifyDataErrorInfo\");\r\n}","module Fayde.Data {\r\n    export interface IValueConverter {\r\n        Convert(value: any, targetType: IType, parameter: any, culture: any): any;\r\n        ConvertBack(value: any, targetType: IType, parameter: any, culture: any): any;\r\n    }\r\n    export var IValueConverter_ = new nullstone.Interface<IValueConverter>(\"IValueConverter\");\r\n}","module Fayde.Data {\r\n    export class RelativeSource implements nullstone.markup.IMarkupExtension, ICloneable {\r\n        Mode: RelativeSourceMode;\r\n        AncestorLevel: number;\r\n        AncestorType: Function = null;\r\n\r\n        constructor ();\r\n        constructor (rs: RelativeSource);\r\n        constructor (obj?: any) {\r\n            if (obj instanceof RelativeSource) {\r\n                var rs = <RelativeSource>obj;\r\n                this.Mode = rs.Mode;\r\n                this.AncestorLevel = rs.AncestorLevel;\r\n                this.AncestorType = rs.AncestorType;\r\n            }\r\n        }\r\n\r\n        init (val: string) {\r\n            this.Mode = RelativeSourceMode[val];\r\n        }\r\n\r\n        resolveTypeFields (resolver: (full: string) => any) {\r\n            if (typeof this.AncestorType === \"string\")\r\n                this.AncestorType = resolver(<any>this.AncestorType);\r\n        }\r\n\r\n        transmute (os: any[]): any {\r\n            if (this.Mode == null && typeof this.AncestorType === \"function\") {\r\n                this.Mode = RelativeSourceMode.FindAncestor;\r\n            } else {\r\n                this.Mode = Enum.fromAny(RelativeSourceMode, this.Mode);\r\n            }\r\n            this.AncestorLevel = parseInt(<any>this.AncestorLevel) || 1;\r\n            Object.freeze(this);\r\n            return this;\r\n        }\r\n\r\n        Clone () {\r\n            return new RelativeSource(this);\r\n        }\r\n\r\n        Find (target: XamlObject) {\r\n            switch (this.Mode) {\r\n                case RelativeSourceMode.Self:\r\n                    return target;\r\n                case RelativeSourceMode.TemplatedParent:\r\n                    return target.TemplateOwner;\r\n                case RelativeSourceMode.FindAncestor:\r\n                    return findAncestor(target, this);\r\n                case RelativeSourceMode.ItemsControlParent:\r\n                    return findItemsControlAncestor(target, this);\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RelativeSource);\r\n\r\n    function findAncestor (target: XamlObject, relSource: Data.RelativeSource): XamlObject {\r\n        if (!(target instanceof DependencyObject))\r\n            return;\r\n        var ancestorType = relSource.AncestorType;\r\n        if (typeof ancestorType !== \"function\") {\r\n            console.warn(\"RelativeSourceMode.FindAncestor with no AncestorType specified.\");\r\n            return;\r\n        }\r\n        var ancestorLevel = relSource.AncestorLevel;\r\n        if (isNaN(ancestorLevel)) {\r\n            console.warn(\"RelativeSourceMode.FindAncestor with no AncestorLevel specified.\");\r\n            return;\r\n        }\r\n        for (var parent = VisualTreeHelper.GetParent(<DependencyObject>target); parent != null; parent = VisualTreeHelper.GetParent(parent)) {\r\n            if (parent instanceof ancestorType && --ancestorLevel < 1)\r\n                return parent;\r\n        }\r\n    }\r\n\r\n    function findItemsControlAncestor (target: XamlObject, relSource: Data.RelativeSource): XamlObject {\r\n        if (!(target instanceof DependencyObject))\r\n            return;\r\n        var ancestorLevel = relSource.AncestorLevel;\r\n        ancestorLevel = ancestorLevel || 1; //NOTE: Will coerce 0 to 1 also\r\n        for (var parent = VisualTreeHelper.GetParent(<DependencyObject>target); parent != null; parent = VisualTreeHelper.GetParent(parent)) {\r\n            if (!!(<UIElement>parent).IsItemsControl && --ancestorLevel < 1)\r\n                return parent;\r\n        }\r\n    }\r\n}","interface ICloneable {\r\n    Clone(): any;\r\n}\r\n\r\nmodule Fayde {\r\n    export function Clone (value: any): any {\r\n        if (value === undefined)\r\n            return undefined;\r\n        if (value === null)\r\n            return null;\r\n        if (value instanceof Array)\r\n            return (<any[]>value).slice(0);\r\n        if (value !== Object(value)) //primitive\r\n            return value;\r\n        if (value.Clone instanceof Function)\r\n            return (<ICloneable>value).Clone();\r\n        return extend(new value.constructor(), value);\r\n    }\r\n\r\n    function extend (obj: any, ...args: any[]): any {\r\n        var s: any;\r\n        for (var i = 0, len = args.length; i < len; i++) {\r\n            if (s = args[i]) {\r\n                for (var prop in s) {\r\n                    obj[prop] = s[prop];\r\n                }\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n}","/// <reference path=\"../Markup/Loader\" />\r\n\r\nmodule Fayde {\r\n    export class DataTemplate extends Markup.FrameworkTemplate {\r\n        static DataTypeProperty = DependencyProperty.Register(\"DataType\", () => IType_, DataTemplate);\r\n        DataType: Function;\r\n    }\r\n    Fayde.CoreLibrary.add(DataTemplate);\r\n}","interface IDependencyPropertyChangedEventArgs {\r\n    Property: DependencyProperty;\r\n    OldValue: any;\r\n    NewValue: any;\r\n}\r\nclass DependencyPropertyChangedEventArgs implements nullstone.IEventArgs, IDependencyPropertyChangedEventArgs {\r\n    Property: DependencyProperty;\r\n    OldValue: any;\r\n    NewValue: any;\r\n}","/// <reference path=\"DataTemplate.ts\" />\r\n\r\nmodule Fayde {\r\n    export class HierarchicalDataTemplate extends DataTemplate {\r\n        static ItemsSourceProperty = DependencyProperty.Register(\"ItemsSource\", () => nullstone.IEnumerable_, HierarchicalDataTemplate);\r\n        static ItemTemplateProperty = DependencyProperty.Register(\"ItemTemplate\", () => DataTemplate, HierarchicalDataTemplate);\r\n        static ItemContainerStyleProperty = DependencyProperty.Register(\"ItemContainerStyle\", () => Style, HierarchicalDataTemplate);\r\n        ItemsSource: nullstone.IEnumerable<any>;\r\n        ItemTemplate: DataTemplate;\r\n        ItemContainerStyle: Style;\r\n    }\r\n    Fayde.CoreLibrary.add(HierarchicalDataTemplate);\r\n}","module Fayde {\r\n    export class LayoutInformation {\r\n        static GetLayoutClip(uie: UIElement): Media.Geometry {\r\n            var rect = new minerva.Rect();\r\n            minerva.Rect.copyTo(uie.XamlNode.LayoutUpdater.assets.layoutClip, rect);\r\n            var geom = new Media.RectangleGeometry();\r\n            geom.Rect = rect;\r\n            return geom;\r\n        }\r\n\r\n        /*\r\n        static GetLayoutExceptionElement(): UIElement {\r\n            var lu = LayoutUpdater.LayoutExceptionUpdater;\r\n            if (lu)\r\n                return lu.Node.XObject;\r\n        }\r\n        */\r\n\r\n        static GetLayoutSlot(uie: UIElement): minerva.Rect {\r\n            var rect = new minerva.Rect();\r\n            minerva.Rect.copyTo(uie.XamlNode.LayoutUpdater.assets.layoutSlot, rect);\r\n            return rect;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(LayoutInformation);\r\n}","module Fayde {\r\n    export class NameScope {\r\n        IsRoot: boolean = false;\r\n        private XNodes = {};\r\n\r\n        constructor(isRoot?: boolean) {\r\n            if (isRoot)\r\n                this.IsRoot = isRoot;\r\n        }\r\n\r\n        FindName(name: string): XamlNode {\r\n            return this.XNodes[name];\r\n        }\r\n        RegisterName(name: string, xnode: XamlNode) {\r\n            var existing = this.XNodes[name];\r\n            if (existing && existing !== xnode)\r\n                throw new InvalidOperationException(\"Name is already registered.\");\r\n            //TODO: Add Handler - Destroyed Event (xnode)\r\n            this.XNodes[name] = xnode;\r\n        }\r\n        UnregisterName(name: string) {\r\n            //var xnode = this.XNodes[name];\r\n            //TODO: Remove Handler - Destroyed Event (xnode)\r\n            this.XNodes[name] = undefined;\r\n        }\r\n        Absorb(otherNs: NameScope) {\r\n            var on = otherNs.XNodes;\r\n            for (var name in on) {\r\n                this.RegisterName(name, on[name]);\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"DependencyObject.ts\" />\r\n/// <reference path=\"XamlObjectCollection.ts\" />\r\n\r\n// http://msdn.microsoft.com/en-us/library/cc903952(v=vs.95).aspx\r\nmodule Fayde {\r\n    export interface IResourcable {\r\n        Resources: Fayde.ResourceDictionary;\r\n    }\r\n\r\n    export class ResourceDictionaryCollection extends XamlObjectCollection<ResourceDictionary> {\r\n        Get (key: any): any {\r\n            for (var en = this.getEnumerator(); en.moveNext();) {\r\n                var cur = en.current.Get(key);\r\n                if (cur !== undefined)\r\n                    return cur;\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        AddingToCollection (value: ResourceDictionary, error: BError): boolean {\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            return this._AssertNoCycles(value, value.XamlNode.ParentNode, error);\r\n        }\r\n\r\n        private _AssertNoCycles (subtreeRoot: ResourceDictionary, firstAncestorNode: XamlNode, error: BError) {\r\n            var curNode = firstAncestorNode;\r\n            while (curNode) {\r\n                var rd = <ResourceDictionary>curNode.XObject;\r\n                if (rd instanceof ResourceDictionary) {\r\n                    var cycleFound = false;\r\n                    if (rd === subtreeRoot)\r\n                        cycleFound = true;\r\n                    else if (rd.Source && nullstone.equals(rd.Source, subtreeRoot.Source))\r\n                        cycleFound = true;\r\n\r\n                    if (cycleFound) {\r\n                        error.Message = \"Cycle found in resource dictionaries.\";\r\n                        error.Number = BError.InvalidOperation;\r\n                        return false;\r\n                    }\r\n                }\r\n                curNode = curNode.ParentNode;\r\n            }\r\n\r\n            for (var en = subtreeRoot.MergedDictionaries.getEnumerator(); en.moveNext();) {\r\n                if (!this._AssertNoCycles(en.current, firstAncestorNode, error))\r\n                    return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ResourceDictionaryCollection);\r\n\r\n    export class ResourceDictionary extends XamlObject implements nullstone.IEnumerable<any> {\r\n        private _Keys: any[] = [];\r\n        private _Values: any[] = [];\r\n\r\n        private _IsSourceLoaded: boolean = false;\r\n        private _SourceBacking: ResourceDictionary = null;\r\n\r\n        private _MergedDictionaries: ResourceDictionaryCollection;\r\n        get MergedDictionaries (): ResourceDictionaryCollection {\r\n            var md = this._MergedDictionaries;\r\n            if (!md) {\r\n                md = this._MergedDictionaries = new ResourceDictionaryCollection();\r\n                md.AttachTo(this);\r\n            }\r\n            return md;\r\n        }\r\n\r\n        Source: Uri;\r\n        App: Application;\r\n\r\n        get Count (): number {\r\n            return this._Values.length;\r\n        }\r\n\r\n        AttachTo (xobj: XamlObject) {\r\n            var error = new BError();\r\n            if (!this.XamlNode.AttachTo(xobj.XamlNode, error))\r\n                error.ThrowException();\r\n        }\r\n\r\n        Contains (key: any): boolean {\r\n            return this._Keys.indexOf(key) > -1;\r\n        }\r\n\r\n        Get (key: any): any {\r\n            if (!!this.Source) {\r\n                return this._GetFromSource(key);\r\n            }\r\n            var index = this._Keys.indexOf(key);\r\n            if (index > -1)\r\n                return this._Values[index];\r\n            var md = this._MergedDictionaries;\r\n            if (md)\r\n                return md.Get(key);\r\n            return undefined;\r\n        }\r\n\r\n        Set (key: any, value: any): boolean {\r\n            if (key === undefined)\r\n                return false;\r\n            if (value === undefined)\r\n                return this.Remove(key);\r\n\r\n            var index = this._Keys.indexOf(key);\r\n            var error = new BError();\r\n            if (value instanceof XamlObject && !(<XamlObject>value).XamlNode.AttachTo(this.XamlNode, error)) {\r\n                if (error.Message)\r\n                    throw new Exception(error.Message);\r\n                return false;\r\n            }\r\n\r\n            if (index < 0) {\r\n                this._Keys.push(key);\r\n                this._Values.push(value);\r\n            } else {\r\n                var oldValue = this._Values[index];\r\n                this._Keys[index] = key;\r\n                this._Values[index] = value;\r\n                if (oldValue instanceof XamlObject)\r\n                    (<XamlObject>oldValue).XamlNode.Detach();\r\n            }\r\n            return true;\r\n        }\r\n\r\n        Remove (key: any): boolean {\r\n            var index = this._Keys.indexOf(key);\r\n            if (index < 0)\r\n                return false;\r\n            this._Keys.splice(index, 1);\r\n            var oldvalue = this._Values.splice(index, 1)[0];\r\n            if (oldvalue instanceof XamlObject)\r\n                (<XamlObject>oldvalue).XamlNode.Detach();\r\n        }\r\n\r\n        getEnumerator (reverse?: boolean): nullstone.IEnumerator<any> {\r\n            return nullstone.IEnumerator_.fromArray(this._Values, reverse);\r\n        }\r\n\r\n        GetNodeEnumerator<U extends XamlNode>(reverse?: boolean): nullstone.IEnumerator<U> {\r\n            var prev = this.getEnumerator(reverse);\r\n            return {\r\n                current: undefined,\r\n                moveNext: function (): boolean {\r\n                    if (prev.moveNext()) {\r\n                        this.current = undefined;\r\n                        return false;\r\n                    }\r\n                    var xobj = prev.current;\r\n                    this.current = xobj.XamlNode;\r\n                    return true;\r\n                }\r\n            };\r\n        }\r\n\r\n        private _GetFromSource (key: any): any {\r\n            if (!this._IsSourceLoaded) {\r\n                this._SourceBacking = Markup.Load<ResourceDictionary>(this.App, nullstone.markup.xaml.XamlMarkup.create(this.Source));\r\n                this._IsSourceLoaded = true;\r\n            }\r\n            return this._SourceBacking.Get(key);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ResourceDictionary);\r\n}","module Fayde {\r\n    export class RoutedEvent<T extends RoutedEventArgs> extends nullstone.Event<T> {\r\n    }\r\n    Fayde.CoreLibrary.add(RoutedEvent);\r\n}","/// <reference path=\"RoutedEvent.ts\" />\r\n/// <reference path=\"RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde {\r\n    export class RoutedPropertyChangedEvent<T> extends RoutedEvent<RoutedPropertyChangedEventArgs<T>> {\r\n    }\r\n    Fayde.CoreLibrary.add(RoutedPropertyChangedEvent);\r\n\r\n    export class RoutedPropertyChangedEventArgs<T> extends RoutedEventArgs {\r\n        OldValue: T;\r\n        NewValue: T;\r\n        constructor(oldValue: T, newValue: T) {\r\n            super();\r\n            Object.defineProperty(this, \"OldValue\", { value: oldValue, writable: false });\r\n            Object.defineProperty(this, \"NewValue\", { value: newValue, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RoutedPropertyChangedEventArgs);\r\n}","/// <reference path=\"RoutedEvent.ts\" />\r\n/// <reference path=\"RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde {\r\n    export class RoutedPropertyChangingEvent<T> extends RoutedEvent<RoutedPropertyChangingEventArgs<T>> {\r\n    }\r\n    Fayde.CoreLibrary.add(RoutedPropertyChangingEvent);\r\n\r\n    export class RoutedPropertyChangingEventArgs<T> extends RoutedEventArgs {\r\n        Property: DependencyProperty;\r\n        OldValue: T;\r\n        NewValue: T;\r\n        private _IsCancelable: boolean;\r\n        get IsCancellable() { return this._IsCancelable; }\r\n        private _Cancel: boolean = false;\r\n        get Cancel(): boolean { return this._Cancel; }\r\n        set Cancel(value: boolean) {\r\n            if (this._IsCancelable)\r\n                this._Cancel = value;\r\n            else if (value)\r\n                throw new InvalidOperationException(\"Not cancelable.\");\r\n        }\r\n        InCoercion: boolean = false;\r\n        constructor(propd: DependencyProperty, oldValue: T, newValue: T, isCancelable: boolean) {\r\n            super();\r\n            this.Property = propd;\r\n            this.OldValue = oldValue;\r\n            this.NewValue = newValue;\r\n            this._IsCancelable = isCancelable;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RoutedPropertyChangingEventArgs);\r\n}","/// <reference path=\"DependencyObject.ts\" />\r\n/// <reference path=\"XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde {\r\n    export class SetterCollection extends XamlObjectCollection<Setter> {\r\n        private _IsSealed: boolean = false;\r\n        XamlNode: XamlNode;\r\n\r\n        Seal () {\r\n            if (this._IsSealed)\r\n                return;\r\n            for (var en = this.getEnumerator(); en.moveNext();) {\r\n                en.current.Seal();\r\n            }\r\n            this._IsSealed = true;\r\n        }\r\n\r\n        AddingToCollection (value: Setter, error: BError): boolean {\r\n            if (!value || !this._ValidateSetter(<Setter>value, error))\r\n                return false;\r\n            return super.AddingToCollection(value, error);\r\n        }\r\n\r\n        private _ValidateSetter (setter: Setter, error: BError) {\r\n            if (!(setter.Property instanceof DependencyProperty)) {\r\n                error.Message = \"Setter.Property must be a DependencyProperty.\";\r\n                return false;\r\n            }\r\n            if (setter.Value === undefined) {\r\n                if (!setter._HasDeferredValueExpression(Setter.ValueProperty)) {\r\n                    error.Message = \"Setter must have a Value.\";\r\n                    return false;\r\n                }\r\n            }\r\n            if (this._IsSealed) {\r\n                error.Message = \"Setter is sealed.\";\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SetterCollection);\r\n\r\n    export class Setter extends DependencyObject {\r\n        private _IsSealed: boolean = false;\r\n        static PropertyProperty = DependencyProperty.Register(\"Property\", () => DependencyProperty, Setter);\r\n        static ValueProperty = DependencyProperty.Register(\"Value\", () => Object, Setter);\r\n        static ConvertedValueProperty = DependencyProperty.RegisterReadOnly(\"ConvertedValue\", () => Object, Setter);\r\n        Property: DependencyProperty;\r\n        Value: any;\r\n        ConvertedValue: any;\r\n\r\n        Seal () {\r\n            var propd = this.Property;\r\n            var val = this.Value;\r\n\r\n            var propTargetType = <Function>propd.GetTargetType();\r\n            this.SetCurrentValue(Setter.ConvertedValueProperty, nullstone.convertAnyToType(val, propTargetType));\r\n            this._IsSealed = true;\r\n        }\r\n\r\n        static Compare (setter1: Setter, setter2: Setter): number {\r\n            var a = setter1.Property;\r\n            var b = setter2.Property;\r\n            return (a === b) ? 0 : ((a._ID > b._ID) ? 1 : -1);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Setter);\r\n}","/// <reference path=\"RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde {\r\n    export class SizeChangedEventArgs extends RoutedEventArgs {\r\n        PreviousSize: minerva.Size;\r\n        NewSize: minerva.Size;\r\n\r\n        constructor(previousSize: minerva.Size, newSize: minerva.Size) {\r\n            super();\r\n\r\n            Object.defineProperty(this, \"PreviousSize\", { value: new minerva.Size(), writable: false });\r\n            Object.defineProperty(this, \"NewSize\", { value: new minerva.Size(), writable: false });\r\n\r\n            minerva.Size.copyTo(previousSize, this.PreviousSize);\r\n            minerva.Size.copyTo(newSize, this.NewSize);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SizeChangedEventArgs);\r\n}","/// <reference path=\"DependencyObject\" />\r\n/// <reference path=\"../Markup/ContentAnnotation\" />\r\n\r\nmodule Fayde {\r\n    export class Style extends DependencyObject {\r\n        private _IsSealed: boolean = false;\r\n\r\n        static SettersProperty = DependencyProperty.RegisterImmutable<SetterCollection>(\"Setters\", () => SetterCollection, Style);\r\n        static BasedOnProperty = DependencyProperty.Register(\"BasedOn\", () => Style, Style);\r\n        static TargetTypeProperty = DependencyProperty.Register(\"TargetType\", () => IType_, Style);\r\n        Setters: SetterCollection;\r\n        BasedOn: Style;\r\n        TargetType: Function;\r\n\r\n        constructor () {\r\n            super();\r\n            var coll = Style.SettersProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n        }\r\n\r\n        Seal () {\r\n            if (this._IsSealed)\r\n                return;\r\n            this.Setters.Seal();\r\n            this._IsSealed = true;\r\n\r\n            var base = this.BasedOn;\r\n            if (base)\r\n                base.Seal();\r\n        }\r\n\r\n        Validate (instance: DependencyObject, error: BError): boolean {\r\n            var targetType = this.TargetType;\r\n            var parentType = <Function>(<any>instance).constructor;\r\n\r\n            if (this._IsSealed) {\r\n                if (!(instance instanceof targetType)) {\r\n                    error.Number = BError.XamlParse;\r\n                    error.Message = \"Style.TargetType (\" + (<any>targetType).name + \") is not a subclass of (\" + (<any>parentType).name + \")\";\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            // 1 Check for circular references in the BasedOn tree\r\n            var cycles = [];\r\n            var root = this;\r\n            while (root) {\r\n                if (cycles.indexOf(root) > -1) {\r\n                    error.Number = BError.InvalidOperation;\r\n                    error.Message = \"Circular reference in Style.BasedOn\";\r\n                    return false;\r\n                }\r\n                cycles.push(root);\r\n                root = root.BasedOn;\r\n            }\r\n            cycles = null;\r\n\r\n            // 2 Check that the instance is a subclass of Style::TargetType and also all the styles TargetTypes are\r\n            //   subclasses of their BasedOn styles TargetType.\r\n            root = this;\r\n            var targetType: Function;\r\n            while (root) {\r\n                targetType = root.TargetType;\r\n                if (root === this) {\r\n                    if (!targetType) {\r\n                        error.Number = BError.InvalidOperation;\r\n                        error.Message = \"TargetType cannot be null\";\r\n                        return false;\r\n                    } else if (!nullstone.doesInheritFrom(parentType, targetType)) {\r\n                        error.Number = BError.XamlParse;\r\n                        error.Message = \"Style.TargetType (\" + (<any>targetType).name + \") is not a subclass of (\" + (<any>parentType).name + \")\";\r\n                        return false;\r\n                    }\r\n                } else if (!targetType || !nullstone.doesInheritFrom(parentType, targetType)) {\r\n                    error.Number = BError.InvalidOperation;\r\n                    error.Message = \"Style.TargetType (\" + (targetType ? (<any>targetType).name : \"<Not Specified>\") + \") is not a subclass of (\" + (<any>parentType).name + \")\";\r\n                    return false;\r\n                }\r\n                parentType = targetType;\r\n                root = root.BasedOn;\r\n            }\r\n\r\n            // 3 This style is now OK and never needs to be checked again.\r\n            this.Seal();\r\n            return true;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Style);\r\n    Markup.Content(Style, Style.SettersProperty);\r\n}","module Fayde {\r\n    export class TemplateBinding implements nullstone.markup.IMarkupExtension {\r\n        SourceProperty: string;\r\n\r\n        init (val: string) {\r\n            this.SourceProperty = val;\r\n        }\r\n\r\n        transmute (os: any[]): any {\r\n            return new TemplateBindingExpression(this.SourceProperty);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TemplateBinding);\r\n}","/// <reference path=\"DependencyObject.ts\" />\r\n/// <reference path=\"XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde {\r\n    export class TriggerAction extends DependencyObject {\r\n        Fire() { }\r\n    }\r\n    Fayde.CoreLibrary.add(TriggerAction);\r\n    \r\n    export class TriggerActionCollection extends XamlObjectCollection<TriggerAction> {\r\n        Fire() {\r\n            var enumerator = this.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                (<TriggerAction>enumerator.current).Fire();\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TriggerActionCollection);\r\n\r\n    \r\n    export class TriggerBase extends DependencyObject {\r\n        Attach(target: XamlObject) { }\r\n        Detach(target: XamlObject) { }\r\n    }\r\n    Fayde.CoreLibrary.add(TriggerBase);\r\n    \r\n    export class EventTrigger extends TriggerBase {\r\n        static ActionsProperty = DependencyProperty.RegisterImmutable<TriggerActionCollection>(\"Actions\", () => TriggerActionCollection, EventTrigger);\r\n        static RoutedEventProperty = DependencyProperty.Register(\"RoutedEvent\", () => String, EventTrigger);\r\n        Actions: TriggerActionCollection;\r\n        RoutedEvent: string;\r\n        \r\n        private _IsAttached: boolean = false;\r\n        \r\n        constructor() {\r\n            super();\r\n            var coll = EventTrigger.ActionsProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n        }\r\n\r\n        Attach(target: XamlObject) {\r\n            if (this._IsAttached)\r\n                return;\r\n            var evt = this._ParseEventName(target);\r\n            if (evt) {\r\n                this._IsAttached = true;\r\n                evt.on(this._FireActions, this);\r\n                return;\r\n            }\r\n            console.warn(\"Could not attach to RoutedEvent: \" + this.RoutedEvent);\r\n        }\r\n        Detach(target: XamlObject) {\r\n            var evt = this._ParseEventName(target);\r\n            if (evt) evt.off(this._FireActions, this);\r\n            this._IsAttached = false;\r\n        }\r\n\r\n        private _FireActions(sender, e: RoutedEventArgs) {\r\n            var actions = this.Actions;\r\n            if (actions)\r\n                actions.Fire();\r\n        }\r\n\r\n        private _ParseEventName(target: XamlObject): RoutedEvent<RoutedEventArgs> {\r\n            //Usually comes in \"FrameworkElement.Loaded\"\r\n            var routedEventName = this.RoutedEvent;\r\n            var tokens = routedEventName.split(\".\");\r\n            if (tokens.length === 1)\r\n                routedEventName = tokens[0];\r\n            else if (tokens.length === 2)\r\n                routedEventName = tokens[1];\r\n            else\r\n                return undefined;\r\n\r\n            var evt: RoutedEvent<RoutedEventArgs> = target[routedEventName];\r\n            if (evt instanceof RoutedEvent)\r\n                return evt;\r\n            return undefined;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(EventTrigger);\r\n    Markup.Content(EventTrigger, EventTrigger.ActionsProperty);\r\n\r\n    export class TriggerCollection extends XamlObjectCollection<TriggerBase> {\r\n        XamlNode: XamlNode;\r\n        private get ParentXamlObject(): XamlObject {\r\n            var parentNode = this.XamlNode.ParentNode;\r\n            if (!parentNode)\r\n                return undefined;\r\n            return parentNode.XObject;\r\n        }\r\n\r\n        AddingToCollection(value: TriggerBase, error: BError): boolean {\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            var parent = this.ParentXamlObject;\r\n            if (parent) value.Attach(parent);\r\n            return true;\r\n        }\r\n        RemovedFromCollection(value: TriggerBase, isValueSafe: boolean) {\r\n            super.RemovedFromCollection(value, isValueSafe);\r\n            var parent = this.ParentXamlObject;\r\n            if (parent) value.Detach(parent);\r\n        }\r\n\r\n        AttachTarget(target: XamlObject) {\r\n            var enumerator = this.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                (<TriggerBase>enumerator.current).Attach(target);\r\n            }\r\n        }\r\n        DetachTarget(target: XamlObject) {\r\n            var enumerator = this.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                (<TriggerBase>enumerator.current).Detach(target);\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TriggerCollection);\r\n}","module Fayde {\r\n    export class VisualTreeEnum {\r\n        static GetAncestors (uie: UIElement): nullstone.IEnumerable<UIElement> {\r\n            return new AncestorsEnumerable(uie);\r\n        }\r\n    }\r\n\r\n    class AncestorsEnumerable implements nullstone.IEnumerable<UIElement> {\r\n        constructor (private uie: UIElement) {\r\n        }\r\n\r\n        getEnumerator (): nullstone.IEnumerator<UIElement> {\r\n            var curNode: UINode = this.uie ? this.uie.XamlNode : null;\r\n            var e = {\r\n                current: undefined,\r\n                moveNext (): boolean {\r\n                    curNode = curNode ? curNode.VisualParentNode : undefined;\r\n                    e.current = curNode ? curNode.XObject : undefined;\r\n                    return e.current !== undefined;\r\n                }\r\n            };\r\n            return e;\r\n        }\r\n    }\r\n}","module Fayde {\r\n    export class VisualTreeHelper {\r\n        static GetParent (d: DependencyObject): DependencyObject {\r\n            if (!(d instanceof FrameworkElement))\r\n                throw new InvalidOperationException(\"Reference is not a valid visual DependencyObject\");\r\n            var parentNode = (<UIElement>d).XamlNode.VisualParentNode;\r\n            if (parentNode)\r\n                return parentNode.XObject;\r\n        }\r\n\r\n        static GetParentOfType<T extends DependencyObject>(d: DependencyObject, type: any): T {\r\n            if (!(d instanceof FrameworkElement))\r\n                throw new InvalidOperationException(\"Reference is not a valid visual DependencyObject\");\r\n            var curNode = (<UIElement>d).XamlNode;\r\n            while ((curNode = curNode.VisualParentNode)) {\r\n                if (curNode.XObject instanceof type)\r\n                    return <T><any>curNode.XObject;\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        static GetRoot (d: DependencyObject): DependencyObject {\r\n            if (!(d instanceof FrameworkElement))\r\n                throw new InvalidOperationException(\"Reference is not a valid visual DependencyObject\");\r\n            var rootNode = (<UIElement>d).XamlNode.GetVisualRoot();\r\n            if (rootNode)\r\n                return rootNode.XObject;\r\n        }\r\n\r\n        static GetChild (d: DependencyObject, childIndex: number): DependencyObject {\r\n            if (!(d instanceof FrameworkElement))\r\n                throw new InvalidOperationException(\"Reference is not a valid visual DependencyObject\");\r\n\r\n            var feNode = <FENode>d.XamlNode;\r\n            var subtreeNode = feNode.SubtreeNode;\r\n            if (!subtreeNode)\r\n                throw new IndexOutOfRangeException(childIndex);\r\n\r\n            var subtree = subtreeNode.XObject;\r\n            if (subtree instanceof XamlObjectCollection)\r\n                return <DependencyObject>(<XamlObjectCollection<DependencyObject>>subtree).GetValueAt(childIndex);\r\n\r\n            if ((subtree instanceof UIElement) && childIndex === 0)\r\n                return <UIElement>subtree;\r\n\r\n            throw new IndexOutOfRangeException(childIndex);\r\n        }\r\n\r\n        static GetChildrenCount (d: DependencyObject): number {\r\n            if (!(d instanceof FrameworkElement))\r\n                throw new InvalidOperationException(\"Reference is not a valid visual DependencyObject\");\r\n\r\n            var feNode = <FENode>d.XamlNode;\r\n            var subtreeNode = feNode.SubtreeNode;\r\n            if (!subtreeNode)\r\n                return 0;\r\n\r\n            var subtree = subtreeNode.XObject;\r\n            if (subtreeNode.XObject instanceof XamlObjectCollection)\r\n                return (<XamlObjectCollection<DependencyObject>>subtree).Count;\r\n\r\n            if (subtree instanceof UIElement)\r\n                return 1;\r\n\r\n            return 0;\r\n        }\r\n\r\n        static FindElementsInHostCoordinates (pos: Point, uie: UIElement): UIElement[] {\r\n            return minerva.findElementsInHostSpace(pos, uie.XamlNode.LayoutUpdater)\r\n                .map(upd => upd.getAttachedValue(\"$node\").XObject);\r\n        }\r\n\r\n        static __Debug (ui: any, func?: (uin: UINode, tabIndex: number) => string): string {\r\n            var uin: UINode;\r\n            if (ui instanceof UIElement) {\r\n                uin = (<UIElement>ui).XamlNode;\r\n            } else if (ui instanceof UINode) {\r\n                uin = <UINode>ui;\r\n            } else if (ui instanceof minerva.core.Updater) {\r\n                uin = (<minerva.core.Updater>ui).getAttachedValue(\"$node\");\r\n            }\r\n\r\n            //Find top level\r\n            var topNode: UINode;\r\n            if (!uin) {\r\n                var rv = Application.Current.RootVisual;\r\n                topNode = (rv) ? rv.XamlNode : null;\r\n            } else {\r\n                topNode = uin.GetVisualRoot();\r\n            }\r\n            if (!topNode)\r\n                return \"[No top node.]\";\r\n\r\n            if (!func)\r\n                func = VisualTreeHelper.__DebugUIElement;\r\n            return VisualTreeHelper.__DebugTree(topNode, uin, 1, func);\r\n        }\r\n\r\n        private static __DebugTree (curNode: UINode, matchNode: UINode, tabIndex: number, func: (uin: UINode, tabIndex: number) => string) {\r\n            var str = \"\";\r\n            if (curNode === matchNode) {\r\n                for (var i = 0; i < tabIndex; i++) {\r\n                    str += \">>>>>>>>\";\r\n                }\r\n            } else {\r\n                for (var i = 0; i < tabIndex; i++) {\r\n                    str += \"\\t\";\r\n                }\r\n            }\r\n\r\n            var cur = curNode.XObject;\r\n            str += (<any>cur).constructor.name;\r\n            var id = (<any>cur)._ID;\r\n            if (id) str += \"[\" + id + \"]\";\r\n            var name = curNode.Name;\r\n            str += \" [\";\r\n            var ns = curNode.NameScope;\r\n            if (!ns)\r\n                str += \"^\";\r\n            else if (ns.IsRoot)\r\n                str += \"+\";\r\n            else\r\n                str += \"-\";\r\n            str += name + \"]\";\r\n            if (func)\r\n                str += func(curNode, tabIndex);\r\n            str += \"\\n\";\r\n\r\n            var enumerator = (<FENode>curNode).GetVisualTreeEnumerator();\r\n            if (!enumerator)\r\n                return str;\r\n\r\n            var childNode: UINode;\r\n            while (enumerator.moveNext()) {\r\n                childNode = enumerator.current;\r\n                str += VisualTreeHelper.__DebugTree(childNode, matchNode, tabIndex + 1, func);\r\n            }\r\n\r\n            return str;\r\n        }\r\n\r\n        private static __DebugUIElement (uin: UINode, tabIndex: number): string {\r\n            if (!uin)\r\n                return \"\";\r\n            var uie = uin.XObject;\r\n            var str = \"(\";\r\n            if (uie.Visibility === Fayde.Visibility.Visible)\r\n                str += \"Visible\";\r\n            else\r\n                str += \"Collapsed\";\r\n\r\n            var lu = uin.LayoutUpdater;\r\n            if (lu) {\r\n                str += \" \";\r\n                var ls = lu.assets.layoutSlot;\r\n                str += \"(\" + ls.x + \",\" + ls.y + \")(\" + ls.width + \",\" + ls.height + \")\";\r\n            }\r\n            str += \")\";\r\n\r\n            var t = uie.TemplateOwner;\r\n            str += \"$TO=\" + (t ? (<any>t).constructor.name : \"(null)\");\r\n\r\n            var gridStr = VisualTreeHelper.__DebugGrid(uin, tabIndex);\r\n            if (gridStr)\r\n                str += \"\\n\" + gridStr;\r\n            return str;\r\n        }\r\n\r\n        private static __DebugGrid (uin: UINode, tabIndex: number): string {\r\n            var grid: Controls.Grid;\r\n            if (uin.XObject instanceof Controls.Grid)\r\n                grid = <Controls.Grid>uin.XObject;\r\n            if (!grid)\r\n                return \"\";\r\n            var rds = grid.RowDefinitions;\r\n            var rcount = rds.Count;\r\n            var cds = grid.ColumnDefinitions;\r\n            var ccount = cds.Count;\r\n\r\n            var tabs = \"\";\r\n            for (var i = 0; i < tabIndex; i++) {\r\n                tabs += \"\\t\";\r\n            }\r\n\r\n            var str = \"\";\r\n            if (rcount > 0) {\r\n                str += tabs;\r\n                str += \"  Rows (\" + rcount + \"):\\n\";\r\n                var rowdef: Controls.RowDefinition;\r\n                for (var en = rds.getEnumerator(), i = 0; en.moveNext(); i++) {\r\n                    rowdef = en.current;\r\n                    str += tabs;\r\n                    str += \"\\t[\" + i + \"] -> \" + rowdef.ActualHeight + \"\\n\";\r\n                }\r\n            }\r\n            var enumerator2: nullstone.IEnumerator<Controls.ColumnDefinition>;\r\n            if (ccount > 0) {\r\n                str += tabs;\r\n                str += \"  Columns (\" + ccount + \"):\\n\";\r\n                var coldef: Controls.ColumnDefinition;\r\n                for (var en2 = cds.getEnumerator(), i = 0; en2.moveNext(); i++) {\r\n                    coldef = en2.current;\r\n                    str += tabs;\r\n                    str += \"\\t[\" + i + \"] -> \" + coldef.ActualWidth + \"\\n\";\r\n                }\r\n            }\r\n            return str;\r\n        }\r\n\r\n        private static __DebugUIElementLayout (uin: UINode, tabIndex: number): string {\r\n            if (!uin)\r\n                return \"\";\r\n            return (<any>uin.LayoutUpdater)._DebugLayout();\r\n        }\r\n\r\n        static __DebugLayout (ui: any): string {\r\n            return VisualTreeHelper.__Debug(ui, VisualTreeHelper.__DebugUIElementLayout);\r\n        }\r\n\r\n        private static __GetById (id: number): UIElement {\r\n            //Find top level\r\n            var rv = Application.Current.RootVisual;\r\n            var topNode = (rv) ? rv.XamlNode : null;\r\n            if (!topNode)\r\n                return;\r\n\r\n            var walker = DeepTreeWalker(topNode);\r\n            var curNode: UINode;\r\n            while (curNode = walker.Step()) {\r\n                if ((<any>curNode.XObject)._ID === id)\r\n                    return curNode.XObject;\r\n            }\r\n        }\r\n    }\r\n}","\r\nmodule Fayde {\r\n    export enum VisualTreeDirection {\r\n        Logical,\r\n        Reverse,\r\n        ZForward,\r\n        ZReverse\r\n    }\r\n\r\n    export interface IWalker {\r\n        Step(): any;\r\n    }\r\n    export interface IStyleWalker extends IWalker {\r\n        Step(): Setter;\r\n    }\r\n    export interface IDeepTreeWalker extends IWalker {\r\n        Step(): UINode;\r\n        SkipBranch();\r\n    }\r\n    export interface ITabNavigationWalker {\r\n        FocusChild(): boolean;\r\n    }\r\n\r\n    function mergeSetters(arr: any[], dps: any[], style: Style) {\r\n        var enumerator = style.Setters.getEnumerator(true);\r\n        var setter: Setter;\r\n        while (enumerator.moveNext()) {\r\n            setter = <Setter>enumerator.current;\r\n            if (!(setter instanceof Fayde.Setter))\r\n                continue;\r\n            var propd = setter.Property;\r\n            if (!propd)\r\n                continue;\r\n            if (dps[propd._ID])\r\n                continue;\r\n            dps[propd._ID] = setter;\r\n            arr.push(setter);\r\n        }\r\n    }\r\n    export function SingleStyleWalker(style: Style): IStyleWalker {\r\n        var dps = [];\r\n        var flattenedSetters = [];\r\n        var cur = style;\r\n        while (cur) {\r\n            mergeSetters(flattenedSetters, dps, cur);\r\n            cur = cur.BasedOn;\r\n        }\r\n        flattenedSetters.sort(Setter.Compare);\r\n\r\n        return {\r\n            Step: function () {\r\n                return flattenedSetters.shift();\r\n            }\r\n        };\r\n    }\r\n    export function MultipleStylesWalker(styles: Style[]): IStyleWalker {\r\n        var flattenedSetters = [];\r\n        if (styles) {\r\n            var dps = [];\r\n            var stylesSeen = [];\r\n            var len = styles.length;\r\n            for (var i = 0; i < len; i++) {\r\n                var style = styles[i];\r\n                while (style) {\r\n                    if (stylesSeen.indexOf(style) > -1)\r\n                        continue;\r\n                    mergeSetters(flattenedSetters, dps, style);\r\n                    stylesSeen.push(style);\r\n                    style = style.BasedOn;\r\n                }\r\n            }\r\n            flattenedSetters.sort(Setter.Compare);\r\n        }\r\n\r\n        return {\r\n            Step: function () {\r\n                return flattenedSetters.shift();\r\n            }\r\n        };\r\n    }\r\n\r\n    //TODO: Remove this after adjusting TabNavigationWalker\r\n    export function DeepTreeWalker(topNode: UINode, direction?: VisualTreeDirection): IDeepTreeWalker {\r\n        var last: UINode = undefined;\r\n        var dir = VisualTreeDirection.Logical;\r\n        var walkList: UINode[] = [topNode];\r\n        if (direction)\r\n            dir = direction;\r\n\r\n        return {\r\n            Step: function () {\r\n                if (last) {\r\n                    var enumerator = (<FENode>last).GetVisualTreeEnumerator();\r\n                    var insertIndex = 0;\r\n                    while (enumerator.moveNext()) {\r\n                        walkList.splice(insertIndex, 0, enumerator.current);\r\n                        insertIndex++;\r\n                    }\r\n                }\r\n\r\n                var next = walkList.shift();\r\n                if (!next) {\r\n                    last = undefined;\r\n                    return;\r\n                }\r\n                return (last = next);\r\n            },\r\n            SkipBranch: function () {\r\n                last = undefined;\r\n            }\r\n        };\r\n    }\r\n    \r\n    function compare(left: Controls.ControlNode, right: Controls.ControlNode) {\r\n        if (!left)\r\n            return !right ? 0 : -1;\r\n        if (!right)\r\n            return 1;\r\n\r\n        var v1 = left.XObject.TabIndex;\r\n        var v2 = right.XObject.TabIndex;\r\n\r\n        if (v1 == null) {\r\n            return v2 != null ? -1 : 0;\r\n        } else if (v2 == null) {\r\n            return 1;\r\n        }\r\n        if (v1 > v2)\r\n            return 1;\r\n        return v1 === v2 ? 0 : -1;\r\n    }\r\n    function getParentNavigationMode(uin: UINode): Input.KeyboardNavigationMode {\r\n        while (uin) {\r\n            if (uin instanceof Controls.ControlNode)\r\n                return (<Controls.ControlNode>uin).XObject.TabNavigation;\r\n            return Input.KeyboardNavigationMode.Local;\r\n        }\r\n        return Input.KeyboardNavigationMode.Local;\r\n    }\r\n    function getActiveNavigationMode(uin: UINode): Input.KeyboardNavigationMode {\r\n        while (uin) {\r\n            if (uin instanceof Controls.ControlNode)\r\n                return (<Controls.ControlNode>uin).XObject.TabNavigation;\r\n            uin = uin.VisualParentNode;\r\n        }\r\n        return Input.KeyboardNavigationMode.Local;\r\n    }\r\n    function walkChildren(root: UINode, cur?: UINode, forwards?: boolean) {\r\n        var walker = new TabNavigationWalker(root, cur, forwards);\r\n        return walker.FocusChild();\r\n    }\r\n    export class TabNavigationWalker implements ITabNavigationWalker {\r\n        private _Root: UINode;\r\n        private _Current: UINode;\r\n        private _Forwards: boolean;\r\n        private _TabSorted: UINode[];\r\n\r\n        constructor(root: UINode, cur: UINode, forwards: boolean) {\r\n            this._Root = root;\r\n            this._Current = cur;\r\n            this._Forwards = forwards;\r\n            this._TabSorted = [];\r\n        }\r\n        \r\n        FocusChild(): boolean {\r\n            var childNode: UINode;\r\n            var childIsControl;\r\n            var curIndex = -1;\r\n\r\n            var childWalker = DeepTreeWalker(this._Root);\r\n            while (childNode = childWalker.Step()) {\r\n                if (childNode === this._Root || !(childNode instanceof Controls.ControlNode))\r\n                    continue;\r\n                this._TabSorted.push(childNode);\r\n                childWalker.SkipBranch();\r\n            }\r\n\r\n            if (this._TabSorted.length > 1) {\r\n                this._TabSorted.sort(compare);\r\n                if (!this._Forwards)\r\n                    this._TabSorted = this._TabSorted.reverse();\r\n            }\r\n\r\n            var len = this._TabSorted.length;\r\n            for (var i = 0; i < len; i++) {\r\n                if (this._TabSorted[i] === this._Current)\r\n                    curIndex = i;\r\n            }\r\n\r\n            if (curIndex !== -1 && getActiveNavigationMode(this._Root) === Input.KeyboardNavigationMode.Once) {\r\n                if (!this._Forwards && this._Root instanceof Controls.ControlNode)\r\n                    return (<Controls.ControlNode>this._Root).TabTo();\r\n                return false;\r\n            }\r\n\r\n            var len = this._TabSorted.length;\r\n            if (len > 0) {\r\n                for (var j = 0; j < len; j++) {\r\n                    if ((j + curIndex + 1) === len && getActiveNavigationMode(this._Root) !== Input.KeyboardNavigationMode.Cycle)\r\n                        break;\r\n                    childNode = this._TabSorted[(j + curIndex + 1) % len];\r\n                    childIsControl = childNode instanceof Controls.ControlNode;\r\n\r\n                    if (childIsControl && !(<Controls.ControlNode>childNode).XObject.IsEnabled)\r\n                        continue;\r\n\r\n                    if (!this._Forwards && walkChildren(childNode))\r\n                        return true;\r\n\r\n                    if (childIsControl && (<Controls.ControlNode>childNode).TabTo())\r\n                        return true;\r\n\r\n                    if (this._Forwards && walkChildren(childNode))\r\n                        return true;\r\n                }\r\n            }\r\n\r\n            if (curIndex !== -1 && !this._Forwards) {\r\n                if (this._Root instanceof Controls.ControlNode)\r\n                    return (<Controls.ControlNode>this._Root).TabTo();\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        static Focus(uin: UINode, forwards?: boolean): boolean {\r\n            var focused = false;\r\n            var cur = uin;\r\n            var root = uin;\r\n\r\n            if ((root.VisualParentNode && getParentNavigationMode(root.VisualParentNode) === Input.KeyboardNavigationMode.Once)\r\n                || (!forwards && root && root.VisualParentNode)) {\r\n                while (root = root.VisualParentNode)\r\n                    if (root instanceof Controls.ControlNode || !root.VisualParentNode)\r\n                        break;\r\n            }\r\n\r\n            do {\r\n                focused = focused || walkChildren(root, cur, forwards);\r\n\r\n                if (!focused && getActiveNavigationMode(root) === Input.KeyboardNavigationMode.Cycle)\r\n                    return true;\r\n\r\n                cur = root;\r\n                root = root.VisualParentNode;\r\n                while (root && !(root instanceof Controls.ControlNode) && root.VisualParentNode)\r\n                    root = root.VisualParentNode\r\n            } while (!focused && root);\r\n\r\n            if (!focused)\r\n                focused = focused || walkChildren(cur, null, forwards);\r\n            return focused;\r\n        }\r\n    }\r\n}","module Fayde.Documents {\r\n    export interface ITextReactionCallback<T> {\r\n        (updater: minerva.text.TextUpdater, ov: T, nv: T, te?: TextElement): void;\r\n    }\r\n\r\n    export function TextReaction<TValue>(propd: DependencyProperty, callback?: ITextReactionCallback<TValue>, listen?: boolean, sync?: any, instance?: any) {\r\n        var changed: Function;\r\n        if (sync === false) {\r\n            changed = (listen === false) ? reaction<TValue>(callback) : lReaction<TValue>(callback);\r\n        } else {\r\n            var name = propd.Name;\r\n            name = name.charAt(0).toLowerCase() + name.substr(1);\r\n            if (typeof sync !== \"function\")\r\n                changed = (listen === false) ? sReaction<TValue>(callback, name) : slReaction<TValue>(callback, name);\r\n            else\r\n                changed = (listen === false) ? sReaction<TValue>(callback, name, sync) : slReaction<TValue>(callback, name, sync);\r\n        }\r\n        if (instance)\r\n            propd.Store.ListenToChanged(instance, propd, <any>changed, instance);\r\n        else\r\n            propd.ChangedCallback = <any>changed;\r\n    }\r\n\r\n    function reaction<T>(callback: ITextReactionCallback<T>) {\r\n        return (te: TextElement, args: DependencyPropertyChangedEventArgs) => {\r\n            callback && callback(te.TextUpdater, args.OldValue, args.NewValue, te);\r\n        };\r\n    }\r\n\r\n    function sReaction<T>(callback: ITextReactionCallback<T>, name: string, syncer?: (src: T, dest: T) => void) {\r\n        return (te: TextElement, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            var upd = te.TextUpdater;\r\n            if (!syncer)\r\n                upd.assets[name] = nv;\r\n            else\r\n                syncer(nv, upd.assets[name]);\r\n            callback && callback(upd, ov, nv, te);\r\n        };\r\n    }\r\n\r\n    function lReaction<T>(callback: ITextReactionCallback<T>) {\r\n        return (te: TextElement, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            var upd = te.TextUpdater;\r\n            UnreactTo(ov, te);\r\n            callback && callback(upd, ov, nv, te);\r\n            ReactTo(nv, te, () => callback(upd, nv, nv, te));\r\n        };\r\n    }\r\n\r\n    function slReaction<T>(callback: ITextReactionCallback<T>, name: string, syncer?: (src: T, dest: T) => void) {\r\n        return (te: TextElement, args: DependencyPropertyChangedEventArgs) => {\r\n            var ov = args.OldValue;\r\n            var nv = args.NewValue;\r\n            var upd = te.TextUpdater;\r\n            UnreactTo(ov, te);\r\n            if (!syncer)\r\n                upd.assets[name] = nv;\r\n            else\r\n                syncer(nv, upd.assets[name]);\r\n            callback && callback(upd, ov, nv, te);\r\n            ReactTo(nv, te, () => callback && callback(upd, nv, nv, te));\r\n        };\r\n    }\r\n}","/// <reference path=\"../Core/DependencyObject.ts\"/>\r\n/// <reference path=\"../Core/InheritableOwner.ts\"/>\r\n/// <reference path=\"TextReaction.ts\"/>\r\n\r\nmodule Fayde.Documents {\r\n    export class TextElementNode extends DONode {\r\n        XObject: TextElement;\r\n\r\n        constructor (xobj: TextElement, inheritedWalkProperty: string) {\r\n            super(xobj);\r\n            this.InheritedWalkProperty = inheritedWalkProperty;\r\n        }\r\n\r\n        InheritedWalkProperty: string;\r\n\r\n        GetInheritedEnumerator (): nullstone.IEnumerator<DONode> {\r\n            if (!this.InheritedWalkProperty)\r\n                return nullstone.IEnumerator_.empty;\r\n            var coll: XamlObjectCollection<DependencyObject> = this.XObject[this.InheritedWalkProperty];\r\n            if (coll)\r\n                return coll.GetNodeEnumerator<DONode>();\r\n        }\r\n    }\r\n\r\n    function invalidateFont (upd: minerva.text.TextUpdater, ov, nv, te?: TextElement) {\r\n        Incite(te, {\r\n            type: 'font',\r\n            full: upd.invalidateFont()\r\n        });\r\n    }\r\n\r\n    export class TextElement extends DependencyObject implements Providers.IIsPropertyInheritable {\r\n        XamlNode: TextElementNode;\r\n        TextUpdater = new minerva.text.TextUpdater();\r\n\r\n        CreateNode (): TextElementNode {\r\n            return new TextElementNode(this, null);\r\n        }\r\n\r\n        constructor () {\r\n            super();\r\n            TextReaction<Media.Brush>(TextElement.ForegroundProperty, (upd, ov, nv, te?: TextElement) => {\r\n                Incite(te, {\r\n                    type: 'font',\r\n                    full: upd.invalidateFont()\r\n                });\r\n            }, true, true, this);\r\n            TextReaction<string>(TextElement.FontFamilyProperty, invalidateFont, false, true, this);\r\n            TextReaction<number>(TextElement.FontSizeProperty, invalidateFont, false, true, this);\r\n            TextReaction<string>(TextElement.FontStretchProperty, invalidateFont, false, true, this);\r\n            TextReaction<string>(TextElement.FontStyleProperty, invalidateFont, false, true, this);\r\n            TextReaction<FontWeight>(TextElement.FontWeightProperty, invalidateFont, false, true, this);\r\n        }\r\n\r\n        static FontFamilyProperty = InheritableOwner.FontFamilyProperty.ExtendTo(TextElement);\r\n        static FontSizeProperty = InheritableOwner.FontSizeProperty.ExtendTo(TextElement);\r\n        static FontStretchProperty = InheritableOwner.FontStretchProperty.ExtendTo(TextElement);\r\n        static FontStyleProperty = InheritableOwner.FontStyleProperty.ExtendTo(TextElement);\r\n        static FontWeightProperty = InheritableOwner.FontWeightProperty.ExtendTo(TextElement);\r\n        static ForegroundProperty = InheritableOwner.ForegroundProperty.ExtendTo(TextElement);\r\n        static LanguageProperty = InheritableOwner.LanguageProperty.ExtendTo(TextElement);\r\n        Foreground: Media.Brush;\r\n        FontFamily: string;\r\n        FontStretch: string;\r\n        FontStyle: string;\r\n        FontWeight: FontWeight;\r\n        FontSize: number;\r\n        Language: string;\r\n\r\n        IsInheritable (propd: DependencyProperty): boolean {\r\n            return TextElementInheritedProps.indexOf(propd) > -1;\r\n        }\r\n\r\n        _SerializeText (): string {\r\n            return undefined;\r\n        }\r\n\r\n        Start: number;\r\n\r\n        Equals (te: TextElement): boolean {\r\n            if (this.FontFamily !== te.FontFamily)\r\n                return false;\r\n            if (this.FontSize !== te.FontSize)\r\n                return false;\r\n            if (this.FontStyle !== te.FontStyle)\r\n                return false;\r\n            if (this.FontWeight !== te.FontWeight)\r\n                return false;\r\n            if (this.FontStretch !== te.FontStretch)\r\n                return false;\r\n            if (!nullstone.equals(this.Foreground, te.Foreground))\r\n                return false;\r\n            return true;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TextElement);\r\n\r\n    var TextElementInheritedProps = [\r\n        TextElement.FontFamilyProperty,\r\n        TextElement.FontSizeProperty,\r\n        TextElement.FontStretchProperty,\r\n        TextElement.FontStyleProperty,\r\n        TextElement.FontWeightProperty,\r\n        TextElement.ForegroundProperty,\r\n        TextElement.LanguageProperty\r\n    ];\r\n}","/// <reference path=\"TextElement.ts\" />\r\n\r\nmodule Fayde.Documents {\r\n    export class Block extends TextElement {\r\n    }\r\n    Fayde.CoreLibrary.add(Block);\r\n}","module Fayde.Documents {\r\n    export class BlockCollection extends XamlObjectCollection<Block> {\r\n        _RaiseItemAdded (value: Block, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: true\r\n            });\r\n        }\r\n\r\n        _RaiseItemRemoved (value: Block, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: false\r\n            });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(BlockCollection);\r\n}","/// <reference path=\"TextElement.ts\" />\r\n\r\nmodule Fayde.Documents {\r\n    export class Inline extends TextElement {\r\n        static TextDecorationsProperty = InheritableOwner.TextDecorationsProperty.ExtendTo(Inline);\r\n        TextDecorations: TextDecorations;\r\n\r\n        constructor () {\r\n            super();\r\n            TextReaction<TextDecorations>(Inline.TextDecorationsProperty, (upd, ov, nv, te?: TextElement) => {\r\n                Incite(te, {\r\n                    type: 'font',\r\n                    full: upd.invalidateFont()\r\n                });\r\n            }, false, true, this);\r\n        }\r\n\r\n        Equals (inline: Inline): boolean {\r\n            if (this.TextDecorations !== inline.TextDecorations)\r\n                return false;\r\n            return super.Equals(inline);\r\n        }\r\n\r\n        IsInheritable (propd: DependencyProperty): boolean {\r\n            if (propd === Inline.TextDecorationsProperty)\r\n                return true;\r\n            return super.IsInheritable(propd);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Inline);\r\n}","module Fayde.Documents {\r\n    export class InlineCollection extends XamlObjectCollection<Inline> {\r\n        _RaiseItemAdded (value: Inline, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: true\r\n            });\r\n        }\r\n\r\n        _RaiseItemRemoved (value: Inline, index: number) {\r\n            Incite(this, {\r\n                item: value,\r\n                index: index,\r\n                add: false\r\n            });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(InlineCollection);\r\n}","/// <reference path=\"Inline.ts\" />\r\n\r\nmodule Fayde.Documents {\r\n    export class LineBreak extends Inline {\r\n    }\r\n    Fayde.CoreLibrary.add(LineBreak);\r\n}","/// <reference path=\"Block.ts\" />\r\n\r\nmodule Fayde.Documents {\r\n    export class Paragraph extends Block {\r\n        CreateNode(): TextElementNode {\r\n            return new TextElementNode(this, \"Inlines\");\r\n        }\r\n\r\n        static InlinesProperty = DependencyProperty.RegisterImmutable<InlineCollection>(\"Inlines\", () => InlineCollection, Paragraph);\r\n        Inlines: InlineCollection;\r\n\r\n        constructor() {\r\n            super();\r\n            var coll = Paragraph.InlinesProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, (obj?) => this.InlinesChanged(obj.item, obj.add));\r\n        }\r\n\r\n        InlinesChanged (inline: Inline, isAdd: boolean) {\r\n            if (isAdd)\r\n                Providers.InheritedStore.PropagateInheritedOnAdd(this, inline.XamlNode);\r\n\r\n            if (isAdd)\r\n                ReactTo(inline, this, (obj?) => Incite(this, obj));\r\n            else\r\n                UnreactTo(inline, this);\r\n\r\n            Incite(this, {\r\n                type: 'text',\r\n                full: true\r\n            });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Paragraph);\r\n    Markup.Content(Paragraph, Paragraph.InlinesProperty);\r\n}","/// <reference path=\"Inline.ts\" />\r\n\r\nmodule Fayde.Documents {\r\n    export class Run extends Inline implements Providers.IIsPropertyInheritable {\r\n        static FlowDirectionProperty = InheritableOwner.FlowDirectionProperty.ExtendTo(Run);\r\n        static TextProperty = DependencyProperty.Register(\"Text\", () => String, Run);\r\n        FlowDirection: FlowDirection;\r\n        Text: string;\r\n\r\n        _SerializeText(): string { return this.Text; }\r\n\r\n        IsInheritable(propd: DependencyProperty): boolean {\r\n            if (propd === Run.FlowDirectionProperty)\r\n                return true;\r\n            return super.IsInheritable(propd);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Run);\r\n\r\n    module reactions {\r\n        TextReaction<string>(Run.TextProperty, (upd, ov, nv, run?: Run) => {\r\n            Incite(run, {\r\n                type: 'text',\r\n                full: true\r\n            });\r\n        }, false);\r\n    }\r\n}","/// <reference path=\"TextElement.ts\"/>\r\n\r\nmodule Fayde.Documents {\r\n    export class Section extends TextElement {\r\n        CreateNode (): TextElementNode {\r\n            return new TextElementNode(this, \"Blocks\");\r\n        }\r\n\r\n        static BlocksProperty = DependencyProperty.RegisterImmutable<BlockCollection>(\"Blocks\", () => BlockCollection, Section);\r\n        Blocks: BlockCollection;\r\n\r\n        constructor () {\r\n            super();\r\n            var coll = Section.BlocksProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, (obj?) => this.BlocksChanged(obj.item, obj.add));\r\n        }\r\n\r\n        BlocksChanged (block: Block, isAdd: boolean) {\r\n            if (isAdd)\r\n                Providers.InheritedStore.PropagateInheritedOnAdd(this, block.XamlNode);\r\n\r\n            if (isAdd)\r\n                ReactTo(block, this, (obj?) => Incite(this, obj));\r\n            else\r\n                UnreactTo(block, this);\r\n\r\n            Incite(this, {\r\n                type: 'text',\r\n                full: true\r\n            });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Section);\r\n    Markup.Content(Section, Section.BlocksProperty);\r\n}","/// <reference path=\"Inline.ts\" />\r\n\r\nmodule Fayde.Documents {\r\n    export class Span extends Inline {\r\n        CreateNode (): TextElementNode {\r\n            return new TextElementNode(this, \"Inlines\");\r\n        }\r\n\r\n        static InlinesProperty = DependencyProperty.RegisterImmutable<InlineCollection>(\"Inlines\", () => InlineCollection, Span);\r\n        Inlines: InlineCollection;\r\n\r\n        constructor () {\r\n            super();\r\n            var coll = Span.InlinesProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, (obj?) => this.InlinesChanged(obj.item, obj.add));\r\n        }\r\n\r\n        _SerializeText (): string {\r\n            var str = \"\";\r\n            var enumerator = this.Inlines.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                str += (<TextElement>enumerator.current)._SerializeText();\r\n            }\r\n            return str;\r\n        }\r\n\r\n        InlinesChanged (inline: Inline, isAdd: boolean) {\r\n            if (isAdd)\r\n                Providers.InheritedStore.PropagateInheritedOnAdd(this, inline.XamlNode);\r\n\r\n            if (isAdd)\r\n                ReactTo(inline, this, (obj?) => Incite(this, obj));\r\n            else\r\n                UnreactTo(inline, this);\r\n\r\n            Incite(this, {\r\n                type: 'text',\r\n                full: true\r\n            });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Span);\r\n    Markup.Content(Span, Span.InlinesProperty);\r\n}","/// <reference path=\"Span.ts\" />\r\n\r\nmodule Fayde.Documents {\r\n    export class Underline extends Span {\r\n    }\r\n    Fayde.CoreLibrary.add(Underline);\r\n}","module Fayde {\r\n    export class Expression {\r\n        IsUpdating: boolean = false;\r\n        IsAttached: boolean = false;\r\n\r\n        Seal (owner: DependencyObject, prop: any) {\r\n        }\r\n\r\n        OnAttached (target: XamlObject) {\r\n            this.IsAttached = true;\r\n            this.OnDataContextChanged(target.XamlNode.DataContext);\r\n        }\r\n\r\n        OnDetached (target: XamlObject) {\r\n            this.IsAttached = false;\r\n            this.OnDataContextChanged(undefined);\r\n        }\r\n\r\n        GetValue (propd: DependencyProperty): any {\r\n        }\r\n\r\n        OnDataContextChanged (newDataContext: any) {\r\n        }\r\n    }\r\n}","/// <reference path=\"Expression.ts\" />\r\n\r\nmodule Fayde.Data {\r\n    export class BindingExpressionBase extends Expression implements IPropertyPathWalkerListener {\r\n        //read-only properties\r\n        ParentBinding: Data.Binding;\r\n        Target: DependencyObject;\r\n        Property: DependencyProperty;\r\n\r\n        private PropertyPathWalker: PropertyPathWalker;\r\n        private _PropertyListener: Providers.IPropertyChangedListener;\r\n        private _SourceAvailableMonitor: IIsAttachedMonitor;\r\n\r\n        private _IsDataContextBound: boolean;\r\n        private _DataContext: any;\r\n        private _TwoWayLostFocusElement: UIElement = null;\r\n\r\n        private _CurrentNotifyError: Data.INotifyDataErrorInfo = null;\r\n        private _CurrentError: Validation.ValidationError = null;\r\n\r\n        get DataItem (): any {\r\n            return this.PropertyPathWalker.Source;\r\n        }\r\n\r\n        private _Cached: boolean = false;\r\n        private _CachedValue: any = undefined;\r\n\r\n        constructor (binding: Data.Binding) {\r\n            super();\r\n            if (!Object.isFrozen(binding))\r\n                Object.freeze(binding);\r\n            Object.defineProperty(this, \"ParentBinding\", {\r\n                value: binding,\r\n                writable: false\r\n            });\r\n        }\r\n\r\n        private _IsSealed = false;\r\n\r\n        Seal (owner: DependencyObject, prop: any) {\r\n            if (this._IsSealed)\r\n                return;\r\n            this._IsSealed = true;\r\n\r\n            Object.defineProperty(this, \"Target\", {\r\n                value: owner,\r\n                writable: false\r\n            });\r\n            var propd = <DependencyProperty>prop;\r\n            Object.defineProperty(this, \"Property\", {\r\n                value: propd,\r\n                writable: false\r\n            });\r\n\r\n            var binding = this.ParentBinding;\r\n            var path = binding.Path.Path;\r\n            if ((!path || path === \".\") && binding.Mode === Data.BindingMode.TwoWay)\r\n                throw new ArgumentException(\"TwoWay bindings require a non-empty Path.\");\r\n\r\n            if (binding.Mode === BindingMode.TwoWay && (owner instanceof Controls.TextBox || owner instanceof Controls.PasswordBox))\r\n                this._TwoWayLostFocusElement = <UIElement>owner;\r\n\r\n            this._IsDataContextBound = !binding.ElementName && !binding.Source && !binding.RelativeSource;\r\n\r\n            var bindsToView = propd === DependencyObject.DataContextProperty || propd.GetTargetType() === <any>nullstone.IEnumerable_ || propd.GetTargetType() === <any>Data.ICollectionView_;\r\n            var walker = this.PropertyPathWalker = new PropertyPathWalker(binding.Path.ParsePath, binding.BindsDirectlyToSource, bindsToView, this._IsDataContextBound);\r\n            if (binding.Mode !== BindingMode.OneTime)\r\n                walker.Listen(this);\r\n        }\r\n\r\n        OnAttached (element: DependencyObject) {\r\n            if (this.IsAttached)\r\n                return;\r\n            if (this.Target && this.Target !== element)\r\n                throw new Error(\"Cannot attach BindingExpression to another DependencyObject.\");\r\n            if (Fayde.Data.Debug && window.console)\r\n                console.log(\"[BINDING] OnAttached: [\" + (<any>element).constructor.name + \"] {Path=\" + this.ParentBinding.Path.Path + \"}\");\r\n\r\n            super.OnAttached(element);\r\n\r\n            this._SourceAvailableMonitor = this.Target.XamlNode.MonitorIsAttached((newIsAttached) => this._OnSourceAvailable());\r\n            var source = this._FindSource();\r\n            this.PropertyPathWalker.Update(source);\r\n\r\n            if (this._TwoWayLostFocusElement)\r\n                this._TwoWayLostFocusElement.LostFocus.on(this._TargetLostFocus, this);\r\n\r\n            if (this.ParentBinding.Mode === BindingMode.TwoWay && this.Property.IsCustom) {\r\n                this._PropertyListener = this.Property.Store.ListenToChanged(this.Target, this.Property, this._UpdateSourceCallback, this);\r\n            }\r\n        }\r\n\r\n        GetValue (propd: DependencyProperty): any {\r\n            if (this._Cached)\r\n                return this._CachedValue;\r\n\r\n            if (this.PropertyPathWalker.IsPathBroken) {\r\n                var target = this.Target;\r\n                if (Data.WarnBrokenPath && target && target.XamlNode.IsAttached) {\r\n                    var fe: FrameworkElement = target instanceof FrameworkElement ? <FrameworkElement>target : null;\r\n                    if (!fe || fe.XamlNode.IsLoaded)\r\n                        console.warn(\"[BINDING] Path Broken --> Path='\" + this.PropertyPathWalker.Path + \"'\");\r\n                }\r\n                this._CachedValue = null;\r\n            } else {\r\n                this._CachedValue = this.PropertyPathWalker.ValueInternal;\r\n            }\r\n\r\n            this._CachedValue = this._ConvertToType(propd, this._CachedValue);\r\n            this._Cached = true;\r\n            return this._CachedValue;\r\n        }\r\n\r\n        private _OnSourceAvailable () {\r\n            this._SourceAvailableMonitor.Detach();\r\n            var source = this._FindSource();\r\n            if (source) this.PropertyPathWalker.Update(source);\r\n            this._Invalidate();\r\n            this.Target.SetValue(this.Property, this);\r\n        }\r\n\r\n        private _FindSource (): any {\r\n            if (this.ParentBinding.Source) {\r\n                return this.ParentBinding.Source;\r\n            } else if (this.ParentBinding.ElementName != null) {\r\n                return this._FindSourceByElementName();\r\n            } else if (this.ParentBinding.RelativeSource) {\r\n                return this.ParentBinding.RelativeSource.Find(this.Target);\r\n            }\r\n            return this._DataContext;\r\n        }\r\n\r\n        private _FindSourceByElementName (): XamlObject {\r\n            var name = this.ParentBinding.ElementName;\r\n            var xobj: XamlObject = this.Target;\r\n            if (!xobj)\r\n                return undefined;\r\n            var source = xobj.FindName(name, true);\r\n            if (source)\r\n                return source;\r\n            //TODO: Crawl out of ListBoxItem?\r\n            return undefined;\r\n        }\r\n\r\n        OnDetached (element: DependencyObject) {\r\n            if (!this.IsAttached)\r\n                return;\r\n            if (Fayde.Data.Debug && window.console)\r\n                console.log(\"[BINDING] OnDetached: [\" + (<any>element).constructor.name + \"] {Path=\" + this.ParentBinding.Path.Path + \"}\");\r\n\r\n            super.OnDetached(element);\r\n\r\n            if (this._TwoWayLostFocusElement)\r\n                this._TwoWayLostFocusElement.LostFocus.off(this._TargetLostFocus, this);\r\n\r\n            if (this._CurrentError != null) {\r\n                var fe = getMentor(element);\r\n                if (fe)\r\n                    Validation.RemoveError(fe, this._CurrentError);\r\n                this._CurrentError = null;\r\n            }\r\n\r\n            if (this._PropertyListener) {\r\n                this._PropertyListener.Detach();\r\n                this._PropertyListener = null;\r\n            }\r\n\r\n            this.PropertyPathWalker.Update(null);\r\n\r\n            this.Target = undefined;\r\n        }\r\n\r\n        IsBrokenChanged () {\r\n            this.Refresh();\r\n        }\r\n\r\n        ValueChanged () {\r\n            this.Refresh();\r\n        }\r\n\r\n        UpdateSource () {\r\n            return this._UpdateSourceObject();\r\n        }\r\n\r\n        _TryUpdateSourceObject (value: any) {\r\n            if (this._ShouldUpdateSource())\r\n                this._UpdateSourceObject(value);\r\n        }\r\n\r\n        private _UpdateSourceCallback (sender, args: IDependencyPropertyChangedEventArgs) {\r\n            try {\r\n                if (this._ShouldUpdateSource())\r\n                    this._UpdateSourceObject(this.Target.GetValue(this.Property));\r\n            } catch (err) {\r\n                console.warn(\"[BINDING] UpdateSource: \" + err.toString());\r\n            }\r\n        }\r\n\r\n        private _TargetLostFocus (sender: any, e: nullstone.IEventArgs) {\r\n            if (this.ParentBinding.UpdateSourceTrigger === UpdateSourceTrigger.Explicit)\r\n                return;\r\n            this._UpdateSourceObject();\r\n        }\r\n\r\n        private _ShouldUpdateSource () {\r\n            if (this.IsUpdating)\r\n                return false;\r\n            if (!this._TwoWayLostFocusElement)\r\n                return this.ParentBinding.UpdateSourceTrigger !== UpdateSourceTrigger.Explicit;\r\n            return this.ParentBinding.UpdateSourceTrigger === UpdateSourceTrigger.PropertyChanged;\r\n        }\r\n\r\n        private _UpdateSourceObject (value?: any) {\r\n            if (value === undefined)\r\n                value = this.Target.GetValue(this.Property);\r\n            var binding = this.ParentBinding;\r\n            if (binding.Mode !== BindingMode.TwoWay)\r\n                return;\r\n\r\n            var dataError: string = null;\r\n            var exception: Exception;\r\n            var oldUpdating = this.IsUpdating;\r\n            var walker = this.PropertyPathWalker;\r\n            var node = this.PropertyPathWalker.FinalNode;\r\n\r\n            try {\r\n                if (this.PropertyPathWalker.IsPathBroken)\r\n                    return;\r\n                value = this._ConvertFromTargetToSource(binding, node, value);\r\n                if (this._CachedValue === undefined && value === undefined)\r\n                    return;\r\n\r\n                this.IsUpdating = true;\r\n                node.SetValue(value);\r\n                this._CachedValue = value;\r\n            } catch (err) {\r\n                if (binding.ValidatesOnExceptions) {\r\n                    if (err instanceof TargetInvocationException)\r\n                        exception = err.InnerException;\r\n                    exception = err;\r\n                }\r\n            } finally {\r\n                this.IsUpdating = oldUpdating;\r\n                if (binding.ValidatesOnDataErrors && !exception) {\r\n                    dataError = getDataError(walker);\r\n                }\r\n            }\r\n\r\n            if (binding.ValidatesOnExceptions)\r\n                this._MaybeEmitError(null, exception);\r\n            else if (binding.ValidatesOnDataErrors)\r\n                this._MaybeEmitError(dataError, exception);\r\n        }\r\n\r\n        OnDataContextChanged (newDataContext: any) {\r\n            if (Fayde.Data.Debug && window.console)\r\n                console.log(\"[BINDING] DataContextChanged: [\" + (<any>this.Target)._ID + \":\" + (<any>this.Target).constructor.name + \"] {Path=\" + this.ParentBinding.Path.Path + \"}\");\r\n\r\n            if (this._DataContext === newDataContext)\r\n                return;\r\n            this._DataContext = newDataContext;\r\n            if (!this._IsDataContextBound)\r\n                return;\r\n\r\n            if (Fayde.Data.IsCounterEnabled)\r\n                Fayde.Data.DataContextCounter++;\r\n            try {\r\n                this.PropertyPathWalker.Update(newDataContext);\r\n                if (this.ParentBinding.Mode === BindingMode.OneTime)\r\n                    this.Refresh();\r\n            } catch (err) {\r\n                console.warn(\"[BINDING] DataContextChanged Error: \" + err.message);\r\n            }\r\n        }\r\n\r\n        private _Invalidate () {\r\n            this._Cached = false;\r\n            this._CachedValue = undefined;\r\n        }\r\n\r\n        Refresh () {\r\n            var dataError: string = null;\r\n            var exception: Exception;\r\n\r\n            if (!this.IsAttached)\r\n                return;\r\n\r\n            var walker = this.PropertyPathWalker;\r\n            this._AttachToNotifyError(walker.FinalNode.GetSource());\r\n\r\n            var binding = this.ParentBinding;\r\n            if (!this.IsUpdating && binding.ValidatesOnDataErrors)\r\n                dataError = getDataError(walker);\r\n\r\n            var oldUpdating = this.IsUpdating;\r\n            try {\r\n                this.IsUpdating = true;\r\n                this._Invalidate();\r\n                this.Target.SetValue(this.Property, this);\r\n            } catch (err) {\r\n                if (binding.ValidatesOnExceptions) {\r\n                    exception = err;\r\n                    if (exception instanceof TargetInvocationException)\r\n                        exception = (<TargetInvocationException>exception).InnerException;\r\n                } else {\r\n                    console.warn(err);\r\n                }\r\n            } finally {\r\n                this.IsUpdating = oldUpdating;\r\n            }\r\n\r\n            if (binding.ValidatesOnExceptions)\r\n                this._MaybeEmitError(null, exception);\r\n            else if (binding.ValidatesOnDataErrors)\r\n                this._MaybeEmitError(dataError, exception);\r\n        }\r\n\r\n        private _ConvertFromTargetToSource (binding: Data.Binding, node: IPropertyPathNode, value: any): any {\r\n            if (binding.TargetNullValue && binding.TargetNullValue === value)\r\n                value = null;\r\n\r\n            var converter = binding.Converter;\r\n            if (converter) {\r\n                value = converter.ConvertBack(value, node.ValueType, binding.ConverterParameter, binding.ConverterCulture);\r\n            }\r\n\r\n            //TODO: attempt to parse string for target type\r\n            // We don't have a target type for plain objects\r\n            //if (value instanceof String) { }\r\n\r\n            return value;\r\n        }\r\n\r\n        private _ConvertToType (propd: DependencyProperty, value: any): any {\r\n            var targetType = this.Property.GetTargetType();\r\n            try {\r\n                var binding = this.ParentBinding;\r\n                if (!this.PropertyPathWalker.IsPathBroken && binding.Converter) {\r\n                    value = binding.Converter.Convert(value, targetType, binding.ConverterParameter, binding.ConverterCulture);\r\n                }\r\n                if (value === DependencyProperty.UnsetValue || this.PropertyPathWalker.IsPathBroken) {\r\n                    value = binding.FallbackValue;\r\n                    if (value === undefined)\r\n                        value = propd.DefaultValue;\r\n                } else if (value == null) {\r\n                    value = binding.TargetNullValue;\r\n                    if (value == null && this._IsDataContextBound && !binding.Path.Path)\r\n                        value = propd.DefaultValue;\r\n                } else {\r\n                    var format = binding.StringFormat;\r\n                    if (format) {\r\n                        if (format.indexOf(\"{0\") < 0)\r\n                            format = \"{0:\" + format + \"}\";\r\n                        value = Localization.Format(format, value);\r\n                    }\r\n                }\r\n            } catch (err) {\r\n                console.warn(\"[BINDING]\" + err.toString());\r\n                value = binding.FallbackValue;\r\n            }\r\n            return nullstone.convertAnyToType(value, <Function>targetType);\r\n        }\r\n\r\n        private _MaybeEmitError (message: string, exception: Exception) {\r\n            var fe = getMentor(this.Target);\r\n            if (!fe)\r\n                return;\r\n\r\n            var error = (exception instanceof Exception || exception instanceof Error) ? exception : null;\r\n            if (message === \"\")\r\n                message = null;\r\n\r\n            var oldError = this._CurrentError;\r\n            if (message != null)\r\n                this._CurrentError = new Validation.ValidationError(message, null, this.PropertyPathWalker.FinalPropertyName);\r\n            else if (error)\r\n                this._CurrentError = new Validation.ValidationError(null, error, this.PropertyPathWalker.FinalPropertyName);\r\n            else\r\n                this._CurrentError = null;\r\n\r\n            Validation.Emit(fe, this.ParentBinding, oldError, this._CurrentError);\r\n        }\r\n\r\n        private _AttachToNotifyError (element: Data.INotifyDataErrorInfo) {\r\n            if (!Data.INotifyDataErrorInfo_.is(element))\r\n                return;\r\n            if (element === this._CurrentNotifyError || !this.ParentBinding.ValidatesOnNotifyDataErrors)\r\n                return;\r\n\r\n            var property = this.PropertyPathWalker.FinalPropertyName;\r\n            if (this._CurrentNotifyError) {\r\n                this._CurrentNotifyError.ErrorsChanged.off(this._NotifyErrorsChanged, this);\r\n                this._MaybeEmitError(null, null);\r\n            }\r\n\r\n            this._CurrentNotifyError = element;\r\n\r\n            if (element) {\r\n                element.ErrorsChanged.on(this._NotifyErrorsChanged, this);\r\n                if (element.HasErrors) {\r\n                    var enu = element.GetErrors(property);\r\n                    if (enu) {\r\n                        for (var en = enu.getEnumerator(); en.moveNext();) {\r\n                            this._MaybeEmitError(en.current, en.current);\r\n                        }\r\n                    }\r\n                } else {\r\n                    this._MaybeEmitError(null, null);\r\n                }\r\n            }\r\n        }\r\n\r\n        private _NotifyErrorsChanged (sender: any, e: Data.DataErrorsChangedEventArgs) {\r\n            var property = this.PropertyPathWalker.FinalPropertyName;\r\n            if (e.PropertyName !== property)\r\n                return;\r\n            var errors = this._CurrentNotifyError ? this._CurrentNotifyError.GetErrors(property) : null;\r\n            if (!errors) {\r\n                this._MaybeEmitError(null, null);\r\n                return;\r\n            }\r\n\r\n            var arr = nullstone.IEnumerable_.toArray(errors);\r\n            if (arr.length <= 0) {\r\n                this._MaybeEmitError(null, null);\r\n                return;\r\n            }\r\n\r\n            for (var i = 0; i < arr.length; i++) {\r\n                var cur = arr[i];\r\n                this._MaybeEmitError(cur, cur);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function getMentor (dobj: DependencyObject): FrameworkElement {\r\n        for (var cur = <XamlObject>dobj; cur; cur = cur.Parent) {\r\n            if (cur instanceof FrameworkElement)\r\n                return <FrameworkElement>cur;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    function getDataError (walker: PropertyPathWalker): string {\r\n        var info = IDataErrorInfo_.as(walker.FinalNode.GetSource());\r\n        var name = walker.FinalPropertyName;\r\n        return (info && name) ? info.GetError(name) : null;\r\n    }\r\n}","/// <reference path=\"BindingExpressionBase.ts\" />\r\n\r\nmodule Fayde.Data {\r\n    export class BindingExpression extends BindingExpressionBase {\r\n        constructor(binding: Data.Binding) {\r\n            super(binding);\r\n        }\r\n    }\r\n}","/// <reference path=\"Expression.ts\" />\r\n\r\nmodule Fayde {\r\n    export class DeferredValueExpression extends Expression {\r\n        GetValue(propd: DependencyProperty): any {\r\n            return undefined;\r\n        }\r\n        toString(): string { return \"DeferredValueExpression\"; }\r\n    }\r\n}","/// <reference path=\"Expression.ts\" />\r\n\r\nmodule Fayde {\r\n    export interface IEventBindingArgs<T extends nullstone.IEventArgs> {\r\n        sender: any;\r\n        args: T;\r\n        parameter: any;\r\n    }\r\n\r\n    export class EventBindingExpression extends Expression {\r\n        IsUpdating: boolean = false;\r\n        IsAttached: boolean = false;\r\n\r\n        private _EventBinding: Markup.EventBinding;\r\n        private _CommandWalker: Data.PropertyPathWalker = null;\r\n        private _CommandParameterWalker: Data.PropertyPathWalker = null;\r\n\r\n        private _Target: XamlObject = null;\r\n        private _Event: nullstone.Event<nullstone.IEventArgs> = null;\r\n        private _EventName: string = null;\r\n\r\n        constructor (eventBinding: Markup.EventBinding) {\r\n            super();\r\n            this._EventBinding = eventBinding;\r\n\r\n            var cb = this._EventBinding.CommandBinding;\r\n            if (cb)\r\n                this._CommandWalker = new Data.PropertyPathWalker(cb.Path.ParsePath, cb.BindsDirectlyToSource, false, !cb.ElementName && !cb.Source && !cb.RelativeSource);\r\n\r\n            var cpb = this._EventBinding.CommandParameterBinding;\r\n            if (cpb)\r\n                this._CommandParameterWalker = new Data.PropertyPathWalker(cpb.Path.ParsePath, cpb.BindsDirectlyToSource, false, !cpb.ElementName && !cpb.Source && !cpb.RelativeSource);\r\n        }\r\n\r\n        Seal (owner: DependencyObject, prop: any) {\r\n        }\r\n\r\n        Init (eventName: string) {\r\n            this._EventName = eventName;\r\n        }\r\n\r\n        GetValue (propd: DependencyProperty): any {\r\n        }\r\n\r\n        OnAttached (target: XamlObject) {\r\n            if (this.IsAttached)\r\n                return;\r\n            this.IsAttached = true;\r\n            this._Target = target;\r\n            this._Event = target[this._EventName];\r\n            if (this._Event)\r\n                this._Event.on(this._Callback, this);\r\n        }\r\n\r\n        OnDetached (target: XamlObject) {\r\n            if (!this.IsAttached)\r\n                return;\r\n            if (this._Event)\r\n                this._Event.off(this._Callback, this);\r\n            this._Event = null;\r\n            this.IsAttached = false;\r\n        }\r\n\r\n        OnDataContextChanged (newDataContext: any) {\r\n        }\r\n\r\n        private _Callback (sender: any, e: nullstone.IEventArgs) {\r\n            var target = this._Target;\r\n\r\n            var csource = findSource(target, this._EventBinding.CommandBinding);\r\n            var context = csource;\r\n            var etarget = context;\r\n            var cw = this._CommandWalker;\r\n            if (cw) {\r\n                etarget = cw.GetValue(etarget);\r\n                context = cw.GetContext();\r\n                if (context == null) context = csource;\r\n            }\r\n            if (!etarget) {\r\n                console.warn(\"[EVENTBINDING]: Could not find command target for event '\" + this._EventName + \"'.\");\r\n                return;\r\n            }\r\n\r\n            var cargs = {\r\n                sender: sender,\r\n                args: e,\r\n                parameter: null\r\n            };\r\n\r\n            var cpb = this._EventBinding.CommandParameterBinding;\r\n            if (cpb) {\r\n                var cpw = this._CommandParameterWalker;\r\n                var cpsource = findSource(target, cpb);\r\n                cargs.parameter = cpw.GetValue(cpsource);\r\n            }\r\n\r\n\r\n            if (typeof etarget === \"function\") {\r\n                (<Function>etarget).call(context, cargs);\r\n            } else {\r\n                var ecmd = Fayde.Input.ICommand_.as(etarget);\r\n                if (!ecmd) {\r\n                    console.warn(\"[EVENTBINDING]: Could not find command target for event '\" + this._EventName + \"'.\");\r\n                    return;\r\n                }\r\n                ecmd = <Fayde.Input.ICommand>etarget;\r\n                if (ecmd.CanExecute.call(context, cargs))\r\n                    ecmd.Execute.call(context, cargs);\r\n            }\r\n        }\r\n    }\r\n\r\n    function findSource (target: XamlObject, binding: Data.Binding): any {\r\n        if (binding) {\r\n            if (binding.Source)\r\n                return binding.Source;\r\n\r\n            if (binding.ElementName != null)\r\n                return findSourceByElementName(target, binding.ElementName);\r\n\r\n            if (binding.RelativeSource) {\r\n                return binding.RelativeSource.Find(target);\r\n            }\r\n        }\r\n        return target.XamlNode.DataContext;\r\n    }\r\n\r\n    function findSourceByElementName (target: XamlObject, name: string): XamlObject {\r\n        var xobj: XamlObject = target;\r\n        if (!xobj)\r\n            return undefined;\r\n        var source = xobj.FindName(name, true);\r\n        if (source)\r\n            return source;\r\n        //TODO: Crawl out of ListBoxItem?\r\n        return undefined;\r\n    }\r\n}","/// <reference path=\"Expression.ts\" />\r\n\r\nmodule Fayde {\r\n    export class TemplateBindingExpression extends Expression {\r\n        private _Target: DependencyObject;\r\n        private _Listener: Providers.IPropertyChangedListener;\r\n        private _SourcePropertyName: string;\r\n        private _IsSealed = false;\r\n        SourceProperty: DependencyProperty;\r\n        TargetProperty: DependencyProperty;\r\n\r\n        constructor (sourceProperty: string) {\r\n            super();\r\n            this._SourcePropertyName = sourceProperty;\r\n        }\r\n\r\n        Seal (owner: DependencyObject, prop: any) {\r\n            if (this._IsSealed)\r\n                return;\r\n            this._IsSealed = true;\r\n            var to = owner.TemplateOwner;\r\n            if (!(to instanceof DependencyObject))\r\n                throw new Error(\"TemplateBinding must be applied to a DependencyObject within a template.\");\r\n            this.SourceProperty = DependencyProperty.GetDependencyProperty((<any>to).constructor, this._SourcePropertyName);\r\n            this.TargetProperty = <DependencyProperty>prop;\r\n        }\r\n\r\n        GetValue (propd: DependencyProperty) {\r\n            var target = this._Target;\r\n            var source = target.TemplateOwner;\r\n            var value;\r\n            if (source)\r\n                value = source.GetValue(this.SourceProperty);\r\n            //NOTE: Do we need to handle string conversion?\r\n            value = nullstone.convertAnyToType(value, <Function>this.TargetProperty.GetTargetType());\r\n            return value;\r\n        }\r\n\r\n        OnAttached (dobj: DependencyObject) {\r\n            super.OnAttached(dobj);\r\n\r\n            this._Target = dobj;\r\n            this._DetachListener();\r\n\r\n            var cc: Controls.ContentControl;\r\n            if (this._Target instanceof Controls.ContentControl)\r\n                cc = <Controls.ContentControl>this._Target;\r\n\r\n            this._AttachListener();\r\n        }\r\n\r\n        OnDetached (dobj: DependencyObject) {\r\n            super.OnDetached(dobj);\r\n\r\n            var listener = this._Listener;\r\n            if (!listener)\r\n                return;\r\n\r\n            var cc: Controls.ContentControl;\r\n            if (this._Target instanceof Controls.ContentControl)\r\n                cc = <Controls.ContentControl>this._Target;\r\n\r\n            this._DetachListener();\r\n            this._Target = null;\r\n        }\r\n\r\n        OnSourcePropertyChanged (sender: DependencyObject, args: IDependencyPropertyChangedEventArgs) {\r\n            if (this.SourceProperty._ID !== args.Property._ID)\r\n                return;\r\n            try {\r\n                // Type converting doesn't happen for TemplateBindings\r\n                this.IsUpdating = true;\r\n                var targetProp = this.TargetProperty;\r\n                try {\r\n                    this._Target.SetCurrentValue(targetProp, this.GetValue(null));\r\n                } catch (err2) {\r\n                    var val = targetProp.DefaultValue;\r\n                    this._Target.SetCurrentValue(targetProp, val);\r\n                }\r\n            } catch (err) {\r\n\r\n            } finally {\r\n                this.IsUpdating = false;\r\n            }\r\n        }\r\n\r\n        private _AttachListener () {\r\n            var source = this._Target.TemplateOwner;\r\n            if (!source)\r\n                return;\r\n            this._Listener = this.SourceProperty.Store.ListenToChanged(source, this.SourceProperty, (sender, args) => this.OnSourcePropertyChanged(sender, args), this);\r\n        }\r\n\r\n        private _DetachListener () {\r\n            var listener = this._Listener;\r\n            if (listener) {\r\n                this._Listener.Detach();\r\n                this._Listener = null;\r\n            }\r\n        }\r\n    }\r\n}","class TimeSpan {\r\n    static _TicksPerMillisecond = 1;\r\n    static _TicksPerSecond = 1000;\r\n    static _TicksPerMinute = TimeSpan._TicksPerSecond * 60;\r\n    static _TicksPerHour = TimeSpan._TicksPerMinute * 60;\r\n    static _TicksPerDay = TimeSpan._TicksPerHour * 24;\r\n\r\n    private _Ticks: number = 0;\r\n\r\n    static get Zero(): TimeSpan { return new TimeSpan(); }\r\n    static get MinValue(): TimeSpan { return new TimeSpan(Number.MIN_VALUE); }\r\n    static get MaxValue(): TimeSpan { return new TimeSpan(Number.MAX_VALUE); }\r\n\r\n    static FromDays(value: number): TimeSpan {\r\n        return new TimeSpan(value * this._TicksPerDay);\r\n    }\r\n    static FromHours(value: number): TimeSpan {\r\n        return new TimeSpan(value * this._TicksPerHour);\r\n    }\r\n    static FromMinutes(value: number): TimeSpan {\r\n        return new TimeSpan(value * this._TicksPerMinute);\r\n    }\r\n    static FromSeconds(value: number): TimeSpan {\r\n        return new TimeSpan(value * this._TicksPerSecond);\r\n    }\r\n    static FromMilliseconds(value: number): TimeSpan {\r\n        return new TimeSpan(value * this._TicksPerMillisecond);\r\n    }\r\n\r\n    constructor();\r\n    constructor(ticks: number);\r\n    constructor(hours: number, minutes: number, seconds: number);\r\n    constructor(days: number, hours: number, minutes: number, seconds: number, milliseconds?: number);\r\n    constructor(...args: any[]) {\r\n        if (args.length === 0)\r\n            return;\r\n        if (args.length === 1) {\r\n            this._Ticks = args[0] || 0;\r\n            return;\r\n        }\r\n        var days = 0;\r\n        var hours = 0;\r\n        var minutes = 0;\r\n        var seconds = 0;\r\n        var milliseconds = 0;\r\n\r\n        if (args.length === 3) {\r\n            hours = args[0] || 0;\r\n            minutes = args[1] || 0;\r\n            seconds = args[2] || 0;\r\n        } else {\r\n            days = args[0] || 0;\r\n            hours = args[1] || 0;\r\n            minutes = args[2] || 0;\r\n            seconds = args[3] || 0;\r\n            milliseconds = args[4] || 0;\r\n        }\r\n        \r\n        this._Ticks = (days * TimeSpan._TicksPerDay) + (hours * TimeSpan._TicksPerHour) + (minutes * TimeSpan._TicksPerMinute)\r\n            + (seconds * TimeSpan._TicksPerSecond) + (milliseconds * TimeSpan._TicksPerMillisecond);\r\n    }\r\n\r\n    get Days(): number {\r\n        return this._Ticks > 0 ? Math.floor(this._Ticks / TimeSpan._TicksPerDay) : Math.ceil(this._Ticks / TimeSpan._TicksPerDay);\r\n    }\r\n    get Hours(): number {\r\n        var remTicks = this._Ticks % TimeSpan._TicksPerDay;\r\n        return remTicks > 0 ? Math.floor(remTicks / TimeSpan._TicksPerHour) : Math.ceil(remTicks / TimeSpan._TicksPerHour);\r\n    }\r\n    get Minutes(): number {\r\n        var remTicks = this._Ticks % TimeSpan._TicksPerDay;\r\n        remTicks = remTicks % TimeSpan._TicksPerHour;\r\n        return remTicks > 0 ? Math.floor(remTicks / TimeSpan._TicksPerMinute) : Math.ceil(remTicks / TimeSpan._TicksPerMinute);\r\n    }\r\n    get Seconds(): number {\r\n        var remTicks = this._Ticks % TimeSpan._TicksPerDay;\r\n        remTicks = remTicks % TimeSpan._TicksPerHour;\r\n        remTicks = remTicks % TimeSpan._TicksPerMinute;\r\n        return remTicks > 0 ? Math.floor(remTicks / TimeSpan._TicksPerSecond) : Math.ceil(remTicks / TimeSpan._TicksPerSecond);\r\n    }\r\n    get Milliseconds(): number {\r\n        var remTicks = this._Ticks % TimeSpan._TicksPerDay;\r\n        remTicks = remTicks % TimeSpan._TicksPerHour;\r\n        remTicks = remTicks % TimeSpan._TicksPerMinute;\r\n        remTicks = remTicks % TimeSpan._TicksPerSecond;\r\n        return remTicks > 0 ? Math.floor(remTicks / TimeSpan._TicksPerMillisecond) : Math.ceil(remTicks / TimeSpan._TicksPerMillisecond);\r\n    }\r\n    get Ticks(): number { return this._Ticks; }\r\n\r\n    get TotalDays(): number { return this._Ticks / TimeSpan._TicksPerDay; }\r\n    get TotalHours(): number { return this._Ticks / TimeSpan._TicksPerHour; }\r\n    get TotalMinutes(): number { return this._Ticks / TimeSpan._TicksPerMinute; }\r\n    get TotalSeconds(): number { return this._Ticks / TimeSpan._TicksPerSecond; }\r\n    get TotalMilliseconds(): number { return this._Ticks / TimeSpan._TicksPerMillisecond; }\r\n\r\n    AddTicks(ticks: number) {\r\n        if (ticks == null)\r\n            return;\r\n        if (isNaN(ticks))\r\n            return;\r\n        this._Ticks += ticks;\r\n    }\r\n    AddMilliseconds(milliseconds: number) {\r\n        this.AddTicks(milliseconds * TimeSpan._TicksPerMillisecond);\r\n    }\r\n\r\n    Add(ts2: TimeSpan): TimeSpan {\r\n        var ts = new TimeSpan();\r\n        ts._Ticks = this._Ticks + ts2._Ticks;\r\n        return ts;\r\n    }\r\n    Subtract(ts2: TimeSpan): TimeSpan {\r\n        var ts = new TimeSpan();\r\n        ts._Ticks = this._Ticks - ts2._Ticks;\r\n        return ts;\r\n    }\r\n    Multiply(v: number): TimeSpan {\r\n        var ts = new TimeSpan();\r\n        ts._Ticks = Math.round(this._Ticks * v);\r\n        return ts;\r\n    }\r\n    Divide(ts2: TimeSpan): TimeSpan {\r\n        var ts = new TimeSpan();\r\n        ts._Ticks = this._Ticks / ts2._Ticks;\r\n        return ts;\r\n    }\r\n    CompareTo(ts2: TimeSpan): number {\r\n        if (this._Ticks === ts2._Ticks)\r\n            return 0;\r\n        return (this._Ticks > ts2._Ticks) ? 1 : -1;\r\n    }\r\n    IsZero(): boolean {\r\n        return this._Ticks === 0;\r\n    }\r\n\r\n    GetJsDelay(): number {\r\n        return this._Ticks * TimeSpan._TicksPerMillisecond;\r\n    }\r\n\r\n    toString(format?: string): string {\r\n        if (!format)\r\n            return Fayde.Localization.FormatSingle(this, \"c\");\r\n        return Fayde.Localization.FormatSingle(this, format);\r\n    }\r\n    valueOf(): Object {\r\n        return this.Ticks;\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(TimeSpan);\r\n\r\nnullstone.registerTypeConverter(TimeSpan, (val: any): TimeSpan => {\r\n    if (val instanceof TimeSpan)\r\n        return <TimeSpan>val;\r\n    if (val instanceof Duration)\r\n    {\r\n\tvar duration = <Duration>val;\r\n\tif (duration.HasTimeSpan)\r\n            return new TimeSpan(duration.TimeSpan.Ticks);\r\n\telse\r\n            throw new Exception(\"Cannot convert \" + duration.IsForever ? \"Forever\" : \"Automatic\" +\r\n\t\t\t\t+ \" duration to TimeSpan\");\r\n    }\r\n    if (typeof val === \"number\")\r\n        return new TimeSpan(<number>val);\r\n    val = val.toString();\r\n\r\n    var tokens = val.split(\":\");\r\n    if (tokens.length === 1) {\r\n        var ticks = parseFloat(val);\r\n        if (!isNaN(ticks))\r\n            return new TimeSpan(<number>ticks);\r\n        throw new Exception(\"Invalid TimeSpan format '\" + val + \"'.\");\r\n    }\r\n\r\n    if (tokens.length !== 3)\r\n        throw new Exception(\"Invalid TimeSpan format '\" + val + \"'.\");\r\n\r\n    /// [days.]hours:minutes:seconds[.fractionalSeconds]\r\n    var days = 0;\r\n    var hours: number;\r\n    var minutes: number;\r\n    var seconds: number;\r\n    var milliseconds = 0;\r\n\r\n    var daysplit = tokens[0].split(\".\");\r\n    if (daysplit.length === 2) {\r\n        days = parseInt(daysplit[0]);\r\n        hours = parseInt(daysplit[1]);\r\n    } else if (daysplit.length === 1) {\r\n        hours = parseInt(daysplit[0]);\r\n    }\r\n\r\n    minutes = parseInt(tokens[1]);\r\n\r\n    seconds = parseFloat(tokens[2]);\r\n    milliseconds = seconds % 1;\r\n    seconds = seconds - milliseconds;\r\n    milliseconds *= 1000.0;\r\n\r\n    return new TimeSpan(days, hours, minutes, seconds, milliseconds);\r\n});\r\n","/// <reference path=\"TimeSpan.ts\" />\r\n\r\nenum DayOfWeek {\r\n    Sunday,\r\n    Monday,\r\n    Tuesday,\r\n    Wednesday,\r\n    Thursday,\r\n    Friday,\r\n    Saturday\r\n}\r\nFayde.CoreLibrary.addEnum(DayOfWeek, \"DayOfWeek\");\r\n\r\nenum DateTimeKind {\r\n    Unspecified = 0,\r\n    Local = 1,\r\n    Utc = 2\r\n}\r\nFayde.CoreLibrary.addEnum(DateTimeKind, \"DateTimeKind\");\r\n\r\nclass DateTime {\r\n    private static MAX_TICKS = 8640000000000000;\r\n    private static MIN_TICKS = -8640000000000000;\r\n\r\n    static get MinValue() { return new DateTime(DateTime.MIN_TICKS); }\r\n    static get MaxValue() { return new DateTime(DateTime.MAX_TICKS); }\r\n    static get Now(): DateTime { return new DateTime(new Date().getTime(), DateTimeKind.Local); }\r\n    static get Today(): DateTime { return DateTime.Now.Date; }\r\n    static Compare(dt1: DateTime, dt2: DateTime): number {\r\n        var t1 = dt1._InternalDate.getTime();\r\n        var t2 = dt2._InternalDate.getTime();\r\n        if (t1 < t2)\r\n            return -1;\r\n        if (t1 > t2)\r\n            return 1;\r\n        return 0;\r\n    }\r\n\r\n    static DaysInMonth(year: number, month: number): number {\r\n        var ticks = new Date(year, (month - 1) + 1, 1).getTime() - TimeSpan._TicksPerDay;\r\n        var dt = new DateTime(ticks);\r\n        return dt.Day;\r\n    }\r\n\r\n    private _InternalDate: Date = null;\r\n    private _Kind: DateTimeKind;\r\n\r\n    constructor();\r\n    constructor(dt: Date);\r\n    constructor(dt: Date, kind: DateTimeKind);\r\n    constructor(ticks: number);\r\n    constructor(ticks: number, kind: DateTimeKind);\r\n    constructor(year: number, month: number, day: number);\r\n    constructor(year: number, month: number, day: number, hour: number, minute: number, second: number);\r\n    constructor(year: number, month: number, day: number, hour: number, minute: number, second: number, millisecond: number);\r\n    constructor(year: number, month: number, day: number, hour: number, minute: number, second: number, millisecond: number, kind: DateTimeKind);\r\n    constructor(...args: any[]) {\r\n        var ticks: number = null;\r\n        var kind = DateTimeKind.Unspecified;\r\n        var year = 0;\r\n        var month = 0;\r\n        var day = 0;\r\n        var hour = 0;\r\n        var minute = 0;\r\n        var second = 0;\r\n        var millisecond = 0;\r\n\r\n        if (args.length === 1) { //Ticks\r\n            var arg0 = args[0];\r\n            if (arg0 instanceof Date) {\r\n                ticks = arg0.getTime();\r\n            } else {\r\n                ticks = args[0];\r\n            }\r\n        } else if (args.length === 2) { //Ticks,Kind\r\n            var arg0 = args[0];\r\n            if (arg0 instanceof Date) {\r\n                ticks = arg0.getTime();\r\n            } else {\r\n                ticks = args[0];\r\n            }\r\n            kind = args[1];\r\n        } else if (args.length === 3) { //Year,Month,Day\r\n            year = args[0];\r\n            month = args[1];\r\n            day = args[2];\r\n        } else if (args.length === 6) { //Year,Month,Day,Hour,Minute,Second\r\n            year = args[0];\r\n            month = args[1];\r\n            day = args[2];\r\n            hour = args[3];\r\n            minute = args[4];\r\n            second = args[5];\r\n        } else if (args.length === 7) { //Year,Month,Day,Hour,Minute,Second,Millisecond\r\n            year = args[0];\r\n            month = args[1];\r\n            day = args[2];\r\n            hour = args[3];\r\n            minute = args[4];\r\n            second = args[5];\r\n            millisecond = args[6];\r\n        } else if (args.length === 8) { //Year,Month,Day,Hour,Minute,Second,Millisecond,DateTimeKind\r\n            year = args[0];\r\n            month = args[1];\r\n            day = args[2];\r\n            hour = args[3];\r\n            minute = args[4];\r\n            second = args[5];\r\n            millisecond = args[6];\r\n            kind = args[7];\r\n        } else {\r\n            ticks = 0;\r\n        }\r\n\r\n        this._Kind = kind || DateTimeKind.Unspecified;\r\n        if (isNaN(ticks) || ticks < DateTime.MIN_TICKS || ticks > DateTime.MAX_TICKS) {\r\n            throw new Error(\"DateTime is out of range.\");\r\n        }\r\n        if (ticks != null) {\r\n            this._InternalDate = new Date(ticks);\r\n            return;\r\n        }\r\n        var id = this._InternalDate = new Date();\r\n        if (this._Kind === DateTimeKind.Utc) {\r\n            id.setUTCFullYear(year, month - 1, day);\r\n            id.setUTCHours(hour);\r\n            id.setUTCMinutes(minute);\r\n            id.setUTCSeconds(second);\r\n            id.setMilliseconds(millisecond);\r\n        } else {\r\n            id.setFullYear(year, month - 1, day);\r\n            id.setHours(hour);\r\n            id.setMinutes(minute);\r\n            id.setSeconds(second);\r\n            id.setMilliseconds(millisecond);\r\n        }\r\n    }\r\n\r\n    get Ticks(): number { return this._InternalDate.getTime(); }\r\n    get Kind(): DateTimeKind { return this._Kind; }\r\n    get Date(): DateTime {\r\n        var t = this._InternalDate.getTime();\r\n        var newid = new Date(t);\r\n        if (this._Kind === DateTimeKind.Utc) {\r\n            newid.setUTCHours(0);\r\n            newid.setUTCMinutes(0);\r\n            newid.setUTCSeconds(0);\r\n            newid.setUTCMilliseconds(0);\r\n        } else {\r\n            newid.setHours(0);\r\n            newid.setMinutes(0);\r\n            newid.setSeconds(0);\r\n            newid.setMilliseconds(0);\r\n        }\r\n        return new DateTime(newid.getTime(), this._Kind);\r\n    }\r\n    get Day(): number {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return this._InternalDate.getUTCDate();\r\n        return this._InternalDate.getDate();\r\n    }\r\n    get DayOfWeek(): DayOfWeek {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return <DayOfWeek>this._InternalDate.getUTCDay();\r\n        return <DayOfWeek>this._InternalDate.getDay();\r\n    }\r\n    get DayOfYear(): number {\r\n        var dt = this.Date;\r\n        var base = new DateTime(dt.Year, 1, 1, 0, 0, 0, 0, this.Kind);\r\n        var diff = new TimeSpan(dt.Ticks - base.Ticks);\r\n        return Math.floor(diff.TotalDays);\r\n    }\r\n    get Hour(): number {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return this._InternalDate.getUTCHours();\r\n        return this._InternalDate.getHours();\r\n    }\r\n    get Millisecond(): number {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return this._InternalDate.getUTCMilliseconds();\r\n        return this._InternalDate.getMilliseconds();\r\n    }\r\n    get Minute(): number {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return this._InternalDate.getUTCMinutes();\r\n        return this._InternalDate.getMinutes();\r\n    }\r\n    get Month(): number {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return this._InternalDate.getUTCMonth() + 1;\r\n        return this._InternalDate.getMonth() + 1;\r\n    }\r\n    get Second(): number {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return this._InternalDate.getUTCSeconds();\r\n        return this._InternalDate.getSeconds();\r\n    }\r\n    get TimeOfDay(): TimeSpan {\r\n        var id = this._InternalDate;\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return new TimeSpan(0, id.getUTCHours(), id.getUTCMinutes(), id.getUTCSeconds(), id.getUTCMilliseconds());\r\n        return new TimeSpan(0, id.getHours(), id.getMinutes(), id.getSeconds(), id.getMilliseconds());\r\n    }\r\n    get Year(): number {\r\n        if (this._Kind === DateTimeKind.Utc)\r\n            return this._InternalDate.getUTCFullYear();\r\n        return this._InternalDate.getFullYear();\r\n    }\r\n\r\n    AddYears(years: number): DateTime {\r\n        var newid = new Date(this._InternalDate.getTime());\r\n        var wyears = Math.floor(years);\r\n        if (isNaN(wyears)) {\r\n            throw new ArgumentOutOfRangeException(\"years\");\r\n        }\r\n        if (this.Kind === DateTimeKind.Utc) {\r\n            newid.setUTCFullYear(newid.getUTCFullYear() + wyears);\r\n        } else {\r\n            newid.setFullYear(newid.getFullYear() + wyears);\r\n        }\r\n        return new DateTime(newid, this.Kind);\r\n    }\r\n    AddMonths(months: number): DateTime {\r\n        var newid = new Date(this._InternalDate.getTime());\r\n        var wmonths = Math.floor(months);\r\n        if (isNaN(wmonths)) {\r\n            throw new ArgumentOutOfRangeException(\"months\");\r\n        }\r\n        if (this.Kind === DateTimeKind.Utc) {\r\n            newid.setUTCMonth(newid.getUTCMonth() + wmonths);\r\n        } else {\r\n            newid.setMonth(newid.getMonth() + wmonths);\r\n        }\r\n        return new DateTime(newid, this.Kind);\r\n    }\r\n    AddDays(value: number): DateTime {\r\n        return this.Add(TimeSpan.FromDays(value));\r\n    }\r\n    AddHours(value: number): DateTime {\r\n        return this.Add(TimeSpan.FromHours(value));\r\n    }\r\n    AddMinutes(value: number): DateTime {\r\n        return this.Add(TimeSpan.FromMinutes(value));\r\n    }\r\n    AddSeconds(value: number): DateTime {\r\n        return this.Add(TimeSpan.FromSeconds(value));\r\n    }\r\n    AddMilliseconds(value: number): DateTime {\r\n        return this.Add(TimeSpan.FromMilliseconds(value));\r\n    }\r\n    Add(value: TimeSpan): DateTime {\r\n        var newid = new Date(this._InternalDate.getTime());\r\n        if (this.Kind === DateTimeKind.Utc) {\r\n            newid.setUTCDate(newid.getUTCDate() + value.Days);\r\n            newid.setUTCHours(newid.getUTCHours() + value.Hours);\r\n            newid.setUTCMinutes(newid.getUTCMinutes() + value.Minutes);\r\n            newid.setUTCSeconds(newid.getUTCSeconds() + value.Seconds);\r\n            newid.setUTCMilliseconds(newid.getUTCMilliseconds() + value.Milliseconds);\r\n        } else {\r\n            newid.setDate(newid.getDate() + value.Days);\r\n            newid.setHours(newid.getHours() + value.Hours);\r\n            newid.setMinutes(newid.getMinutes() + value.Minutes);\r\n            newid.setSeconds(newid.getSeconds() + value.Seconds);\r\n            newid.setMilliseconds(newid.getMilliseconds() + value.Milliseconds);\r\n        }\r\n        return new DateTime(newid, this.Kind);\r\n    }\r\n    AddTicks(value: number): DateTime {\r\n        return new DateTime(this.Ticks + value, this.Kind);\r\n    }\r\n\r\n    Subtract(value: DateTime): TimeSpan;\r\n    Subtract(value: TimeSpan): DateTime;\r\n    Subtract(value: any): any {\r\n        if (value instanceof DateTime) {\r\n            return new TimeSpan(this.Ticks - value.Ticks);\r\n        } else if (value instanceof TimeSpan) {\r\n            return new DateTime(this.Ticks - value.Ticks, this.Kind);\r\n        }\r\n        return new DateTime(this.Ticks, this.Kind);\r\n    }\r\n\r\n    ToUniversalTime(): DateTime {\r\n        if (this.Kind === DateTimeKind.Utc)\r\n            return new DateTime(this.Ticks, DateTimeKind.Utc);\r\n        var id = this._InternalDate;\r\n        return new DateTime(id.getUTCFullYear(), id.getUTCMonth() + 1, id.getUTCDate(), id.getUTCHours(), id.getUTCMinutes(), id.getUTCSeconds(), id.getUTCMilliseconds(), DateTimeKind.Utc);\r\n    }\r\n\r\n    toString(format?: string): string {\r\n        if (!format)\r\n            return Fayde.Localization.FormatSingle(this, \"s\");\r\n        return Fayde.Localization.FormatSingle(this, format);\r\n    }\r\n    valueOf(): Object {\r\n        return this.Ticks;\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(DateTime);\r\nnullstone.registerTypeConverter(DateTime, (value: any): any => {\r\n    if (value instanceof DateTime)\r\n        return value;\r\n    if (value instanceof Date)\r\n        return new DateTime(value);\r\n    if (typeof value === \"string\")\r\n        return new DateTime(Date.parse(value));\r\n    if (typeof value === \"number\")\r\n        return new DateTime(value);\r\n    throw new Exception(\"Cannot parse DateTime value '\" + value + \"'\");\r\n});","/// <reference path=\"../Primitives/DateTime.ts\" />\r\n\r\nmodule Fayde.Localization {\r\n    export class Calendar {\r\n        ID: number = 1;\r\n        Eras: number[] = [1];\r\n        EraNames: string[] = [\"A.D.\"];\r\n        CurrentEraValue:number=1;\r\n        TwoDigitYearMax: number = 2029;\r\n        MaxSupportedDateTime = new DateTime(9999, 12, 31, 23, 59, 59, 999);\r\n        MinSupportedDateTime = new DateTime(1, 1, 1, 0, 0, 0, 0);\r\n    }\r\n}","/// <reference path=\"Calendar.ts\" />\r\n\r\nmodule Fayde.Localization {\r\n    export enum CalendarWeekRule {\r\n        FirstDay,\r\n        FirstFullWeek,\r\n        FirstFourDayWeek,\r\n    }\r\n    export class DateTimeFormatInfo {\r\n        AbbreviatedDayNames: string[] = [\r\n            \"Sun\",\r\n            \"Mon\",\r\n            \"Tue\",\r\n            \"Wed\",\r\n            \"Thu\",\r\n            \"Fri\",\r\n            \"Sat\"\r\n        ];\r\n        AbbreviatedMonthGenitiveNames: string[] = [\r\n            \"Jan\",\r\n            \"Feb\",\r\n            \"Mar\",\r\n            \"Apr\",\r\n            \"May\",\r\n            \"Jun\",\r\n            \"Jul\",\r\n            \"Aug\",\r\n            \"Sep\",\r\n            \"Oct\",\r\n            \"Nov\",\r\n            \"Dec\",\r\n            \"\"\r\n        ];\r\n        AbbreviatedMonthNames: string[] = [\r\n            \"Jan\",\r\n            \"Feb\",\r\n            \"Mar\",\r\n            \"Apr\",\r\n            \"May\",\r\n            \"Jun\",\r\n            \"Jul\",\r\n            \"Aug\",\r\n            \"Sep\",\r\n            \"Oct\",\r\n            \"Nov\",\r\n            \"Dec\"\r\n        ];\r\n        AMDesignator: string = \"AM\";\r\n        Calendar = new Calendar();\r\n        CalendarWeekRule: CalendarWeekRule = CalendarWeekRule.FirstDay;\r\n        DateSeparator: string = \"/\";\r\n        DayNames: string[] = [\r\n            \"Sunday\",\r\n            \"Monday\",\r\n            \"Tuesday\",\r\n            \"Wednesday\",\r\n            \"Thursday\",\r\n            \"Friday\",\r\n            \"Saturday\"\r\n        ];\r\n        FirstDayOfWeek: DayOfWeek = DayOfWeek.Sunday;\r\n        FullDateTimePattern: string = \"dddd, MMMM dd, yyyy h:mm:ss tt\";\r\n        LongDatePattern: string = \"dddd, MMMM dd, yyyy\";\r\n        LongTimePattern: string = \"h:mm:ss tt\";\r\n        MonthDayPattern: string = \"MMMM dd\";\r\n        MonthGenitiveNames: string[] = [\r\n            \"January\",\r\n            \"February\",\r\n            \"March\",\r\n            \"April\",\r\n            \"May\",\r\n            \"June\",\r\n            \"July\",\r\n            \"August\",\r\n            \"September\",\r\n            \"October\",\r\n            \"November\",\r\n            \"December\",\r\n            \"\"\r\n        ];\r\n        MonthNames: string[] = [\r\n            \"January\",\r\n            \"February\",\r\n            \"March\",\r\n            \"April\",\r\n            \"May\",\r\n            \"June\",\r\n            \"July\",\r\n            \"August\",\r\n            \"September\",\r\n            \"October\",\r\n            \"November\",\r\n            \"December\"\r\n        ];\r\n        PMDesignator: string = \"PM\";\r\n        RFC1123Pattern: string = \"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'\";\r\n        ShortDatePattern: string = \"M/d/yyyy\";\r\n        ShortestDayNames: string[] = [\r\n            \"Su\",\r\n            \"Mo\",\r\n            \"Tu\",\r\n            \"We\",\r\n            \"Th\",\r\n            \"Fr\",\r\n            \"Sa\"\r\n        ];\r\n        ShortTimePattern: string = \"h:mm tt\";\r\n        SortableDateTimePattern: string = \"yyyy'-'MM'-'dd'T'HH':'mm':'ss\";\r\n        TimeSeparator: string = \":\";\r\n        UniversalSortableDateTimePattern: string = \"yyyy'-'MM'-'dd HH':'mm':'ss'Z'\";\r\n        YearMonthPattern: string = \"MMMM, yyyy\";\r\n\r\n        HasForceTwoDigitYears: boolean = false;\r\n\r\n        GetEraName(era: number): string {\r\n            if (era === 0)\r\n                era = this.Calendar.CurrentEraValue;\r\n            if (era < 0)\r\n                throw new ArgumentException(\"era\");\r\n            var eras = this.Calendar.EraNames;\r\n            if (era >= eras.length)\r\n                throw new ArgumentException(\"era\");\r\n            return eras[era];\r\n        }\r\n\r\n        static Instance = new DateTimeFormatInfo();\r\n\r\n        static ParseRepeatPattern(format: string, pos: number, patternChar: string): number {\r\n            var length = format.length;\r\n            var index = pos + 1;\r\n            var code = patternChar.charCodeAt(0);\r\n            while (index < length && format.charCodeAt(index) === code)\r\n                ++index;\r\n            return index - pos;\r\n        }\r\n        static ParseNextChar(format: string, pos: number): number {\r\n            if (pos >= format.length - 1)\r\n                return -1;\r\n            return format.charCodeAt(pos + 1);\r\n        }\r\n        static ParseQuoteString(format: string, pos: number, result: string[]): number {\r\n            var length = format.length;\r\n            var num = pos;\r\n            var ch1 = format[pos++];\r\n            var flag = false;\r\n            var special = String.fromCharCode(92);\r\n            while (pos < length) {\r\n                var ch2 = format[pos++];\r\n                if (ch2 === ch1) {\r\n                    flag = true;\r\n                    break;\r\n                } else if (ch2 === special) {\r\n                    if (pos >= length)\r\n                        throw new FormatException(\"Invalid format string.\");\r\n                    result.push(format[pos++]);\r\n                } else\r\n                    result.push(ch2);\r\n            }\r\n            if (flag)\r\n                return pos - num;\r\n            throw new FormatException(\"Bad quote: \" + ch1);\r\n        }\r\n        static FormatDigits(sb: string[], value: number, len: number, overrideLenLimit?: boolean) {\r\n            if (!overrideLenLimit && len > 2)\r\n                len = 2;\r\n\r\n            var s = Math.floor(value).toString();\r\n            while (s.length < len)\r\n                s = \"0\" + s;\r\n            sb.push(s);\r\n        }\r\n        static FormatMonth(month: number, repeat: number, info: DateTimeFormatInfo): string {\r\n            if (repeat === 3)\r\n                return info.AbbreviatedMonthNames[month - 1];\r\n            return info.MonthNames[month - 1];\r\n        }\r\n        static FormatDayOfWeek(dayOfWeek: DayOfWeek, repeat: number, info: DateTimeFormatInfo): string {\r\n            if (repeat === 3)\r\n                return info.AbbreviatedDayNames[dayOfWeek];\r\n            return info.DayNames[dayOfWeek];\r\n        }\r\n\r\n        static HebrewFormatDigits(sb: string[], digits: number) {\r\n            //TODO:\r\n            console.warn(\"Hebrew not implemented\");\r\n            return digits.toString();\r\n        }\r\n        static FormatHebrewMonthName(obj: DateTime, month: number, repeat: number, info: DateTimeFormatInfo): string {\r\n            console.warn(\"Hebrew not implemented\");\r\n            return DateTimeFormatInfo.FormatMonth(month, repeat, info);\r\n        /*\r\n            if (info.Calendar.IsLeapYear(info.Calendar.GetYear(obj)))\r\n                return info.internalGetMonthName(month, MonthNameStyles.LeapYear, repeat === 3);\r\n                */\r\n            if (month >= 7)\r\n                ++month;\r\n            if (repeat === 3)\r\n                return info.AbbreviatedMonthNames[month-1];\r\n            return info.MonthNames[month-1];\r\n        }\r\n    }\r\n}","module Fayde.Localization {\r\n    export function Format(format: string, ...items: any[]): string {\r\n        var sb: string[] = [];\r\n        appendFormat(sb, format, items);\r\n        return sb.join(\"\");\r\n    }\r\n    export function FormatSingle(obj: any, format: string): string {\r\n        return doFormattable(obj, format);\r\n    }\r\n\r\n    function appendFormat(_this: string[], format: string, args: any[], provider?: any) {\r\n        if (format == null || args == null)\r\n            throw new ArgumentNullException(format == null ? \"format\" : \"args\");\r\n        var index1 = 0;\r\n        var length = format.length;\r\n        var ch = 0;\r\n        while (true) {\r\n            var flag = false;\r\n            var repeatCount = 0;\r\n            var breakout = false;\r\n            do {\r\n                if (index1 < length) {\r\n                    ch = format.charCodeAt(index1);\r\n                    ++index1;\r\n                    if (ch === 125) {\r\n                        if (index1 < length && format.charCodeAt(index1) === 125)\r\n                            ++index1;\r\n                        else\r\n                            throw formatError();\r\n                    }\r\n                    if (ch === 123) {\r\n                        if (index1 >= length || format.charCodeAt(index1) !== 123)\r\n                            --index1;\r\n                        else {\r\n                            breakout = true;\r\n                            ++index1;\r\n                            break;\r\n                        }\r\n                    } else {\r\n                        _this.push(String.fromCharCode(ch));\r\n                        breakout = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (index1 != length) {\r\n                    var index2 = index1 + 1;\r\n                    if (index2 === length || (ch = format.charCodeAt(index2)) < 48 || ch > 57)\r\n                        throw formatError();\r\n                    var index3 = 0;\r\n                    do {\r\n                        index3 = index3 * 10 + ch - 48;\r\n                        ++index2;\r\n                        if (index2 == length)\r\n                            throw formatError();\r\n                        ch = format.charCodeAt(index2);\r\n                    }\r\n                    while (ch >= 48 && ch <= 57 && index3 < 1000000);\r\n                    if (index3 >= args.length)\r\n                        throw new FormatException(\"Index out of range.\");\r\n                    while (index2 < length && (ch = format.charCodeAt(index2)) === 32)\r\n                        ++index2;\r\n                    flag = false;\r\n                    var num = 0;\r\n                    if (ch === 44) {\r\n                        ++index2;\r\n                        while (index2 < length && format.charCodeAt(index2) === 32)\r\n                            ++index2;\r\n                        if (index2 == length)\r\n                            throw formatError();\r\n                        ch = format.charCodeAt(index2);\r\n                        if (ch === 45) {\r\n                            flag = true;\r\n                            ++index2;\r\n                            if (index2 == length)\r\n                                throw formatError();\r\n                            ch = format.charCodeAt(index2);\r\n                        }\r\n                        if (ch < 48 || ch > 57)\r\n                            throw formatError();\r\n                        do {\r\n                            num = num * 10 + ch - 48;\r\n                            ++index2;\r\n                            if (index2 == length)\r\n                                throw formatError();\r\n                            ch = format.charCodeAt(index2);\r\n                        } while (ch >= 48 && ch <= 57 && num < 1000000);\r\n                    }\r\n                    while (index2 < length && (ch = format.charCodeAt(index2)) === 32)\r\n                        ++index2;\r\n                    var obj = args[index3];\r\n                    var stringBuilder: string[] = null;\r\n                    if (ch === 58) {\r\n                        var index4 = index2 + 1;\r\n                        while (true) {\r\n                            if (index4 === length)\r\n                                throw formatError();\r\n                            ch = format.charCodeAt(index4);\r\n                            ++index4;\r\n                            if (ch === 123) {\r\n                                if (index4 < length && format.charCodeAt(index4) === 123)\r\n                                    ++index4;\r\n                                else\r\n                                    throw formatError();\r\n                            } else if (ch === 125) {\r\n                                if (index4 < length && format.charCodeAt(index4) === 125)\r\n                                    ++index4;\r\n                                else\r\n                                    break;\r\n                            }\r\n                            stringBuilder = stringBuilder || [];\r\n                            stringBuilder.push(String.fromCharCode(ch));\r\n                        }\r\n                        index2 = index4 - 1;\r\n                    }\r\n                    if (ch !== 125)\r\n                        throw formatError();\r\n                    index1 = index2 + 1;\r\n                    var str = formatItem(obj, stringBuilder, provider) || \"\";\r\n                    repeatCount = num - str.length;\r\n                    if (!flag && repeatCount > 0)\r\n                        pushMany(_this, ' ', repeatCount);\r\n                    _this.push(str);\r\n                }\r\n                else\r\n                    return;\r\n            } while (!flag || repeatCount <= 0);\r\n            if (!breakout)\r\n                pushMany(_this, ' ', repeatCount);\r\n        }\r\n    }\r\n    function formatItem(obj: any, stringBuilder: string[], provider: any): string {\r\n        var format1: string = null;\r\n        var str: string = null;\r\n        /*\r\n        if (customFormatter != null) {\r\n            if (stringBuilder != null)\r\n                format1 = stringBuilderToString(stringBuilder);\r\n            str = customFormatter.Format(format1, obj, provider);\r\n        }\r\n        */\r\n        if (str == null) {\r\n            if (format1 == null && stringBuilder != null)\r\n                format1 = stringBuilderToString(stringBuilder);\r\n            var formatted = format1 == null ? (obj == null ? \"\" : obj.toString()) : doFormattable(obj, format1, provider);\r\n            if (formatted !== undefined)\r\n                str = formatted;\r\n        }\r\n        return str;\r\n    }\r\n    function pushMany(arr: string[], s: string, count: number) {\r\n        for (var i = count - 1; i >= 0; i--) {\r\n            arr.push(s);\r\n        }\r\n    }\r\n    function formatError(): FormatException {\r\n        return new FormatException(\"Invalid format string.\");\r\n    }\r\n    function stringBuilderToString(arr: string[]): string {\r\n        return arr.join(\"\");\r\n    }\r\n\r\n    export interface IFormattable {\r\n        (obj: any, format: string, provider?: any): string;\r\n    }\r\n    var formatters: IFormattable[] = [];\r\n    export function RegisterFormattable(type: Function, formatter: IFormattable) {\r\n        formatters[(<any>type)] = formatter;\r\n    }\r\n    function doFormattable(obj: any, format: string, provider?: any): string {\r\n        if (obj == null)\r\n            return undefined;\r\n        var type = obj.constructor;\r\n        var formatter = formatters[(<number>type)];\r\n        if (!formatter)\r\n            return undefined;\r\n        return formatter(obj, format, provider);\r\n    }\r\n} ","/// <reference path=\"../Primitives/DateTime.ts\" />\r\n/// <reference path=\"Format.ts\" />\r\n\r\nmodule Fayde.Localization {\r\n    RegisterFormattable(DateTime, (obj: any, format: string, provider?: any): string => {\r\n        if (!format)\r\n            return undefined;\r\n        if (obj == null)\r\n            return null;\r\n        if (obj.constructor !== DateTime)\r\n            return null;\r\n        var res = tryStandardFormat(<DateTime>obj, format);\r\n        if (res != undefined)\r\n            return res;\r\n        return tryCustomFormat(<DateTime>obj, format, TimeSpan.MinValue);\r\n    });\r\n\r\n    // Standard Formats\r\n    // d        Short date\r\n    // D        Long date\r\n    // f        Full date/time (short time)\r\n    // F        Full date/time (long time)\r\n    // g        General date/time (short time)\r\n    // G        General date/time (long time)\r\n    // M, m     Month/day\r\n    // R, r     RFC1123\r\n    // s        Sortable date/time\r\n    // t        Short time\r\n    // T        Long time\r\n    // u        Universal sortable date/time\r\n    // U        Universal full date/time\r\n    // Y, y     Year month\r\n\r\n    function tryStandardFormat(obj: DateTime, format: string): string {\r\n        if (format.length !== 1)\r\n            return undefined;\r\n        var ch = format[0];\r\n        if (!ch)\r\n            return undefined;\r\n        var f = standardFormatters[ch];\r\n        if (!f)\r\n            return undefined;\r\n        return f(obj);\r\n    }\r\n    interface IStandardFormatter {\r\n        (obj: DateTime): string;\r\n    }\r\n    var standardFormatters: IStandardFormatter[] = [];\r\n    standardFormatters[\"d\"] = function (obj: DateTime): string {\r\n        return [\r\n            obj.Month.toString(),\r\n            obj.Day.toString(),\r\n            obj.Year.toString()\r\n        ].join(\"/\");\r\n    };\r\n    standardFormatters[\"D\"] = function (obj: DateTime): string {\r\n        var info = DateTimeFormatInfo.Instance;\r\n        return [\r\n            info.DayNames[obj.DayOfWeek],\r\n            \", \",\r\n            info.MonthNames[obj.Month - 1],\r\n            \" \",\r\n            obj.Day.toString(),\r\n            \", \",\r\n            obj.Year.toString()\r\n        ].join(\"\");\r\n    };\r\n    standardFormatters[\"f\"] = function (obj: DateTime): string {\r\n        return [\r\n            standardFormatters[\"D\"](obj),\r\n            standardFormatters[\"t\"](obj)\r\n        ].join(\" \");\r\n    };\r\n    standardFormatters[\"F\"] = function (obj: DateTime): string {\r\n        return [\r\n            standardFormatters[\"D\"](obj),\r\n            standardFormatters[\"T\"](obj)\r\n        ].join(\" \");\r\n    };\r\n    standardFormatters[\"g\"] = function (obj: DateTime): string {\r\n        return [\r\n            standardFormatters[\"d\"](obj),\r\n            standardFormatters[\"t\"](obj)\r\n        ].join(\" \");\r\n    };\r\n    standardFormatters[\"G\"] = function (obj: DateTime): string {\r\n        return [\r\n            standardFormatters[\"d\"](obj),\r\n            standardFormatters[\"T\"](obj)\r\n        ].join(\" \");\r\n    };\r\n    standardFormatters[\"m\"] = standardFormatters[\"M\"] = function (obj: DateTime): string {\r\n        var info = DateTimeFormatInfo.Instance;\r\n        return [\r\n            info.MonthNames[obj.Month - 1],\r\n            obj.Day\r\n        ].join(\" \");\r\n    };\r\n    standardFormatters[\"r\"] = standardFormatters[\"R\"] = function (obj: DateTime): string {\r\n        var utc = obj.ToUniversalTime();\r\n        var info = DateTimeFormatInfo.Instance;\r\n        return [\r\n            info.AbbreviatedDayNames[utc.DayOfWeek],\r\n            \", \",\r\n            utc.Day,\r\n            \" \",\r\n            info.AbbreviatedMonthNames[utc.Month-1],\r\n            \" \",\r\n            utc.Year,\r\n            \" \",\r\n            utc.Hour,\r\n            \":\",\r\n            utc.Minute,\r\n            \":\",\r\n            utc.Second,\r\n            \" GMT\"\r\n        ].join(\"\");\r\n    };\r\n    standardFormatters[\"s\"] = function (obj: DateTime): string {\r\n        return [\r\n            obj.Year,\r\n            \"-\",\r\n            padded(obj.Month),\r\n            \"-\",\r\n            padded(obj.Day),\r\n            \"T\",\r\n            padded(obj.Hour),\r\n            \":\",\r\n            padded(obj.Minute),\r\n            \":\",\r\n            padded(obj.Second)\r\n\r\n        ].join(\"\");\r\n    };\r\n    standardFormatters[\"t\"] = function (obj: DateTime): string {\r\n        var info = DateTimeFormatInfo.Instance;\r\n        var hour = obj.Hour;\r\n        var desig = info.AMDesignator;\r\n        if (hour > 12) {\r\n            hour -= 12;\r\n            desig = info.PMDesignator;\r\n        }\r\n        return [\r\n            hour.toString(),\r\n            \":\",\r\n            obj.Minute.toString(),\r\n            \" \",\r\n            desig\r\n        ].join(\"\");\r\n    };\r\n    standardFormatters[\"T\"] = function (obj: DateTime): string {\r\n        var info = DateTimeFormatInfo.Instance;\r\n        var hour = obj.Hour;\r\n        var desig = info.AMDesignator;\r\n        if (hour > 12) {\r\n            hour -= 12;\r\n            desig = info.PMDesignator;\r\n        }\r\n        return [\r\n            hour.toString(),\r\n            \":\",\r\n            obj.Minute.toString(),\r\n            \":\",\r\n            obj.Second.toString(),\r\n            \" \",\r\n            desig\r\n        ].join(\"\");\r\n    };\r\n    standardFormatters[\"u\"] = function (obj: DateTime): string {\r\n        return [\r\n            obj.Year.toString(),\r\n            \"-\",\r\n            padded(obj.Month),\r\n            \"-\",\r\n            padded(obj.Day),\r\n            \" \",\r\n            padded(obj.Hour),\r\n            \":\",\r\n            padded(obj.Minute),\r\n            \":\",\r\n            padded(obj.Second),\r\n            \"Z\"\r\n        ].join(\"\");\r\n    };\r\n    standardFormatters[\"U\"] = function (obj: DateTime): string {\r\n        var info = DateTimeFormatInfo.Instance;\r\n        var hour = obj.Hour;\r\n        var desig = info.AMDesignator;\r\n        if (hour > 12) {\r\n            hour -= 12;\r\n            desig = info.PMDesignator;\r\n        }\r\n        return [\r\n            info.DayNames[obj.DayOfWeek],\r\n            \", \",\r\n            info.MonthNames[obj.Month-1],\r\n            \" \",\r\n            obj.Day.toString(),\r\n            \", \",\r\n            obj.Year.toString(),\r\n            \" \",\r\n            hour.toString(),\r\n            \":\",\r\n            obj.Minute.toString(),\r\n            \":\",\r\n            obj.Second.toString(),\r\n            \" \",\r\n            desig\r\n        ].join(\"\");\r\n    };\r\n    standardFormatters[\"y\"] = standardFormatters[\"Y\"] = function (obj: DateTime): string {\r\n        var info = DateTimeFormatInfo.Instance;\r\n        return [\r\n            info.MonthNames[obj.Month - 1],\r\n            obj.Year\r\n        ].join(\", \");\r\n    };\r\n\r\n    function padded(num: number): string {\r\n        return num < 10 ? \"0\" + num.toString() : num.toString();\r\n    }\r\n\r\n    function tryCustomFormat(obj: DateTime, format: string, offset: TimeSpan): string {\r\n        var info = DateTimeFormatInfo.Instance;\r\n        var calendar = info.Calendar;\r\n        var stringBuilder: string[] = [];\r\n        var flag = calendar.ID === 8;\r\n        var timeOnly = true;\r\n        var index = 0;\r\n        var len: number;\r\n        while (index < format.length) {\r\n            var patternChar = format[index];\r\n            switch (patternChar) {\r\n                case 'm':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, obj.Minute, len);\r\n                    break;\r\n                case 's':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, obj.Second, len);\r\n                    break;\r\n                case 't':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    if (len === 1) {\r\n                        if (obj.Hour < 12) {\r\n                            if (info.AMDesignator.length >= 1) {\r\n                                stringBuilder.push(info.AMDesignator[0]);\r\n                                break;\r\n                            } else\r\n                                break;\r\n                        } else if (info.PMDesignator.length >= 1) {\r\n                            stringBuilder.push(info.PMDesignator[0]);\r\n                            break;\r\n                        } else\r\n                            break;\r\n                    } else {\r\n                        stringBuilder.push(obj.Hour < 12 ? info.AMDesignator : info.PMDesignator);\r\n                        break;\r\n                    }\r\n                case 'y':\r\n                    var year = obj.Year;\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    if (info.HasForceTwoDigitYears)\r\n                        DateTimeFormatInfo.FormatDigits(stringBuilder, year, len <= 2 ? len : 2);\r\n                    else if (calendar.ID === 8)\r\n                        DateTimeFormatInfo.HebrewFormatDigits(stringBuilder, year);\r\n                    else if (len <= 2) {\r\n                        DateTimeFormatInfo.FormatDigits(stringBuilder, year % 100, len);\r\n                    } else {\r\n                        stringBuilder.push(FormatSingle(year, \"D\" + len.toString()));\r\n                    }\r\n                    timeOnly = false;\r\n                    break;\r\n                case 'z':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    //DateTimeFormatInfo.FormatCustomizedTimeZone(obj, offset, format, len, timeOnly, stringBuilder);\r\n                    console.warn(\"DateTime 'z' not implemented\");\r\n                    break;\r\n                case 'K':\r\n                    len = 1;\r\n                    //DateTimeFormatInfo.FormatCustomizedRoundripTimeZone(obj, offset, stringBuilder);\r\n                    console.warn(\"DateTime 'K' not implemented\");\r\n                    break;\r\n                case 'M':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    var month = obj.Month;\r\n                    if (len <= 2) {\r\n                        if (flag)\r\n                            DateTimeFormatInfo.HebrewFormatDigits(stringBuilder, month);\r\n                        else\r\n                            DateTimeFormatInfo.FormatDigits(stringBuilder, month, len);\r\n                    }\r\n                    else if (flag)\r\n                        stringBuilder.push(DateTimeFormatInfo.FormatHebrewMonthName(obj, month, len, info));\r\n                    /*else if ((info.FormatFlags & DateTimeFormatFlags.UseGenitiveMonth) !== DateTimeFormatFlags.None && len >= 4)\r\n                        stringBuilder.push(info.internalGetMonthName(month, DateTimeFormat.IsUseGenitiveForm(format, index, len, 'd') ? MonthNameStyles.Genitive : MonthNameStyles.Regular, false));*/\r\n                    else\r\n                        stringBuilder.push(DateTimeFormatInfo.FormatMonth(month, len, info));\r\n                    timeOnly = false;\r\n                    break;\r\n                case '\\\\':\r\n                    var num2 = DateTimeFormatInfo.ParseNextChar(format, index);\r\n                    if (num2 < 0)\r\n                        throw formatError();\r\n                    stringBuilder.push(String.fromCharCode(num2));\r\n                    len = 2;\r\n                    break;\r\n                case 'd':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    if (len <= 2) {\r\n                        var dayOfMonth = obj.Day;\r\n                        if (flag)\r\n                            DateTimeFormatInfo.HebrewFormatDigits(stringBuilder, dayOfMonth);\r\n                        else\r\n                            DateTimeFormatInfo.FormatDigits(stringBuilder, dayOfMonth, len);\r\n                    } else {\r\n                        var dayOfWeek = obj.DayOfWeek;\r\n                        stringBuilder.push(DateTimeFormatInfo.FormatDayOfWeek(dayOfWeek, len, info));\r\n                    }\r\n                    timeOnly = false;\r\n                    break;\r\n                case 'f':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    if (len > 7)\r\n                        throw formatError();\r\n                    stringBuilder.push(msf(obj.Millisecond, len));\r\n                    break;\r\n                case 'F':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    if (len > 7)\r\n                        throw formatError();\r\n                    stringBuilder.push(msF(obj.Millisecond, len));\r\n                    break;\r\n                case 'g':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    stringBuilder.push(info.GetEraName(1));\r\n                    break;\r\n                case 'h':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    var num5 = obj.Hour % 12;\r\n                    if (num5 === 0)\r\n                        num5 = 12;\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, num5, len);\r\n                    break;\r\n                case '/':\r\n                    stringBuilder.push(info.DateSeparator);\r\n                    len = 1;\r\n                    break;\r\n                case ':':\r\n                    stringBuilder.push(info.TimeSeparator);\r\n                    len = 1;\r\n                    break;\r\n                case 'H':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, index, patternChar);\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, obj.Hour, len);\r\n                    break;\r\n                case '\"':\r\n                case '\\'':\r\n                    len = DateTimeFormatInfo.ParseQuoteString(format, index, stringBuilder);\r\n                    break;\r\n                case '%':\r\n                    var num6 = DateTimeFormatInfo.ParseNextChar(format, index);\r\n                    if (num6 < 0 || num6 === 37)\r\n                        throw formatError();\r\n                    stringBuilder.push(tryCustomFormat(obj, String.fromCharCode(num6), offset));\r\n                    len = 2;\r\n                    break;\r\n                default:\r\n                    stringBuilder.push(patternChar);\r\n                    len = 1;\r\n                    break;\r\n            }\r\n            index += len;\r\n        }\r\n        return stringBuilder.join(\"\");\r\n    }\r\n\r\n    function msf(ms: number, len: number): string {\r\n        var s = Math.abs(ms).toString();\r\n        while (s.length < 3)\r\n            s = \"0\" + s;\r\n        s += \"0000\";\r\n        return s.substr(0, len);\r\n    }\r\n    function msF(ms: number, len: number): string {\r\n        var f = msf(ms, len);\r\n        var end = f.length - 1;\r\n        for (; end >= 0; end--) {\r\n            if (f[end] !== \"0\")\r\n                break;\r\n        }\r\n        return f.slice(0, end + 1);\r\n    }\r\n    \r\n    function formatError(): FormatException {\r\n        return new FormatException(\"Invalid format string.\");\r\n    }\r\n}","module Fayde.Localization {\r\n    export class NumberFormatInfo {\r\n        CurrencyDecimalDigits: number = 2;\r\n        CurrencyDecimalSeparator: string = \".\";\r\n        CurrencyGroupSeparator: string = \",\";\r\n        CurrencyGroupSizes: number[] = [3];\r\n        CurrencyNegativePattern: number = 0;\r\n        CurrencyPositivePattern: number = 0;\r\n        CurrencySymbol: string = \"$\";\r\n\r\n        NaNSymbol: string = \"NaN\";\r\n        NegativeInfinitySymbol: string = \"-Infinity\";\r\n        PositiveInfinitySymbol: string = \"Infinity\";\r\n        NegativeSign: string = \"-\";\r\n        PositiveSign: string = \"+\";\r\n\r\n        NumberDecimalDigits: number = 2;\r\n        NumberDecimalSeparator: string = \".\";\r\n        NumberGroupSeparator: string = \",\";\r\n        NumberGroupSizes: number[] = [3];\r\n        NumberNegativePattern: number = 1;\r\n\r\n        PercentDecimalDigits: number = 2;\r\n        PercentDecimalSeparator: string = \".\";\r\n        PercentGroupSeparator: string = \",\";\r\n        PercentGroupSizes: number[] = [3];\r\n        PercentNegativePattern: number = 0;\r\n        PercentPositivePattern: number = 0;\r\n        PercentSymbol: string = \"%\";\r\n\r\n        PerMilleSymbol: string = \"‰\";\r\n\r\n        static Instance = new NumberFormatInfo();\r\n\r\n        FormatCurrency(num: number, precision: number): string {\r\n            if (precision == null) precision = this.CurrencyDecimalDigits;\r\n            var rawnum = this.FormatRawNumber(Math.abs(num), precision, this.CurrencyDecimalSeparator, this.CurrencyGroupSeparator, this.CurrencyGroupSizes);\r\n            if (num < 0) {\r\n                switch (this.CurrencyNegativePattern) {\r\n                    case 0:\r\n                    default:\r\n                        return \"(\" + this.CurrencySymbol + rawnum + \")\";\r\n                    case 1:\r\n                        return [this.NegativeSign, this.CurrencySymbol, rawnum].join(\"\");\r\n                    case 2:\r\n                        return [this.CurrencySymbol, this.NegativeSign, rawnum].join(\"\");\r\n                    case 3:\r\n                        return [this.CurrencySymbol, rawnum, this.NegativeSign].join(\"\");\r\n                    case 4:\r\n                        return \"(\" + rawnum + this.CurrencySymbol + \")\";\r\n                    case 5:\r\n                        return [this.NegativeSign, rawnum, this.CurrencySymbol].join(\"\");\r\n                    case 6:\r\n                        return [rawnum, this.NegativeSign, this.CurrencySymbol].join(\"\");\r\n                    case 7:\r\n                        return [rawnum, this.CurrencySymbol, this.NegativeSign].join(\"\");\r\n                    case 8:\r\n                        return [this.NegativeSign, rawnum, \" \", this.CurrencySymbol].join(\"\");\r\n                    case 9:\r\n                        return [this.NegativeSign, this.CurrencySymbol, \" \", rawnum].join(\"\");\r\n                    case 10:\r\n                        return [rawnum, \" \", this.CurrencySymbol, this.NegativeSign].join(\"\");\r\n                    case 11:\r\n                        return [this.CurrencySymbol, \" \", rawnum, this.NegativeSign].join(\"\");\r\n                    case 12:\r\n                        return [this.CurrencySymbol, \" \", this.NegativeSign, rawnum].join(\"\");\r\n                    case 13:\r\n                        return [rawnum, this.NegativeSign, \" \", this.CurrencySymbol].join(\"\");\r\n                    case 14:\r\n                        return \"(\" + this.CurrencySymbol + \" \" + rawnum + \")\";\r\n                    case 15:\r\n                        return \"(\" + rawnum + \" \" + this.CurrencySymbol + \")\";\r\n                }\r\n            } else {\r\n                switch (this.CurrencyPositivePattern) {\r\n                    case 0:\r\n                    default:\r\n                        return [this.CurrencySymbol, rawnum].join(\"\");\r\n                    case 1:\r\n                        return [rawnum, this.CurrencySymbol].join(\"\");\r\n                    case 2:\r\n                        return [this.CurrencySymbol, rawnum].join(\" \");\r\n                    case 3:\r\n                        return [rawnum, this.CurrencySymbol].join(\" \");\r\n                }\r\n            }\r\n        }\r\n        FormatNumber(num: number, precision: number, ignoreGroupSep?: boolean): string {\r\n            if (precision == null) precision = this.NumberDecimalDigits;\r\n            var rawnum = this.FormatRawNumber(Math.abs(num), precision, this.NumberDecimalSeparator, ignoreGroupSep ? \"\" : this.NumberGroupSeparator, this.NumberGroupSizes);\r\n            if (num >= 0)\r\n                return rawnum;\r\n            switch (this.NumberNegativePattern) {\r\n                case 0:\r\n                    return \"(\" + rawnum + \")\";\r\n                case 1:\r\n                default:\r\n                    return [this.NegativeSign, rawnum].join(\"\");\r\n                case 2:\r\n                    return [this.NegativeSign, rawnum].join(\" \");\r\n                case 3:\r\n                    return [rawnum, this.NegativeSign].join(\"\");\r\n                case 4:\r\n                    return [rawnum, this.NegativeSign].join(\" \");\r\n            }\r\n        }\r\n        FormatPercent(num: number, precision: number): string {\r\n            if (precision == null) precision = this.PercentDecimalDigits;\r\n            var rawnum = this.FormatRawNumber(Math.abs(num * 100), precision, this.PercentDecimalSeparator, this.PercentGroupSeparator, this.PercentGroupSizes);\r\n            var sym = this.PercentSymbol;\r\n            if (num < 0) {\r\n                var sign = this.NegativeSign;\r\n                switch (this.PercentNegativePattern) {\r\n                    case 0:\r\n                    default:\r\n                        return [sign, rawnum, \" \", sym].join(\"\");\r\n                    case 1:\r\n                        return [sign, rawnum, sym].join(\"\");\r\n                    case 2:\r\n                        return [sign, sym, rawnum].join(\"\");\r\n                    case 3:\r\n                        return [sym, sign, rawnum].join(\"\");\r\n                    case 4:\r\n                        return [sym, rawnum, sign].join(\"\");\r\n                    case 5:\r\n                        return [rawnum, sign, sym].join(\"\");\r\n                    case 6:\r\n                        return [rawnum, sym, sign].join(\"\");\r\n                    case 7:\r\n                        return [sign, sym, \" \", rawnum].join(\"\");\r\n                    case 8:\r\n                        return [sign, sym, \" \", rawnum].join(\"\");\r\n                    case 9:\r\n                        return [sym, \" \", rawnum, sign].join(\"\");\r\n                    case 10:\r\n                        return [sym, \" \", sign, rawnum].join(\"\");\r\n                    case 11:\r\n                        return [rawnum, sign, \" \", sym].join(\"\");\r\n                }\r\n            } else {\r\n                switch (this.PercentPositivePattern) {\r\n                    case 0:\r\n                    default:\r\n                        return [rawnum, this.PercentSymbol].join(\" \");\r\n                    case 1:\r\n                        return [rawnum, this.PercentSymbol].join(\"\");\r\n                    case 2:\r\n                        return [this.PercentSymbol, rawnum].join(\"\");\r\n                    case 3:\r\n                        return [this.PercentSymbol, rawnum].join(\" \");\r\n                }\r\n            }\r\n        }\r\n        FormatGeneral(num: number, precision: number): string {\r\n            if (precision == null) precision = 6;\r\n            var sig = sigDigits(Math.abs(num), precision);\r\n            var rawnum = sig.toString();\r\n            if (num >= 0)\r\n                return rawnum;\r\n            return this.NegativeSign + rawnum;\r\n        }\r\n        FormatDecimal(num: number, precision: number): string {\r\n            var rawnum = this.FormatRawNumber(Math.abs(num), 0, \"\", \"\", null);\r\n            var d = padded(rawnum, precision || 0, true);\r\n            if (num < 0)\r\n                d = this.NegativeSign + d;\r\n            return d;\r\n        }\r\n        FormatExponential(num: number, precision: number): string {\r\n            if (precision == null) precision = 6;\r\n            var e = num.toExponential(precision);\r\n            var tokens = e.split(\"e+\");\r\n            return tokens[0] + \"e\" + this.PositiveSign + padded(tokens[1], 3, true);\r\n        }\r\n        FormatHexadecimal(num: number, precision: number): string {\r\n            if (precision == null) precision = 2;\r\n            num = parseInt(<any>num);\r\n            if (num >= 0)\r\n                return padded(num.toString(16), precision, true);\r\n            var us = (Math.pow(2, 32) + num).toString(16);\r\n            if (precision >= us.length)\r\n                return padded(us, precision, true);\r\n            var start = 0;\r\n            while (us.length - start > precision && us[start] === \"f\") {\r\n                start++;\r\n            }\r\n            return us.substr(start);\r\n        }\r\n        FormatRawNumber(num: number, precision: number, decSep: string, groupSep: string, groupSizes: number[]): string {\r\n            //Ignoring group sizes for now: using [3]\r\n            var rounded = round(num, precision);\r\n            var ip = Math.floor(rounded).toString();\r\n            var fp = rounded.toString().split('.')[1];\r\n            var pfp = padded(fp, precision);\r\n            if (!pfp)\r\n                return grouped(ip, groupSep);\r\n            return [\r\n                grouped(ip, groupSep),\r\n                pfp\r\n            ].join(decSep);\r\n        }\r\n    }\r\n\r\n    function grouped(s: string, sep: string): string {\r\n        if (s.length < 4)\r\n            return s;\r\n        var offset = s.length % 3;\r\n        if (offset !== 0) {\r\n            offset = 3 - offset;\r\n            s = new Array(offset + 1).join(\"0\") + s;\r\n        }\r\n        return s.match(/\\d\\d\\d/g).join(sep).substr(offset);\r\n    }\r\n    function padded(s: string, precision: number, front?: boolean): string {\r\n        if (!s)\r\n            return new Array(precision + 1).join(\"0\");\r\n        if (s.length > precision)\r\n            return front ? s : s.substr(0, precision);\r\n        if (front)\r\n            return new Array(precision - s.length + 1).join(\"0\") + s;\r\n        return s + new Array(precision - s.length + 1).join(\"0\");\r\n    }\r\n    function round(num: number, places: number): number {\r\n        var factor = Math.pow(10, places);\r\n        return Math.round(num * factor) / factor;\r\n    }\r\n    function sigDigits(num: number, digits: number): number {\r\n        var n = num.toString();\r\n        var index = n.indexOf(\".\");\r\n        if (index > -1)\r\n            return round(num, digits - index);\r\n        return round(num, digits - n.length);\r\n    }\r\n\r\n    // Currency Negative Patterns\r\n    // 0      ($n)\r\n    // 1      -$n\r\n    // 2      $-n\r\n    // 3      $n-\r\n    // 4      (n$)\r\n    // 5      -n$\r\n    // 6      n-$\r\n    // 7      n$-\r\n    // 8      -n $\r\n    // 9      -$ n\r\n    // 10      n $-\r\n    // 11      $ n-\r\n    // 12      $ -n\r\n    // 13      n- $\r\n    // 14      ($ n)\r\n    // 15      (n $)\r\n    \r\n    // Currency Positive Patterns\r\n    // 0       $n\r\n    // 1       n$\r\n    // 2       $ n\r\n    // 3       n $\r\n\r\n    // Number Negative Patterns\r\n    // 0      (n)\r\n    // 1      -n\r\n    // 2      - n\r\n    // 3      n-\r\n    // 4      n -\r\n\r\n    // Percent Negative Patterns\r\n    // 0      -n %\r\n    // 1      -n%\r\n    // 2      -%n\r\n    // 3      %-n\r\n    // 4      %n-\r\n    // 5      n-%\r\n    // 6      n%-\r\n    // 7      -% n\r\n    // 8      n %-\r\n    // 9      % n-\r\n    // 10     % -n\r\n    // 11     n- %\r\n\r\n    // Percent Positive Patterns\r\n    // 0       n %\r\n    // 1       n%\r\n    // 2       %n\r\n    // 3       % n\r\n}","/// <reference path=\"Format.ts\" />\r\n\r\nmodule Fayde.Localization {\r\n    RegisterFormattable(Number, (obj: any, format: string, provider?: any): string => {\r\n        if (obj == null)\r\n            return null;\r\n        if (obj.constructor !== Number)\r\n            return null;\r\n        var res = tryStandardFormat(<number>obj, format);\r\n        if (res != undefined)\r\n            return res;\r\n        return format;\r\n    });\r\n\r\n    // Standard Formats\r\n    // C or c       Currency\r\n    // D or d       Decimal\r\n    // E or e       Exponential\r\n    // F or f       Fixed-point\r\n    // G or g       General\r\n    // N or n       Number\r\n    // P or p       Percent\r\n    // X or x       Hexadecimal\r\n\r\n    function tryStandardFormat(obj: number, format: string): string {\r\n        var ch = format[0];\r\n        if (!ch)\r\n            return undefined;\r\n        var lowerch = ch.toLowerCase();\r\n        if (lowerch < \"a\" || lowerch > \"z\")\r\n            return undefined;\r\n        var prec: number = null;\r\n        if (format.length > 1) {\r\n            var prec = parseInt(format.substr(1));\r\n            if (isNaN(prec))\r\n                return undefined;\r\n        }\r\n        \r\n        var f = standardFormatters[ch] || standardFormatters[lowerch];\r\n        if (!f)\r\n            return undefined;\r\n        return f(obj, prec);\r\n    }\r\n    interface IStandardFormatter {\r\n        (obj: number, precision: number): string;\r\n    }\r\n    var standardFormatters: IStandardFormatter[] = [];\r\n    standardFormatters[\"c\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatCurrency(obj, precision);\r\n    };\r\n    standardFormatters[\"d\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatDecimal(obj, precision);\r\n    };\r\n    standardFormatters[\"E\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatExponential(obj, precision).toUpperCase();\r\n    };\r\n    standardFormatters[\"e\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatExponential(obj, precision);\r\n    };\r\n    standardFormatters[\"f\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatNumber(obj, precision, true);\r\n    };\r\n    standardFormatters[\"g\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatGeneral(obj, precision);\r\n    };\r\n    standardFormatters[\"n\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatNumber(obj, precision);\r\n    };\r\n    standardFormatters[\"p\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatPercent(obj, precision);\r\n    };\r\n    standardFormatters[\"X\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatHexadecimal(obj, precision).toUpperCase();\r\n    };\r\n    standardFormatters[\"x\"] = function (obj: number, precision: number): string {\r\n        return NumberFormatInfo.Instance.FormatHexadecimal(obj, precision);\r\n    };\r\n}","/// <reference path=\"../Primitives/TimeSpan.ts\" />\r\n/// <reference path=\"Format.ts\" />\r\n\r\nmodule Fayde.Localization {\r\n    RegisterFormattable(TimeSpan, (obj: any, format: string, provider?: any): string => {\r\n        if (!format)\r\n            return undefined;\r\n        if (obj == null)\r\n            return null;\r\n        if (obj.constructor !== TimeSpan)\r\n            return null;\r\n        var res = tryStandardFormat(<TimeSpan>obj, format);\r\n        if (res != undefined)\r\n            return res;\r\n        return tryCustomFormat(<TimeSpan>obj, format);\r\n    });\r\n\r\n    // Standard Formats\r\n    // c        Constant (invariant)\r\n    // g        General short\r\n    // G        General long\r\n    function tryStandardFormat(obj: TimeSpan, format: string): string {\r\n        if (format.length !== 1)\r\n            return undefined;\r\n        var ch = format[0];\r\n        if (!ch)\r\n            return undefined;\r\n        var f = standardFormatters[ch];\r\n        if (!f)\r\n            return undefined;\r\n        return f(obj);\r\n    }\r\n    interface IStandardFormatter {\r\n        (obj: TimeSpan): string;\r\n    }\r\n    var standardFormatters: IStandardFormatter[] = [];\r\n    standardFormatters[\"c\"] = standardFormatters[\"t\"] = standardFormatters[\"T\"] = function (obj: TimeSpan): string {\r\n        // [-][d’.’]hh’:’mm’:’ss[‘.’fffffff]\r\n        var info = DateTimeFormatInfo.Instance;\r\n        var s = [\r\n            padded(obj.Hours),\r\n            padded(obj.Minutes),\r\n            padded(obj.Seconds)\r\n        ].join(info.TimeSeparator);\r\n        var days = obj.Days;\r\n        if (days)\r\n            s = Math.abs(days) + \".\" + s;\r\n        var ms = obj.Milliseconds;\r\n        if (ms)\r\n            s += \".\" + msf(ms, 7);\r\n        if (obj.Ticks < 0)\r\n            s = \"-\" + s;\r\n        return s;\r\n    };\r\n    standardFormatters[\"g\"] = function (obj: TimeSpan): string {\r\n        // [-][d’:’]h’:’mm’:’ss[.FFFFFFF]\r\n        var info = DateTimeFormatInfo.Instance;\r\n        var s = [\r\n            Math.abs(obj.Hours),\r\n            padded(obj.Minutes),\r\n            padded(obj.Seconds)\r\n        ].join(info.TimeSeparator);\r\n        var days = obj.Days;\r\n        if (days)\r\n            s = Math.abs(days) + \":\" + s;\r\n        var ms = obj.Milliseconds;\r\n        if (ms)\r\n            s += \".\" + msF(ms, 7);\r\n        if (obj.Ticks < 0)\r\n            s = \"-\" + s;\r\n        return s;\r\n    };\r\n    standardFormatters[\"G\"] = function (obj: TimeSpan): string {\r\n        // [-]d’:’hh’:’mm’:’ss.fffffff\r\n        var info = DateTimeFormatInfo.Instance;\r\n        var s = [\r\n            Math.abs(obj.Days),\r\n            padded(obj.Hours),\r\n            padded(obj.Minutes),\r\n            padded(obj.Seconds)\r\n        ].join(info.TimeSeparator);\r\n        var ms = obj.Milliseconds;\r\n        s += \".\" + msf(ms, 7);\r\n        if (obj.Ticks < 0)\r\n            s = \"-\" + s;\r\n        return s;\r\n    };\r\n\r\n    function tryCustomFormat(obj: TimeSpan, format: string): string {\r\n        var days = Math.abs(obj.Days);\r\n        var hours = Math.abs(obj.Hours);\r\n        var minutes = Math.abs(obj.Minutes);\r\n        var seconds = Math.abs(obj.Seconds);\r\n        var ms = Math.abs(obj.Milliseconds);\r\n\r\n        var len: number;\r\n        var pos = 0;\r\n        var stringBuilder: string[] = [];\r\n        while (pos < format.length) {\r\n            var patternChar = format[pos];\r\n            switch (patternChar) {\r\n                case 'm':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, pos, patternChar);\r\n                    if (len > 2)\r\n                        throw formatError();\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, minutes, len);\r\n                    break;\r\n                case 's':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, pos, patternChar);\r\n                    if (len > 2)\r\n                        throw formatError();\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, seconds, len);\r\n                    break;\r\n                case '\\\\':\r\n                    var num7 = DateTimeFormatInfo.ParseNextChar(format, pos);\r\n                    if (num7 < 0)\r\n                        throw formatError();\r\n                    stringBuilder.push(String.fromCharCode(num7));\r\n                    len = 2;\r\n                    break;\r\n                case 'd':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, pos, patternChar);\r\n                    if (len > 8)\r\n                        throw formatError();\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, days, len, true);\r\n                    break;\r\n                case 'f':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, pos, patternChar);\r\n                    if (len > 7)\r\n                        throw formatError();\r\n                    stringBuilder.push(msf(ms, len));\r\n                    break;\r\n                case 'F':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, pos, patternChar);\r\n                    if (len > 7)\r\n                        throw formatError();\r\n                    stringBuilder.push(msF(ms, len));\r\n                    break;\r\n                case 'h':\r\n                    len = DateTimeFormatInfo.ParseRepeatPattern(format, pos, patternChar);\r\n                    if (len > 2)\r\n                        throw formatError();\r\n                    DateTimeFormatInfo.FormatDigits(stringBuilder, hours, len);\r\n                    break;\r\n                case '\"':\r\n                case '\\'':\r\n                    len = DateTimeFormatInfo.ParseQuoteString(format, pos, stringBuilder);\r\n                    break;\r\n                case '%':\r\n                    var num9 = DateTimeFormatInfo.ParseNextChar(format, pos);\r\n                    if (num9 < 0 || num9 === 37)\r\n                        throw formatError();\r\n                    stringBuilder.push(tryCustomFormat(obj, String.fromCharCode(num9)));\r\n                    len = 2;\r\n                    break;\r\n                default:\r\n                    throw formatError();\r\n            }\r\n            pos += len;\r\n        }\r\n        return stringBuilder.join(\"\");\r\n    }\r\n\r\n    function padded(num: number): string {\r\n        var s = Math.abs(num).toString();\r\n        return (s.length === 1) ? \"0\" + s : s;\r\n    }\r\n    function msf(ms: number, len: number): string {\r\n        var s = Math.abs(ms).toString();\r\n        while (s.length < 3)\r\n            s = \"0\" + s;\r\n        s += \"0000\";\r\n        return s.substr(0, len);\r\n    }\r\n    function msF(ms: number, len: number): string {\r\n        var f = msf(ms, len);\r\n        var end = f.length - 1;\r\n        for (; end >= 0; end--) {\r\n            if (f[end] !== \"0\")\r\n                break;\r\n        }\r\n        return f.slice(0, end + 1);\r\n    }\r\n\r\n    function formatError(): FormatException {\r\n        return new FormatException(\"Invalid format string.\");\r\n    }\r\n}","module Fayde.MVVM {\r\n    export interface IValidationFunc {\r\n        (value: any, propertyName: string, entity: any): any[];\r\n    }\r\n    export interface IAutoApplier<T> {\r\n        Notify(...properties: string[]): IAutoApplier<T>;\r\n        Notify(properties: string[]): IAutoApplier<T>;\r\n        Validate(propertyName: string, ...validators: IValidationFunc[]): IAutoApplier<T>;\r\n        Finish(): T;\r\n    }\r\n    export function AutoModel<T> (typeOrModel: any): IAutoApplier<T> {\r\n        var obj = getApplier(typeOrModel);\r\n\r\n        var props: string[] = [];\r\n        var validators: IValidationFunc[][] = [];\r\n\r\n        var applier = <IAutoApplier<T>>{\r\n            Notify (...properties: string[]): IAutoApplier<T> {\r\n                for (var i = 0; i < properties.length; i++) {\r\n                    var prop = properties[i];\r\n                    if (typeof prop === \"string\")\r\n                        props.push(prop);\r\n                    else if (Array.isArray(prop))\r\n                        props = props.concat(prop);\r\n                }\r\n                return applier;\r\n            },\r\n            Validate (propertyName: string, ...validations: IValidationFunc[]): IAutoApplier<T> {\r\n                var cur = validators[propertyName];\r\n                if (!cur)\r\n                    validators[propertyName] = validations;\r\n                else\r\n                    validators[propertyName] = cur.concat(validations);\r\n                return applier;\r\n            },\r\n            Finish (): T {\r\n                for (var i = 0, uprops = unique(props), len = uprops.length; i < len; i++) {\r\n                    var prop = uprops[i];\r\n                    applyProperty(obj, prop, validators[prop]);\r\n                }\r\n                return obj;\r\n            }\r\n        };\r\n        return applier;\r\n    }\r\n\r\n    function getApplier (typeOrModel: any): any {\r\n        if (typeof typeOrModel === \"function\")\r\n            return typeOrModel.prototype;\r\n        return typeOrModel;\r\n    }\r\n\r\n    function unique (arr: string[]): string[] {\r\n        var re: string[] = [];\r\n        for (var i = 0; i < arr.length; i++) {\r\n            var cur = arr[i];\r\n            if (re.indexOf(cur) > -1)\r\n                continue;\r\n            re.push(cur);\r\n        }\r\n        return re;\r\n    }\r\n\r\n    function applyProperty (obj: any, propertyName: string, validations: IValidationFunc[]) {\r\n        var initial = obj[propertyName];\r\n        var backingName = \"_$\" + propertyName + \"$_\";\r\n        obj[backingName] = initial;\r\n        if (validations && validations.length > 0) {\r\n            Object.defineProperty(obj, propertyName, {\r\n                get: function () {\r\n                    return this[backingName];\r\n                },\r\n                set: function (value: any) {\r\n                    this[backingName] = value;\r\n                    doValidate(this, value, propertyName, validations);\r\n                    this.OnPropertyChanged(propertyName);\r\n                }\r\n            });\r\n        } else {\r\n            Object.defineProperty(obj, propertyName, {\r\n                get: function () {\r\n                    return this[backingName];\r\n                },\r\n                set: function (value: any) {\r\n                    this[backingName] = value;\r\n                    this.OnPropertyChanged(propertyName);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function doValidate (entity: any, value: any, propertyName: string, validations: IValidationFunc[]) {\r\n        var errs = validate(entity, value, propertyName, validations);\r\n        entity.ClearErrors && entity.ClearErrors(propertyName);\r\n        if (!entity.AddError)\r\n            return;\r\n        for (var i = 0; i < errs.length; i++) {\r\n            entity.AddError(propertyName, errs[i]);\r\n        }\r\n    }\r\n\r\n    function validate (entity: any, value: any, propertyName: string, validations: IValidationFunc[]): string[] {\r\n        var all: string[] = [];\r\n        for (var i = 0; i < validations.length; i++) {\r\n            var func = validations[i];\r\n            var errors = func(value, propertyName, entity);\r\n            if (errors)\r\n                all = all.concat(errors);\r\n        }\r\n        return all;\r\n    }\r\n}","/// <reference path=\"../Core/INotifyPropertyChanged.ts\" />\r\n\r\nmodule Fayde.MVVM {\r\n    export function NotifyProperties(type: any, propNames: string[]) {\r\n        var len = propNames.length;\r\n        for (var i = 0; i < len; i++) {\r\n            (function () {\r\n                var propName = propNames[i];\r\n                var backingName = \"$\" + propName + \"$\";\r\n                Object.defineProperty(type.prototype, propName, {\r\n                    get: function () { return this[backingName]; },\r\n                    set: function (value: any) {\r\n                        this[backingName] = value;\r\n                        this.OnPropertyChanged(propName);\r\n                    }\r\n                });\r\n            })();\r\n        }\r\n    }\r\n\r\n    export class ObservableObject implements INotifyPropertyChanged {\r\n        PropertyChanged = new nullstone.Event<PropertyChangedEventArgs>();\r\n        OnPropertyChanged(propertyName: string) {\r\n            this.PropertyChanged.raise(this, new PropertyChangedEventArgs(propertyName));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ObservableObject);\r\n}","/// <reference path=\"ObservableObject.ts\"/>\r\n\r\nmodule Fayde.MVVM {\r\n    export class ViewModelBase extends ObservableObject {\r\n    }\r\n    Fayde.CoreLibrary.add(ViewModelBase);\r\n}","/// <reference path=\"ViewModelBase\" />\r\n\r\nmodule Fayde.MVVM {\r\n    export interface IDialogViewModelSettings<TAccept, TBuilder> {\r\n        AcceptAction?: (data: TAccept) => any;\r\n        CompleteAction?: (pars: IOverlayCompleteParameters) => any;\r\n        ViewModelBuilder?: (builder: TBuilder) => any;\r\n        CanOpen?: (builder: TBuilder) => boolean;\r\n    }\r\n\r\n    export class DialogViewModel<TBuilder, TAccept> extends ViewModelBase {\r\n        IsOpen = false;\r\n        OverlayDataContext: any = null;\r\n        RequestOpenCommand: RelayCommand;\r\n        ClosedCommand: RelayCommand;\r\n\r\n        AcceptAction: (data: TAccept) => any;\r\n        CompleteAction: (pars: IOverlayCompleteParameters) => any;\r\n        ViewModelBuilder: (builder: TBuilder) => any;\r\n        CanOpen: (builder: TBuilder) => boolean;\r\n\r\n        constructor (settings?: IDialogViewModelSettings<TAccept, TBuilder>) {\r\n            super();\r\n            this.RequestOpenCommand = new RelayCommand(par => this.RequestOpen_Execute(par), par => this.RequestOpen_CanExecute(par));\r\n            this.ClosedCommand = new RelayCommand(par => this.Closed_Execute(par));\r\n            if (settings) {\r\n                this.AcceptAction = settings.AcceptAction;\r\n                this.CompleteAction = settings.CompleteAction;\r\n                this.ViewModelBuilder = settings.ViewModelBuilder;\r\n                this.CanOpen = settings.CanOpen;\r\n            }\r\n        }\r\n\r\n        private Closed_Execute (parameter: IOverlayCompleteParameters) {\r\n            if (parameter.Result === true) {\r\n                this.AcceptAction && this.AcceptAction(<TAccept>parameter.Data || undefined);\r\n            }\r\n            this.CompleteAction && this.CompleteAction(parameter);\r\n        }\r\n\r\n        private RequestOpen_Execute (parameter: TBuilder) {\r\n            if (this.ViewModelBuilder != null) {\r\n                var vm = this.ViewModelBuilder(parameter);\r\n                if (vm == null)\r\n                    return;\r\n                this.OverlayDataContext = vm;\r\n            }\r\n            this.IsOpen = true;\r\n        }\r\n\r\n        private RequestOpen_CanExecute (parameter: TBuilder): boolean {\r\n            return !this.CanOpen || this.CanOpen(parameter);\r\n        }\r\n    }\r\n    NotifyProperties(DialogViewModel, [\"IsOpen\", \"OverlayDataContext\", \"RequestOpenCommand\", \"ClosedCommand\"]);\r\n}","module Fayde.MVVM {\r\n    export interface IEntity extends INotifyPropertyChanged, Data.INotifyDataErrorInfo {\r\n        OnPropertyChanged (propertyName: string);\r\n        AddError (propertyName: string, errorMessage: string);\r\n        RemoveError (propertyName: string, errorMessage: string);\r\n        ClearErrors (propertyName: string);\r\n    }\r\n\r\n    export class Entity implements IEntity {\r\n        PropertyChanged = new nullstone.Event<PropertyChangedEventArgs>();\r\n\r\n        OnPropertyChanged (propertyName: string) {\r\n            this.PropertyChanged.raise(this, new PropertyChangedEventArgs(propertyName));\r\n        }\r\n\r\n        private _Errors: any = {};\r\n\r\n        ErrorsChanged = new nullstone.Event<Data.DataErrorsChangedEventArgs>();\r\n\r\n        get HasErrors (): boolean {\r\n            return Object.keys(this._Errors).length > 0;\r\n        }\r\n\r\n        AddError (propertyName: string, errorMessage: string) {\r\n            var errs = this._Errors[propertyName];\r\n            if (!errs) {\r\n                this._Errors[propertyName] = [errorMessage];\r\n            } else {\r\n                errs.push(errorMessage);\r\n            }\r\n            this.ErrorsChanged.raise(this, new Data.DataErrorsChangedEventArgs(propertyName));\r\n        }\r\n\r\n        RemoveError (propertyName: string, errorMessage: string) {\r\n            var errs = this._Errors[propertyName];\r\n            if (!errs)\r\n                return;\r\n            var index = errs.indexOf(errorMessage);\r\n            if (index >= 0)\r\n                errs.splice(index, 1);\r\n            if (errs.length < 1)\r\n                delete this._Errors[propertyName];\r\n            this.ErrorsChanged.raise(this, new Data.DataErrorsChangedEventArgs(propertyName));\r\n        }\r\n\r\n        ClearErrors (propertyName: string) {\r\n            var errs = this._Errors[propertyName];\r\n            if (!errs)\r\n                return;\r\n            delete this._Errors[propertyName];\r\n            this.ErrorsChanged.raise(this, new Data.DataErrorsChangedEventArgs(propertyName));\r\n        }\r\n\r\n        GetErrors (propertyName: string): nullstone.IEnumerable<string> {\r\n            var errs = this._Errors[propertyName];\r\n            if (!errs)\r\n                return null;\r\n            return nullstone.IEnumerable_.fromArray(errs);\r\n        }\r\n\r\n        static ApplyTo<TIn, TOut extends IEntity>(model: TIn): TOut {\r\n            var out = <TOut><any>model;\r\n            var proto = Entity.prototype;\r\n            Object.defineProperties(out, {\r\n                \"_Errors\": {value: {}},\r\n                \"HasErrors\": {\r\n                    get: function () {\r\n                        return Object.keys(this._Errors).length > 0;\r\n                    }\r\n                }\r\n            });\r\n\r\n            out.PropertyChanged = new nullstone.Event<PropertyChangedEventArgs>();\r\n            out.OnPropertyChanged = proto.OnPropertyChanged.bind(out);\r\n            out.ErrorsChanged = new nullstone.Event<Data.DataErrorsChangedEventArgs>();\r\n            out.AddError = proto.AddError.bind(out);\r\n            out.RemoveError = proto.RemoveError.bind(out);\r\n            out.ClearErrors = proto.ClearErrors.bind(out);\r\n            out.GetErrors = proto.GetErrors.bind(out);\r\n\r\n            Data.INotifyDataErrorInfo_.mark(out);\r\n\r\n            return out;\r\n        }\r\n    }\r\n    Data.INotifyDataErrorInfo_.mark(Entity);\r\n}","module Fayde.Navigation {\r\n    export class Route {\r\n        View: Uri;\r\n        HashParams: { [key: string]: string };\r\n        DataContext: any;\r\n\r\n        constructor (view: Uri, hashParams: { [key: string]: string }, dataContext: any) {\r\n            this.View = view;\r\n            this.HashParams = hashParams;\r\n            this.DataContext = dataContext;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Route);\r\n}","/// <reference path=\"../Navigation/Route.ts\" />\n\nmodule Fayde.MVVM {\n    export interface IRedirector {\n        (newUri: string|Uri);\n    }\n    export interface IViewModelProvider {\n        ResolveViewModel(route: Fayde.Navigation.Route, redirect?: IRedirector);\n    }\n    export var IViewModelProvider_ = new nullstone.Interface<IViewModelProvider>(\"IViewModelProvider\");\n    IViewModelProvider_.is = function (o: any): boolean {\n        return o && typeof o.ResolveViewModel === \"function\";\n    };\n}","module Fayde.Input {\r\n    export interface ICommand {\r\n        Execute(parameter: any);\r\n        CanExecute(parameter: any): boolean;\r\n        CanExecuteChanged: nullstone.Event<nullstone.IEventArgs>;\r\n    }\r\n    export var ICommand_ = new nullstone.Interface<ICommand>(\"ICommand\");\r\n}","/// <reference path=\"../Input/ICommand.ts\" />\r\n\r\nmodule Fayde.MVVM {\r\n    export class RelayCommand implements Input.ICommand {\r\n        constructor(execute?: (parameter: any) => void , canExecute?: (parameter: any) => boolean) {\r\n            if (execute)\r\n                this.Execute = execute;\r\n            if (canExecute)\r\n                this.CanExecute = canExecute;\r\n        }\r\n\r\n        Execute(parameter: any) { }\r\n        CanExecute(parameter: any): boolean { return true; }\r\n        CanExecuteChanged = new nullstone.Event();\r\n        ForceCanExecuteChanged() {\r\n            this.CanExecuteChanged.raise(this, null);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RelayCommand);\r\n    nullstone.addTypeInterfaces(RelayCommand, Input.ICommand_);\r\n}","/// <reference path=\"../Core/DependencyObject\" />\r\n\r\ninterface ITimeline {\r\n    Update(nowTime: number);\r\n}\r\n\r\nmodule Fayde {\r\n    export class Application extends DependencyObject implements IResourcable, ITimerListener {\r\n        static Current: Application;\r\n        MainSurface: Surface;\r\n        Loaded = new nullstone.Event();\r\n        Address: Uri = null;\r\n        AllowNavigation = true;\r\n        private _IsRunning: boolean = false;\r\n        private _IsLoaded = false;\r\n        private _Storyboards: ITimeline[] = [];\r\n        private _ClockTimer: ClockTimer = new ClockTimer();\r\n        private _RootVisual: UIElement = null;\r\n\r\n        static ResourcesProperty = DependencyProperty.RegisterImmutable<ResourceDictionary>(\"Resources\", () => ResourceDictionary, Application);\r\n        static ThemeNameProperty = DependencyProperty.Register(\"ThemeName\", () => String, Application, \"Default\", (d: Application, args) => d.OnThemeNameChanged(args.OldValue, args.NewValue));\r\n        static ZoomFactorProperty = DependencyProperty.RegisterReadOnly(\"ZoomFactor\", () => Number, Application, 1.0, (d: Application, args) => d.OnZoomFactorChanged(args.OldValue, args.NewValue));\r\n        Resources: ResourceDictionary;\r\n        ThemeName: string;\r\n        ZoomFactor: number;\r\n\r\n        private OnThemeNameChanged(oldThemeName: string, newThemeName: string) {\r\n            if (!this._IsLoaded)\r\n                return;\r\n            ThemeManager.LoadAsync(newThemeName)\r\n                .then(() => this._ApplyTheme(),\r\n                    err => console.error(\"Could not load theme.\", err));\r\n        }\r\n\r\n        private OnZoomFactorChanged(oldZoom: number, newZoom: number) {\r\n        }\r\n\r\n        private _ApplyTheme() {\r\n            for (var walker = this.MainSurface.walkLayers(); walker.step();) {\r\n                for (var subwalker = walker.current.walkDeep(); subwalker.step();) {\r\n                    var node = subwalker.current.getAttachedValue(\"$node\");\r\n                    Providers.ImplicitStyleBroker.Set(<FrameworkElement>node.XObject, Providers.StyleMask.Theme);\r\n                }\r\n            }\r\n        }\r\n\r\n        Resized = new RoutedEvent<SizeChangedEventArgs>();\r\n\r\n        OnResized(oldSize: minerva.Size, newSize: minerva.Size) {\r\n            this.Resized.raise(this, new SizeChangedEventArgs(oldSize, newSize));\r\n        }\r\n\r\n        constructor() {\r\n            super();\r\n            this.XamlNode.NameScope = new NameScope(true);\r\n            var rd = Application.ResourcesProperty.Initialize(this);\r\n            this.MainSurface = new Surface(this);\r\n            this.Address = new Uri(document.URL);\r\n        }\r\n\r\n        get RootVisual(): UIElement {\r\n            for (var walker = this.MainSurface.walkLayers(); walker.step();) {\r\n                var node = walker.current.getAttachedValue(\"$node\");\r\n                return node.XObject;\r\n            }\r\n        }\r\n\r\n        $$SetRootVisual(value: UIElement) {\r\n            this._RootVisual = value;\r\n        }\r\n\r\n        Attach(canvas: HTMLCanvasElement) {\r\n            this.MainSurface.init(canvas);\r\n            this.MainSurface.Attach(this._RootVisual, true);\r\n        }\r\n\r\n        Start() {\r\n            this.Update();\r\n            this.Render();\r\n            this._ClockTimer.RegisterTimer(this);\r\n            this._IsLoaded = true;\r\n            this.Loaded.raiseAsync(this, null);\r\n        }\r\n\r\n        OnTicked(lastTime: number, nowTime: number) {\r\n            this.ProcessStoryboards(lastTime, nowTime);\r\n            this.Update();\r\n            this.Render();\r\n        }\r\n\r\n        private StopEngine() {\r\n            this._ClockTimer.UnregisterTimer(this);\r\n        }\r\n\r\n        private ProcessStoryboards(lastTime: number, nowTime: number) {\r\n            perfex.timer.start('StoryboardsProcess', this);\r\n            for (var i = 0, sbs = this._Storyboards; i < sbs.length; i++) {\r\n                sbs[i].Update(nowTime);\r\n            }\r\n            perfex.timer.stop();\r\n        }\r\n\r\n        private Update() {\r\n            if (this._IsRunning)\r\n                return;\r\n            this._IsRunning = true;\r\n            perfex.timer.start('UpdateLayout', this);\r\n            var updated = this.MainSurface.updateLayout();\r\n            perfex.timer.stop();\r\n            this._IsRunning = false;\r\n        }\r\n\r\n        private Render() {\r\n            perfex.timer.start('Render', this);\r\n            this.MainSurface.render();\r\n            perfex.timer.stop();\r\n        }\r\n\r\n        RegisterStoryboard(storyboard: ITimeline) {\r\n            var sbs = this._Storyboards;\r\n            var index = sbs.indexOf(storyboard);\r\n            if (index === -1)\r\n                sbs.push(storyboard);\r\n        }\r\n\r\n        UnregisterStoryboard(storyboard: ITimeline) {\r\n            var sbs = this._Storyboards;\r\n            var index = sbs.indexOf(storyboard);\r\n            if (index !== -1)\r\n                sbs.splice(index, 1);\r\n        }\r\n\r\n        static GetAsync(url: string): Promise<Application> {\r\n            return Markup.Resolve(url)\r\n                .then(appm => {\r\n                    TimelineProfile.Parse(true, \"App\");\r\n                    var app = Markup.Load<Application>(null, appm);\r\n                    TimelineProfile.Parse(false, \"App\");\r\n                    if (!(app instanceof Application))\r\n                        throw new Error(\"Markup must be an Application.\");\r\n                    return app;\r\n                });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Application);\r\n}","\r\nmodule Fayde {\r\n    export interface ITimerListener {\r\n        OnTicked(lastTime: number, nowTime: number);\r\n    }\r\n\r\n    var requestAnimFrame = (function () {\r\n        return window.requestAnimationFrame ||\r\n            (<any>window).webkitRequestAnimationFrame ||\r\n            (<any>window).mozRequestAnimationFrame ||\r\n            (<any>window).oRequestAnimationFrame ||\r\n            window.msRequestAnimationFrame ||\r\n            function (callback) {\r\n                window.setTimeout(callback, 1000 / 200);\r\n            };\r\n    })();\r\n\r\n    export class ClockTimer {\r\n        private _Listeners: Fayde.ITimerListener[] = [];\r\n        private _LastTime: number = 0;\r\n\r\n        RegisterTimer(listener: Fayde.ITimerListener) {\r\n            var ls = this._Listeners;\r\n            var index = ls.indexOf(listener);\r\n            if (index > -1)\r\n                return;\r\n            ls.push(listener);\r\n            if (ls.length === 1)\r\n                this._RequestAnimationTick();\r\n        }\r\n        UnregisterTimer(listener: Fayde.ITimerListener) {\r\n            var ls = this._Listeners;\r\n            var index = ls.indexOf(listener);\r\n            if (index > -1)\r\n                ls.splice(index, 1);\r\n        }\r\n        private _DoTick() {\r\n            var nowTime = new Date().getTime();\r\n            var lastTime = this._LastTime;\r\n            this._LastTime = nowTime;\r\n\r\n            var ls = this._Listeners;\r\n            var len = ls.length;\r\n            if (len === 0)\r\n                return;\r\n            for (var i = 0; i < len; i++) {\r\n                ls[i].OnTicked(lastTime, nowTime);\r\n            }\r\n            this._RequestAnimationTick();\r\n        }\r\n        private _RequestAnimationTick() {\r\n            requestAnimFrame(() => this._DoTick());\r\n        }\r\n    }\r\n}","class Exception {\r\n    Message: string;\r\n\r\n    constructor(message: string) {\r\n        this.Message = message;\r\n    }\r\n\r\n    toString(): string {\r\n        var typeName = (<any>this).constructor.name;\r\n        if (typeName)\r\n            return typeName + \": \" + this.Message;\r\n        return this.Message;\r\n    }\r\n}\r\n\r\nclass ArgumentException extends Exception {\r\n    constructor(message: string) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nclass ArgumentNullException extends Exception {\r\n    constructor(message: string) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nclass InvalidOperationException extends Exception {\r\n    constructor(message: string) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nclass XamlParseException extends Exception {\r\n    Data: any;\r\n\r\n    constructor(message: string, data?: any) {\r\n        super(message);\r\n        if (data) {\r\n            Object.defineProperties(this, {\r\n                \"Data\": {value: data, writable: false}\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nclass XamlMarkupParseException extends Exception {\r\n    constructor(message: string) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nclass NotSupportedException extends Exception {\r\n    constructor(message: string) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nclass IndexOutOfRangeException extends Exception {\r\n    constructor(index: number) {\r\n        super(index.toString());\r\n    }\r\n}\r\n\r\nclass ArgumentOutOfRangeException extends Exception {\r\n    constructor(msg: string) {\r\n        super(msg);\r\n    }\r\n}\r\n\r\nclass AttachException extends Exception {\r\n    Data: any;\r\n\r\n    constructor(message: string, data: any) {\r\n        super(message);\r\n        this.Data = data;\r\n    }\r\n}\r\n\r\nclass InvalidJsonException extends Exception {\r\n    JsonText: string;\r\n    InnerException: Error;\r\n\r\n    constructor(jsonText: string, innerException: Error) {\r\n        super(\"Invalid json.\");\r\n        this.JsonText = jsonText;\r\n        this.InnerException = innerException;\r\n    }\r\n}\r\n\r\nclass TargetInvocationException extends Exception {\r\n    InnerException: Exception;\r\n\r\n    constructor(message: string, innerException: Exception) {\r\n        super(message);\r\n        this.InnerException = innerException;\r\n    }\r\n}\r\n\r\nclass UnknownTypeException extends Exception {\r\n    FullTypeName: string;\r\n\r\n    constructor(fullTypeName: string) {\r\n        super(fullTypeName);\r\n        this.FullTypeName = fullTypeName;\r\n    }\r\n}\r\n\r\nclass FormatException extends Exception {\r\n    constructor(message: string) {\r\n        super(message);\r\n    }\r\n}","\r\nmodule Fayde.Engine {\r\n    interface IFocusChangedEvents {\r\n        GotFocus: Fayde.UINode[];\r\n        LostFocus: Fayde.UINode[];\r\n    }\r\n\r\n    export class FocusManager {\r\n        private _State: IInputState;\r\n        private _ChangedEvents: IFocusChangedEvents[] = [];\r\n        Node: UINode;\r\n\r\n        constructor(state: IInputState) {\r\n            this._State = state;\r\n        }\r\n        \r\n        GetFocusToRoot():UINode[] {\r\n            if (!this.Node)\r\n                return null;\r\n            return elementPathToRoot(this.Node);\r\n        }\r\n\r\n        OnNodeDetached(node: UINode) {\r\n            var f = this.Node;\r\n            while (f) {\r\n                if (f === node) {\r\n                    this._FocusNode();\r\n                    return;\r\n                }\r\n                f = f.VisualParentNode;\r\n            }\r\n        }\r\n\r\n        TabFocus(isShift: boolean) {\r\n            if (!this.Node)\r\n                return false;\r\n            Fayde.TabNavigationWalker.Focus(this.Node, !isShift);\r\n            return true;\r\n        }\r\n        Focus(ctrlNode: Fayde.Controls.ControlNode, recurse?: boolean): boolean {\r\n            recurse = recurse === undefined || recurse === true;\r\n            if (!ctrlNode.IsAttached)\r\n                return false;\r\n\r\n            var walker = Fayde.DeepTreeWalker(ctrlNode);\r\n            var uin: Fayde.UINode;\r\n            while (uin = walker.Step()) {\r\n                if (uin.XObject.Visibility !== Fayde.Visibility.Visible) {\r\n                    walker.SkipBranch();\r\n                    continue;\r\n                }\r\n\r\n                if (!(uin instanceof Fayde.Controls.ControlNode))\r\n                    continue;\r\n\r\n                var cn = <Fayde.Controls.ControlNode>uin;\r\n                var c = cn.XObject;\r\n                if (!c.IsEnabled) {\r\n                    if (!recurse)\r\n                        return false;\r\n                    walker.SkipBranch();\r\n                    continue;\r\n                }\r\n\r\n                var loaded = ctrlNode.IsLoaded;\r\n                var check: Fayde.UINode = ctrlNode;\r\n                while (!loaded && (check = check.VisualParentNode)) {\r\n                    loaded = loaded || check.IsLoaded;\r\n                }\r\n\r\n                if (loaded && cn.LayoutUpdater.assets.totalIsRenderVisible && c.IsTabStop)\r\n                    return this._FocusNode(cn);\r\n\r\n                if (!recurse)\r\n                    return false;\r\n            }\r\n            return false;\r\n        }\r\n        private _FocusNode(uin?: Fayde.UINode) {\r\n            if (uin === this.Node)\r\n                return true;\r\n            var fn = this.Node;\r\n            if (fn) {\r\n                this._ChangedEvents.push({\r\n                    LostFocus: elementPathToRoot(fn),\r\n                    GotFocus: null\r\n                });\r\n            }\r\n            this.Node = uin;\r\n            if (uin) {\r\n                this._ChangedEvents.push({\r\n                    LostFocus: null,\r\n                    GotFocus: elementPathToRoot(uin)\r\n                });\r\n            }\r\n\r\n            if (this._State.IsFirstUserInitiated)\r\n                this.EmitChangesAsync();\r\n\r\n            return true;\r\n        }\r\n\r\n        EmitChanges() {\r\n            var evts = this._ChangedEvents;\r\n            var cur;\r\n            while (cur = evts.shift()) {\r\n                this._EmitFocusList(\"lost\", cur.LostFocus);\r\n                this._EmitFocusList(\"got\", cur.GotFocus);\r\n            }\r\n        }\r\n        EmitChangesAsync() {\r\n            setTimeout(() => this.EmitChanges(), 1);\r\n        }\r\n        private _EmitFocusList(type: string, list: UINode[]) {\r\n            if (!list)\r\n                return;\r\n            var cur;\r\n            while (cur = list.shift()) {\r\n                cur._EmitFocusChange(type);\r\n            }\r\n        }\r\n        \r\n        FocusAnyLayer(walker: minerva.IWalker<minerva.core.Updater>) {\r\n            if (!this.Node) {\r\n                var top: UINode;\r\n                for (var node;walker.step();) {\r\n                    node = walker.current.getAttachedValue(\"$node\");\r\n                    if (!top)\r\n                        top = node;\r\n                    if (Fayde.TabNavigationWalker.Focus(node))\r\n                        break;\r\n                }\r\n                if (!this.Node && top)\r\n                    this._FocusNode(top);\r\n            }\r\n            if (this._State.IsFirstUserInitiated)\r\n                this.EmitChangesAsync();\r\n        }\r\n    }\r\n\r\n    function elementPathToRoot(source: UINode): UINode[] {\r\n        var list: UINode[] = [];\r\n        while (source) {\r\n            list.push(source);\r\n            source = source.VisualParentNode;\r\n        }\r\n        return list;\r\n    }\r\n}","\r\nmodule Fayde.Engine {\r\n    interface IFocusData {\r\n        Node: UINode;\r\n    }\r\n\r\n    export interface IInputState {\r\n        IsUserInitiated: boolean;\r\n        IsFirstUserInitiated: boolean;\r\n    }\r\n\r\n    export class InputManager {\r\n        private _Surface: Surface;\r\n        private _KeyInterop: Fayde.Input.IKeyInterop;\r\n        private _MouseInterop: Fayde.Input.IMouseInterop;\r\n        private _TouchInterop: Fayde.Input.ITouchInterop;\r\n        private _Focus: FocusManager;\r\n        private _State: IInputState;\r\n        private _Cursor: CursorType = Fayde.CursorType.Default;\r\n        SetCursor: (cursor: CursorType) => void = (cursor) => { };\r\n\r\n        private _CurrentPos: Point = null;\r\n        private _EmittingMouseEvent: boolean = false;\r\n        private _InputList: Fayde.UINode[] = [];\r\n        private _Captured: Fayde.UINode = null;\r\n        private _PendingCapture: Fayde.UINode = null;\r\n        private _PendingReleaseCapture: boolean = false;\r\n        private _CapturedInputList: Fayde.UINode[] = [];\r\n\r\n        get FocusedNode(): UINode { return this._Focus.Node; }\r\n        Focus(node: Controls.ControlNode, recurse?: boolean) { return this._Focus.Focus(node, recurse); }\r\n\r\n        constructor(surface: Surface) {\r\n            this._Surface = surface;\r\n            this._KeyInterop = Fayde.Input.CreateKeyInterop();\r\n            this._MouseInterop = Fayde.Input.CreateMouseInterop();\r\n            this._TouchInterop = Fayde.Input.CreateTouchInterop();\r\n\r\n            this._Focus = new FocusManager(this._State = {\r\n                IsUserInitiated: false,\r\n                IsFirstUserInitiated: false\r\n            });\r\n        }\r\n\r\n        Register(canvas: HTMLCanvasElement) {\r\n            this.SetCursor = (cursor) => canvas.style.cursor = CursorTypeMappings[CursorType[this._Cursor = cursor]];\r\n\r\n            this._KeyInterop.RegisterEvents(this);\r\n            this._MouseInterop.RegisterEvents(this, canvas);\r\n            this._TouchInterop.Register(this, canvas);\r\n        }\r\n\r\n        OnNodeDetached(node: UINode) {\r\n            var il = this._InputList;\r\n            if (il[il.length - 1] === node)\r\n                this._InputList = [];\r\n            this._Focus.OnNodeDetached(node);\r\n        }\r\n\r\n        SetIsUserInitiatedEvent(value: boolean) {\r\n            this._Focus.EmitChanges()\r\n            this._State.IsFirstUserInitiated = this._State.IsFirstUserInitiated || value;\r\n            this._State.IsUserInitiated = value;\r\n        }\r\n\r\n        HandleKeyDown(args: Input.KeyEventArgs) {\r\n            this.SetIsUserInitiatedEvent(true);\r\n            Input.Keyboard.RefreshModifiers(args.Modifiers);\r\n            var focusToRoot = this._Focus.GetFocusToRoot();\r\n            if (focusToRoot)\r\n                this._EmitKeyDown(focusToRoot, args);\r\n            if (!args.Handled && args.Key === Input.Key.Tab) {\r\n                if (!this._Focus.TabFocus(args.Modifiers.Shift))\r\n                    this._Focus.FocusAnyLayer(this._Surface.walkLayers(true));\r\n                args.Handled = true;\r\n            }\r\n            this.SetIsUserInitiatedEvent(false);\r\n        }\r\n        private _EmitKeyDown(list: UINode[], args: Input.KeyEventArgs, endIndex?: number) {\r\n            if (endIndex === 0)\r\n                return;\r\n            if (!endIndex || endIndex === -1)\r\n                endIndex = list.length;\r\n\r\n            var i = 0;\r\n            var cur = list.shift();\r\n            while (cur && i < endIndex) {\r\n                cur._EmitKeyDown(args);\r\n                cur = list.shift();\r\n                i++;\r\n            }\r\n        }\r\n\r\n        HandleMousePress(button: number, pos: Point): boolean {\r\n            this.SetIsUserInitiatedEvent(true);\r\n            var handled = this.HandleMouseEvent(Input.MouseInputType.MouseDown, button, pos);\r\n            this.UpdateCursorFromInputList();\r\n            this.SetIsUserInitiatedEvent(false);\r\n            return handled;\r\n        }\r\n        HandleMouseRelease(button: number, pos: Point) {\r\n            this.SetIsUserInitiatedEvent(true);\r\n            this.HandleMouseEvent(Input.MouseInputType.MouseUp, button, pos);\r\n            this.UpdateCursorFromInputList();\r\n            this.SetIsUserInitiatedEvent(false);\r\n            if (this._Captured)\r\n                this._PerformReleaseCapture();\r\n        }\r\n        HandleMouseEvent(type: Input.MouseInputType, button: number, pos: Point, delta?: number, emitLeave?: boolean, emitEnter?: boolean): boolean {\r\n            this._CurrentPos = pos;\r\n            if (this._EmittingMouseEvent)\r\n                return false;\r\n\r\n            var newInputList = this.HitTestPoint(pos);\r\n            if (!newInputList)\r\n                return false;\r\n\r\n            this._EmittingMouseEvent = true;\r\n\r\n            var indices = { Index1: -1, Index2: -1 };\r\n            findFirstCommonElement(this._InputList, newInputList, indices);\r\n            if (emitLeave === undefined || emitLeave === true)\r\n                this._EmitMouseList(Input.MouseInputType.MouseLeave, button, pos, delta, this._InputList, indices.Index1);\r\n            if (emitEnter === undefined || emitEnter === true)\r\n                this._EmitMouseList(Input.MouseInputType.MouseEnter, button, pos, delta, newInputList, indices.Index2);\r\n\r\n            var handled = false;\r\n            if (type !== Input.MouseInputType.NoOp)\r\n                handled = this._EmitMouseList(type, button, pos, delta, this._Captured ? this._CapturedInputList : newInputList);\r\n            this._InputList = newInputList;\r\n\r\n            if (this._Surface.HitTestCallback)\r\n                this._Surface.HitTestCallback(newInputList);\r\n\r\n            if (this._PendingCapture)\r\n                this._PerformCapture(this._PendingCapture);\r\n            if (this._PendingReleaseCapture || (this._Captured && !this._Captured.CanCaptureMouse()))\r\n                this._PerformReleaseCapture();\r\n            this._EmittingMouseEvent = false;\r\n            return handled;\r\n        }\r\n        private _EmitMouseList(type: Input.MouseInputType, button: number, pos: Point, delta: number, list: Fayde.UINode[], endIndex?: number): boolean {\r\n            var handled = false;\r\n            if (endIndex === 0)\r\n                return handled;\r\n            if (!endIndex || endIndex === -1)\r\n                endIndex = list.length;\r\n            var args = this._MouseInterop.CreateEventArgs(type, pos, delta);\r\n            var node = list[0];\r\n            if (node && args instanceof Fayde.RoutedEventArgs)\r\n                args.Source = node.XObject;\r\n            var isL = this._MouseInterop.IsLeftButton(button);\r\n            var isR = this._MouseInterop.IsRightButton(button);\r\n            if (Fayde.Engine.Inspection.TryHandle(type, isL, isR, args, list))\r\n                return true;\r\n            for (var i = 0; i < endIndex; i++) {\r\n                node = list[i];\r\n                if (type === Input.MouseInputType.MouseLeave)\r\n                    args.Source = node.XObject;\r\n                if (node._EmitMouseEvent(type, isL, isR, args))\r\n                    handled = true;\r\n                if (type === Input.MouseInputType.MouseLeave) //MouseLeave gets new event args on each emit\r\n                    args = this._MouseInterop.CreateEventArgs(type, pos, delta);\r\n            }\r\n            return handled;\r\n        }\r\n\r\n        HitTestPoint(pos: Point): UINode[] {\r\n            return this._Surface.hitTest(pos).map(upd => upd.getAttachedValue(\"$node\"));\r\n        }\r\n\r\n        UpdateCursorFromInputList() {\r\n            var newCursor = Fayde.CursorType.Default;\r\n            var list = this._Captured ? this._CapturedInputList : this._InputList;\r\n            var len = list.length;\r\n            for (var i = 0; i < len; i++) {\r\n                newCursor = list[i].XObject.Cursor;\r\n                if (newCursor !== Fayde.CursorType.Default)\r\n                    break;\r\n            }\r\n            this.SetCursor(newCursor);\r\n        }\r\n        SetMouseCapture(uin: Fayde.UINode): boolean {\r\n            if (this._Captured || this._PendingCapture)\r\n                return uin === this._Captured || uin === this._PendingCapture;\r\n            if (!this._EmittingMouseEvent)\r\n                return false;\r\n            this._PendingCapture = uin;\r\n            return true;\r\n        }\r\n        ReleaseMouseCapture(uin: Fayde.UINode) {\r\n            if (uin !== this._Captured && uin !== this._PendingCapture)\r\n                return;\r\n            if (this._EmittingMouseEvent)\r\n                this._PendingReleaseCapture = true;\r\n            else\r\n                this._PerformReleaseCapture();\r\n        }\r\n        private _PerformCapture(uin: Fayde.UINode) {\r\n            this._Captured = uin;\r\n            var newInputList = [];\r\n            while (uin != null) {\r\n                newInputList.push(uin);\r\n                uin = uin.VisualParentNode;\r\n            }\r\n            this._CapturedInputList = newInputList;\r\n            this._PendingCapture = null;\r\n        }\r\n        private _PerformReleaseCapture() {\r\n            var oldCaptured = this._Captured;\r\n            this._Captured = null;\r\n            this._PendingReleaseCapture = false;\r\n            oldCaptured._EmitLostMouseCapture(this._CurrentPos);\r\n            //force \"MouseEnter\" on any new elements\r\n            this.HandleMouseEvent(Input.MouseInputType.NoOp, null, this._CurrentPos, undefined, false, true);\r\n        }\r\n    }\r\n\r\n    interface ICommonElementIndices {\r\n        Index1: number;\r\n        Index2: number;\r\n    }\r\n    function findFirstCommonElement(list1: Fayde.UINode[], list2: Fayde.UINode[], outObj: ICommonElementIndices) {\r\n        var i = list1.length - 1;\r\n        var j = list2.length - 1;\r\n        outObj.Index1 = -1;\r\n        outObj.Index2 = -1;\r\n        while (i >= 0 && j >= 0) {\r\n            if (list1[i] !== list2[j])\r\n                return;\r\n            outObj.Index1 = i--;\r\n            outObj.Index2 = j--;\r\n        }\r\n    }\r\n}","module Fayde.Engine {\r\n    export class Inspection {\r\n        //Ctrl+Right Click to show context menu\r\n        static TryHandle(type: Input.MouseInputType, isLeftButton: boolean, isRightButton: boolean, args: Input.MouseEventArgs, htlist: UINode[]): boolean {\r\n            if (!Fayde.IsInspectionOn)\r\n                return false;\r\n            if (type !== Input.MouseInputType.MouseDown)\r\n                return false;\r\n            if (!isRightButton)\r\n                return false;\r\n            if (!Input.Keyboard.HasControl())\r\n                return false;\r\n            var pos = args.AbsolutePos;\r\n            showMenu(pos, htlist);\r\n            return true;\r\n        }\r\n        static Kill() {\r\n            if (menu)\r\n                menu.style.display = \"none\";\r\n        }\r\n    }\r\n    \r\n    var menu: HTMLDivElement = null;\r\n    function showMenu(pos: Point, htlist: UINode[]) {\r\n        menu = menu || createMenu();\r\n        fillMenu(htlist);\r\n        menu.style.left = pos.x.toString() + \"px\";\r\n        menu.style.top = pos.y.toString() + \"px\";\r\n        menu.style.display = \"\";\r\n    }\r\n    function createMenu(): HTMLDivElement {\r\n        var m = document.createElement(\"div\");\r\n        m.style.position = \"absolute\";\r\n        m.style.display = \"none\";\r\n        m.style.backgroundColor = \"rgba(128,128,128,1.0)\";\r\n        m.style.padding = \"5px\";\r\n        m.style.fontFamily = \"Tahoma\";\r\n        m.oncontextmenu = () => false;\r\n        document.body.appendChild(m);\r\n        return m;\r\n    }\r\n    function fillMenu(htlist: UINode[]) {\r\n        menu.innerHTML = \"\";\r\n        var len = htlist.length;\r\n        for (var i = 0; i < len; i++) {\r\n            menu.appendChild(createMenuItem(htlist[i]));\r\n        }\r\n    }\r\n    function createMenuItem(cur: UINode) {\r\n        var miDiv = document.createElement(\"div\");\r\n        miDiv.style.cursor = \"pointer\";\r\n        miDiv.innerHTML = serializeUINode(cur);\r\n        miDiv.onclick = () => handleMenuItemClick(cur);\r\n        miDiv.onmouseenter = () => handleMenuItemEnter(miDiv);\r\n        miDiv.onmouseleave = () => handleMenuItemLeave(miDiv);\r\n        return miDiv;\r\n    }\r\n    function serializeUINode(uin: UINode): string {\r\n        var cur = uin.XObject;\r\n\r\n        var str = \"\";\r\n\r\n        var id = (<any>cur)._ID;\r\n        if (id) str += \"[\" + id + \"] \";\r\n        str += (<any>cur).constructor.name;\r\n        \r\n        var name = uin.Name;\r\n        if (name) {\r\n            str += \" [\";\r\n            var ns = uin.NameScope;\r\n            if (!ns)\r\n                str += \"^\";\r\n            else if (ns.IsRoot)\r\n                str += \"+\";\r\n            else\r\n                str += \"-\";\r\n            str += name + \"]\";\r\n        }\r\n\r\n        return str;\r\n    }\r\n    function handleMenuItemClick(uin: UINode) {\r\n        menu.style.display = \"none\";\r\n    }\r\n    function handleMenuItemEnter(mi: HTMLDivElement) {\r\n        mi.style.textDecoration = \"underline\";\r\n    }\r\n    function handleMenuItemLeave(mi: HTMLDivElement) {\r\n        mi.style.textDecoration = \"none\";\r\n    }\r\n}","var resizeTimeout: number;\r\n\r\nmodule Fayde {\r\n    export class Surface extends minerva.engine.Surface {\r\n        App: Application;\r\n        private $$root: UIElement = null;\r\n        private $$inputMgr: Engine.InputManager;\r\n        private $$zoom: number = 1;\r\n\r\n        HitTestCallback: (inputList: Fayde.UINode[]) => void;\r\n\r\n        constructor(app: Application) {\r\n            super();\r\n            Object.defineProperty(this, \"App\", {value: app, writable: false});\r\n            this.$$inputMgr = new Engine.InputManager(this);\r\n        }\r\n\r\n        init(canvas: HTMLCanvasElement) {\r\n            super.init(canvas);\r\n\r\n            if (!this.$$updateZoom())\r\n                this.$$setScrollbars(false);\r\n            this.$$stretchCanvas();\r\n            (<any>document.body).onresize = (e) => this.$$handleResize(window.event ? <any>window.event : e);\r\n            window.onresize = (e) => this.$$handleResize(window.event ? <any>window.event : e);\r\n\r\n            this.$$inputMgr.Register(canvas);\r\n        }\r\n\r\n        Attach(uie: UIElement, root?: boolean) {\r\n            if (root === true) {\r\n                if (!(uie instanceof UIElement))\r\n                    throw new Exception(\"Unsupported top level element.\");\r\n                if (this.$$root)\r\n                    this.detachLayer(this.$$root.XamlNode.LayoutUpdater);\r\n                this.$$root = uie;\r\n            }\r\n            this.attachLayer(uie.XamlNode.LayoutUpdater, root);\r\n        }\r\n\r\n        attachLayer(layer: minerva.core.Updater, root?: boolean) {\r\n            super.attachLayer(layer, root);\r\n            var node = <UINode>layer.getAttachedValue(\"$node\");\r\n            node.SetIsLoaded(true);\r\n            node.SetIsAttached(true);\r\n        }\r\n\r\n        Detach(uie: UIElement) {\r\n            this.detachLayer(uie.XamlNode.LayoutUpdater);\r\n        }\r\n\r\n        detachLayer(layer: minerva.core.Updater) {\r\n            var node = <UINode>layer.getAttachedValue(\"$node\");\r\n            node.SetIsLoaded(false);\r\n            node.SetIsAttached(false);\r\n            super.detachLayer(layer);\r\n        }\r\n\r\n        updateLayout(): boolean {\r\n            var updated = super.updateLayout();\r\n            if (updated)\r\n                this.$$onLayoutUpdated();\r\n            return updated;\r\n        }\r\n\r\n        private $$onLayoutUpdated() {\r\n            for (var walker = this.walkLayers(); walker.step();) {\r\n                for (var subwalker = walker.current.walkDeep(); subwalker.step();) {\r\n                    var upd = subwalker.current;\r\n                    var node = upd.getAttachedValue(\"$node\");\r\n                    var xobj = node.XObject;\r\n                    xobj.LayoutUpdated.raise(xobj, null);\r\n                }\r\n            }\r\n        }\r\n\r\n        Focus(node: Controls.ControlNode, recurse?: boolean): boolean {\r\n            return this.$$inputMgr.Focus(node, recurse);\r\n        }\r\n\r\n        static HasFocus(uie: UIElement): boolean {\r\n            var uin = uie.XamlNode;\r\n            var surface = <Surface>uin.LayoutUpdater.tree.surface;\r\n            if (!surface)\r\n                return false;\r\n            var curNode = surface.$$inputMgr.FocusedNode;\r\n            while (curNode) {\r\n                if (curNode === uin)\r\n                    return true;\r\n                curNode = curNode.VisualParentNode;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        static Focus(uie: Controls.Control, recurse?: boolean): boolean {\r\n            var uin = uie.XamlNode;\r\n            var surface = <Surface>uin.LayoutUpdater.tree.surface;\r\n            if (!surface)\r\n                return false;\r\n            return surface.$$inputMgr.Focus(uin, recurse);\r\n        }\r\n\r\n        static GetFocusedElement(uie: UIElement): UIElement {\r\n            var uin = uie.XamlNode;\r\n            var surface = <Surface>uin.LayoutUpdater.tree.surface;\r\n            if (!surface)\r\n                return null;\r\n            var curNode = surface.$$inputMgr.FocusedNode;\r\n            return curNode.XObject;\r\n        }\r\n\r\n        static RemoveFocusFrom(uie: UIElement): boolean {\r\n            var node = uie.XamlNode;\r\n            var surface = <Surface>node.LayoutUpdater.tree.surface;\r\n            if (!surface)\r\n                return false;\r\n            surface.$$inputMgr.OnNodeDetached(node);\r\n            return true;\r\n        }\r\n\r\n        static SetMouseCapture(uin: Fayde.UINode): boolean {\r\n            var surface = <Surface>uin.LayoutUpdater.tree.surface;\r\n            if (!surface)\r\n                return false;\r\n            return surface.$$inputMgr.SetMouseCapture(uin);\r\n        }\r\n\r\n        static ReleaseMouseCapture(uin: Fayde.UINode) {\r\n            var surface = <Surface>uin.LayoutUpdater.tree.surface;\r\n            if (!surface)\r\n                return;\r\n            surface.$$inputMgr.ReleaseMouseCapture(uin);\r\n        }\r\n\r\n        private $$handleResize(evt?: any) {\r\n            if (resizeTimeout)\r\n                clearTimeout(resizeTimeout);\r\n            resizeTimeout = setTimeout(() => {\r\n                this.$$updateZoom();\r\n                this.$$stretchCanvas();\r\n                resizeTimeout = null;\r\n            }, 15);\r\n        }\r\n\r\n        private $$stretchCanvas() {\r\n            this.resize(Math.round(window.innerWidth * this.$$zoom), Math.round(window.innerHeight * this.$$zoom));\r\n        }\r\n\r\n        private $$updateZoom(): boolean {\r\n            var oldZoom = this.$$zoom;\r\n            var newZoom = minerva.zoom.calc();\r\n            if (oldZoom === newZoom)\r\n                return false;\r\n            this.$$zoom = newZoom;\r\n            this.onZoomChanged(oldZoom, newZoom);\r\n            return true;\r\n        }\r\n\r\n        protected onZoomChanged(oldZoom: number, newZoom: number) {\r\n            this.App.SetCurrentValue(Application.ZoomFactorProperty, newZoom);\r\n            this.$$setScrollbars(newZoom > 1);\r\n            this.updateDpiRatio();\r\n        }\r\n\r\n        private $$setScrollbars(show: boolean) {\r\n            var style = document.body.style;\r\n            style.overflowY = style.overflowX = show === true ? \"\" : \"hidden\";\r\n        }\r\n    }\r\n}","module Fayde {\r\n    export class Theme {\r\n        Name: string;\r\n        LibraryUri: Uri;\r\n        Resources: ResourceDictionary = null;\r\n\r\n        private $$loaded = false;\r\n        private $$retrieved = false;\r\n\r\n        static WarnMissing = false;\r\n\r\n        constructor(name: string, libUri: Uri) {\r\n            this.Name = name;\r\n            this.LibraryUri = libUri;\r\n        }\r\n\r\n        RetrieveAsync(): Promise<string> {\r\n            var reqUri = ThemeConfig.GetRequestUri(this.LibraryUri, this.Name);\r\n            if (!reqUri || this.$$retrieved)\r\n                return Promise.resolve(reqUri);\r\n            return Markup.Retrieve(reqUri)\r\n                .then(() => {\r\n                    this.$$retrieved = true;\r\n                    return reqUri;\r\n                });\r\n        }\r\n\r\n        LoadAsync(): Promise<Theme> {\r\n            if (this.$$loaded)\r\n                return Promise.resolve(this);\r\n            return new Promise((resolve, reject) => {\r\n                this.RetrieveAsync()\r\n                    .then(reqUri => Markup.Resolve(reqUri, this.LibraryUri))\r\n                    .then(md => {\r\n                        this.$$loaded = true;\r\n                        var rd = Markup.Load<ResourceDictionary>(null, md);\r\n                        if (!(rd instanceof ResourceDictionary))\r\n                            throw new Error(\"Theme root must be a ResourceDictionary.\");\r\n                        Object.defineProperty(this, \"Resources\", {value: rd, writable: false});\r\n                        resolve(this);\r\n                    }, err => {\r\n                        if (Theme.WarnMissing)\r\n                            console.warn(\"Failed to load Theme. [\" + this.LibraryUri + \"][\" + this.Name + \"]\", err);\r\n                        resolve(this);\r\n                    });\r\n            });\r\n        }\r\n\r\n        GetImplicitStyle(type: any): Style {\r\n            var rd = this.Resources;\r\n            if (!rd)\r\n                return undefined;\r\n            var style = <Style>rd.Get(type);\r\n            if (style instanceof Style)\r\n                return style;\r\n            return undefined;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Theme);\r\n}","module Fayde {\r\n    export module ThemeConfig {\r\n        var configs = {};\r\n\r\n        var DEFAULT_TEMPLATE_URI = \"lib/<libname>/themes/<themename>.Theme.xml\";\r\n\r\n        export function GetRequestUri (uri: Uri, name: string): string {\r\n            if (Uri.isNullOrEmpty(uri))\r\n                return null;\r\n            var config = configs[uri.toString()];\r\n            if (config && config.none)\r\n                return null;\r\n            var templateUri = ((config) ? config.requestTemplateUri : null) || DEFAULT_TEMPLATE_URI;\r\n            return processTemplate(uri, name, templateUri);\r\n        }\r\n\r\n        export function OverrideRequestUri (uri: Uri, templateUri: string) {\r\n            configs[uri.toString()] = {\r\n                requestTemplateUri: templateUri\r\n            };\r\n        }\r\n\r\n        export function Set (libName: string, path: string) {\r\n            //NOTE:\r\n            //  path === undefined  --> use default\r\n            //  path === null       --> don't load theme\r\n            //  other               --> use path as template\r\n            if (!libName) {\r\n                console.warn(\"Could not configure theme. No library specified.\");\r\n                return;\r\n            }\r\n            var uri = new Uri(libName);\r\n            if (uri.scheme !== \"http\")\r\n                uri = new Uri(\"lib://\" + libName);\r\n\r\n            if (path === undefined)\r\n                configs[uri.toString()] = null;\r\n            else if (path === null)\r\n                configs[uri.toString()] = {\r\n                    none: true\r\n                };\r\n            else\r\n                configs[uri.toString()] = {\r\n                    requestTemplateUri: path\r\n                };\r\n        }\r\n\r\n        function processTemplate (uri: Uri, name: string, template: string): string {\r\n            var libName = uri.host;\r\n            var rv = template;\r\n            rv = rv.replace(\"<libname>\", libName);\r\n            rv = rv.replace(\"<themename>\", name);\r\n            return rv;\r\n        }\r\n\r\n        OverrideRequestUri(new Uri(Fayde.XMLNS), \"lib/fayde/themes/<themename>.theme.xml\");\r\n        Set(Fayde.XMLNSX, \"none\");\r\n    }\r\n}","module Fayde {\r\n    export interface IThemeManager {\r\n        LoadAsync(themeName: string): Promise<any>;\r\n        FindStyle(defaultStyleKey: any): Style;\r\n    }\r\n\r\n    export var DEFAULT_THEME_NAME = \"Metro\";\r\n\r\n    class ThemeManagerImpl implements IThemeManager {\r\n        private $$libs: ThemedLibrary[] = [];\r\n        private $$activeThemeName: string = null;\r\n\r\n        constructor() {\r\n            Fayde.TypeManager.libResolver.libraryCreated.on(this.$$onLibraryCreated, this);\r\n            this.$$libs.push(<ThemedLibrary><any>Fayde.CoreLibrary);\r\n        }\r\n\r\n        private $$onLibraryCreated(sender: any, args: nullstone.ILibraryCreatedEventArgs) {\r\n            var tlib = <ThemedLibrary>args.library;\r\n            (<any>tlib).$$activeThemeName = this.$$activeThemeName;\r\n            this.$$libs.push(tlib);\r\n        }\r\n\r\n        LoadAsync(themeName?: string): Promise<any> {\r\n            if (!themeName)\r\n                themeName = this.$$activeThemeName;\r\n            this.$$activeThemeName = themeName;\r\n            this.$$libs.forEach(lib => lib.setThemeName(themeName));\r\n            return Promise.all(this.$$libs\r\n                .filter(lib => lib.isLoaded)\r\n                .map(lib => lib.loadActiveTheme()));\r\n        }\r\n\r\n        FindStyle(defaultStyleKey: any): Style {\r\n            if (!defaultStyleKey)\r\n                return null;\r\n            var uri = defaultStyleKey.$$uri;\r\n            if (uri) {\r\n                var lib = this.$$findLib(uri);\r\n                if (lib && lib.activeTheme)\r\n                    return lib.activeTheme.GetImplicitStyle(defaultStyleKey);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        private $$findLib(uri: string): ThemedLibrary {\r\n            for (var i = 0, libs = this.$$libs; i < libs.length; i++) {\r\n                var lib = libs[i];\r\n                if (lib.uri.toString() === uri)\r\n                    return lib;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    export var ThemeManager: IThemeManager = new ThemeManagerImpl();\r\n}","\r\nmodule Fayde.Input {\r\n    export module InteractionHelper {\r\n        export function GetLogicalKey(flowDirection: FlowDirection, key: Key): Key {\r\n            if (flowDirection !== FlowDirection.RightToLeft)\r\n                return key;\r\n            switch (key) {\r\n                case Key.Left:\r\n                    return Key.Right;\r\n                case Key.Right:\r\n                    return Key.Left;\r\n                default:\r\n                    return key;\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"KeyEventArgs.ts\" />\r\n\r\n\r\n// Good Resource: http://unixpapa.com/js/key.html\r\n\r\nmodule Fayde.Input {\r\n    export interface IKeyInterop {\r\n        RegisterEvents(inputHandler: Engine.InputManager);\r\n    }\r\n    export function CreateKeyInterop(): IKeyInterop {\r\n        //Figure out which KeyInterop\r\n        if (navigator.appName === \"Microsoft Internet Explorer\")\r\n            return new IEKeyInterop();\r\n        if (navigator.appName === \"Netscape\") {\r\n            if (!!navigator.userAgent.match(/Trident\\//)) //IE11 masquerading as Netscape\r\n                return new IEKeyInterop();\r\n            return new NetscapeKeyInterop();\r\n        }\r\n        return new KeyInterop();\r\n    }\r\n\r\n    var keyFromKeyCode: Key[] = [];\r\n    keyFromKeyCode[8] = Key.Back;\r\n    keyFromKeyCode[9] = Key.Tab;\r\n    keyFromKeyCode[13] = Key.Enter;\r\n    keyFromKeyCode[16] = Key.Shift;\r\n    keyFromKeyCode[17] = Key.Ctrl;\r\n    keyFromKeyCode[18] = Key.Alt;\r\n    //keyFromKeyCode[19] = Key.Pause/Break;\r\n    keyFromKeyCode[20] = Key.CapsLock;\r\n    keyFromKeyCode[27] = Key.Escape;\r\n    keyFromKeyCode[32] = Key.Space;\r\n    keyFromKeyCode[33] = Key.PageUp;\r\n    keyFromKeyCode[34] = Key.PageDown;\r\n    keyFromKeyCode[35] = Key.End;\r\n    keyFromKeyCode[36] = Key.Home;\r\n    keyFromKeyCode[37] = Key.Left;\r\n    keyFromKeyCode[38] = Key.Up;\r\n    keyFromKeyCode[39] = Key.Right;\r\n    keyFromKeyCode[40] = Key.Down;\r\n    keyFromKeyCode[45] = Key.Insert;\r\n    keyFromKeyCode[46] = Key.Delete;\r\n    keyFromKeyCode[48] = Key.D0;\r\n    keyFromKeyCode[49] = Key.D1;\r\n    keyFromKeyCode[50] = Key.D2;\r\n    keyFromKeyCode[51] = Key.D3;\r\n    keyFromKeyCode[52] = Key.D4;\r\n    keyFromKeyCode[53] = Key.D5;\r\n    keyFromKeyCode[54] = Key.D6;\r\n    keyFromKeyCode[55] = Key.D7;\r\n    keyFromKeyCode[56] = Key.D8;\r\n    keyFromKeyCode[57] = Key.D9;\r\n    //keyFromKeyCode[59] = Key.Semicolon/Colon;\r\n    //keyFromKeyCode[61] = Key.Equals/Plus;\r\n    keyFromKeyCode[65] = Key.A;\r\n    keyFromKeyCode[66] = Key.B;\r\n    keyFromKeyCode[67] = Key.C;\r\n    keyFromKeyCode[68] = Key.D;\r\n    keyFromKeyCode[69] = Key.E;\r\n    keyFromKeyCode[70] = Key.F;\r\n    keyFromKeyCode[71] = Key.G;\r\n    keyFromKeyCode[72] = Key.H;\r\n    keyFromKeyCode[73] = Key.I;\r\n    keyFromKeyCode[74] = Key.J;\r\n    keyFromKeyCode[75] = Key.K;\r\n    keyFromKeyCode[76] = Key.L;\r\n    keyFromKeyCode[77] = Key.M;\r\n    keyFromKeyCode[78] = Key.N;\r\n    keyFromKeyCode[79] = Key.O;\r\n    keyFromKeyCode[80] = Key.P;\r\n    keyFromKeyCode[81] = Key.Q;\r\n    keyFromKeyCode[82] = Key.R;\r\n    keyFromKeyCode[83] = Key.S;\r\n    keyFromKeyCode[84] = Key.T;\r\n    keyFromKeyCode[85] = Key.U;\r\n    keyFromKeyCode[86] = Key.V;\r\n    keyFromKeyCode[87] = Key.W;\r\n    keyFromKeyCode[88] = Key.X;\r\n    keyFromKeyCode[89] = Key.Y;\r\n    keyFromKeyCode[90] = Key.Z;\r\n    //keyFromKeyCode[91] = Key.Window;\r\n    keyFromKeyCode[96] = Key.NumPad0;\r\n    keyFromKeyCode[97] = Key.NumPad1;\r\n    keyFromKeyCode[98] = Key.NumPad2;\r\n    keyFromKeyCode[99] = Key.NumPad3;\r\n    keyFromKeyCode[100] = Key.NumPad4;\r\n    keyFromKeyCode[101] = Key.NumPad5;\r\n    keyFromKeyCode[102] = Key.NumPad6;\r\n    keyFromKeyCode[103] = Key.NumPad7;\r\n    keyFromKeyCode[104] = Key.NumPad8;\r\n    keyFromKeyCode[105] = Key.NumPad9;\r\n    keyFromKeyCode[106] = Key.Multiply;\r\n    keyFromKeyCode[107] = Key.Add;\r\n    keyFromKeyCode[109] = Key.Subtract;\r\n    keyFromKeyCode[110] = Key.Decimal;\r\n    keyFromKeyCode[111] = Key.Divide;\r\n    keyFromKeyCode[112] = Key.F1;\r\n    keyFromKeyCode[113] = Key.F2;\r\n    keyFromKeyCode[114] = Key.F3;\r\n    keyFromKeyCode[115] = Key.F4;\r\n    keyFromKeyCode[116] = Key.F5;\r\n    keyFromKeyCode[117] = Key.F6;\r\n    keyFromKeyCode[118] = Key.F7;\r\n    keyFromKeyCode[119] = Key.F8;\r\n    keyFromKeyCode[120] = Key.F9;\r\n    keyFromKeyCode[121] = Key.F10;\r\n    keyFromKeyCode[122] = Key.F11;\r\n    keyFromKeyCode[123] = Key.F12;\r\n\r\n    class KeyInterop implements IKeyInterop {\r\n        RegisterEvents(input: Engine.InputManager) {\r\n            document.onkeypress = (e) => {\r\n                var args = this.CreateArgsPress(e);\r\n                if (args) {\r\n                    input.HandleKeyDown(args);\r\n                    if (args.Handled) {\r\n                        e.preventDefault();\r\n                        return false;\r\n                    }\r\n                }\r\n            };\r\n            document.onkeydown = (e) => {\r\n                var args = this.CreateArgsDown(e);\r\n                if (args) {\r\n                    input.HandleKeyDown(args);\r\n                    if (args.Handled && this.IsPreventable(args)) {\r\n                        e.preventDefault();\r\n                        return false;\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        CreateArgsPress(e): Fayde.Input.KeyEventArgs {\r\n            return undefined;\r\n        }\r\n\r\n        CreateArgsDown(e): Fayde.Input.KeyEventArgs {\r\n            return undefined;\r\n        }\r\n\r\n        IsPreventable(args: KeyEventArgs): boolean {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    var udkie = [];\r\n    udkie[41] = 48;\r\n    udkie[33] = 49;\r\n    udkie[64] = 50;\r\n    udkie[35] = 51;\r\n    udkie[36] = 52;\r\n    udkie[37] = 53;\r\n    udkie[94] = 54;\r\n    udkie[38] = 55;\r\n    udkie[42] = 56;\r\n    udkie[34] = Key.Unknown;\r\n    class IEKeyInterop extends KeyInterop {\r\n        CreateArgsPress(e): KeyEventArgs {\r\n            if (!e[\"char\"])\r\n                return;\r\n\r\n            var modifiers = {\r\n                Shift: e.shiftKey,\r\n                Ctrl: e.ctrlKey,\r\n                Alt: e.altKey\r\n            };\r\n\r\n            var keyCode = e.keyCode;\r\n            var unshifted = udkie[keyCode];\r\n            if (unshifted)\r\n                keyCode = unshifted;\r\n\r\n            var args = new Fayde.Input.KeyEventArgs(modifiers, keyCode, keyFromKeyCode[keyCode], e[\"char\"]);\r\n            if (args.Key === Key.Unknown && e.key) {\r\n                args.Char = e.key;\r\n                var code = args.Char.toUpperCase().charCodeAt(0);\r\n                args.Key = keyFromKeyCode[code];\r\n                if (args.Key == null) args.Key = Key.Unknown;\r\n            }\r\n            return args;\r\n        }\r\n\r\n        CreateArgsDown(e): KeyEventArgs {\r\n            //NOTE: Ctrl+[key] does not flow through press\r\n            if (e[\"char\"] && e.keyCode !== 8 && e.keyCode !== 9 && !e.ctrlKey)\r\n                return;\r\n            var modifiers = {\r\n                Shift: e.shiftKey,\r\n                Ctrl: e.ctrlKey,\r\n                Alt: e.altKey\r\n            };\r\n            return new Fayde.Input.KeyEventArgs(modifiers, e.keyCode, keyFromKeyCode[e.keyCode]);\r\n        }\r\n    }\r\n\r\n    var sknet = [];\r\n    sknet[8] = Key.Back;\r\n    sknet[9] = Key.Tab;\r\n    sknet[20] = Key.CapsLock;\r\n    sknet[27] = Key.Escape;\r\n    sknet[33] = Key.PageUp;\r\n    sknet[34] = Key.PageDown;\r\n    sknet[35] = Key.End;\r\n    sknet[36] = Key.Home;\r\n    sknet[37] = Key.Left;\r\n    sknet[38] = Key.Up;\r\n    sknet[39] = Key.Right;\r\n    sknet[40] = Key.Down;\r\n    sknet[45] = Key.Insert;\r\n    sknet[46] = Key.Delete;\r\n\r\n    var udknet = [];\r\n    udknet[41] = 48;\r\n    udknet[33] = 49;\r\n    udknet[64] = 50;\r\n    udknet[35] = 51;\r\n    udknet[36] = 52;\r\n    udknet[37] = 53;\r\n    udknet[94] = 54;\r\n    udknet[38] = 55;\r\n    udknet[42] = 56;\r\n    udknet[34] = Key.Unknown;\r\n    class NetscapeKeyInterop extends KeyInterop {\r\n        CreateArgsPress(e): KeyEventArgs {\r\n            var modifiers = {\r\n                Shift: e.shiftKey,\r\n                Ctrl: e.ctrlKey,\r\n                Alt: e.altKey\r\n            };\r\n\r\n            var keyCode = e.keyCode;\r\n            var unshifted = udknet[keyCode];\r\n            if (unshifted)\r\n                keyCode = unshifted;\r\n\r\n            var args = new Fayde.Input.KeyEventArgs(modifiers, keyCode, keyFromKeyCode[keyCode], String.fromCharCode(e.which || e.keyCode));\r\n            if (args.Char === \"'\")\r\n                args.Key = Key.Unknown;\r\n            return args;\r\n        }\r\n\r\n        CreateArgsDown(e): KeyEventArgs {\r\n            //only do for special keys\r\n            //NOTE: Ctrl+[key] does not flow through press\r\n            if (sknet[e.keyCode] === undefined && !e.ctrlKey)\r\n                return null;\r\n\r\n            var modifiers = {\r\n                Shift: e.shiftKey,\r\n                Ctrl: e.ctrlKey,\r\n                Alt: e.altKey\r\n            };\r\n            return new Fayde.Input.KeyEventArgs(modifiers, e.keyCode, keyFromKeyCode[e.keyCode]);\r\n        }\r\n\r\n        IsPreventable(args: KeyEventArgs): boolean {\r\n            //TODO: Handle Mac keys\r\n            if (args.Modifiers.Ctrl && args.Key === Key.V) {\r\n                //Ctrl+V - don't prevent paste\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Input {\r\n    export class KeyboardNavigation {\r\n        static AcceptsReturnProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"AcceptsReturn\", () => Boolean, KeyboardNavigation);\r\n        static GetAcceptsReturn(d: DependencyObject): boolean { return d.GetValue(KeyboardNavigation.AcceptsReturnProperty); }\r\n        static SetAcceptsReturn(d: DependencyObject, value: boolean) { d.SetValue(KeyboardNavigation.AcceptsReturnProperty, value); }\r\n\r\n        static ControlTabNavigationProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"ControlTabNavigation\", () => new Enum(KeyboardNavigationMode), KeyboardNavigation);\r\n        static GetControlTabNavigation(d: DependencyObject): KeyboardNavigationMode { return d.GetValue(KeyboardNavigation.ControlTabNavigationProperty); }\r\n        static SetControlTabNavigation(d: DependencyObject, value: KeyboardNavigationMode) { d.SetValue(KeyboardNavigation.ControlTabNavigationProperty, value); }\r\n\r\n        static DirectionalNavigationProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"DirectionalNavigation\", () => new Enum(KeyboardNavigationMode), KeyboardNavigation);\r\n        static GetDirectionalNavigation(d: DependencyObject): KeyboardNavigationMode { return d.GetValue(KeyboardNavigation.DirectionalNavigationProperty); }\r\n        static SetDirectionalNavigation(d: DependencyObject, value: KeyboardNavigationMode) { d.SetValue(KeyboardNavigation.DirectionalNavigationProperty, value); }\r\n\r\n        static IsTabStopProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"IsTabStop\", () => Boolean, KeyboardNavigation);\r\n        static GetIsTabStop(d: DependencyObject): boolean { return d.GetValue(KeyboardNavigation.IsTabStopProperty); }\r\n        static SetIsTabStop(d: DependencyObject, value: boolean) { d.SetValue(KeyboardNavigation.IsTabStopProperty, value); }\r\n\r\n        static TabIndexProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"TabIndex\", () => Number, KeyboardNavigation);\r\n        static GetTabIndex(d: DependencyObject): number { return d.GetValue(KeyboardNavigation.TabIndexProperty); }\r\n        static SetTabIndex(d: DependencyObject, value: number) { d.SetValue(KeyboardNavigation.TabIndexProperty, value); }\r\n\r\n        static TabNavigationProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"TabNavigation\", () => new Enum(KeyboardNavigationMode), KeyboardNavigation);\r\n        static GetTabNavigation(d: DependencyObject): KeyboardNavigationMode { return d.GetValue(KeyboardNavigation.TabNavigationProperty); }\r\n        static SetTabNavigation(d: DependencyObject, value: KeyboardNavigationMode) { d.SetValue(KeyboardNavigation.TabNavigationProperty, value); }\r\n    }\r\n    Fayde.CoreLibrary.add(KeyboardNavigation);\r\n}","/// <reference path=\"../Core/RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde.Input {\r\n    export class MouseEventArgs extends RoutedEventArgs {\r\n        AbsolutePos: Point;\r\n        constructor(absolutePos: Point) {\r\n            super();\r\n            Object.defineProperty(this, \"AbsolutePos\", { value: absolutePos, writable: false });\r\n        }\r\n        GetPosition(relativeTo: UIElement): Point {\r\n            var p = this.AbsolutePos.Clone();\r\n            if (!relativeTo)\r\n                return p;\r\n            if (!(relativeTo instanceof UIElement))\r\n                throw new ArgumentException(\"Specified relative object must be a UIElement.\");\r\n            //TODO: If attached, should we run ProcessDirtyElements\r\n            minerva.core.Updater.transformPoint(relativeTo.XamlNode.LayoutUpdater, p);\r\n            return p;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(MouseEventArgs);\r\n\r\n    export class MouseButtonEventArgs extends MouseEventArgs {\r\n        constructor(absolutePos: Point) {\r\n            super(absolutePos);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(MouseButtonEventArgs);\r\n\r\n    export class MouseWheelEventArgs extends MouseEventArgs {\r\n        Delta: number;\r\n        constructor(absolutePos: Point, delta: number) {\r\n            super(absolutePos);\r\n            Object.defineProperty(this, \"Delta\", { value: delta, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(MouseWheelEventArgs);\r\n}","module Fayde.Input {\r\n    export enum MouseInputType {\r\n        NoOp = 0,\r\n        MouseUp = 1,\r\n        MouseDown = 2,\r\n        MouseLeave = 3,\r\n        MouseEnter = 4,\r\n        MouseMove = 5,\r\n        MouseWheel = 6,\r\n    }\r\n    export interface IMouseInterop {\r\n        RegisterEvents(input: Engine.InputManager, canvas: HTMLCanvasElement);\r\n        CreateEventArgs(type: MouseInputType, pos: Point, delta: number): Fayde.Input.MouseEventArgs;\r\n        IsLeftButton(button: number): boolean;\r\n        IsRightButton(button: number): boolean;\r\n    }\r\n    export function CreateMouseInterop (): IMouseInterop {\r\n        if (navigator.appName === \"Microsoft Internet Explorer\")\r\n            return new IEMouseInterop();\r\n        if (navigator.appName === \"Netscape\") {\r\n            if (!!navigator.userAgent.match(/Trident\\//)) //IE11 masquerading as Netscape\r\n                return new IEMouseInterop();\r\n            return new NetscapeMouseInterop();\r\n        }\r\n        return new MouseInterop();\r\n    }\r\n\r\n    interface IOffset {\r\n        left: number;\r\n        top: number;\r\n    }\r\n\r\n    class MouseInterop implements IMouseInterop {\r\n        private _Input: Engine.InputManager;\r\n        private _CanvasOffset: IOffset = null;\r\n        private _IsContextMenuDisabled: boolean = false;\r\n\r\n        RegisterEvents (input: Engine.InputManager, canvas: HTMLCanvasElement) {\r\n            this._Input = input;\r\n            this._CanvasOffset = this._CalcOffset(canvas);\r\n\r\n            canvas.addEventListener(\"contextmenu\", (e) => this._HandleContextMenu(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"mousedown\", (e) => this._HandleButtonPress(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"mouseup\", (e) => this._HandleButtonRelease(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"mouseout\", (e) => this._HandleOut(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"mousemove\", (e) => this._HandleMove(window.event ? <any>window.event : e));\r\n\r\n            //IE9, Chrome, Safari, Opera\r\n            canvas.addEventListener(\"mousewheel\", (e) => this._HandleWheel(window.event ? <any>window.event : e));\r\n            //Firefox\r\n            canvas.addEventListener(\"DOMMouseScroll\", (e) => this._HandleWheel(window.event ? <any>window.event : e));\r\n        }\r\n\r\n        private _CalcOffset (canvas: HTMLCanvasElement): IOffset {\r\n            var left = 0;\r\n            var top = 0;\r\n            var cur: HTMLElement = canvas;\r\n            if (cur.offsetParent) {\r\n                do {\r\n                    left += cur.offsetLeft;\r\n                    top += cur.offsetTop;\r\n                } while (cur = <HTMLElement>cur.offsetParent);\r\n            }\r\n            return {left: left, top: top};\r\n        }\r\n\r\n        private _GetMousePosition (evt): Point {\r\n            return new Point(\r\n                evt.clientX + window.pageXOffset + this._CanvasOffset.left,\r\n                evt.clientY + window.pageYOffset + this._CanvasOffset.top);\r\n        }\r\n\r\n        IsLeftButton (button: number): boolean {\r\n            return button === 1;\r\n        }\r\n\r\n        IsRightButton (button: number): boolean {\r\n            return button === 2;\r\n        }\r\n\r\n        private _HandleContextMenu (evt) {\r\n            if (!this._IsContextMenuDisabled)\r\n                return;\r\n            this._IsContextMenuDisabled = false;\r\n            evt.stopPropagation && evt.stopPropagation();\r\n            evt.preventDefault && evt.preventDefault();\r\n            evt.cancelBubble = true;\r\n            return false;\r\n        }\r\n\r\n        private _HandleButtonPress (evt) {\r\n            Engine.Inspection.Kill();\r\n            Input.Keyboard.RefreshModifiers(createModifiers(evt));\r\n            var button = evt.which ? evt.which : evt.button;\r\n            var pos = this._GetMousePosition(evt);\r\n            if (this._Input.HandleMousePress(button, pos))\r\n                this.DisableNextContextMenu();\r\n        }\r\n\r\n        private _HandleButtonRelease (evt) {\r\n            Input.Keyboard.RefreshModifiers(createModifiers(evt));\r\n            var button = evt.which ? evt.which : evt.button;\r\n            var pos = this._GetMousePosition(evt);\r\n            this._Input.HandleMouseRelease(button, pos);\r\n        }\r\n\r\n        private _HandleOut (evt) {\r\n            Input.Keyboard.RefreshModifiers(createModifiers(evt));\r\n            var pos = this._GetMousePosition(evt);\r\n            this._Input.HandleMouseEvent(MouseInputType.MouseLeave, null, pos);\r\n        }\r\n\r\n        private _HandleMove (evt) {\r\n            Input.Keyboard.RefreshModifiers(createModifiers(evt));\r\n            var pos = this._GetMousePosition(evt);\r\n            this._Input.HandleMouseEvent(MouseInputType.MouseMove, null, pos);\r\n            this._Input.UpdateCursorFromInputList();\r\n        }\r\n\r\n        private _HandleWheel (evt) {\r\n            Input.Keyboard.RefreshModifiers(createModifiers(evt));\r\n            var delta = 0;\r\n            if (evt.wheelDelta)\r\n                delta = evt.wheelDelta / 120;\r\n            else if (evt.detail)\r\n                delta = -evt.detail / 3;\r\n            if (evt.preventDefault)\r\n                evt.preventDefault();\r\n            evt.returnValue = false;\r\n            this._Input.HandleMouseEvent(MouseInputType.MouseWheel, null, this._GetMousePosition(evt), delta);\r\n            this._Input.UpdateCursorFromInputList();\r\n        }\r\n\r\n        CreateEventArgs (type: MouseInputType, pos: Point, delta: number): Fayde.Input.MouseEventArgs {\r\n            switch (type) {\r\n                case MouseInputType.MouseUp:\r\n                    return new Fayde.Input.MouseButtonEventArgs(pos);\r\n                case MouseInputType.MouseDown:\r\n                    return new Fayde.Input.MouseButtonEventArgs(pos);\r\n                case MouseInputType.MouseLeave:\r\n                    return new Fayde.Input.MouseEventArgs(pos);\r\n                case MouseInputType.MouseEnter:\r\n                    return new Fayde.Input.MouseEventArgs(pos);\r\n                case MouseInputType.MouseMove:\r\n                    return new Fayde.Input.MouseEventArgs(pos);\r\n                case MouseInputType.MouseWheel:\r\n                    return new Fayde.Input.MouseWheelEventArgs(pos, delta);\r\n            }\r\n        }\r\n\r\n        DisableNextContextMenu () {\r\n            this._IsContextMenuDisabled = true;\r\n        }\r\n    }\r\n\r\n    class IEMouseInterop extends MouseInterop {\r\n        StopIEContextMenu: boolean = false;\r\n\r\n        DisableNextContextMenu () {\r\n            super.DisableNextContextMenu();\r\n            this.StopIEContextMenu = true;\r\n        }\r\n\r\n        RegisterEvents (input: Engine.InputManager, canvas: HTMLCanvasElement) {\r\n            super.RegisterEvents(input, canvas);\r\n            canvas.oncontextmenu = (e) => this._HandleIEContextMenu(e);\r\n        }\r\n\r\n        private _HandleIEContextMenu (evt) {\r\n            if (this.StopIEContextMenu) {\r\n                this.StopIEContextMenu = false;\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    class NetscapeMouseInterop extends MouseInterop {\r\n        IsRightButton (button: number): boolean {\r\n            return button === 3;\r\n        }\r\n    }\r\n    function createModifiers (e): IModifiersOn {\r\n        return {\r\n            Shift: e.shiftKey,\r\n            Ctrl: e.ctrlKey,\r\n            Alt: e.altKey\r\n        };\r\n    }\r\n}","/// <reference path=\"../Core/RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde.Input {\r\n    export class TouchEventArgs extends RoutedEventArgs {\r\n        Device: ITouchDevice;\r\n        constructor(device: ITouchDevice) {\r\n            super();\r\n            this.Device = device;\r\n        }\r\n\r\n        GetTouchPoint(relativeTo: UIElement): TouchPoint {\r\n            return this.Device.GetTouchPoint(relativeTo);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TouchEventArgs);\r\n}","module Fayde.Input {\r\n    export interface ITouchDevice {\r\n        Identifier: number;\r\n        Captured: UIElement;\r\n        Capture(uie: UIElement): boolean;\r\n        ReleaseCapture(uie: UIElement);\r\n        GetTouchPoint(relativeTo: UIElement): TouchPoint;\r\n    }\r\n    export enum TouchInputType {\r\n        NoOp = 0,\r\n        TouchDown = 1,\r\n        TouchUp = 2,\r\n        TouchMove = 3,\r\n        TouchEnter = 4,\r\n        TouchLeave = 5\r\n    }\r\n    export interface ITouchInterop {\r\n        Register(input: Engine.InputManager, canvas: HTMLCanvasElement);\r\n    }\r\n    export function CreateTouchInterop(): ITouchInterop {\r\n        if (navigator.msPointerEnabled || (<any>navigator).pointerEnabled)\r\n            return new TouchInternal.PointerTouchInterop();\r\n        if (\"ontouchstart\" in window)\r\n            return new TouchInternal.NonPointerTouchInterop();\r\n        return new DummyTouchInterop();\r\n    }\r\n\r\n    class DummyTouchInterop implements ITouchInterop {\r\n        Register(input: Engine.InputManager, canvas: HTMLCanvasElement) { }\r\n    }\r\n}","module Fayde.Input {\r\n    export class TouchPoint {\r\n        Position: Point;\r\n        //RadiusX: number;\r\n        //RadiusY: number;\r\n        //RotationAngle: number;\r\n        Force: number;\r\n        constructor(position: Point, force: number) {\r\n            Object.defineProperty(this, \"Position\", { value: position, writable: false });\r\n            //Object.defineProperty(this, \"RadiusX\", { value: radiusX, writable: false });\r\n            //Object.defineProperty(this, \"RadiusY\", { value: radiusY, writable: false });\r\n            //Object.defineProperty(this, \"RotationAngle\", { value: rotationAngle, writable: false });\r\n            Object.defineProperty(this, \"Force\", { value: force, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TouchPoint);\r\n}","module Fayde.Input {\r\n    var keyboardInput: HTMLInputElement;\r\n\r\n    export class VirtualKeyboard {\r\n        static Init () {\r\n            keyboardInput = document.createElement('input');\r\n            keyboardInput.type = \"text\";\r\n            var style = keyboardInput.style;\r\n            style.opacity = \"0\";\r\n            style.cssFloat = \"left\";\r\n            style.width = \"0\";\r\n            style.height = \"0\";\r\n            style.borderWidth = \"0\";\r\n            document.body.insertBefore(keyboardInput, document.body.firstElementChild);\r\n        }\r\n\r\n        static Launch () {\r\n            console.log(\"Launch\");\r\n            keyboardInput.focus();\r\n        }\r\n    }\r\n}","module Fayde.Markup {\r\n    export interface IEventFilter {\r\n        Filter(sender: any, e: nullstone.IEventArgs, parameter: any): boolean;\r\n    }\r\n    export var IEventFilter_ = new nullstone.Interface<IEventFilter>(\"IEventFilter\");\r\n\r\n    export class EventBinding implements nullstone.markup.IMarkupExtension {\r\n        CommandPath: string = null;\r\n        Command: Data.BindingExpressionBase = null;\r\n        CommandParameter: Data.BindingExpressionBase = null;\r\n        CommandBinding: Data.Binding = null;\r\n        CommandParameterBinding: Data.Binding = null;\r\n        Filter: IEventFilter = null;\r\n\r\n        init (val: string) {\r\n            this.CommandPath = val;\r\n        }\r\n\r\n        transmute (os: any[]): any {\r\n            this.$$coerce();\r\n            Object.freeze(this);\r\n            return new EventBindingExpression(this);\r\n        }\r\n\r\n        private $$coerce () {\r\n            if (this.Command) {\r\n                this.CommandBinding = this.Command.ParentBinding.Clone();\r\n                this.Command = null;\r\n            }\r\n            if (this.CommandPath) {\r\n                this.CommandBinding = new Data.Binding(this.CommandPath);\r\n            }\r\n            if (this.CommandParameter) {\r\n                this.CommandParameterBinding = this.CommandParameter.ParentBinding.Clone();\r\n                this.CommandParameter = null;\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(EventBinding);\r\n}","module Fayde.Markup {\r\n    import XamlMarkup = nullstone.markup.xaml.XamlMarkup;\r\n\r\n    export function Resolve(uri: string|Uri): Promise<XamlMarkup>;\r\n    export function Resolve(uri: string|Uri, excludeUri: string|Uri): Promise<XamlMarkup>;\r\n    export function Resolve(uri: any, excludeUri?: string|Uri): Promise<XamlMarkup> {\r\n        return Retrieve(uri)\r\n            .tap(xm => {\r\n                var co = collector.create(excludeUri);\r\n                return Promise.all([\r\n                    xm.resolve(Fayde.TypeManager, co.collect, co.exclude),\r\n                    co.resolve()\r\n                ]);\r\n            });\r\n    }\r\n\r\n    module collector {\r\n        export interface ICollector {\r\n            collect(ownerUri: string, ownerName: string, propName: string, val: any);\r\n            exclude(uri: string, name: string): boolean;\r\n            resolve(): Promise<any>;\r\n        }\r\n\r\n        export function create(excludeUri?: Uri|string): ICollector {\r\n            var rduris: string[] = [];\r\n            var coll = {\r\n                collect(ownerUri: string, ownerName: string, propName: string, val: any) {\r\n                    if (ownerUri === Fayde.XMLNS && ownerName === \"ResourceDictionary\" && propName === \"Source\")\r\n                        rduris.push(val);\r\n                },\r\n                exclude(uri: string, name: string): boolean {\r\n                    return false;\r\n                },\r\n                resolve(): Promise<any> {\r\n                    return Promise.all(rduris.map(Resolve));\r\n                }\r\n            };\r\n            if (!!excludeUri)\r\n                coll.exclude = (uri, name) => excludeUri.toString() === uri;\r\n            return coll;\r\n        }\r\n    }\r\n}","module Fayde.Markup {\r\n    import XamlMarkup = nullstone.markup.xaml.XamlMarkup;\r\n\r\n    export function Retrieve(uri: string): Promise<XamlMarkup>;\r\n    export function Retrieve(uri: Uri): Promise<XamlMarkup>;\r\n    export function Retrieve(uri: any): Promise<XamlMarkup> {\r\n        var xm = XamlMarkup.create(uri);\r\n        if (xm.isLoaded)\r\n            return Promise.resolve(xm);\r\n        return xm.loadAsync();\r\n    }\r\n}\r\n","module Fayde.Markup {\r\n    export class StaticResource implements nullstone.markup.IMarkupExtension {\r\n        ResourceKey: string;\r\n\r\n        private $$app: Application;\r\n        private $$resources: ResourceDictionary[];\r\n\r\n        init (val: string) {\r\n            this.ResourceKey = val;\r\n        }\r\n\r\n        transmute (os: any[]): any {\r\n            var res = this.$$resources;\r\n            this.$$resources = undefined;\r\n\r\n            var key = this.ResourceKey;\r\n            var rd: ResourceDictionary;\r\n            for (var i = os.length - 1; i >= 0; i--) {\r\n                var cur = os[i];\r\n                if (cur instanceof FrameworkElement) {\r\n                    rd = (<FrameworkElement>cur).ReadLocalValue(FrameworkElement.ResourcesProperty);\r\n                    if (rd === DependencyProperty.UnsetValue)\r\n                        rd = undefined;\r\n                } else if (cur instanceof Application) {\r\n                    rd = (<Application>cur).Resources;\r\n                } else if (cur instanceof ResourceDictionary) {\r\n                    rd = cur;\r\n                }\r\n                var o = rd ? rd.Get(key) : undefined;\r\n                if (o !== undefined)\r\n                    return o;\r\n            }\r\n\r\n            for (var i = res ? (res.length - 1) : -1; i >= 0; i--) {\r\n                var o = res[i].Get(key);\r\n                if (o !== undefined)\r\n                    return o;\r\n            }\r\n\r\n            if (this.$$app) {\r\n                var rd = this.$$app.Resources;\r\n                if (rd) {\r\n                    var o = rd.Get(key);\r\n                    if (o !== undefined)\r\n                        return o;\r\n                }\r\n            }\r\n            //TODO: Search in Application.Resources\r\n\r\n            throw new Error(\"Could not resolve StaticResource: '\" + key + \"'.\")\r\n        }\r\n\r\n        setContext (app: Application, resources: ResourceDictionary[]) {\r\n            this.$$app = app;\r\n            this.$$resources = resources;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(StaticResource);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class Brush extends DependencyObject implements minerva.IBrush {\r\n        static TransformProperty = DependencyProperty.RegisterCore(\"Transform\", () => Media.Transform, Brush);\r\n        Transform: Media.Transform;\r\n\r\n        private _CachedBounds: minerva.Rect = null;\r\n        private _CachedBrush: any = null;\r\n\r\n        constructor () {\r\n            super();\r\n            XamlNode.SetShareable(this.XamlNode);\r\n        }\r\n\r\n        isTransparent (): boolean {\r\n            //TODO: Can we be clever with implementations?\r\n            return false;\r\n        }\r\n\r\n        setupBrush (ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            if (this._CachedBrush && this._CachedBounds && minerva.Rect.isEqual(this._CachedBounds, bounds))\r\n                return;\r\n            this._CachedBounds = new minerva.Rect(bounds.x, bounds.y, bounds.width, bounds.height);\r\n\r\n            var transform = this.Transform;\r\n            if (transform) {\r\n                var transformedBounds = transform.TransformBounds(bounds);\r\n                var raw = transform.Value._Raw;\r\n\r\n                var tmpBrush = this.CreateBrush(ctx, bounds);\r\n                var fillExtents = new minerva.Rect();\r\n                minerva.Rect.copyTo(bounds, fillExtents);\r\n                minerva.Rect.grow(fillExtents, raw[4], raw[5], 0, 0);\r\n\r\n                var tmpCanvas = <HTMLCanvasElement>document.createElement(\"canvas\");\r\n                tmpCanvas.width = Math.max(transformedBounds.width, bounds.width);\r\n                tmpCanvas.height = Math.max(transformedBounds.height, bounds.height);\r\n                var tmpCtx = <CanvasRenderingContext2D>tmpCanvas.getContext(\"2d\");\r\n                tmpCtx.setTransform(raw[0], raw[1], raw[2], raw[3], raw[4], raw[5]);\r\n                tmpCtx.fillStyle = tmpBrush;\r\n                tmpCtx.fillRect(fillExtents.x, fillExtents.y, fillExtents.width, fillExtents.height);\r\n\r\n                this._CachedBrush = ctx.createPattern(tmpCanvas, \"no-repeat\");\r\n            } else {\r\n                this._CachedBrush = this.CreateBrush(ctx, bounds);\r\n            }\r\n        }\r\n\r\n        toHtml5Object (): any {\r\n            return this._CachedBrush;\r\n        }\r\n\r\n        CreateBrush (ctx: CanvasRenderingContext2D, bounds: minerva.Rect): any {\r\n            return undefined;\r\n        }\r\n\r\n        InvalidateBrush () {\r\n            this._CachedBrush = null;\r\n            this._CachedBounds = null;\r\n            Incite(this);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Brush);\r\n\r\n    module reactions {\r\n        DPReaction<Media.Transform>(Brush.TransformProperty, (brush: Brush, ov, nv) => brush.InvalidateBrush());\r\n    }\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class Geometry extends DependencyObject implements minerva.IGeometry {\r\n        private _Path: minerva.path.Path = null;\r\n        private _LocalBounds = new minerva.Rect();\r\n\r\n        static TransformProperty = DependencyProperty.Register(\"Transform\", () => Transform, Geometry);\r\n        Transform: Transform;\r\n\r\n        constructor () {\r\n            super();\r\n            this._LocalBounds.width = Number.NEGATIVE_INFINITY;\r\n            this._LocalBounds.height = Number.NEGATIVE_INFINITY;\r\n        }\r\n\r\n        GetBounds (pars?: minerva.path.IStrokeParameters): minerva.Rect {\r\n            var compute = minerva.Rect.isEmpty(this._LocalBounds);\r\n\r\n            if (!this._Path) {\r\n                this._Path = this._Build();\r\n                compute = true;\r\n            }\r\n\r\n            if (compute)\r\n                minerva.Rect.copyTo(this.ComputePathBounds(pars), this._LocalBounds);\r\n\r\n            var bounds = new minerva.Rect();\r\n            minerva.Rect.copyTo(this._LocalBounds, bounds);\r\n            var transform = this.Transform;\r\n            if (transform != null)\r\n                bounds = transform.TransformBounds(bounds);\r\n\r\n            return bounds;\r\n        }\r\n\r\n        Draw (ctx: minerva.core.render.RenderContext) {\r\n            if (!this._Path)\r\n                return;\r\n\r\n            var raw = ctx.raw;\r\n            var transform = this.Transform;\r\n            if (transform != null) {\r\n                raw.save();\r\n                ctx.apply(transform.Value._Raw);\r\n            }\r\n            this._Path.draw(raw);\r\n            if (transform != null)\r\n                raw.restore();\r\n        }\r\n\r\n        ComputePathBounds (pars: minerva.path.IStrokeParameters): minerva.Rect {\r\n            if (!this._Path)\r\n                this._Path = this._Build();\r\n            if (!this._Path)\r\n                return new minerva.Rect();\r\n            return this._Path.calcBounds(pars);\r\n        }\r\n\r\n        InvalidateGeometry () {\r\n            this._Path = null;\r\n            var lb = this._LocalBounds;\r\n            lb.x = lb.y = 0;\r\n            lb.width = lb.height = Number.NEGATIVE_INFINITY;\r\n            Incite(this);\r\n        }\r\n\r\n        _Build (): minerva.path.Path {\r\n            return undefined;\r\n        }\r\n\r\n        Serialize (): string {\r\n            var path = this._Path;\r\n            if (!path)\r\n                return;\r\n            return path.Serialize();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Geometry);\r\n\r\n    module reactions {\r\n        DPReaction<Transform>(Geometry.TransformProperty, (geom: Geometry, ov, nv) => geom.InvalidateGeometry());\r\n    }\r\n\r\n    export class GeometryCollection extends XamlObjectCollection<Geometry> {\r\n        AddingToCollection (value: Geometry, error: BError): boolean {\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            ReactTo(value, this, () => Incite(this));\r\n            Incite(this);\r\n            return true;\r\n        }\r\n\r\n        RemovedFromCollection (value: Geometry, isValueSafe: boolean) {\r\n            super.RemovedFromCollection(value, isValueSafe);\r\n            UnreactTo(value, this);\r\n            Incite(this);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(GeometryCollection);\r\n}","/// <reference path=\"Geometry.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class EllipseGeometry extends Geometry {\r\n        static CenterProperty = DependencyProperty.Register(\"Center\", () => Point, EllipseGeometry, undefined, (d: Geometry, args) => d.InvalidateGeometry());\r\n        static RadiusXProperty = DependencyProperty.Register(\"RadiusX\", () => Number, EllipseGeometry, 0.0, (d: Geometry, args) => d.InvalidateGeometry());\r\n        static RadiusYProperty = DependencyProperty.Register(\"RadiusY\", () => Number, EllipseGeometry, 0.0, (d: Geometry, args) => d.InvalidateGeometry());\r\n        Center: Point;\r\n        RadiusX: number;\r\n        RadiusY: number;\r\n\r\n        _Build(): minerva.path.Path {\r\n            var rx = this.RadiusX;\r\n            var ry = this.RadiusY;\r\n            var center = this.Center;\r\n            var x = center ? center.x : 0.0;\r\n            var y = center ? center.y : 0.0;\r\n\r\n            var p = new minerva.path.Path();\r\n            p.ellipse(x - rx, y - ry, rx * 2.0, ry * 2.0);\r\n            return p;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(EllipseGeometry);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class GeneralTransform extends DependencyObject {\r\n        Inverse: GeneralTransform;\r\n\r\n        Transform (p: minerva.IPoint): Point {\r\n            return new Point(p.x, p.y);\r\n        }\r\n\r\n        TransformBounds (r: minerva.Rect): minerva.Rect {\r\n            return r;\r\n        }\r\n\r\n        TryTransform (inPoint: minerva.IPoint, outPoint: minerva.IPoint): boolean {\r\n            return false;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(GeneralTransform);\r\n\r\n    export class InternalTransform extends GeneralTransform implements minerva.ITransform {\r\n        private _Raw: number[];\r\n\r\n        constructor (raw: number[]) {\r\n            super();\r\n            this._Raw = raw;\r\n        }\r\n\r\n        get Inverse (): InternalTransform {\r\n            return new InternalTransform(mat4.inverse(this._Raw, mat4.create()));\r\n        }\r\n\r\n        get Value (): Matrix3D {\r\n            return Matrix3D.FromRaw(this._Raw);\r\n        }\r\n\r\n        getRaw (): number[] {\r\n            return this._Raw;\r\n        }\r\n\r\n        Transform (p: minerva.IPoint): Point {\r\n            var pi = vec4.create(p.x, p.y, 0.0, 1.0);\r\n            var po = vec4.create(0, 0, 0, 0);\r\n            mat4.transformVec4(this._Raw, pi, po);\r\n            if (po[3] !== 0.0) {\r\n                var w = 1.0 / po[3];\r\n                return new Point(po[0] * w, po[1] * w);\r\n            }\r\n            return new Point(NaN, NaN);\r\n        }\r\n\r\n        TransformBounds (r: minerva.Rect): minerva.Rect {\r\n            if (!r)\r\n                return undefined;\r\n\r\n            var copy = new minerva.Rect();\r\n            minerva.Rect.copyTo(r, copy);\r\n            minerva.Rect.transform4(copy, this._Raw);\r\n            return copy;\r\n        }\r\n\r\n        CreateMatrix3DProjection (): Matrix3DProjection {\r\n            var projection = new Matrix3DProjection();\r\n            projection.ProjectionMatrix = this.Inverse.Value;\r\n            return projection\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(InternalTransform);\r\n}","module Fayde.Shapes {\r\n    export enum ShapeFlags {\r\n        None = 0,\r\n        Empty = 1,\r\n        Normal = 2,\r\n        Degenerate = 4,\r\n        Radii = 8,\r\n    }\r\n\r\n    export enum PenLineCap {\r\n        Flat = 0,\r\n        Square = 1,\r\n        Round = 2,\r\n        Triangle = 3,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(PenLineCap, \"PenLineCap\");\r\n\r\n    export enum PenLineJoin {\r\n        Miter = 0,\r\n        Bevel = 1,\r\n        Round = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(PenLineJoin, \"PenLineJoin\");\r\n\r\n    export enum FillRule {\r\n        EvenOdd = 0,\r\n        NonZero = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(FillRule, \"FillRule\");\r\n\r\n    export enum SweepDirection {\r\n        Counterclockwise = 0,\r\n        Clockwise = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(SweepDirection, \"SweepDirection\");\r\n}","/// <reference path=\"Geometry.ts\" />\r\n/// <reference path=\"../Shapes/Enums.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class GeometryGroup extends Geometry {\r\n        static FillRulleProperty = DependencyProperty.Register(\"FillRule\", () => new Enum(Shapes.FillRule), GeometryGroup, Shapes.FillRule.EvenOdd);\r\n        static ChildrenProperty = DependencyProperty.RegisterImmutable<GeometryCollection>(\"Children\", () => GeometryCollection, GeometryGroup);\r\n        FillRule: Shapes.FillRule;\r\n        Children: GeometryCollection;\r\n\r\n        constructor () {\r\n            super();\r\n            var coll = GeometryGroup.ChildrenProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, () => this.InvalidateGeometry());\r\n        }\r\n\r\n        ComputePathBounds (pars: minerva.path.IStrokeParameters): minerva.Rect {\r\n            var bounds = new minerva.Rect();\r\n            var cbounds: minerva.Rect;\r\n            for (var enumerator = this.Children.getEnumerator(); enumerator.moveNext();) {\r\n                cbounds = enumerator.current.GetBounds(pars);\r\n                if (cbounds.width <= 0 && cbounds.height <= 0)\r\n                    continue;\r\n                if (bounds.width <= 0 && bounds.height <= 0)\r\n                    minerva.Rect.copyTo(cbounds, bounds);\r\n                else\r\n                    minerva.Rect.union(bounds, cbounds);\r\n            }\r\n            return bounds;\r\n        }\r\n\r\n        Draw (ctx: minerva.core.render.RenderContext) {\r\n            var transform = this.Transform;\r\n            if (transform != null) {\r\n                ctx.save();\r\n                ctx.apply(transform.Value._Raw);\r\n            }\r\n            var enumerator = this.Children.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                (<Geometry>enumerator.current).Draw(ctx);\r\n            }\r\n            if (transform != null)\r\n                ctx.restore();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(GeometryGroup);\r\n}","/// <reference path=\"Brush.ts\" />\r\n/// <reference path=\"Enums.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class GradientBrush extends Brush {\r\n        static GradientStopsProperty = DependencyProperty.RegisterImmutable<GradientStopCollection>(\"GradientStops\", () => GradientStopCollection, GradientBrush);\r\n        static MappingModeProperty = DependencyProperty.Register(\"MappingMode\", () => new Enum(BrushMappingMode), GradientBrush, BrushMappingMode.RelativeToBoundingBox, (d: GradientBrush, args) => d.InvalidateBrush());\r\n        static SpreadMethodProperty = DependencyProperty.Register(\"SpreadMethod\", () => new Enum(GradientSpreadMethod), GradientBrush, GradientSpreadMethod.Pad, (d: GradientBrush, args) => d.InvalidateBrush());\r\n        GradientStops: GradientStopCollection;\r\n        MappingMode: BrushMappingMode;\r\n        SpreadMethod: GradientSpreadMethod;\r\n\r\n        constructor() {\r\n            super();\r\n            var coll = GradientBrush.GradientStopsProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, () => this.InvalidateBrush());\r\n        }\r\n\r\n        CreateBrush(ctx: CanvasRenderingContext2D, bounds: minerva.Rect): any {\r\n            var spread = this.SpreadMethod;\r\n            switch (spread) {\r\n                case GradientSpreadMethod.Pad:\r\n                default:\r\n                    return this.CreatePad(ctx, bounds);\r\n                case GradientSpreadMethod.Repeat:\r\n                    return this.CreateRepeat(ctx, bounds);\r\n                case GradientSpreadMethod.Reflect:\r\n                    return this.CreateReflect(ctx, bounds);\r\n            }\r\n        }\r\n        CreatePad(ctx: CanvasRenderingContext2D, bounds: minerva.Rect) { }\r\n        CreateRepeat(ctx: CanvasRenderingContext2D, bounds: minerva.Rect) { }\r\n        CreateReflect(ctx: CanvasRenderingContext2D, bounds: minerva.Rect) { }\r\n\r\n\t/**\r\n\t * In Silverlight gradient offsets can be outside the range 0..1, but\r\n\t * in HTML5 they cannot.  Ensure that the gradient offsets are in range\r\n\t * even at the expense of differences in rendering between Silverlight\r\n\t * and Fayde.  Without this, an attempt to set an out-of-range offset\r\n\t * will cause an exception and you get no rendering at all.\r\n\t */\r\n\tpublic AddColorStop(grd : any, offset : number, color : string)\r\n\t{\r\n\t    if (offset < 0.0) offset = 0.0;\r\n\t    if (offset > 1.0) offset = 1.0;\r\n\t    grd.addColorStop(offset, color);\r\n\t}\r\n    }\r\n    Fayde.CoreLibrary.add(GradientBrush);\r\n    Markup.Content(GradientBrush, GradientBrush.GradientStopsProperty);\r\n}\r\n","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export interface IGradientStop {\r\n        Color: Color;\r\n        Offset: number;\r\n    }\r\n\r\n    export class GradientStop extends DependencyObject implements IGradientStop {\r\n        static ColorProperty = DependencyProperty.Register(\"Color\", () => Color, GradientStop, undefined, Incite);\r\n        static OffsetProperty = DependencyProperty.Register(\"Offset\", () => Number, GradientStop, 0.0, Incite);\r\n        Color: Color;\r\n        Offset: number;\r\n\r\n        toString (): string {\r\n            return this.Color.toString() + \" @ \" + this.Offset.toString();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(GradientStop);\r\n\r\n    export class GradientStopCollection extends XamlObjectCollection<GradientStop> {\r\n        AddingToCollection (value: GradientStop, error: BError): boolean {\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            ReactTo(value, this, () => Incite(this));\r\n            Incite(this);\r\n            return true;\r\n        }\r\n\r\n        RemovedFromCollection (value: GradientStop, isValueSafe: boolean) {\r\n            if (!super.RemovedFromCollection(value, isValueSafe))\r\n                return false;\r\n            UnreactTo(value, this);\r\n            Incite(this);\r\n        }\r\n\r\n        getPaddedEnumerable (): nullstone.IEnumerable<IGradientStop> {\r\n            var minOffset = Number.MAX_VALUE;\r\n            var min: GradientStop = null;\r\n            var maxOffset = Number.MIN_VALUE;\r\n            var max: GradientStop = null;\r\n            for (var en = this.getEnumerator(); en.moveNext();) {\r\n                if (en.current.Offset < minOffset) {\r\n                    min = en.current;\r\n                    minOffset = en.current.Offset;\r\n                }\r\n                if (en.current.Offset > maxOffset) {\r\n                    max = en.current;\r\n                    maxOffset = en.current.Offset;\r\n                }\r\n            }\r\n\r\n            var arr: IGradientStop[] = this._ht.slice(0);\r\n            if (!!min)\r\n                arr.unshift({Offset: 0, Color: min.Color});\r\n            if (!!max)\r\n                arr.push({Offset: 1, Color: max.Color});\r\n\r\n            return nullstone.IEnumerable_.fromArray(arr);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(GradientStopCollection);\r\n}","/// <reference path=\"Geometry.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class LineGeometry extends Geometry {\r\n        static StartPointProperty = DependencyProperty.Register(\"StartPoint\", () => Point, LineGeometry, undefined, (d: Geometry, args) => d.InvalidateGeometry());\r\n        static EndPointProperty = DependencyProperty.Register(\"EndPoint\", () => Point, LineGeometry, undefined, (d: Geometry, args) => d.InvalidateGeometry());\r\n        StartPoint: Point;\r\n        EndPoint: Point;\r\n\r\n        _Build (): minerva.path.Path {\r\n            var p1 = this.StartPoint;\r\n            var p2 = this.EndPoint;\r\n\r\n            var p = new minerva.path.Path();\r\n            p.move(p1.x, p1.y);\r\n            p.line(p2.x, p2.y);\r\n            return p;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(LineGeometry);\r\n}","/// <reference path=\"GradientBrush.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class LinearGradientBrush extends GradientBrush {\r\n        static StartPointProperty = DependencyProperty.RegisterCore(\"StartPoint\", () => Point, LinearGradientBrush, undefined, (d: LinearGradientBrush, args) => d.InvalidateBrush());\r\n        static EndPointProperty = DependencyProperty.RegisterCore(\"EndPoint\", () => Point, LinearGradientBrush, undefined, (d: LinearGradientBrush, args) => d.InvalidateBrush());\r\n        StartPoint: Point;\r\n        EndPoint: Point;\r\n\r\n        CreatePad (ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var data = this._GetPointData(bounds);\r\n            var grd = ctx.createLinearGradient(data.start.x, data.start.y, data.end.x, data.end.y);\r\n            for (var en = this.GradientStops.getEnumerator(); en.moveNext();) {\r\n                var stop: GradientStop = en.current;\r\n                this.AddColorStop(grd, stop.Offset, stop.Color ? stop.Color.toString() : Color.FromHex(\"#FF000000\").toString());\r\n            }\r\n            return grd;\r\n        }\r\n\r\n        CreateRepeat (ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var data = this._GetPointData(bounds);\r\n            return this.CreateInterpolated(ctx, LinearGradient.createRepeatInterpolator(data.start, data.end, bounds));\r\n        }\r\n\r\n        CreateReflect (ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var data = this._GetPointData(bounds);\r\n            return this.CreateInterpolated(ctx, LinearGradient.createReflectInterpolator(data.start, data.end, bounds));\r\n        }\r\n\r\n        private CreateInterpolated (ctx: CanvasRenderingContext2D, interpolator: LinearGradient.IInterpolator) {\r\n            var grd = ctx.createLinearGradient(interpolator.x0, interpolator.y0, interpolator.x1, interpolator.y1);\r\n            var allStops = this.GradientStops.getPaddedEnumerable();\r\n            for (; interpolator.step();) {\r\n                for (var en = allStops.getEnumerator(); en.moveNext();) {\r\n                    var stop = en.current;\r\n                    var offset = interpolator.interpolate(stop.Offset);\r\n                    if (offset >= 0 && offset <= 1)\r\n                        this.AddColorStop(grd, offset, stop.Color.toString());\r\n                }\r\n            }\r\n            return grd;\r\n        }\r\n\r\n        private _GetPointData (bounds: minerva.Rect) {\r\n            var start = this.StartPoint;\r\n            start = !start ? new Point(0.0, 0.0) : start.Clone();\r\n            var end = this.EndPoint;\r\n            end = !end ? new Point(1.0, 1.0) : end.Clone();\r\n\r\n            if (this.MappingMode !== BrushMappingMode.Absolute) {\r\n                start.x *= bounds.width;\r\n                start.y *= bounds.height;\r\n                end.x *= bounds.width;\r\n                end.y *= bounds.height;\r\n            }\r\n            start.x += bounds.x;\r\n            start.y += bounds.y;\r\n            end.x += bounds.x;\r\n            end.y += bounds.y;\r\n            return {\r\n                start: start,\r\n                end: end\r\n            };\r\n        }\r\n\r\n        toString (): string {\r\n            var ser = [];\r\n            for (var en = this.GradientStops.getEnumerator(); en.moveNext();) {\r\n                ser.push(en.current.toString());\r\n            }\r\n            return \"LinearGradientBrush(\" + this.StartPoint.toString() + \" --> \" + this.EndPoint.toString() + \" [\" + ser.toString() + \"])\";\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(LinearGradientBrush);\r\n}\r\n","module Fayde.Media {\r\n    export class Matrix {\r\n        _Raw: number[];\r\n        private _Inverse: Matrix = null;\r\n\r\n        constructor(raw?: number[]) {\r\n            this._Raw = raw || mat3.identity();\r\n        }\r\n\r\n        static get Identity(): Matrix {\r\n            return new Matrix(mat3.identity());\r\n        }\r\n\r\n        get M11() { return this._Raw[0]; }\r\n        set M11(val: number) { this._Raw[0] = val; this._OnChanged(); }\r\n\r\n        get M12() { return this._Raw[1]; }\r\n        set M12(val: number) { this._Raw[1] = val; this._OnChanged(); }\r\n\r\n        get M21() { return this._Raw[2]; }\r\n        set M21(val: number) { this._Raw[2] = val; this._OnChanged(); }\r\n\r\n        get M22() { return this._Raw[3]; }\r\n        set M22(val: number) { this._Raw[3] = val; this._OnChanged(); }\r\n\r\n        get OffsetX() { return this._Raw[4]; }\r\n        set OffsetX(val: number) { this._Raw[4] = val; this._OnChanged(); }\r\n\r\n        get OffsetY() { return this._Raw[5]; }\r\n        set OffsetY(val: number) { this._Raw[5] = val; this._OnChanged(); }\r\n\r\n        get Inverse(): Matrix {\r\n            var inverse = this._Inverse;\r\n            if (!inverse) {\r\n                inverse = new Matrix();\r\n                inverse._Raw = mat3.inverse(this._Raw, mat3.identity());\r\n                if (!inverse._Raw)\r\n                    return undefined;\r\n                this._Inverse = inverse;\r\n            }\r\n            return inverse;\r\n        }\r\n\r\n        private _OnChanged() {\r\n            this._Inverse = null;\r\n            Incite(this);\r\n        }\r\n\r\n        Clone(): Matrix {\r\n            if (!this._Raw)\r\n                return new Matrix();\r\n            return new Matrix(mat3.create(this._Raw));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Matrix);\r\n}\r\n","module Fayde.Media {\r\n    export interface IMatrix3DChangedListener {\r\n        Callback: (newMatrix3D: Matrix3D) => void;\r\n        Detach();\r\n    }\r\n\r\n    export class Matrix3D {\r\n        _Raw: number[];\r\n        private _Inverse: Matrix3D = null;\r\n\r\n        static FromRaw(raw: number[]): Matrix3D {\r\n            var r = new Matrix3D();\r\n            r._Raw = raw;\r\n            return r;\r\n        }\r\n\r\n        get M11() { return this._Raw[0]; }\r\n        set M11(val: number) { this._Raw[0] = val; this._OnChanged(); }\r\n\r\n        get M12() { return this._Raw[1]; }\r\n        set M12(val: number) { this._Raw[1] = val; this._OnChanged(); }\r\n\r\n        get M13() { return this._Raw[2]; }\r\n        set M13(val: number) { this._Raw[2] = val; this._OnChanged(); }\r\n\r\n        get M14() { return this._Raw[3]; }\r\n        set M14(val: number) { this._Raw[3] = val; this._OnChanged(); }\r\n\r\n        get M21() { return this._Raw[4]; }\r\n        set M21(val: number) { this._Raw[4] = val; this._OnChanged(); }\r\n\r\n        get M22() { return this._Raw[5]; }\r\n        set M22(val: number) { this._Raw[5] = val; this._OnChanged(); }\r\n\r\n        get M23() { return this._Raw[6]; }\r\n        set M23(val: number) { this._Raw[6] = val; this._OnChanged(); }\r\n\r\n        get M24() { return this._Raw[7]; }\r\n        set M24(val: number) { this._Raw[7] = val; this._OnChanged(); }\r\n\r\n        get M31() { return this._Raw[8]; }\r\n        set M31(val: number) { this._Raw[8] = val; this._OnChanged(); }\r\n\r\n        get M32() { return this._Raw[9]; }\r\n        set M32(val: number) { this._Raw[9] = val; this._OnChanged(); }\r\n\r\n        get M33() { return this._Raw[10]; }\r\n        set M33(val: number) { this._Raw[10] = val; this._OnChanged(); }\r\n\r\n        get M34() { return this._Raw[11]; }\r\n        set M34(val: number) { this._Raw[11] = val; this._OnChanged(); }\r\n\r\n        get OffsetX() { return this._Raw[12]; }\r\n        set OffsetX(val: number) { this._Raw[12] = val; this._OnChanged(); }\r\n\r\n        get OffsetY() { return this._Raw[13]; }\r\n        set OffsetY(val: number) { this._Raw[13] = val; this._OnChanged(); }\r\n\r\n        get OffsetZ() { return this._Raw[14]; }\r\n        set OffsetZ(val: number) { this._Raw[14] = val; this._OnChanged(); }\r\n\r\n        get M44() { return this._Raw[15]; }\r\n        set M44(val: number) { this._Raw[15] = val; this._OnChanged(); }\r\n\r\n        get Inverse(): Matrix3D {\r\n            var inverse = this._Inverse;\r\n            if (!inverse) {\r\n                inverse = new Matrix3D();\r\n                inverse._Raw = mat4.inverse(this._Raw, mat4.identity());\r\n                if (!inverse._Raw)\r\n                    return undefined;\r\n                this._Inverse = inverse;\r\n            }\r\n            return inverse;\r\n        }\r\n\r\n        private _Listeners: IMatrix3DChangedListener[] = [];\r\n        Listen(func: (newMatrix: Matrix3D) => void ): IMatrix3DChangedListener {\r\n            var listeners = this._Listeners;\r\n            var listener = {\r\n                Callback: func,\r\n                Detach: () => {\r\n                    var index = listeners.indexOf(listener);\r\n                    if (index > -1)\r\n                        listeners.splice(index, 1);\r\n                }\r\n            };\r\n            listeners.push(listener);\r\n            return listener;\r\n        }\r\n        private _OnChanged() {\r\n            this._Inverse = null;\r\n            var listeners = this._Listeners;\r\n            var len = listeners.length;\r\n            for (var i = 0; i < len; i++) {\r\n                listeners[i].Callback(this);\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Matrix3D);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class Projection extends DependencyObject implements minerva.IProjection {\r\n        private _ProjectionMatrix: Matrix3D = null;\r\n        private _ObjectWidth: number = 0;\r\n        get ObjectWidth (): number {\r\n            return this._ObjectWidth;\r\n        }\r\n\r\n        private _ObjectHeight: number = 0;\r\n        get ObjectHeight (): number {\r\n            return this._ObjectHeight;\r\n        }\r\n\r\n        setObjectSize (objectWidth: number, objectHeight: number) {\r\n            var w = Math.max(objectWidth, 1.0);\r\n            var h = Math.max(objectHeight, 1.0);\r\n            if (w !== this._ObjectWidth && h !== this._ObjectHeight) {\r\n                this._ObjectWidth = w;\r\n                this._ObjectHeight = h;\r\n                this._ProjectionMatrix = null;\r\n            }\r\n        }\r\n\r\n        getDistanceFromXYPlane (): number {\r\n            return NaN;\r\n        }\r\n\r\n        getTransform (): number[] {\r\n            var m3 = this._ProjectionMatrix;\r\n            if (!m3)\r\n                m3 = this._ProjectionMatrix = this.CreateProjectionMatrix();\r\n            if (m3)\r\n                return mat4.create(m3._Raw);\r\n            return mat4.identity();\r\n        }\r\n\r\n        CreateProjectionMatrix (): Matrix3D {\r\n            return null;\r\n        }\r\n\r\n        InvalidateProjection () {\r\n            this._ProjectionMatrix = null;\r\n            Incite(this);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Projection);\r\n}","/// <reference path=\"Projection.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class Matrix3DProjection extends Projection {\r\n        static ProjectionMatrixProperty = DependencyProperty.Register(\"ProjectionMatrix\", () => Matrix3D, Matrix3DProjection, undefined, (d: Projection, args) => d.InvalidateProjection());\r\n        ProjectionMatrix: Matrix3D;\r\n\r\n        CreateProjectionMatrix(): Matrix3D { return this.ProjectionMatrix; }\r\n    }\r\n    Fayde.CoreLibrary.add(Matrix3DProjection);\r\n}","/// <reference path=\"Geometry.ts\" />\r\n\r\n\r\n// Path Markup Syntax: http://msdn.microsoft.com/en-us/library/cc189041(v=vs.95).aspx\r\n\r\n//FigureDescription Syntax\r\n// MoveCommand DrawCommands [CloseCommand]\r\n\r\n//Double Syntax\r\n// digits\r\n// digits.digits\r\n// 'Infinity'\r\n// '-Infinity'\r\n// 'NaN'\r\n\r\n//Point Syntax\r\n// x,y\r\n// x y\r\n\r\n//Loop until exhausted\r\n//  Parse FigureDescription\r\n//      Find \"M\" or \"m\"? - Parse MoveCommand (start point)\r\n//          <point>\r\n//\r\n//      Find \"L\" or \"l\"? - Parse LineCommand (end point)\r\n//          <point>\r\n//      Find \"H\" or \"h\"? - Parse HorizontalLineCommand (x)\r\n//          <double>\r\n//      Find \"V\" or \"v\"? - Parse VerticalLineCommand (y)\r\n//          <double>\r\n//      Find \"C\" or \"c\"? - Parse CubicBezierCurveCommand (control point 1, control point 2, end point)\r\n//          <point> <point> <point>\r\n//      Find \"Q\" or \"q\"? - Parse QuadraticBezierCurveCommand (control point, end point)\r\n//          <point> <point>\r\n//      Find \"S\" or \"s\"? - Parse SmoothCubicBezierCurveCommand (control point 2, end point)\r\n//          <point> <point>\r\n//      Find \"T\" or \"t\"? - Parse SmoothQuadraticBezierCurveCommand (control point, end point)\r\n//          <point> <point>\r\n//      Find \"A\" or \"a\"? - Parse EllipticalArcCommand (size, rotationAngle, isLargeArcFlag, sweepDirectionFlag, endPoint)\r\n//          <point> <double> <1,0> <1,0> <point>\r\n//\r\n//      Find \"Z\" or \"z\"? - CloseCommand\r\n\r\nmodule Fayde.Media {\r\n    export function ParseGeometry (val: string): Geometry {\r\n        return (new MediaParser(val)).ParseGeometryImpl();\r\n    }\r\n\r\n    export function ParseShapePoints (val: string): Point[] {\r\n        return (new MediaParser(val)).ParseShapePoints();\r\n    }\r\n\r\n    class MediaParser {\r\n        private str: string;\r\n        private len: number;\r\n        private index: number = 0;\r\n\r\n        constructor (str: string) {\r\n            this.str = str;\r\n            this.len = str.length;\r\n        }\r\n\r\n        ParseGeometryImpl (): Geometry {\r\n            var cp = new Point();\r\n            var cp1: Point, cp2: Point, cp3: Point;\r\n            var start = new Point();\r\n            var fillRule = Shapes.FillRule.EvenOdd;\r\n            var cbz = false; // last figure is a cubic bezier curve\r\n            var qbz = false; // last figure is a quadratic bezier curve\r\n            var cbzp = new Point(); // points needed to create \"smooth\" beziers\r\n            var qbzp = new Point(); // points needed to create \"smooth\" beziers\r\n\r\n            var path = new minerva.path.Path();\r\n            while (this.index < this.len) {\r\n                var c;\r\n                while (this.index < this.len && (c = this.str.charAt(this.index)) === ' ') {\r\n                    this.index++;\r\n                }\r\n                this.index++;\r\n                var relative = false;\r\n                switch (c) {\r\n                    case 'f':\r\n                    case 'F':\r\n                        c = this.str.charAt(this.index);\r\n                        if (c === '0')\r\n                            fillRule = Shapes.FillRule.EvenOdd;\r\n                        else if (c === '1')\r\n                            fillRule = Shapes.FillRule.NonZero;\r\n                        else\r\n                            return null;\r\n                        this.index++;\r\n                        c = this.str.charAt(this.index);\r\n                        break;\r\n                    case 'm':\r\n                        relative = true;\r\n                    case 'M':\r\n                        cp1 = this.ParsePoint();\r\n                        if (cp1 == null)\r\n                            break;\r\n                        if (relative) {\r\n                            cp1.x += cp.x;\r\n                            cp1.y += cp.y;\r\n                        }\r\n                        path.move(cp1.x, cp1.y);\r\n                        start.x = cp.x = cp1.x;\r\n                        start.y = cp.y = cp1.y;\r\n                        this.Advance();\r\n                        while (this.MorePointsAvailable()) {\r\n                            if ((cp1 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp1.x += cp.x;\r\n                                cp1.y += cp.y;\r\n                            }\r\n                            path.line(cp1.x, cp1.y);\r\n                        }\r\n                        cp.x = cp1.x;\r\n                        cp.y = cp1.y;\r\n                        cbz = qbz = false;\r\n                        break;\r\n                    case 'l':\r\n                        relative = true;\r\n                    case 'L':\r\n                        while (this.MorePointsAvailable()) {\r\n                            if ((cp1 = this.ParsePoint()) == null)\r\n                                break;\r\n\r\n                            if (relative) {\r\n                                cp1.x += cp.x;\r\n                                cp1.y += cp.y;\r\n                            }\r\n\r\n                            path.line(cp1.x, cp1.y);\r\n\r\n                            cp.x = cp1.x;\r\n                            cp.y = cp1.y;\r\n                            this.Advance();\r\n                        }\r\n                        cbz = qbz = false;\r\n                        break;\r\n                    case 'h':\r\n                        relative = true;\r\n                    case 'H':\r\n                        var x = this.ParseDouble();\r\n                        if (x == null)\r\n                            break;\r\n\r\n                        if (relative)\r\n                            x += cp.x;\r\n                        cp = new Point(x, cp.y);\r\n\r\n                        path.line(cp.x, cp.y);\r\n                        cbz = qbz = false;\r\n                        break;\r\n                    case 'v':\r\n                        relative = true;\r\n                    case 'V':\r\n                        var y = this.ParseDouble();\r\n                        if (y == null)\r\n                            break;\r\n\r\n                        if (relative)\r\n                            y += cp.y;\r\n                        cp = new Point(cp.x, y);\r\n\r\n                        path.line(cp.x, cp.y);\r\n                        cbz = qbz = false;\r\n                        break;\r\n                    case 'c':\r\n                        relative = true;\r\n                    case 'C':\r\n                        while (this.MorePointsAvailable()) {\r\n                            if ((cp1 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp1.x += cp.x;\r\n                                cp1.y += cp.y;\r\n                            }\r\n                            this.Advance();\r\n                            if ((cp2 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp2.x += cp.x;\r\n                                cp2.y += cp.y;\r\n                            }\r\n                            this.Advance();\r\n                            if ((cp3 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp3.x += cp.x;\r\n                                cp3.y += cp.y;\r\n                            }\r\n                            this.Advance();\r\n\r\n                            path.cubicBezier(cp1.x, cp1.y, cp2.x, cp2.y, cp3.x, cp3.y);\r\n\r\n                            cp1.x = cp3.x;\r\n                            cp1.y = cp3.y;\r\n                        }\r\n                        cp.x = cp3.x;\r\n                        cp.y = cp3.y;\r\n                        cbz = true;\r\n                        cbzp.x = cp2.x;\r\n                        cbzp.y = cp2.y;\r\n                        qbz = false;\r\n                        break;\r\n                    case 's':\r\n                        relative = true;\r\n                    case 'S':\r\n                        while (this.MorePointsAvailable()) {\r\n                            if ((cp2 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp2.x += cp.x;\r\n                                cp2.y += cp.y;\r\n                            }\r\n                            this.Advance();\r\n                            if ((cp3 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp3.x += cp.x;\r\n                                cp3.y += cp.y;\r\n                            }\r\n\r\n                            if (cbz) {\r\n                                cp1.x = 2 * cp.x - cbzp.x;\r\n                                cp1.y = 2 * cp.y - cbzp.y;\r\n                            } else\r\n                                cp1 = cp;\r\n\r\n                            path.cubicBezier(cp1.x, cp1.y, cp2.x, cp2.y, cp3.x, cp3.y);\r\n\r\n                            cbz = true;\r\n                            cbzp.x = cp2.x;\r\n                            cbzp.y = cp2.y;\r\n\r\n                            cp.x = cp3.x;\r\n                            cp.y = cp3.y;\r\n\r\n                            this.Advance();\r\n                        }\r\n                        qbz = false;\r\n                        break;\r\n                    case 'q':\r\n                        relative = true;\r\n                    case 'Q':\r\n                        while (this.MorePointsAvailable()) {\r\n                            if ((cp1 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp1.x += cp.x;\r\n                                cp1.y += cp.y;\r\n                            }\r\n                            this.Advance();\r\n                            if ((cp2 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp2.x += cp.x;\r\n                                cp2.y += cp.y;\r\n                            }\r\n                            this.Advance();\r\n\r\n                            path.quadraticBezier(cp1.x, cp1.y, cp2.x, cp2.y);\r\n\r\n                            cp.x = cp2.x;\r\n                            cp.y = cp2.y;\r\n                        }\r\n                        qbz = true;\r\n                        qbzp.x = cp1.x;\r\n                        qbzp.y = cp1.y;\r\n                        cbz = false;\r\n                        break;\r\n                    case 't':\r\n                        relative = true;\r\n                    case 'T':\r\n                        while (this.MorePointsAvailable()) {\r\n                            if ((cp2 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp2.x += cp.x;\r\n                                cp2.y += cp.y;\r\n                            }\r\n\r\n                            if (qbz) {\r\n                                cp1.x = 2 * cp.x - qbzp.x;\r\n                                cp1.y = 2 * cp.y - qbzp.y;\r\n                            } else\r\n                                cp1 = cp;\r\n\r\n                            path.quadraticBezier(cp1.x, cp1.y, cp2.x, cp2.y);\r\n\r\n                            qbz = true;\r\n                            qbzp.x = cp1.x;\r\n                            qbzp.y = cp1.y;\r\n\r\n                            cp.x = cp2.x;\r\n                            cp.y = cp2.y;\r\n\r\n                            this.Advance();\r\n                        }\r\n                        cbz = false;\r\n                        break;\r\n                    case 'a':\r\n                        relative = true;\r\n                    case 'A':\r\n                        while (this.MorePointsAvailable()) {\r\n                            if ((cp1 = this.ParsePoint()) == null)\r\n                                break;\r\n\r\n                            var angle = this.ParseDouble();\r\n                            var is_large = this.ParseDouble() !== 0;\r\n                            var sweep = minerva.SweepDirection.Counterclockwise;\r\n                            if (this.ParseDouble() !== 0) sweep = minerva.SweepDirection.Clockwise;\r\n\r\n                            if ((cp2 = this.ParsePoint()) == null)\r\n                                break;\r\n                            if (relative) {\r\n                                cp2.x += cp.x;\r\n                                cp2.y += cp.y;\r\n                            }\r\n\r\n                            path.ellipticalArc(cp1.x, cp1.y, angle, is_large, sweep, cp2.x, cp2.y);\r\n\r\n                            cp.x = cp2.x;\r\n                            cp.y = cp2.y;\r\n\r\n                            this.Advance();\r\n                        }\r\n                        cbz = qbz = false;\r\n                        break;\r\n                    case 'z':\r\n                    case 'Z':\r\n                        //path.Line(start.x, start.y);\r\n                        path.close();\r\n                        //path.Move(start.x, start.y);\r\n\r\n                        cp.x = start.x;\r\n                        cp.y = start.y;\r\n                        cbz = qbz = false;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            var pg = new PathGeometry();\r\n            pg.OverridePath(path);\r\n            pg.FillRule = <Shapes.FillRule>fillRule;\r\n            return pg;\r\n        }\r\n\r\n        ParseShapePoints (): Point[] {\r\n            var points: Point[] = [];\r\n            var p: Point;\r\n            while (this.MorePointsAvailable() && (p = this.ParsePoint()) != null) {\r\n                points.push(p);\r\n            }\r\n            return points;\r\n        }\r\n\r\n        private ParsePoint (): Point {\r\n            var x = this.ParseDouble();\r\n            if (x == null)\r\n                return null;\r\n\r\n            var c;\r\n            while (this.index < this.len && ((c = this.str.charAt(this.index)) === ' ' || c === ',')) {\r\n                this.index++;\r\n            }\r\n            if (this.index >= this.len)\r\n                return null;\r\n\r\n            var y = this.ParseDouble();\r\n            if (y == null)\r\n                return null;\r\n\r\n            return new Point(x, y);\r\n        }\r\n\r\n        private ParseDouble (): number {\r\n            this.Advance();\r\n            var isNegative = false;\r\n            if (this.Match('-')) {\r\n                isNegative = true;\r\n                this.index++;\r\n            } else if (this.Match('+')) {\r\n                this.index++;\r\n            }\r\n            if (this.Match('Infinity')) {\r\n                this.index += 8;\r\n                return isNegative ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY;\r\n            }\r\n            if (this.Match('NaN'))\r\n                return NaN;\r\n\r\n            var temp = '';\r\n            while (this.index < this.len) {\r\n                var code = this.str.charCodeAt(this.index);\r\n                var c = this.str[this.index];\r\n                //0-9, ., E, e, E-, e-\r\n                if (code >= 48 && code <= 57)\r\n                    temp += c;\r\n                else if (code === 46)\r\n                    temp += c;\r\n                else if (c === 'E' || c === 'e') {\r\n                    temp += c;\r\n                    if (this.str[this.index + 1] === '-') {\r\n                        temp += '-';\r\n                        this.index++;\r\n                    }\r\n                }\r\n                else\r\n                    break;\r\n                this.index++;\r\n            }\r\n            if (temp.length === 0)\r\n                return null;\r\n            var f = parseFloat(temp);\r\n            return isNegative ? -f : f;\r\n        }\r\n\r\n        private Match (matchStr: string): boolean {\r\n            var c1: string;\r\n            var c2: string;\r\n            for (var i = 0; i < matchStr.length && (this.index + i) < this.len; i++) {\r\n                c1 = matchStr.charAt(i);\r\n                c2 = this.str.charAt(this.index + i);\r\n                if (c1 !== c2)\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        private Advance () {\r\n            var code: number;\r\n            var c: string;\r\n            while (this.index < this.len) {\r\n                code = this.str.charCodeAt(this.index);\r\n                //alphanum\r\n                if ((code >= 65 && code <= 90) || (code >= 97 && code <= 122) || (code >= 48 && code <= 57))\r\n                    break;\r\n                c = String.fromCharCode(code);\r\n                if (c === '.')\r\n                    break;\r\n                if (c === '-')\r\n                    break;\r\n                if (c === '+')\r\n                    break;\r\n                this.index++;\r\n            }\r\n        }\r\n\r\n        private MorePointsAvailable (): boolean {\r\n            var c;\r\n            while (this.index < this.len && ((c = this.str.charAt(this.index)) === ',' || c === ' ')) {\r\n                this.index++;\r\n            }\r\n            if (this.index >= this.len)\r\n                return false;\r\n            if (c === '.' || c === '-' || c === '+')\r\n                return true;\r\n            var code = this.str.charCodeAt(this.index);\r\n            return code >= 48 && code <= 57;\r\n        }\r\n    }\r\n\r\n    nullstone.registerTypeConverter(Geometry, (val: any): any => {\r\n        if (val instanceof Geometry)\r\n            return val;\r\n        if (typeof val === \"string\")\r\n            return ParseGeometry(val);\r\n        return val;\r\n    });\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class PathFigure extends DependencyObject {\r\n        static IsClosedProperty = DependencyProperty.RegisterCore(\"IsClosed\", () => Boolean, PathFigure, false, (d: PathFigure, args) => d.InvalidatePathFigure());\r\n        static StartPointProperty = DependencyProperty.RegisterCore(\"StartPoint\", () => Point, PathFigure, undefined, (d: PathFigure, args) => d.InvalidatePathFigure());\r\n        static IsFilledProperty = DependencyProperty.RegisterCore(\"IsFilled\", () => Boolean, PathFigure, true, (d: PathFigure, args) => d.InvalidatePathFigure());\r\n        static SegmentsProperty = DependencyProperty.RegisterImmutable<PathSegmentCollection>(\"Segments\", () => PathSegmentCollection, PathFigure);\r\n        static SegmentsSourceProperty = DependencyProperty.Register(\"SegmentsSource\", () => nullstone.IEnumerable_, PathFigure, undefined, (d: PathFigure, args) => d._OnSegmentsSourceChanged(args));\r\n        IsClosed: boolean;\r\n        Segments: PathSegmentCollection;\r\n        SegmentsSource: nullstone.IEnumerable<PathSegment>;\r\n        StartPoint: Point;\r\n        IsFilled: boolean;\r\n\r\n        private _OnSegmentsSourceChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            this.Segments.SetSource(args.NewValue);\r\n        }\r\n\r\n        private _Path: minerva.path.Path = null;\r\n\r\n        constructor() {\r\n            super();\r\n            var coll = PathFigure.SegmentsProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, () => this.InvalidatePathFigure());\r\n        }\r\n\r\n        private _Build(): minerva.path.Path {\r\n            var p = new minerva.path.Path();\r\n\r\n            var start = this.StartPoint;\r\n            p.move(start.x, start.y);\r\n\r\n            var enumerator = this.Segments.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                (<PathSegment>enumerator.current)._Append(p);\r\n            }\r\n            if (this.IsClosed)\r\n                p.close();\r\n\r\n            return p;\r\n        }\r\n\r\n        private InvalidatePathFigure() {\r\n            this._Path = null;\r\n            Incite(this);\r\n        }\r\n\r\n        MergeInto(rp: minerva.path.Path) {\r\n            if (!this._Path)\r\n                this._Path = this._Build();\r\n            minerva.path.Path.Merge(rp, this._Path);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PathFigure);\r\n    Markup.Content(PathFigure, PathFigure.SegmentsProperty);\r\n\r\n    export class PathFigureCollection extends XamlObjectCollection<PathFigure> {\r\n        AddingToCollection(value: PathFigure, error: BError): boolean {\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            ReactTo(value, this, () => Incite(this));\r\n            Incite(this);\r\n            return true;\r\n        }\r\n        RemovedFromCollection(value: PathFigure, isValueSafe: boolean) {\r\n            super.RemovedFromCollection(value, isValueSafe);\r\n            UnreactTo(value, this);\r\n            Incite(this);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PathFigureCollection);\r\n}","/// <reference path=\"Geometry.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class PathGeometry extends Geometry implements minerva.shapes.path.IPathGeometry {\r\n        private _OverridePath: minerva.path.Path = null;\r\n        static FillRuleProperty = DependencyProperty.Register(\"FillRule\", () => new Enum(Shapes.FillRule), PathGeometry, Shapes.FillRule.EvenOdd, (d: Geometry, args) => d.InvalidateGeometry());\r\n        static FiguresProperty = DependencyProperty.RegisterImmutable<PathFigureCollection>(\"Figures\", () => PathFigureCollection, PathGeometry);\r\n        FillRule: Shapes.FillRule;\r\n        Figures: PathFigureCollection;\r\n\r\n        get fillRule (): minerva.FillRule {\r\n            return <any>this.FillRule;\r\n        }\r\n\r\n        constructor () {\r\n            super();\r\n            var coll = PathGeometry.FiguresProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, () => this.InvalidateFigures());\r\n        }\r\n\r\n        OverridePath (path: minerva.path.Path) {\r\n            this._OverridePath = path;\r\n        }\r\n\r\n        _Build (): minerva.path.Path {\r\n            if (this._OverridePath)\r\n                return this._OverridePath;\r\n\r\n            var p = new minerva.path.Path();\r\n            var figures = this.Figures;\r\n            if (!figures)\r\n                return;\r\n\r\n            var enumerator = figures.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                (<PathFigure>enumerator.current).MergeInto(p);\r\n            }\r\n            return p;\r\n        }\r\n\r\n        InvalidateFigures () {\r\n            this._OverridePath = null; //Any change in PathFigures invalidates a path override\r\n            this.InvalidateGeometry();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PathGeometry);\r\n    Markup.Content(PathGeometry, PathGeometry.FiguresProperty);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class PathSegment extends DependencyObject {\r\n        _Append(path:minerva.path.Path) {\r\n            //Abstract method\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PathSegment);\r\n\r\n    export class PathSegmentCollection extends XamlObjectCollection<PathSegment> {\r\n        private _Modifying = false;\r\n\r\n        AddingToCollection(value:PathSegment, error:BError):boolean {\r\n            if (!this._Modifying && this._Source != null) {\r\n                console.warn(\"Cannot modify Path Segments Collection when bound to SegmentsSource.\");\r\n                return false;\r\n            }\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            ReactTo(value, this, () => Incite(this));\r\n            Incite(this);\r\n            return true;\r\n        }\r\n\r\n        RemovedFromCollection(value:PathSegment, isValueSafe:boolean) {\r\n            super.RemovedFromCollection(value, isValueSafe);\r\n            UnreactTo(value, this);\r\n            Incite(this);\r\n        }\r\n\r\n        private _Source:nullstone.IEnumerable<PathSegment> = null;\r\n\r\n        SetSource(source:nullstone.IEnumerable<PathSegment>) {\r\n            var onc = Collections.INotifyCollectionChanged_.as(this._Source);\r\n            if (onc)\r\n                onc.CollectionChanged.off(this._OnSegmentsCollectionChanged, this);\r\n            var oen = nullstone.IEnumerable_.as(this._Source);\r\n            if (oen) {\r\n                this.Clear();\r\n            }\r\n\r\n            this._Source = source;\r\n            var nen = nullstone.IEnumerable_.as(this._Source);\r\n            if (nen) {\r\n                this._Modifying = true;\r\n                try {\r\n                    for (var en = nen.getEnumerator(); en.moveNext();) {\r\n                        this.Add(en.current);\r\n                    }\r\n                } finally {\r\n                    this._Modifying = false;\r\n                }\r\n            }\r\n            var nnc = Collections.INotifyCollectionChanged_.as(this._Source);\r\n            if (nnc)\r\n                nnc.CollectionChanged.on(this._OnSegmentsCollectionChanged, this);\r\n        }\r\n\r\n        private _OnSegmentsCollectionChanged(sender, args:Collections.CollectionChangedEventArgs) {\r\n            this._Modifying = true;\r\n            try {\r\n                for (var i = 0, items = args.OldItems, len = items ? items.length : 0; i < len; i++) {\r\n                    this.RemoveAt(i);\r\n                }\r\n                for (var i = 0, items = args.NewItems, len = items ? items.length : 0; i < len; i++) {\r\n                    this.Insert(args.NewStartingIndex + i, items[i]);\r\n                }\r\n            } finally {\r\n                this._Modifying = false;\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PathSegmentCollection);\r\n}","/// <reference path=\"PathSegment.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    //TODO: Should we be doing `Incite(this)` when properties change?\r\n    export class ArcSegment extends PathSegment {\r\n        static IsLargeArcProperty = DependencyProperty.RegisterCore(\"IsLargeArc\", () => Boolean, ArcSegment, false, (d: ArcSegment, args) => Incite(d));\r\n        static PointProperty = DependencyProperty.Register(\"Point\", () => Point, ArcSegment, undefined, (d: ArcSegment, args) => Incite(d));\r\n        static RotationAngleProperty = DependencyProperty.Register(\"RotationAngle\", () => Number, ArcSegment, 0.0, (d: ArcSegment, args) => Incite(d));\r\n        static SizeProperty = DependencyProperty.Register(\"Size\", () => minerva.Size, ArcSegment, undefined, (d: ArcSegment, args) => Incite(d));\r\n        static SweepDirectionProperty = DependencyProperty.Register(\"SweepDirection\", () => new Enum(Shapes.SweepDirection), ArcSegment, Shapes.SweepDirection.Counterclockwise, (d: ArcSegment, args) => Incite(d));\r\n        IsLargeArc: boolean;\r\n        Point: Point;\r\n        RotationAngle: number;\r\n        Size: minerva.Size;\r\n        SweepDirection: Shapes.SweepDirection;\r\n\r\n        _Append(path: minerva.path.Path) {\r\n            var size = this.Size;\r\n            var width = size ? size.width : 0.0;\r\n            var height = size ? size.height : 0.0;\r\n\r\n            var endpt = this.Point;\r\n            var ex = endpt ? endpt.x : 0.0;\r\n            var ey = endpt ? endpt.y : 0.0;\r\n\r\n            path.ellipticalArc(width, height, this.RotationAngle, this.IsLargeArc, <minerva.SweepDirection><number>this.SweepDirection, ex, ey);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ArcSegment);\r\n\r\n    export class BezierSegment extends PathSegment {\r\n        static Point1Property = DependencyProperty.Register(\"Point1\", () => Point, BezierSegment);\r\n        static Point2Property = DependencyProperty.Register(\"Point2\", () => Point, BezierSegment);\r\n        static Point3Property = DependencyProperty.Register(\"Point3\", () => Point, BezierSegment);\r\n        Point1: Point;\r\n        Point2: Point;\r\n        Point3: Point;\r\n\r\n        _Append(path: minerva.path.Path) {\r\n\t        var p1 = this.Point1;\r\n\t        var p2 = this.Point2;\r\n\t        var p3 = this.Point3;\r\n\r\n\t        var x1 = p1 ? p1.x : 0.0;\r\n\t        var y1 = p1 ? p1.y : 0.0;\r\n\t        var x2 = p2 ? p2.x : 0.0;\r\n\t        var y2 = p2 ? p2.y : 0.0;\r\n\t        var x3 = p3 ? p3.x : 0.0;\r\n\t        var y3 = p3 ? p3.y : 0.0;\r\n\r\n\t        path.cubicBezier(x1, y1, x2, y2, x3, y3);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(BezierSegment);\r\n\r\n    export class LineSegment extends PathSegment {\r\n        static PointProperty = DependencyProperty.Register(\"Point\", () => Point, LineSegment);\r\n        Point: Point;\r\n\r\n        _Append(path: minerva.path.Path) {\r\n            var p = this.Point;\r\n            var x = p ? p.x : 0.0;\r\n            var y = p ? p.y : 0.0;\r\n            path.line(x, y);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(LineSegment);\r\n\r\n    export class PolyBezierSegment extends PathSegment {\r\n        static PointsProperty = DependencyProperty.RegisterImmutable<Shapes.PointCollection>(\"Points\", () => Shapes.PointCollection, PolyBezierSegment);\r\n        Points: Shapes.PointCollection;\r\n\r\n        constructor() {\r\n            super();\r\n            PolyBezierSegment.PointsProperty.Initialize(this);\r\n        }\r\n\r\n        _Append(path: minerva.path.Path) {\r\n            var points = this.Points;\r\n            if (!points || (points.Count % 3) !== 0)\r\n                return;\r\n\r\n            var p1: Point;\r\n            var p2: Point;\r\n            var p3: Point;\r\n            var enumerator = points.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                p1 = enumerator.current;\r\n                enumerator.moveNext();\r\n                p2 = enumerator.current;\r\n                enumerator.moveNext();\r\n                p3 = enumerator.current;\r\n                path.cubicBezier(p1.x, p1.y, p2.x, p2.y, p3.x, p3.y);\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PolyBezierSegment);\r\n    Markup.Content(PolyBezierSegment, PolyBezierSegment.PointsProperty);\r\n\r\n    export class PolyLineSegment extends PathSegment {\r\n        static PointsProperty = DependencyProperty.RegisterImmutable<Shapes.PointCollection>(\"Points\", () => Shapes.PointCollection, PolyLineSegment);\r\n        Points: Shapes.PointCollection;\r\n\r\n        constructor() {\r\n            super();\r\n            PolyLineSegment.PointsProperty.Initialize(this);\r\n        }\r\n\r\n        _Append(path: minerva.path.Path) {\r\n            var p: Point;\r\n            var enumerator = this.Points.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                p = enumerator.current;\r\n                path.line(p.x, p.y);\r\n            }\r\n            console.warn(\"PolyLineSegment._Append\");\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PolyLineSegment);\r\n    Markup.Content(PolyLineSegment, PolyLineSegment.PointsProperty);\r\n\r\n    export class PolyQuadraticBezierSegment extends PathSegment {\r\n        static PointsProperty = DependencyProperty.RegisterImmutable<Shapes.PointCollection>(\"Points\", () => Shapes.PointCollection, PolyQuadraticBezierSegment);\r\n        Points: Shapes.PointCollection;\r\n\r\n        constructor() {\r\n            super();\r\n            PolyQuadraticBezierSegment.PointsProperty.Initialize(this);\r\n        }\r\n\r\n        _Append(path: minerva.path.Path) {\r\n            var points = this.Points;\r\n            if (!points || (points.Count % 2) !== 0)\r\n                return;\r\n\r\n            var x0 = path.endX;\r\n            var y0 = path.endY;\r\n            var x1: number;\r\n            var y1: number;\r\n            var x2: number;\r\n            var y2: number;\r\n            var x3: number;\r\n            var y3: number;\r\n            var enumerator = points.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                x1 = enumerator.current.x;\r\n                y1 = enumerator.current.y;\r\n                enumerator.moveNext();\r\n                x2 = enumerator.current.x;\r\n                y2 = enumerator.current.y;\r\n                x3 = x2;\r\n                y3 = y2;\r\n                \r\n\t\t        x2 = x1 + (x2 - x1) / 3;\r\n\t\t        y2 = y1 + (y2 - y1) / 3;\r\n\t\t        x1 = x0 + 2 * (x1 - x0) / 3;\r\n\t\t        y1 = y0 + 2 * (y1 - y0) / 3;\r\n\r\n                path.cubicBezier(x1, y1, x2, y2, x3, y3);\r\n                x0 = x3;\r\n                y0 = y3;\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PolyQuadraticBezierSegment);\r\n    Markup.Content(PolyQuadraticBezierSegment, PolyQuadraticBezierSegment.PointsProperty);\r\n\r\n    export class QuadraticBezierSegment extends PathSegment {\r\n        static Point1Property = DependencyProperty.Register(\"Point1\", () => Point, QuadraticBezierSegment);\r\n        static Point2Property = DependencyProperty.Register(\"Point2\", () => Point, QuadraticBezierSegment);\r\n        Point1: Point;\r\n        Point2: Point;\r\n\r\n        _Append(path: minerva.path.Path) {\r\n            var p1 = this.Point1;\r\n            var p2 = this.Point2;\r\n\r\n            var x1 = p1 ? p1.x : 0.0;\r\n            var y1 = p1 ? p1.y : 0.0;\r\n            var x2 = p2 ? p2.x : 0.0;\r\n            var y2 = p2 ? p2.y : 0.0;\r\n\r\n            path.quadraticBezier(x1, y1, x2, y2);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(QuadraticBezierSegment);\r\n}","/// <reference path=\"Projection.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    var FIELD_OF_VIEW = 57.0 / 180 * Math.PI;\r\n    var CAMERA_DIST = 999.0;\r\n    var NEAR_VAL = 1.0;\r\n    var FAR_VAL = 65536.0;\r\n    var XY_PLANE_Z = (NEAR_VAL * FAR_VAL / (NEAR_VAL - FAR_VAL) * (1.0 - CAMERA_DIST)) / CAMERA_DIST;\r\n    var PI_OVER_180 = Math.PI / 180.0;\r\n\r\n    export class PlaneProjection extends Projection {\r\n        static CenterOfRotationXProperty = DependencyProperty.Register(\"CenterOfRotationX\", () => Number, PlaneProjection, 0.5, (d: Projection, args) => d.InvalidateProjection());\r\n        static CenterOfRotationYProperty = DependencyProperty.Register(\"CenterOfRotationY\", () => Number, PlaneProjection, 0.5, (d: Projection, args) => d.InvalidateProjection());\r\n        static CenterOfRotationZProperty = DependencyProperty.Register(\"CenterOfRotationZ\", () => Number, PlaneProjection, 0.5, (d: Projection, args) => d.InvalidateProjection());\r\n\r\n        static GlobalOffsetXProperty = DependencyProperty.Register(\"GlobalOffsetX\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n        static GlobalOffsetYProperty = DependencyProperty.Register(\"GlobalOffsetY\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n        static GlobalOffsetZProperty = DependencyProperty.Register(\"GlobalOffsetZ\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n\r\n        static LocalOffsetXProperty = DependencyProperty.Register(\"LocalOffsetX\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n        static LocalOffsetYProperty = DependencyProperty.Register(\"LocalOffsetY\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n        static LocalOffsetZProperty = DependencyProperty.Register(\"LocalOffsetZ\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n\r\n        static RotationXProperty = DependencyProperty.Register(\"RotationX\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n        static RotationYProperty = DependencyProperty.Register(\"RotationY\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n        static RotationZProperty = DependencyProperty.Register(\"RotationZ\", () => Number, PlaneProjection, 0.0, (d: Projection, args) => d.InvalidateProjection());\r\n\r\n        CenterOfRotationX: number;\r\n        CenterOfRotationY: number;\r\n        CenterOfRotationZ: number;\r\n\r\n        GlobalOffsetX: number;\r\n        GlobalOffsetY: number;\r\n        GlobalOffsetZ: number;\r\n\r\n        LocalOffsetX: number;\r\n        LocalOffsetY: number;\r\n        LocalOffsetZ: number;\r\n\r\n        RotationX: number;\r\n        RotationY: number;\r\n        RotationZ: number;\r\n\r\n        getDistanceFromXYPlane (): number {\r\n            var w = Math.max(this.ObjectWidth, 1.0);\r\n            var h = Math.max(this.ObjectHeight, 1.0);\r\n            var p = [w / 2.0, h / 2.0, 0.0, 1.0];\r\n\r\n            var m = this.getTransform();\r\n            mat4.transformVec4(m, p, p);\r\n\r\n            if (p[3] === 0.0)\r\n                return NaN;\r\n            return XY_PLANE_Z - (p[2] / p[3]);\r\n        }\r\n\r\n        CreateProjectionMatrix3D (): Matrix3D {\r\n            var rotationX = this.RotationX;\r\n            var rotationY = this.RotationY;\r\n            var rotationZ = this.RotationZ;\r\n            var radiansX = (rotationX || 0.0) * PI_OVER_180;\r\n            var radiansY = (rotationY || 0.0) * PI_OVER_180;\r\n            var radiansZ = (rotationZ || 0.0) * PI_OVER_180;\r\n            var globalOffsetX = this.GlobalOffsetX;\r\n            var globalOffsetY = this.GlobalOffsetY;\r\n            var globalOffsetZ = this.GlobalOffsetZ;\r\n            var globalX = globalOffsetX || 0.0;\r\n            var globalY = globalOffsetY || 0.0;\r\n            var globalZ = globalOffsetZ || 0.0;\r\n            var localOffsetX = this.LocalOffsetX;\r\n            var localOffsetY = this.LocalOffsetY;\r\n            var localOffsetZ = this.LocalOffsetZ;\r\n            var localX = localOffsetX || 0.0;\r\n            var localY = localOffsetY || 0.0;\r\n            var localZ = localOffsetZ || 0.0;\r\n\r\n            var ow = this.ObjectWidth;\r\n            var oh = this.ObjectHeight;\r\n\r\n            var height = 2.0 * CAMERA_DIST * Math.tan(FIELD_OF_VIEW / 2.0);\r\n            var scale = height / oh;\r\n\r\n            var toCenter = mat4.createTranslate(\r\n                -ow * this.CenterOfRotationX,\r\n                -oh * this.CenterOfRotationY,\r\n                -this.CenterOfRotationZ);\r\n            var invertY = mat4.createScale(1.0, -1.0, 1.0);\r\n            var localOffset = mat4.createTranslate(localX, -localY, localZ);\r\n            var rotateX = mat4.createRotateX(radiansX);\r\n            var rotateY = mat4.createRotateX(radiansY);\r\n            var rotateZ = mat4.createRotateX(radiansZ);\r\n            var toCamera = mat4.createTranslate(\r\n                ow * (this.CenterOfRotationX - 0.5) + globalX,\r\n                -oh * (this.CenterOfRotationY - 0.5) - globalY,\r\n                this.CenterOfRotationZ - CAMERA_DIST + globalZ);\r\n            var perspective = mat4.createPerspective(FIELD_OF_VIEW, ow / oh, NEAR_VAL, FAR_VAL);\r\n            var zoom = mat4.createScale(scale, scale, 1.0);\r\n            var viewport = mat4.createViewport(ow, oh);\r\n\r\n            var m = mat4.multiply(toCenter, invertY);\r\n            mat4.multiply(m, localOffset, m);\r\n            mat4.multiply(m, rotateX, m);\r\n            mat4.multiply(m, rotateY, m);\r\n            mat4.multiply(m, rotateZ, m);\r\n            mat4.multiply(m, toCamera, m);\r\n            mat4.multiply(m, perspective, m);\r\n            mat4.multiply(m, zoom, m);\r\n            mat4.multiply(m, viewport, m);\r\n\r\n            var r = new Matrix3D();\r\n            r._Raw = m;\r\n            return r;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PlaneProjection);\r\n}","/// <reference path=\"GradientBrush.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    var tmpCanvas: HTMLCanvasElement = document.createElement('canvas');\r\n    var tmpCtx: CanvasRenderingContext2D = <CanvasRenderingContext2D>tmpCanvas.getContext('2d');\r\n    var epsilon = 1E-10;\r\n\r\n    export class RadialGradientBrush extends GradientBrush {\r\n        static CenterProperty = DependencyProperty.RegisterCore(\"Center\", () => Point, RadialGradientBrush, undefined, (d: RadialGradientBrush, args) => d.InvalidateBrush());\r\n        static GradientOriginProperty = DependencyProperty.RegisterCore(\"GradientOrigin\", () => Point, RadialGradientBrush, undefined, (d: RadialGradientBrush, args) => d.InvalidateBrush());\r\n        static RadiusXProperty = DependencyProperty.RegisterCore(\"RadiusX\", () => Number, RadialGradientBrush, 0.5, (d: RadialGradientBrush, args) => d.InvalidateBrush());\r\n        static RadiusYProperty = DependencyProperty.RegisterCore(\"RadiusY\", () => Number, RadialGradientBrush, 0.5, (d: RadialGradientBrush, args) => d.InvalidateBrush());\r\n        Center: Point; //undefined should be treated as 0.5,0.5\r\n        GradientOrigin: Point; //undefined should be treated as 0.5,0.5\r\n        RadiusX: number;\r\n        RadiusY: number;\r\n\r\n        CreatePad (ctx: CanvasRenderingContext2D, bounds: minerva.Rect): any {\r\n            var data = this._GetPointData(bounds);\r\n            var grd = (!data.balanced ? tmpCtx : ctx).createRadialGradient(data.x0, data.y0, 0, data.x1, data.y1, data.r1);\r\n            for (var en = this.GradientStops.getEnumerator(); en.moveNext();) {\r\n                var stop: GradientStop = en.current;\r\n                this.AddColorStop(grd, stop.Offset, stop.Color ? stop.Color.toString() : Color.FromHex(\"#FF000000\").toString());\r\n            }\r\n            return this.FitPattern(ctx, grd, data, bounds);\r\n        }\r\n\r\n        CreateRepeat (ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var data = this._GetPointData(bounds);\r\n            return this.CreateInterpolated(data, bounds, false);\r\n        }\r\n\r\n        CreateReflect (ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var data = this._GetPointData(bounds);\r\n            return this.CreateInterpolated(data, bounds, true);\r\n        }\r\n\r\n        private CreateInterpolated (data: RadialGradient.IRadialPointData, bounds: minerva.Rect, reflect: boolean): CanvasPattern {\r\n            tmpCanvas.width = bounds.width;\r\n            tmpCanvas.height = bounds.height;\r\n            tmpCtx.save();\r\n            if (!data.balanced)\r\n                tmpCtx.scale(data.sx, data.sy);\r\n            tmpCtx.globalCompositeOperation = \"destination-over\";\r\n\r\n            var inverted = false;\r\n            var allStops = this.GradientStops.getPaddedEnumerable();\r\n            for (var extender = RadialGradient.createExtender(data, bounds); extender.step(); inverted = !inverted) {\r\n                var grd = extender.createGradient(tmpCtx);\r\n                for (var en = allStops.getEnumerator(); en.moveNext();) {\r\n                    var offset = en.current.Offset;\r\n                    if (reflect && inverted)\r\n                        offset = 1 - offset;\r\n                    this.AddColorStop(grd, offset, en.current.Color.toString());\r\n                }\r\n                tmpCtx.fillStyle = grd;\r\n                tmpCtx.beginPath();\r\n                tmpCtx.arc(extender.x1, extender.y1, extender.r1, 0, 2 * Math.PI, false);\r\n                tmpCtx.closePath();\r\n                tmpCtx.fill();\r\n            }\r\n\r\n            var pattern = tmpCtx.createPattern(tmpCanvas, \"no-repeat\");\r\n            tmpCtx.restore();\r\n            return pattern;\r\n        }\r\n\r\n        private FitPattern (ctx: CanvasRenderingContext2D, fill: CanvasGradient | CanvasPattern, data: RadialGradient.IRadialPointData, bounds: minerva.Rect): CanvasPattern {\r\n            //NOTE:\r\n            //  This will return the CanvasGradient if bounds are square\r\n            //  Otherwise, it will create a CanvasPattern by scaling square coordinate space into bounds\r\n            if (data.balanced)\r\n                return fill;\r\n\r\n            tmpCanvas.width = bounds.width;\r\n            tmpCanvas.height = bounds.height;\r\n\r\n            tmpCtx.save();\r\n            tmpCtx.scale(data.sx, data.sy);\r\n            tmpCtx.fillStyle = fill;\r\n            tmpCtx.fillRect(0, 0, data.side, data.side);\r\n            var pattern = ctx.createPattern(tmpCanvas, \"no-repeat\");\r\n            tmpCtx.restore();\r\n            return pattern;\r\n        }\r\n\r\n        private _GetPointData (bounds: minerva.Rect): RadialGradient.IRadialPointData {\r\n            //NOTE:\r\n            //  This function will translate relative coordinates to absolute coordinates\r\n            //  It will then map non-square metrics into square coordinate space\r\n            var center = this.Center;\r\n            center = !center ? new Point(0.5, 0.5) : center.Clone();\r\n            var origin = this.GradientOrigin;\r\n            origin = !origin ? new Point(0.5, 0.5) : origin.Clone();\r\n            var rx = this.RadiusX;\r\n            if (rx == null)\r\n                rx = 0.5;\r\n            var ry = this.RadiusY;\r\n            if (ry == null)\r\n                ry = 0.5;\r\n\r\n            if (this.MappingMode !== BrushMappingMode.Absolute) {\r\n                center.x *= bounds.width;\r\n                center.y *= bounds.height;\r\n                origin.x *= bounds.width;\r\n                origin.y *= bounds.height;\r\n                rx *= bounds.width;\r\n                ry *= bounds.height;\r\n            }\r\n\r\n            center.x += bounds.x;\r\n            center.y += bounds.y;\r\n            origin.x += bounds.x;\r\n            origin.y += bounds.y;\r\n\r\n            var rad = Math.max(rx, ry);\r\n            var side = Math.max(bounds.width, bounds.height),\r\n                sx = bounds.width / side,\r\n                sy = bounds.height / side;\r\n            return {\r\n                x0: origin.x / sx,\r\n                y0: origin.y / sy,\r\n                x1: center.x / sx,\r\n                y1: center.y / sy,\r\n                r1: rad,\r\n                side: side,\r\n                sx: bounds.width / side,\r\n                sy: bounds.height / side,\r\n                balanced: Math.abs(rx - ry) < epsilon\r\n            };\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RadialGradientBrush);\r\n}\r\n","/// <reference path=\"Geometry.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class RectangleGeometry extends Geometry {\r\n        static RectProperty = DependencyProperty.RegisterCore(\"Rect\", () => Rect, RectangleGeometry, undefined, (d: RectangleGeometry, args) => d.InvalidateGeometry());\r\n        static RadiusXProperty = DependencyProperty.RegisterCore(\"RadiusX\", () => Number, RectangleGeometry, 0, (d: RectangleGeometry, args) => d.InvalidateGeometry());\r\n        static RadiusYProperty = DependencyProperty.RegisterCore(\"RadiusY\", () => Number, RectangleGeometry, 0, (d: RectangleGeometry, args) => d.InvalidateGeometry());\r\n        Rect: minerva.Rect;\r\n        RadiusX: number;\r\n        RadiusY: number;\r\n\r\n        _Build (): minerva.path.Path {\r\n            var irect = this.Rect;\r\n            if (!irect)\r\n                return null;\r\n\r\n            var radiusX = this.RadiusX;\r\n            var radiusY = this.RadiusY;\r\n\r\n            var p = new minerva.path.Path();\r\n            p.roundedRect(irect.x, irect.y, irect.width, irect.height, radiusX, radiusY);\r\n            return p;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RectangleGeometry);\r\n}","/// <reference path=\"Brush.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class SolidColorBrush extends Brush {\r\n        static ColorProperty = DependencyProperty.Register(\"Color\", () => Color, SolidColorBrush, undefined, (d, args) => (<Brush>d).InvalidateBrush());\r\n        Color: Color;\r\n\r\n        constructor(...args: any[]) {\r\n            super();\r\n            if (args && args.length === 1 && args[0] instanceof Color)\r\n                this.Color = args[0];\r\n        }\r\n\r\n        isTransparent(): boolean {\r\n            var color = this.Color;\r\n            return !color || (color.A <= 0);\r\n        }\r\n\r\n        static FromColor(color: Color): SolidColorBrush {\r\n            var scb = new SolidColorBrush();\r\n            scb.Color = color;\r\n            return scb;\r\n        }\r\n\r\n        setupBrush (ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            if ((<any>this)._CachedBrush)\r\n                return;\r\n            (<any>this)._CachedBrush = this.CreateBrush(ctx, bounds);\r\n        }\r\n\r\n        CreateBrush(ctx: CanvasRenderingContext2D, bounds: minerva.Rect): any {\r\n            var color = this.Color;\r\n            if (!color)\r\n                return \"#000000\";\r\n            return color.toString();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SolidColorBrush);\r\n\r\n    function brushConverter(val: any): Brush {\r\n        if (!val || val instanceof Brush)\r\n            return val;\r\n        var scb = new SolidColorBrush();\r\n        scb.Color = nullstone.convertAnyToType(val, Color);\r\n        return scb;\r\n    }\r\n\r\n    nullstone.registerTypeConverter(Brush, brushConverter);\r\n    nullstone.registerTypeConverter(SolidColorBrush, brushConverter);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class TextOptions {\r\n        static TextHintingModeProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"TextHintingMode\", () => new Enum(TextHintingMode), TextOptions);\r\n        static GetTextHintingMode(d: DependencyObject): TextHintingMode { return d.GetValue(TextOptions.TextHintingModeProperty); }\r\n        static SetTextHintingMode(d: DependencyObject, value: TextHintingMode) { d.SetValue(TextOptions.TextHintingModeProperty, value); }\r\n    }\r\n    Fayde.CoreLibrary.add(TextOptions);\r\n}","/// <reference path=\"Brush.ts\" />\r\n/// <reference path=\"Enums.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    function computeImageMatrix(width: number, height: number, sw: number, sh: number, stretch: Stretch, alignX: AlignmentX, alignY: AlignmentY): number[] {\r\n        var sx = width / sw;\r\n        var sy = height / sh;\r\n        if (width === 0)\r\n            sx = 1.0;\r\n        if (height === 0)\r\n            sy = 1.0;\r\n\r\n        if (stretch === Stretch.Fill) {\r\n            return mat3.createScale(sx, sy);\r\n        }\r\n\r\n        var scale = 1.0;\r\n        var dx = 0.0;\r\n        var dy = 0.0;\r\n        switch (stretch) {\r\n            case Stretch.Uniform:\r\n                scale = sx < sy ? sx : sy;\r\n                break;\r\n            case Stretch.UniformToFill:\r\n                scale = sx < sy ? sy : sx;\r\n                break;\r\n            case Stretch.None:\r\n                break;\r\n        }\r\n\r\n        switch (alignX) {\r\n            case AlignmentX.Left:\r\n                dx = 0.0;\r\n                break;\r\n            case AlignmentX.Center:\r\n                dx = (width - (scale * sw)) / 2;\r\n                break;\r\n            case AlignmentX.Right:\r\n            default:\r\n                dx = width - (scale * sw);\r\n                break;\r\n        }\r\n\r\n        switch (alignY) {\r\n            case AlignmentY.Top:\r\n                dy = 0.0;\r\n                break;\r\n            case AlignmentY.Center:\r\n                dy = (height - (scale * sh)) / 2;\r\n                break;\r\n            case AlignmentY.Bottom:\r\n            default:\r\n                dy = height - (scale * sh);\r\n                break;\r\n        }\r\n        var m = mat3.createScale(scale, scale);\r\n        mat3.translate(m, dx, dy);\r\n        return m;\r\n    }\r\n\r\n    export class TileBrush extends Brush {\r\n        static AlignmentXProperty = DependencyProperty.RegisterCore(\"AlignmentX\", () => new Enum(AlignmentX), TileBrush, AlignmentX.Center, (d: TileBrush, args) => d.InvalidateBrush());\r\n        static AlignmentYProperty = DependencyProperty.RegisterCore(\"AlignmentY\", () => new Enum(AlignmentY), TileBrush, AlignmentY.Center, (d: TileBrush, args) => d.InvalidateBrush());\r\n        static StretchProperty = DependencyProperty.RegisterCore(\"Stretch\", () => new Enum(Stretch), TileBrush, Stretch.Fill, (d: TileBrush, args) => d.InvalidateBrush());\r\n        AlignmentX: AlignmentX;\r\n        AlignmentY: AlignmentY;\r\n        Stretch: Stretch;\r\n\r\n        CreateBrush(ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var imgExtents = this.GetTileExtents();\r\n\r\n            var tmpCanvas = <HTMLCanvasElement>document.createElement(\"canvas\");\r\n            tmpCanvas.width = bounds.width;\r\n            tmpCanvas.height = bounds.height;\r\n\r\n            var tmpCtx = <CanvasRenderingContext2D>tmpCanvas.getContext(\"2d\");\r\n\r\n            var mat = computeImageMatrix(bounds.width, bounds.height,\r\n                imgExtents.width, imgExtents.height, this.Stretch, this.AlignmentX, this.AlignmentY);\r\n            tmpCtx.setTransform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5]);\r\n\r\n            this.DrawTile(tmpCtx, bounds);\r\n\r\n            return ctx.createPattern(tmpCanvas, \"no-repeat\");\r\n        }\r\n        GetTileExtents(): minerva.Rect { return undefined; }\r\n        DrawTile(canvasCtx: CanvasRenderingContext2D, bounds: minerva.Rect) { }\r\n    }\r\n    Fayde.CoreLibrary.add(TileBrush);\r\n}","/// <reference path=\"GeneralTransform.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class Transform extends GeneralTransform implements minerva.ITransform {\r\n        private _Value: Matrix;\r\n\r\n        constructor () {\r\n            super();\r\n            XamlNode.SetShareable(this.XamlNode);\r\n        }\r\n\r\n        get Value (): Matrix {\r\n            var val = this._Value;\r\n            if (!val) {\r\n                this._Value = val = new Matrix();\r\n                val._Raw = this._BuildValue();\r\n            }\r\n            return val;\r\n        }\r\n\r\n        getRaw (): number[] {\r\n            return this.Value._Raw;\r\n        }\r\n\r\n        get Inverse (): Transform {\r\n            var inverse = this.Value.Inverse;\r\n            if (!inverse)\r\n                return null;\r\n            var mt = new MatrixTransform();\r\n            mt.Matrix = inverse;\r\n            return mt;\r\n        }\r\n\r\n        Transform (p: minerva.IPoint): Point {\r\n            var val = this.Value;\r\n            var v: number[];\r\n            if (!val || !(v = val._Raw))\r\n                return new Point(p.x, p.y);\r\n            v = mat3.transformVec2(v, vec2.create(p.x, p.y));\r\n            return new Point(v[0], v[1]);\r\n        }\r\n\r\n        TransformBounds (r: minerva.Rect): minerva.Rect {\r\n            if (!r)\r\n                return undefined;\r\n            var v = this.Value;\r\n            var copy = new minerva.Rect();\r\n            minerva.Rect.copyTo(r, copy);\r\n            if (!v || !v._Raw)\r\n                return copy;\r\n            return minerva.Rect.transform(copy, v._Raw);\r\n        }\r\n\r\n        TryTransform (inPoint: minerva.IPoint, outPoint: minerva.IPoint): boolean {\r\n            return false;\r\n        }\r\n\r\n        InvalidateValue () {\r\n            if (this._Value !== undefined)\r\n                this._Value = undefined;\r\n            Incite(this);\r\n        }\r\n\r\n        _BuildValue (): number[] {\r\n            //Abstract Method\r\n            return undefined;\r\n        }\r\n\r\n        static copyMatTo (t: Transform, mat: number[]) {\r\n            mat3.copyTo(t.Value._Raw, mat);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Transform);\r\n\r\n    export class MatrixTransform extends Transform {\r\n        static MatrixProperty = DependencyProperty.RegisterFull(\"Matrix\", () => Matrix, MatrixTransform);\r\n        Matrix: Matrix;\r\n\r\n        _BuildValue (): number[] {\r\n            var m = this.Matrix;\r\n            if (m)\r\n                return m._Raw;\r\n            return mat3.identity();\r\n        }\r\n\r\n        Clone (): MatrixTransform {\r\n            var xform = new MatrixTransform();\r\n            xform.Matrix = this.Matrix.Clone();\r\n            return xform;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(MatrixTransform);\r\n\r\n    module reactions {\r\n        DPReaction<Matrix>(MatrixTransform.MatrixProperty, (mt: MatrixTransform, ov, nv) => mt.InvalidateValue());\r\n    }\r\n}","/// <reference path=\"Transform.ts\" />\r\n/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media {\r\n    export class RotateTransform extends Transform {\r\n        static AngleProperty = DependencyProperty.Register(\"Angle\", () => Number, RotateTransform, 0, (d: RotateTransform, args) => d.InvalidateValue());\r\n        static CenterXProperty = DependencyProperty.Register(\"CenterX\", () => Number, RotateTransform, 0, (d: RotateTransform, args) => d.InvalidateValue());\r\n        static CenterYProperty = DependencyProperty.Register(\"CenterY\", () => Number, RotateTransform, 0, (d: RotateTransform, args) => d.InvalidateValue());\r\n        Angle: number;\r\n        CenterX: number;\r\n        CenterY: number;\r\n\r\n        _BuildValue (): number[] {\r\n            var cx = this.CenterX;\r\n            var cy = this.CenterY;\r\n            var angle = this.Angle; //Silverlight rotates clockwise\r\n            var angleRad = Math.PI / 180 * angle;\r\n            var m = mat3.createRotate(angleRad);\r\n            if (cx === 0 && cy === 0)\r\n                return m;\r\n\r\n            //move center {x,y} to {0,0}, rotate, then slide {0,0} back to {x,y}\r\n            mat3.multiply(mat3.createTranslate(-cx, -cy), m, m); //m = translation * m\r\n            mat3.translate(m, cx, cy);\r\n            return m;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RotateTransform);\r\n\r\n    export class ScaleTransform extends Transform {\r\n        static CenterXProperty = DependencyProperty.Register(\"CenterX\", () => Number, ScaleTransform, 0, (d: ScaleTransform, args) => d.InvalidateValue());\r\n        static CenterYProperty = DependencyProperty.Register(\"CenterY\", () => Number, ScaleTransform, 0, (d: ScaleTransform, args) => d.InvalidateValue());\r\n        static ScaleXProperty = DependencyProperty.Register(\"ScaleX\", () => Number, ScaleTransform, 1.0, (d: ScaleTransform, args) => d.InvalidateValue());\r\n        static ScaleYProperty = DependencyProperty.Register(\"ScaleY\", () => Number, ScaleTransform, 1.0, (d: ScaleTransform, args) => d.InvalidateValue());\r\n        CenterX: number;\r\n        CenterY: number;\r\n        ScaleX: number;\r\n        ScaleY: number;\r\n\r\n        _BuildValue (): number[] {\r\n            var cx = this.CenterX;\r\n            var cy = this.CenterY;\r\n            var m = mat3.createScale(this.ScaleX, this.ScaleY);\r\n            if (cx === 0 && cy === 0)\r\n                return m;\r\n\r\n            //move center {x,y} to {0,0}, scale, then slide {0,0} back to {x,y}\r\n            mat3.multiply(mat3.createTranslate(-cx, -cy), m, m); //m = translation * m\r\n            mat3.translate(m, cx, cy);\r\n            return m;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ScaleTransform);\r\n\r\n    export class SkewTransform extends Transform {\r\n        static AngleXProperty = DependencyProperty.Register(\"AngleX\", () => Number, SkewTransform, 0, (d: SkewTransform, args) => d.InvalidateValue());\r\n        static AngleYProperty = DependencyProperty.Register(\"AngleY\", () => Number, SkewTransform, 0, (d: SkewTransform, args) => d.InvalidateValue());\r\n        static CenterXProperty = DependencyProperty.Register(\"CenterX\", () => Number, SkewTransform, 0, (d: SkewTransform, args) => d.InvalidateValue());\r\n        static CenterYProperty = DependencyProperty.Register(\"CenterY\", () => Number, SkewTransform, 0, (d: SkewTransform, args) => d.InvalidateValue());\r\n        AngleX: number;\r\n        AngleY: number;\r\n        CenterX: number;\r\n        CenterY: number;\r\n\r\n        _BuildValue (): number[] {\r\n            var cx = this.CenterX;\r\n            var cy = this.CenterY;\r\n            var angleXRad = Math.PI / 180 * this.AngleX;\r\n            var angleYRad = Math.PI / 180 * this.AngleY;\r\n            var m = mat3.createSkew(angleXRad, angleYRad);\r\n            if (cx === 0 && cy === 0)\r\n                return m;\r\n\r\n            //move center {x,y} to {0,0}, skew, then slide {0,0} back to {x,y}\r\n            mat3.multiply(mat3.createTranslate(-cx, -cy), m, m); //m = translation * m\r\n            mat3.translate(m, cx, cy);\r\n            return m;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SkewTransform);\r\n\r\n    export class TranslateTransform extends Transform {\r\n        static XProperty = DependencyProperty.Register(\"X\", () => Number, TranslateTransform, 0, (d: TranslateTransform, args) => d.InvalidateValue());\r\n        static YProperty = DependencyProperty.Register(\"Y\", () => Number, TranslateTransform, 0, (d: TranslateTransform, args) => d.InvalidateValue());\r\n        X: number;\r\n        Y: number;\r\n\r\n        _BuildValue (): number[] {\r\n            return mat3.createTranslate(this.X, this.Y);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TranslateTransform);\r\n\r\n    export class TransformCollection extends XamlObjectCollection<Transform> {\r\n        AddingToCollection (value: Transform, error: BError): boolean {\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            ReactTo(value, this, () => Incite(this));\r\n            Incite(this);\r\n            return true;\r\n        }\r\n\r\n        RemovedFromCollection (value: Transform, isValueSafe: boolean) {\r\n            if (!super.RemovedFromCollection(value, isValueSafe))\r\n                return false;\r\n            UnreactTo(value, this);\r\n            Incite(this);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TransformCollection);\r\n\r\n    export class TransformGroup extends Transform {\r\n        static ChildrenProperty = DependencyProperty.RegisterImmutable<TransformCollection>(\"Children\", () => TransformCollection, TransformGroup);\r\n        Children: TransformCollection;\r\n\r\n        constructor () {\r\n            super();\r\n            var coll = TransformGroup.ChildrenProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n            ReactTo(coll, this, () => this.InvalidateValue());\r\n        }\r\n\r\n        _BuildValue (): number[] {\r\n            var enumerator = this.Children.getEnumerator();\r\n            var cur = mat3.identity();\r\n            while (enumerator.moveNext()) {\r\n\t\t\t\tif (cur && (<Transform>enumerator.current).Value._Raw)\r\n\t\t\t\t\tmat3.multiply(cur, (<Transform>enumerator.current).Value._Raw, cur); //cur = cur * child\r\n            }\r\n            return cur;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(TransformGroup);\r\n    Markup.Content(TransformGroup, TransformGroup.ChildrenProperty);\r\n}","module Fayde.Navigation {\r\n    export function Navigate(source: DependencyObject, targetName: string, navigateUri: Uri) {\r\n        if (!isExternalTarget(targetName)) {\r\n            if (tryInternalNavigate(source, navigateUri, targetName))\r\n                return;\r\n            if (!isUriValidForExternalNav(navigateUri))\r\n                throw new NotSupportedException(\"Navigation Failed\");\r\n        }\r\n        var app = source.App;\r\n        if (!app || !app.AllowNavigation)\r\n            throw new InvalidOperationException(\"Navigation is now allowed.\");\r\n        var absoluteUri = getAbsoluteUri(navigateUri, app);\r\n        if (!absoluteUri.isAbsoluteUri)\r\n            throw new InvalidOperationException(\"Navigation Failed [\" + absoluteUri.toString() + \"]\");\r\n        launchDummyLink(targetName || \"_self\", absoluteUri.originalString);\r\n    }\r\n\r\n    function isExternalTarget(targetName: string): boolean {\r\n        if (!targetName)\r\n            return false;\r\n        switch (targetName.toLowerCase()) {\r\n            case \"_blank\":\r\n            case \"_media\":\r\n            case \"_search\":\r\n            case \"_parent\":\r\n            case \"_self\":\r\n            case \"_top\":\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n\r\n    function tryInternalNavigate(source: DependencyObject, navigateUri: Uri, targetName: string): boolean {\r\n        var lastSubtree = source;\r\n        for (var en = walkUp(source); en.moveNext();) {\r\n            var cur = <DependencyObject>en.current;\r\n            if (cur && (INavigate_.is(cur) || !VisualTreeHelper.GetParent(cur))) {\r\n                var navigator = findNavigator(cur, lastSubtree, targetName);\r\n                if (navigator)\r\n                    return navigator.Navigate(navigateUri);\r\n                lastSubtree = cur;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function findNavigator(root: DependencyObject, lastSubtree: DependencyObject, targetName: string): INavigate {\r\n        if (!root || root === lastSubtree)\r\n            return null;\r\n        var nav = INavigate_.as(root);\r\n        if (nav && (!targetName || targetName === root.Name))\r\n            return nav;\r\n\r\n        if (root instanceof Controls.Primitives.Popup) {\r\n            return findNavigator((<Controls.Primitives.Popup>root).Child, lastSubtree, targetName);\r\n        } else {\r\n            for (var i = 0, len = VisualTreeHelper.GetChildrenCount(root); i < len; i++) {\r\n                var navigator = findNavigator(VisualTreeHelper.GetChild(root, i), lastSubtree, targetName);\r\n                if (navigator)\r\n                    return navigator;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    function walkUp(xobj: XamlObject): nullstone.IEnumerator<XamlObject> {\r\n        var e = {\r\n            current: xobj,\r\n            moveNext(): boolean {\r\n                if (!e.current)\r\n                    return false;\r\n                e.current = (<any>e.current).VisualParent || e.current.Parent;\r\n                return !!e.current;\r\n            }\r\n        };\r\n        return e;\r\n    }\r\n\r\n    function isUriValidForExternalNav(navigateUri: Uri): boolean {\r\n        if (!navigateUri.isAbsoluteUri) {\r\n            if (!!navigateUri.originalString && navigateUri.originalString[0] !== \"/\")\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function getAbsoluteUri(navigateUri: Uri, app: Application) {\r\n        var relativeUri = navigateUri;\r\n        if (!relativeUri.isAbsoluteUri) {\r\n            if (!!relativeUri.originalString && relativeUri.originalString[0] !== \"/\")\r\n                throw new NotSupportedException(\"HyperlinkButton_GetAbsoluteUri_PageRelativeUri\");\r\n            if (!app)\r\n                throw new NotSupportedException(\"HyperlinkButton_GetAbsoluteUri_NoApplication\");\r\n            relativeUri = new Uri(app.Address, relativeUri);\r\n        }\r\n        return relativeUri;\r\n    }\r\n\r\n    var dummyLink: HTMLAnchorElement;\r\n    function launchDummyLink(target: string, navigateUri: string) {\r\n        dummyLink = dummyLink || document.createElement('a');\r\n        dummyLink.href = navigateUri;\r\n        dummyLink.target = target;\r\n        dummyLink.click();\r\n    }\r\n}","module Fayde.Navigation {\r\n    export class NavigationService {\r\n        Href: string;\r\n        Hash: string;\r\n        LocationChanged = new nullstone.Event();\r\n\r\n        constructor() {\r\n            this.Href = window.location.href;\r\n            this.Hash = window.location.hash;\r\n            if (this.Href[this.Href.length - 1] === '#')\r\n                this.Hash = \"#\";\r\n            if (this.Hash) {\r\n                this.Hash = this.Hash.substr(1);\r\n                this.Href = this.Href.substring(0, this.Href.indexOf('#'));\r\n            }\r\n            window.onhashchange = () => this._HandleFragmentChange();\r\n        }\r\n\r\n        get CurrentUri(): Uri {\r\n            return new Uri(this.Href + \"#\" + this.Hash);\r\n        }\r\n\r\n        Navigate(uri: Uri): boolean {\r\n            window.location.hash = uri.toString();\r\n            return true;\r\n        }\r\n\r\n        private _HandleFragmentChange() {\r\n            this.Hash = window.location.hash;\r\n            if (this.Hash) {\r\n                this.Hash = this.Hash.substr(1);\r\n            }\r\n            this.LocationChanged.raise(this, null);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(NavigationService);\r\n}","module Fayde.Navigation {\n    export class RedirectRoute extends Route {\n        NewUri: Uri;\n\n        constructor(route: Route, newUri: string);\n        constructor(route: Route, newUri: Uri);\n        constructor(route: Route, newUri: any) {\n            super(route.View, route.HashParams, route.DataContext);\n            this.NewUri = new Uri(newUri)\n        }\n    }\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Navigation {\r\n    export class RouteMapper extends DependencyObject {\r\n        static RouteMappingsProperty = DependencyProperty.RegisterImmutable<XamlObjectCollection<RouteMapping>>(\"RouteMappings\", () => XamlObjectCollection, RouteMapper);\r\n        static ViewModelProviderProperty = DependencyProperty.Register(\"ViewModelProvider\", () => Fayde.MVVM.IViewModelProvider_, RouteMapper);\r\n\r\n        RouteMappings: XamlObjectCollection<RouteMapping>;\r\n        ViewModelProvider: Fayde.MVVM.IViewModelProvider;\r\n\r\n        constructor() {\r\n            super();\r\n            RouteMapper.RouteMappingsProperty.Initialize(this);\r\n        }\r\n\r\n        MapUri(uri: Uri): Route {\r\n            var redirect = {\r\n                uri: null,\r\n                do(newUri: string|Uri) {\r\n                    redirect.uri = newUri;\r\n                }\r\n            };\r\n\r\n            var mapped: Route;\r\n            for (var en = this.RouteMappings.getEnumerator(); en.moveNext();) {\r\n                mapped = en.current.MapUri(uri);\r\n                if (mapped) {\r\n                    var vm: any = this.ViewModelProvider ? this.ViewModelProvider.ResolveViewModel(mapped, redirect.do) : null;\r\n                    if (redirect.uri)\r\n                        return new RedirectRoute(mapped, redirect.uri);\r\n                    mapped.DataContext = vm;\r\n                    return mapped;\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RouteMapper);\r\n    Markup.Content(RouteMapper, RouteMapper.RouteMappingsProperty);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Navigation {\r\n    export class RouteMapping extends DependencyObject {\r\n        static ViewProperty = DependencyProperty.Register(\"View\", () => Uri, RouteMapping);\r\n        static UriProperty = DependencyProperty.Register(\"Uri\", () => Uri, RouteMapping);\r\n        View: Uri;\r\n        Uri: Uri;\r\n\r\n        MapUri (uri: Uri): Route {\r\n            var matcher = createUriMatcher(this.Uri.toString(), uri.toString());\r\n            var result: ITokenInfo[] = matcher.Match();\r\n            if (!result)\r\n                return undefined;\r\n\r\n            //construct a route object that contains the view and parameters\r\n            if (!this.View)\r\n                throw new InvalidOperationException(\"RouteMapping must have a view. (\" + this.Uri.toString() + \")\");\r\n            var hashParams: { [key: string]: string } = {};\r\n            for (var i = 0; i < result.length; i++) {\r\n                var key: string = result[i].Identifier;\r\n                var value: string = result[i].Value;\r\n                hashParams[key] = value;\r\n            }\r\n            return new Route(this.View, hashParams, null);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(RouteMapping);\r\n\r\n    interface ITokenInfo {\r\n        Identifier: string;\r\n        Terminator: string;\r\n        Value: string;\r\n    }\r\n    interface IUriMatcher {\r\n        Match(): ITokenInfo[];\r\n    }\r\n\r\n    function createUriMatcher (matchTemplate: string, actual: string): IUriMatcher {\r\n        var i = 0;\r\n        var j = 0;\r\n\r\n        function collectTokenInfo (): ITokenInfo {\r\n            var tokenInfo: ITokenInfo = {\r\n                Identifier: null,\r\n                Terminator: null,\r\n                Value: null\r\n            };\r\n            var index = matchTemplate.indexOf('}', i);\r\n            if (index < 0)\r\n                throw new InvalidOperationException(\"Invalid Uri format. '{' needs a closing '}'.\");\r\n            var len = index - i + 1; //length of '{test}' = 6\r\n            tokenInfo.Identifier = matchTemplate.substr(i + 1, len - 2);\r\n            if (!tokenInfo.Identifier)\r\n                throw new InvalidOperationException(\"Invalid Uri format. '{}' must contain an identifier.\");\r\n            i += len; //advances i just past '}'\r\n            tokenInfo.Terminator = (i + 1) < matchTemplate.length ? matchTemplate[i] : '\\0';\r\n            //console.log(\"identifier: \" + tokenInfo.Identifier + \", terminator: \" + tokenInfo.Terminator);\r\n            return tokenInfo;\r\n        }\r\n\r\n        function findTokenValue (tokenInfo: ITokenInfo): ITokenInfo {\r\n            if (tokenInfo.Terminator === '\\0') {\r\n                tokenInfo.Value = actual.substr(j);\r\n                if (tokenInfo.Value)\r\n                    j += tokenInfo.Value.length;\r\n                return tokenInfo;\r\n            }\r\n            tokenInfo.Value = \"\";\r\n            while (j < actual.length) {\r\n                if (actual[j] == tokenInfo.Terminator)\r\n                    return;\r\n                tokenInfo.Value += actual[j];\r\n                j++;\r\n            }\r\n            //console.log(\"value: \" + tokenInfo.Value);\r\n        }\r\n\r\n        return {\r\n            Match: function (): ITokenInfo[] {\r\n                var tokens: ITokenInfo[] = [];\r\n\r\n                if (matchTemplate.length === 0) {\r\n                    if (actual.length === 0)\r\n                        return tokens;\r\n                    return null;\r\n                }\r\n\r\n                while (i < matchTemplate.length && j < actual.length) {\r\n                    if (matchTemplate[i] === \"{\") {\r\n                        tokens.push(findTokenValue(collectTokenInfo()));\r\n                        continue;\r\n                    }\r\n                    if (matchTemplate[i] !== actual[i])\r\n                        return null;\r\n                    i++;\r\n                    j++;\r\n                }\r\n                return tokens;\r\n            }\r\n        };\r\n    }\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Navigation {\r\n    export class UriMapper extends DependencyObject {\r\n        static UriMappingsProperty = DependencyProperty.RegisterImmutable<XamlObjectCollection<UriMapping>>(\"UriMappings\", () => XamlObjectCollection, UriMapper);\r\n        UriMappings: XamlObjectCollection<UriMapping>;\r\n\r\n        constructor() {\r\n            super();\r\n            UriMapper.UriMappingsProperty.Initialize(this);\r\n        }\r\n\r\n        MapUri(uri: Uri): Uri {\r\n            var enumerator = this.UriMappings.getEnumerator();\r\n            var mapped: Uri;\r\n            while (enumerator.moveNext()) {\r\n                mapped = enumerator.current.MapUri(uri);\r\n                if (mapped)\r\n                    return mapped;\r\n            }\r\n            return uri;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(UriMapper);\r\n    Markup.Content(UriMapper, UriMapper.UriMappingsProperty);\r\n}","/// <reference path=\"../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Navigation {\r\n    export class UriMapping extends DependencyObject {\r\n        static MappedUriProperty = DependencyProperty.Register(\"MappedUri\", () => Uri, UriMapping);\r\n        static UriProperty = DependencyProperty.Register(\"Uri\", () => Uri, UriMapping);\r\n        MappedUri: Uri;\r\n        Uri: Uri;\r\n\r\n        MapUri(uri: Uri): Uri {\r\n            var matcher = createUriMatcher(this.Uri.toString(), this.MappedUri.toString(), uri.toString());\r\n            var result = matcher.Match();\r\n            if (!result)\r\n                return undefined;\r\n            return new Uri(result);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(UriMapping);\r\n\r\n    interface ITokenInfo {\r\n        Identifier: string;\r\n        Terminator: string;\r\n        Value: string;\r\n    }\r\n    interface IUriMatcher {\r\n        Match(): string;\r\n    }\r\n    function createUriMatcher(matchTemplate: string, outputTemplate: string, actual: string): IUriMatcher {\r\n        var i = 0;\r\n        var j = 0;\r\n\r\n        function collectTokenInfo(): ITokenInfo {\r\n            var tokenInfo: ITokenInfo = {\r\n                Identifier: null,\r\n                Terminator: null,\r\n                Value: null\r\n            };\r\n            var index = matchTemplate.indexOf('}', i);\r\n            if (index < 0)\r\n                throw new InvalidOperationException(\"Invalid Uri format. '{' needs a closing '}'.\");\r\n            var len = index - i + 1; //length of '{test}' = 6\r\n            tokenInfo.Identifier = matchTemplate.substr(i + 1, len - 2);\r\n            if (!tokenInfo.Identifier)\r\n                throw new InvalidOperationException(\"Invalid Uri format. '{}' must contain an identifier.\");\r\n            i += len; //advances i just past '}'\r\n            tokenInfo.Terminator = (i + 1) < matchTemplate.length ? matchTemplate[i] : '\\0';\r\n            return tokenInfo;\r\n        }\r\n        function findTokenValue(tokenInfo: ITokenInfo): ITokenInfo {\r\n            if (tokenInfo.Terminator === '\\0') {\r\n                tokenInfo.Value = actual.substr(j);\r\n                if (tokenInfo.Value)\r\n                    j += tokenInfo.Value.length;\r\n                return tokenInfo;\r\n            }\r\n            tokenInfo.Value = \"\";\r\n            while (j < actual.length) {\r\n                if (actual[j] == tokenInfo.Terminator)\r\n                    return;\r\n                tokenInfo.Value += actual[j];\r\n                j++;\r\n            }\r\n        }\r\n        function buildMappedUri(tokens: ITokenInfo[]): string {\r\n            var cur = outputTemplate;\r\n            var len = tokens.length;\r\n            var token: ITokenInfo;\r\n            for (var a = 0; a < len; a++) {\r\n                token = tokens[a];\r\n                cur = cur.replace(\"{\" + token.Identifier + \"}\", token.Value);\r\n            }\r\n            return cur;\r\n        }\r\n\r\n        return {\r\n            Match: function (): string {\r\n                var tokens: ITokenInfo[] = [];\r\n                if (matchTemplate.length === 0) {\r\n                    if (actual.length === 0)\r\n                        return buildMappedUri(tokens);\r\n                    return null;\r\n                }\r\n\r\n                while (i < matchTemplate.length && j < actual.length) {\r\n                    if (matchTemplate[i] === \"{\") {\r\n                        tokens.push(findTokenValue(collectTokenInfo()));\r\n                        continue;\r\n                    }\r\n                    if (matchTemplate[i] !== actual[i])\r\n                        return null;\r\n                    i++;\r\n                    j++;\r\n                }\r\n                return buildMappedUri(tokens);\r\n            }\r\n        };\r\n    }\r\n}","class Color implements ICloneable {\r\n    private static __NoAlphaRegex = /#([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}/;\r\n    private static __AlphaRegex = /#([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}([0-9a-fA-F][0-9a-fA-F]){1}/;\r\n\r\n    R: number = 0;\r\n    G: number = 0;\r\n    B: number = 0;\r\n    A: number = 1.0;\r\n\r\n    Add(color2: Color) {\r\n        var c = new Color();\r\n        c.R = this.R + color2.R;\r\n        c.G = this.G + color2.G;\r\n        c.B = this.B + color2.B;\r\n        c.A = this.A + color2.A;\r\n        return c;\r\n    }\r\n    Subtract(color2: Color) {\r\n        var c = new Color();\r\n        c.R = this.R - color2.R;\r\n        c.G = this.G - color2.G;\r\n        c.B = this.B - color2.B;\r\n        c.A = this.A - color2.A;\r\n        return c;\r\n    }\r\n    Multiply(factor: number) {\r\n        var c = new Color();\r\n        c.R = this.R * factor;\r\n        c.G = this.G * factor;\r\n        c.B = this.B * factor;\r\n        c.A = this.A * factor;\r\n        return c;\r\n    }\r\n    Equals(other: Color) {\r\n        return this.R === other.R\r\n            && this.G === other.G\r\n            && this.B === other.B\r\n            && this.A === other.A;\r\n    }\r\n    toString() {\r\n        var r = Math.round(this.R) || 0;\r\n        var g = Math.round(this.G) || 0;\r\n        var b = Math.round(this.B) || 0;\r\n        var a = this.A || 0;\r\n        return `rgba(${r}, ${g}, ${b}, ${a})`;\r\n    }\r\n    ToHexStringNoAlpha(): string {\r\n        return \"#\" + this.R.toString(16) + this.G.toString(16) + this.B.toString(16);\r\n    }\r\n\r\n    Clone(): Color {\r\n        return Color.FromRgba(this.R, this.G, this.B, this.A);\r\n    }\r\n\r\n    static LERP(start: Color, end: Color, p: number): Color {\r\n        var c = new Color();\r\n        c.R = start.R + (end.R - start.R) * p;\r\n        c.G = start.G + (end.G - start.G) * p;\r\n        c.B = start.B + (end.B - start.B) * p;\r\n        c.A = start.A + (end.A - start.A) * p;\r\n        return c;\r\n    }\r\n    static FromRgba(r: number, g: number, b: number, a: number): Color {\r\n        var c = new Color();\r\n        c.R = r;\r\n        c.G = g;\r\n        c.B = b;\r\n        c.A = a;\r\n        return c;\r\n    }\r\n    static FromHex(hex: string): Color {\r\n        var match;\r\n        var c = new Color();\r\n        if ((match = Color.__AlphaRegex.exec(hex)) != null) {\r\n            c.A = parseInt(match[1], 16) / 255.0;\r\n            c.R = parseInt(match[2], 16);\r\n            c.G = parseInt(match[3], 16);\r\n            c.B = parseInt(match[4], 16);\r\n        } else if ((match = Color.__NoAlphaRegex.exec(hex)) != null) {\r\n            c.A = 1.0;\r\n            c.R = parseInt(match[1], 16);\r\n            c.G = parseInt(match[2], 16);\r\n            c.B = parseInt(match[3], 16);\r\n        }\r\n        return c;\r\n    }\r\n\r\n    static KnownColors = {\r\n        AliceBlue: Color.FromHex(\"#FFF0F8FF\"),\r\n        AntiqueWhite: Color.FromHex(\"#FFFAEBD7\"),\r\n        Aqua: Color.FromHex(\"#FF00FFFF\"),\r\n        Aquamarine: Color.FromHex(\"#FF7FFFD4\"),\r\n        Azure: Color.FromHex(\"#FFF0FFFF\"),\r\n        Beige: Color.FromHex(\"#FFF5F5DC\"),\r\n        Bisque: Color.FromHex(\"#FFFFE4C4\"),\r\n        Black: Color.FromHex(\"#FF000000\"),\r\n        BlanchedAlmond: Color.FromHex(\"#FFFFEBCD\"),\r\n        Blue: Color.FromHex(\"#FF0000FF\"),\r\n        BlueViolet: Color.FromHex(\"#FF8A2BE2\"),\r\n        Brown: Color.FromHex(\"#FFA52A2A\"),\r\n        BurlyWood: Color.FromHex(\"#FFDEB887\"),\r\n        CadetBlue: Color.FromHex(\"#FF5F9EA0\"),\r\n        Chartreuse: Color.FromHex(\"#FF7FFF00\"),\r\n        Chocolate: Color.FromHex(\"#FFD2691E\"),\r\n        Coral: Color.FromHex(\"#FFFF7F50\"),\r\n        CornflowerBlue: Color.FromHex(\"#FF6495ED\"),\r\n        Cornsilk: Color.FromHex(\"#FFFFF8DC\"),\r\n        Crimson: Color.FromHex(\"#FFDC143C\"),\r\n        Cyan: Color.FromHex(\"#FF00FFFF\"),\r\n        DarkBlue: Color.FromHex(\"#FF00008B\"),\r\n        DarkCyan: Color.FromHex(\"#FF008B8B\"),\r\n        DarkGoldenrod: Color.FromHex(\"#FFB8860B\"),\r\n        DarkGray: Color.FromHex(\"#FFA9A9A9\"),\r\n        DarkGreen: Color.FromHex(\"#FF006400\"),\r\n        DarkKhaki: Color.FromHex(\"#FFBDB76B\"),\r\n        DarkMagenta: Color.FromHex(\"#FF8B008B\"),\r\n        DarkOliveGreen: Color.FromHex(\"#FF556B2F\"),\r\n        DarkOrange: Color.FromHex(\"#FFFF8C00\"),\r\n        DarkOrchid: Color.FromHex(\"#FF9932CC\"),\r\n        DarkRed: Color.FromHex(\"#FF8B0000\"),\r\n        DarkSalmon: Color.FromHex(\"#FFE9967A\"),\r\n        DarkSeaGreen: Color.FromHex(\"#FF8FBC8F\"),\r\n        DarkSlateBlue: Color.FromHex(\"#FF483D8B\"),\r\n        DarkSlateGray: Color.FromHex(\"#FF2F4F4F\"),\r\n        DarkTurquoise: Color.FromHex(\"#FF00CED1\"),\r\n        DarkViolet: Color.FromHex(\"#FF9400D3\"),\r\n        DeepPink: Color.FromHex(\"#FFFF1493\"),\r\n        DeepSkyBlue: Color.FromHex(\"#FF00BFFF\"),\r\n        DimGray: Color.FromHex(\"#FF696969\"),\r\n        DodgerBlue: Color.FromHex(\"#FF1E90FF\"),\r\n        Firebrick: Color.FromHex(\"#FFB22222\"),\r\n        FloralWhite: Color.FromHex(\"#FFFFFAF0\"),\r\n        ForestGreen: Color.FromHex(\"#FF228B22\"),\r\n        Fuchsia: Color.FromHex(\"#FFFF00FF\"),\r\n        Gainsboro: Color.FromHex(\"#FFDCDCDC\"),\r\n        GhostWhite: Color.FromHex(\"#FFF8F8FF\"),\r\n        Gold: Color.FromHex(\"#FFFFD700\"),\r\n        Goldenrod: Color.FromHex(\"#FFDAA520\"),\r\n        Gray: Color.FromHex(\"#FF808080\"),\r\n        Green: Color.FromHex(\"#FF008000\"),\r\n        GreenYellow: Color.FromHex(\"#FFADFF2F\"),\r\n        Honeydew: Color.FromHex(\"#FFF0FFF0\"),\r\n        HotPink: Color.FromHex(\"#FFFF69B4\"),\r\n        IndianRed: Color.FromHex(\"#FFCD5C5C\"),\r\n        Indigo: Color.FromHex(\"#FF4B0082\"),\r\n        Ivory: Color.FromHex(\"#FFFFFFF0\"),\r\n        Khaki: Color.FromHex(\"#FFF0E68C\"),\r\n        Lavender: Color.FromHex(\"#FFE6E6FA\"),\r\n        LavenderBlush: Color.FromHex(\"#FFFFF0F5\"),\r\n        LawnGreen: Color.FromHex(\"#FF7CFC00\"),\r\n        LemonChiffon: Color.FromHex(\"#FFFFFACD\"),\r\n        LightBlue: Color.FromHex(\"#FFADD8E6\"),\r\n        LightCoral: Color.FromHex(\"#FFF08080\"),\r\n        LightCyan: Color.FromHex(\"#FFE0FFFF\"),\r\n        LightGoldenrodYellow: Color.FromHex(\"#FFFAFAD2\"),\r\n        LightGray: Color.FromHex(\"#FFD3D3D3\"),\r\n        LightGreen: Color.FromHex(\"#FF90EE90\"),\r\n        LightPink: Color.FromHex(\"#FFFFB6C1\"),\r\n        LightSalmon: Color.FromHex(\"#FFFFA07A\"),\r\n        LightSeaGreen: Color.FromHex(\"#FF20B2AA\"),\r\n        LightSkyBlue: Color.FromHex(\"#FF87CEFA\"),\r\n        LightSlateGray: Color.FromHex(\"#FF778899\"),\r\n        LightSteelBlue: Color.FromHex(\"#FFB0C4DE\"),\r\n        LightYellow: Color.FromHex(\"#FFFFFFE0\"),\r\n        Lime: Color.FromHex(\"#FF00FF00\"),\r\n        LimeGreen: Color.FromHex(\"#FF32CD32\"),\r\n        Linen: Color.FromHex(\"#FFFAF0E6\"),\r\n        Magenta: Color.FromHex(\"#FFFF00FF\"),\r\n        Maroon: Color.FromHex(\"#FF800000\"),\r\n        MediumAquamarine: Color.FromHex(\"#FF66CDAA\"),\r\n        MediumBlue: Color.FromHex(\"#FF0000CD\"),\r\n        MediumOrchid: Color.FromHex(\"#FFBA55D3\"),\r\n        MediumPurple: Color.FromHex(\"#FF9370DB\"),\r\n        MediumSeaGreen: Color.FromHex(\"#FF3CB371\"),\r\n        MediumSlateBlue: Color.FromHex(\"#FF7B68EE\"),\r\n        MediumSpringGreen: Color.FromHex(\"#FF00FA9A\"),\r\n        MediumTurquoise: Color.FromHex(\"#FF48D1CC\"),\r\n        MediumVioletRed: Color.FromHex(\"#FFC71585\"),\r\n        MidnightBlue: Color.FromHex(\"#FF191970\"),\r\n        MintCream: Color.FromHex(\"#FFF5FFFA\"),\r\n        MistyRose: Color.FromHex(\"#FFFFE4E1\"),\r\n        Moccasin: Color.FromHex(\"#FFFFE4B5\"),\r\n        NavajoWhite: Color.FromHex(\"#FFFFDEAD\"),\r\n        Navy: Color.FromHex(\"#FF000080\"),\r\n        OldLace: Color.FromHex(\"#FFFDF5E6\"),\r\n        Olive: Color.FromHex(\"#FF808000\"),\r\n        OliveDrab: Color.FromHex(\"#FF6B8E23\"),\r\n        Orange: Color.FromHex(\"#FFFFA500\"),\r\n        OrangeRed: Color.FromHex(\"#FFFF4500\"),\r\n        Orchid: Color.FromHex(\"#FFDA70D6\"),\r\n        PaleGoldenrod: Color.FromHex(\"#FFEEE8AA\"),\r\n        PaleGreen: Color.FromHex(\"#FF98FB98\"),\r\n        PaleTurquoise: Color.FromHex(\"#FFAFEEEE\"),\r\n        PaleVioletRed: Color.FromHex(\"#FFDB7093\"),\r\n        PapayaWhip: Color.FromHex(\"#FFFFEFD5\"),\r\n        PeachPuff: Color.FromHex(\"#FFFFDAB9\"),\r\n        Peru: Color.FromHex(\"#FFCD853F\"),\r\n        Pink: Color.FromHex(\"#FFFFC0CB\"),\r\n        Plum: Color.FromHex(\"#FFDDA0DD\"),\r\n        PowderBlue: Color.FromHex(\"#FFB0E0E6\"),\r\n        Purple: Color.FromHex(\"#FF800080\"),\r\n        Red: Color.FromHex(\"#FFFF0000\"),\r\n        RosyBrown: Color.FromHex(\"#FFBC8F8F\"),\r\n        RoyalBlue: Color.FromHex(\"#FF4169E1\"),\r\n        SaddleBrown: Color.FromHex(\"#FF8B4513\"),\r\n        Salmon: Color.FromHex(\"#FFFA8072\"),\r\n        SandyBrown: Color.FromHex(\"#FFF4A460\"),\r\n        SeaGreen: Color.FromHex(\"#FF2E8B57\"),\r\n        SeaShell: Color.FromHex(\"#FFFFF5EE\"),\r\n        Sienna: Color.FromHex(\"#FFA0522D\"),\r\n        Silver: Color.FromHex(\"#FFC0C0C0\"),\r\n        SkyBlue: Color.FromHex(\"#FF87CEEB\"),\r\n        SlateBlue: Color.FromHex(\"#FF6A5ACD\"),\r\n        SlateGray: Color.FromHex(\"#FF708090\"),\r\n        Snow: Color.FromHex(\"#FFFFFAFA\"),\r\n        SpringGreen: Color.FromHex(\"#FF00FF7F\"),\r\n        SteelBlue: Color.FromHex(\"#FF4682B4\"),\r\n        Tan: Color.FromHex(\"#FFD2B48C\"),\r\n        Teal: Color.FromHex(\"#FF008080\"),\r\n        Thistle: Color.FromHex(\"#FFD8BFD8\"),\r\n        Tomato: Color.FromHex(\"#FFFF6347\"),\r\n        Transparent: Color.FromHex(\"#00FFFFFF\"),\r\n        Turquoise: Color.FromHex(\"#FF40E0D0\"),\r\n        Violet: Color.FromHex(\"#FFEE82EE\"),\r\n        Wheat: Color.FromHex(\"#FFF5DEB3\"),\r\n        White: Color.FromHex(\"#FFFFFFFF\"),\r\n        WhiteSmoke: Color.FromHex(\"#FFF5F5F5\"),\r\n        Yellow: Color.FromHex(\"#FFFFFF00\"),\r\n        YellowGreen: Color.FromHex(\"#FF9ACD32\")\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(Color);\r\n\r\nnullstone.registerTypeConverter(Color, (val: any): Color => {\r\n    if (!val || val instanceof Color)\r\n        return <Color>val;\r\n    if (val instanceof (<any>Fayde).Media.SolidColorBrush)\r\n        return (<any>val).Color;\r\n    val = val.toString();\r\n    if (val[0] !== \"#\") {\r\n        var color = Color.KnownColors[val];\r\n        if (!color)\r\n            throw new NotSupportedException(\"Unknown Color: \" + val);\r\n        return color;\r\n    }\r\n    return Color.FromHex(val);\r\n});\r\n","class CornerRadius extends minerva.CornerRadius implements ICloneable {\r\n    Clone (): CornerRadius {\r\n        return new CornerRadius(this.topLeft, this.topRight, this.bottomRight, this.bottomLeft);\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(CornerRadius);\r\n\r\nnullstone.registerTypeConverter(CornerRadius, (val: any): CornerRadius => {\r\n    if (!val)\r\n        return new CornerRadius();\r\n    if (val instanceof CornerRadius)\r\n\t    return <CornerRadius>val;\r\n    if (typeof val === \"number\")\r\n        return new CornerRadius(val, val, val, val);\r\n    var tokens = Fayde.splitCommaList(val.toString());\r\n    var topLeft, topRight, bottomRight, bottomLeft;\r\n    if (tokens.length === 1) {\r\n        topLeft = topRight = bottomRight = bottomLeft = parseFloat(tokens[0]);\r\n    } else if (tokens.length === 4) {\r\n        topLeft = parseFloat(tokens[0]);\r\n        topRight = parseFloat(tokens[1]);\r\n        bottomRight = parseFloat(tokens[2]);\r\n        bottomLeft = parseFloat(tokens[3]);\r\n    } else {\r\n        throw new Exception(\"Cannot parse CornerRadius value '\" + val + \"'\");\r\n    }\r\n    return new CornerRadius(topLeft, topRight, bottomRight, bottomLeft);\r\n});\r\n","enum DurationType {\r\n    Automatic = 0,\r\n    Forever = 1,\r\n    TimeSpan = 2,\r\n}\r\n\r\nclass Duration implements ICloneable {\r\n    private _Type: DurationType = DurationType.TimeSpan;\r\n    private _TimeSpan: TimeSpan;\r\n\r\n    constructor(ts?: TimeSpan) {\r\n        this._TimeSpan = ts;\r\n    }\r\n\r\n    Clone(): Duration {\r\n        var dur = new Duration();\r\n        dur._Type = this._Type;\r\n        dur._TimeSpan = this._TimeSpan;\r\n        return dur;\r\n    }\r\n\r\n    get Type(): DurationType { return this._Type; }\r\n    get TimeSpan(): TimeSpan {\r\n        if (this._Type === DurationType.TimeSpan)\r\n            return this._TimeSpan;\r\n    }\r\n    get HasTimeSpan(): boolean { return this._Type === DurationType.TimeSpan }\r\n    get IsForever(): boolean { return this._Type === DurationType.Forever; }\r\n    get IsAutomatic(): boolean { return this._Type === DurationType.Automatic; }\r\n\r\n    get IsZero(): boolean { return this._Type === DurationType.TimeSpan && this._TimeSpan.Ticks === 0; }\r\n\r\n    static Automatic: Duration = (function () { var d = new Duration(); (<any>d)._Type = DurationType.Automatic; return d; })();\r\n    static Forever: Duration = (function () { var d = new Duration(); (<any>d)._Type = DurationType.Forever; return d; })();\r\n}\r\nFayde.CoreLibrary.addPrimitive(Duration);\r\nnullstone.registerTypeConverter(Duration, (val: any): Duration => {\r\n    if (val instanceof Duration)\r\n\t    return <Duration>val;\r\n    if (!val || val.toString().toLowerCase() === \"automatic\")\r\n        return Duration.Automatic;\r\n    if (val.toString().toLowerCase() === \"forever\")\r\n        return Duration.Forever;\r\n    var ts = nullstone.convertAnyToType(val, TimeSpan);\r\n    return new Duration(ts);\r\n});\r\n","class FontFamily implements ICloneable {\r\n    constructor(public FamilyNames: string) { }\r\n    toString(): string {\r\n        return this.FamilyNames;\r\n    }\r\n    Clone(): FontFamily {\r\n        return new FontFamily(this.FamilyNames);\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(FontFamily);\r\nnullstone.registerTypeConverter(FontFamily, (val: any): any => {\r\n    if (!val) return new FontFamily(minerva.Font.DEFAULT_FAMILY);\r\n    return new FontFamily(val.toString());\r\n});","class KeyTime implements ICloneable {\r\n    private _IsPaced: boolean = false;\r\n    private _IsUniform: boolean = false;\r\n    private _TimeSpan: TimeSpan = null;\r\n    private _Percent: number = null;\r\n    IsValid: boolean = true;\r\n\r\n    static CreateUniform(): KeyTime {\r\n        var kt = new KeyTime();\r\n        kt._IsUniform = true;\r\n        return kt;\r\n    }\r\n    static CreateTimeSpan(ts: TimeSpan): KeyTime {\r\n        var kt = new KeyTime();\r\n        kt._TimeSpan = ts;\r\n        return kt;\r\n    }\r\n\r\n    Clone(): KeyTime {\r\n        var kt = new KeyTime();\r\n        kt._TimeSpan = this._TimeSpan;\r\n        kt._IsPaced = this._IsPaced;\r\n        kt._IsUniform = this._IsUniform;\r\n        kt._Percent = this._Percent;\r\n        return kt;\r\n    }\r\n\r\n    get IsPaced(): boolean { return this._IsPaced; }\r\n    get IsUniform(): boolean { return this._IsUniform; }\r\n    get HasTimeSpan(): boolean { return this._TimeSpan != null; }\r\n    get TimeSpan(): TimeSpan { return this._TimeSpan; }\r\n    get HasPercent(): boolean { return this._Percent != null; }\r\n    get Percent(): number { return this._Percent; }\r\n}\r\nFayde.CoreLibrary.addPrimitive(KeyTime);\r\nnullstone.registerTypeConverter(KeyTime, (val: any): KeyTime => {\r\n    if (!val || val.toString().toLowerCase() === \"uniform\")\r\n        return KeyTime.CreateUniform();\r\n    var ts = nullstone.convertAnyToType(val, TimeSpan);\r\n    return KeyTime.CreateTimeSpan(ts);\r\n});","class Length {\r\n}\r\nFayde.CoreLibrary.addPrimitive(Length);\r\nnullstone.registerTypeConverter(Length, (val: any): number => {\r\n    if (!val || val.toString().toLowerCase() === \"auto\")\r\n        return Number.NaN;\r\n    if (typeof val === \"number\")\r\n        return val;\r\n    return parseFloat(val.toString());\r\n});","class Rect extends minerva.Rect {\r\n    Clone (): Rect {\r\n        return new Rect(this.x, this.y, this.width, this.height);\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(Rect);\r\n\r\nnullstone.registerTypeConverter(Rect, (val: any): any => {\r\n    if (!val)\r\n        return new Rect();\r\n    if (val instanceof Rect)\r\n        return val;\r\n\r\n    var tokens = Fayde.splitCommaList(val.toString());\r\n    if (tokens.length === 4) {\r\n        return new Rect(parseFloat(tokens[0]), parseFloat(tokens[1]), parseFloat(tokens[2]), parseFloat(tokens[3]));\r\n    }\r\n    throw new Error(\"Cannot parse Rect value '\" + val + \"'\");\r\n});\r\n","class Size extends minerva.Size {\r\n    Clone (): Size {\r\n        return new Size(this.width, this.height);\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(Size);\r\n\r\nnullstone.registerTypeConverter(Size, (val: any): Size => {\r\n    if (!val)\r\n        return new Size();\r\n    if (val instanceof Size)\r\n        return <Size>val;\r\n    if (val instanceof minerva.Size)\r\n        return new Size(val.width, val.height);\r\n    var tokens = Fayde.splitCommaList(val.toString());\r\n    if (tokens.length === 2) {\r\n        var w = parseFloat(tokens[0]);\r\n        var h = parseFloat(tokens[1]);\r\n        return new Size(w, h);\r\n    }\r\n    throw new Exception(\"Cannot parse Size value '\" + val + \"'\");\r\n});\r\n","class Thickness extends minerva.Thickness {\r\n    Clone (): Thickness {\r\n        return new Thickness(this.left, this.top, this.right, this.bottom);\r\n    }\r\n\r\n    toString () {\r\n        var l = this.left || 0;\r\n        var t = this.top || 0;\r\n        var r = this.right || 0;\r\n        var b = this.bottom || 0;\r\n        return [l, t, r, b].join(',');\r\n    }\r\n}\r\nFayde.CoreLibrary.addPrimitive(Thickness);\r\n\r\nnullstone.registerTypeConverter(Thickness, (val: any): Thickness => {\r\n    if (!val)\r\n        return new Thickness();\r\n    if (typeof val === \"number\")\r\n        return new Thickness(val, val, val, val);\r\n    if (val instanceof Thickness) {\r\n        var t = <Thickness>val;\r\n        return new Thickness(t.left, t.top, t.right, t.bottom);\r\n    }\r\n    var tokens = Fayde.splitCommaList(val.toString());\r\n    var left, top, right, bottom;\r\n    if (tokens.length === 1) {\r\n        left = top = right = bottom = parseFloat(tokens[0]);\r\n    } else if (tokens.length === 2) {\r\n        left = right = parseFloat(tokens[0]);\r\n        top = bottom = parseFloat(tokens[1]);\r\n    } else if (tokens.length === 4) {\r\n        left = parseFloat(tokens[0]);\r\n        top = parseFloat(tokens[1]);\r\n        right = parseFloat(tokens[2]);\r\n        bottom = parseFloat(tokens[3]);\r\n    } else {\r\n        throw new Exception(\"Cannot parse Thickness value '\" + val + \"'\");\r\n    }\r\n    return new Thickness(left, top, right, bottom);\r\n});\r\n","module Fayde {\r\n    export function splitCommaList (str: string): string[] {\r\n        var tokens: string[] = [];\r\n        for (var i = 0, arr = str.split(' ').join(',').split(','); i < arr.length; i++) {\r\n            var cur = arr[i];\r\n            if (cur)\r\n                tokens.push(cur);\r\n        }\r\n        return tokens;\r\n    }\r\n}","class BError {\r\n    static Argument: number = 2;\r\n    static InvalidOperation: number = 3;\r\n    static XamlParse: number = 5;\r\n    static Attach: number = 6;\r\n    Message: string;\r\n    Number: number;\r\n    Data: any;\r\n    ThrowException() {\r\n        var ex: Exception;\r\n        switch (this.Number) {\r\n            case BError.Attach:\r\n                ex = new AttachException(this.Message, this.Data);\r\n                break;\r\n            case BError.Argument:\r\n                ex = new ArgumentException(this.Message);\r\n                break;\r\n            case BError.InvalidOperation:\r\n                ex = new InvalidOperationException(this.Message);\r\n                break;\r\n            case BError.XamlParse:\r\n                ex = new XamlParseException(this.Message);\r\n                break;\r\n            default:\r\n                ex = new Exception(this.Message);\r\n                break;\r\n        }\r\n        throw ex;\r\n    }\r\n}","module Fayde {\r\n    import XamlMarkup = nullstone.markup.xaml.XamlMarkup;\r\n\r\n    export function Bootstrap(onLoaded?: (app: Application) => any) {\r\n        var url = document.body.getAttribute(\"fayde-app\");\r\n        if (!url) {\r\n            console.warn(\"No application specified.\");\r\n            return;\r\n        }\r\n\r\n        var canvas: HTMLCanvasElement = document.getElementsByTagName(\"canvas\")[0];\r\n        if (!canvas)\r\n            document.body.appendChild(canvas = document.createElement(\"canvas\"));\r\n\r\n        bootstrap(url, canvas, onLoaded);\r\n    }\r\n\r\n    function bootstrap(url: string, canvas: HTMLCanvasElement, onLoaded: (app: Application) => any) {\r\n        var app: Application;\r\n\r\n        function resolveConfig(): Promise<void> {\r\n            perfex.phases.start('ResolveConfig');\r\n            return new Promise<void>((resolve, reject) => {\r\n                Fayde.LoadConfigJson((config, err) => {\r\n                    if (err)\r\n                        console.warn('Could not load fayde configuration file.', err);\r\n                    resolve();\r\n                });\r\n            });\r\n        }\r\n\r\n        function getApp(): Promise<XamlMarkup> {\r\n            perfex.phases.start('RetrieveApp');\r\n            return Markup.Retrieve(url);\r\n        }\r\n\r\n        function resolveTheme(markup: XamlMarkup): Promise<XamlMarkup> {\r\n            perfex.phases.start('ResolveTheme');\r\n            var root = <Element>markup.root;\r\n            var themeName = root.getAttribute(\"ThemeName\") || DEFAULT_THEME_NAME;\r\n            return ThemeManager.LoadAsync(themeName);\r\n        }\r\n\r\n        function resolveApp() {\r\n            perfex.phases.start('ResolveApp');\r\n            return Application.GetAsync(url)\r\n                .then(result => Application.Current = app = result);\r\n        }\r\n\r\n        function finishError(err: any) {\r\n            console.error(\"An error occurred retrieving the application.\", err);\r\n        }\r\n\r\n        function startApp() {\r\n            perfex.phases.start('StartApp');\r\n            app.Attach(canvas);\r\n            app.Start();\r\n            loaded();\r\n        }\r\n\r\n        function loaded() {\r\n            onLoaded && onLoaded(app);\r\n            perfex.phases.start('Running');\r\n        }\r\n\r\n        resolveConfig()\r\n            .then(getApp, finishError)\r\n            .then(resolveTheme, finishError)\r\n            .then(resolveApp, finishError)\r\n            .then(startApp, finishError);\r\n    }\r\n}","module Fayde {\r\n    var jsonFile = 'fayde.json';\r\n\r\n    declare var require;\r\n\r\n    export function LoadConfigJson (onComplete: (config: any, err?: any) => void) {\r\n        require(['text!' + jsonFile],\r\n            (jsontext) => configure(jsontext, onComplete),\r\n            (err) => onComplete(err));\r\n    }\r\n\r\n    function configure (jsontext: string, onComplete: (config: any, err?: any) => void) {\r\n        var json: any;\r\n        try {\r\n            json = JSON.parse(jsontext);\r\n        } catch (err) {\r\n            return onComplete(null, err);\r\n        }\r\n        if (json) {\r\n            libs.configure(json.libs || {});\r\n            themes.configure(json.themes || {});\r\n            debug.configure(json.debug || {});\r\n        }\r\n        onComplete(json);\r\n    }\r\n\r\n    module libs {\r\n        interface ILibraryConfig {\r\n            name: string;\r\n            path: string;\r\n            base: string;\r\n            deps: string[];\r\n            exports: string\r\n            useMin: boolean;\r\n        }\r\n\r\n        export function configure (json) {\r\n            var libs = [];\r\n            for (var libName in json) {\r\n                libs.push(getLibConfig(libName, json[libName]));\r\n            }\r\n\r\n            for (var i = 0; i < libs.length; i++) {\r\n                setupLibraryConfig(libs[i]);\r\n            }\r\n        }\r\n\r\n        function getLibConfig (libName: string, libJson: any): ILibraryConfig {\r\n            return {\r\n                name: libName,\r\n                path: libJson.path,\r\n                base: libJson.base,\r\n                deps: libJson.deps,\r\n                exports: libJson.exports,\r\n                useMin: libJson.useMin\r\n            };\r\n        }\r\n\r\n        function setupLibraryConfig (lib: ILibraryConfig) {\r\n            var uri = new Uri(lib.name);\r\n            if (uri.scheme !== \"http\")\r\n                uri = new Uri(\"lib://\" + lib.name);\r\n            var library = Fayde.TypeManager.resolveLibrary(uri.toString());\r\n            if (!!lib.path)\r\n                library.sourcePath = lib.path;\r\n            if (!!lib.base)\r\n                library.basePath = lib.base;\r\n            if (!!lib.exports)\r\n                library.exports = lib.exports;\r\n            if (!!lib.deps)\r\n                library.deps = lib.deps;\r\n            library.useMin = (lib.useMin === true);\r\n            (<any>library).$configModule();\r\n        }\r\n    }\r\n\r\n    module themes {\r\n        export function configure (json) {\r\n            for (var libName in json) {\r\n                var co = json[libName];\r\n                var path = co === \"none\" ? null : (co.path ? co.path : undefined);\r\n                ThemeConfig.Set(libName, path);\r\n            }\r\n        }\r\n    }\r\n\r\n    module debug {\r\n        export function configure (json) {\r\n            if (toBoolean(json.warnMissingThemes))\r\n                Theme.WarnMissing = true;\r\n            if (toBoolean(json.warnBrokenPath))\r\n                Data.WarnBrokenPath = true;\r\n        }\r\n\r\n        function toBoolean (val: any): boolean {\r\n            return val === \"true\"\r\n                || val === true;\r\n        }\r\n    }\r\n}","\r\nmodule Fayde {\r\n    export module Render {\r\n        export var Debug = false;\r\n        export var DebugIndent = 0;\r\n    }\r\n\r\n    export module Layout {\r\n        export var Debug = false;\r\n        export var DebugIndent = 0;\r\n    }\r\n\r\n    export module Media {\r\n        export module Animation {\r\n            export var Log = false;\r\n            export var LogApply = false;\r\n        }\r\n        export module VSM {\r\n            export var Debug = false;\r\n        }\r\n    }\r\n    export module Data {\r\n        export var Debug = false;\r\n        export var IsCounterEnabled = false;\r\n        export var DataContextCounter = 0;\r\n    }\r\n    export var IsInspectionOn = false;\r\n}","module NumberEx {\r\n    var epsilon: number = 1.192093E-07;\r\n    var adjustment: number = 10;\r\n    export function AreClose(val1: number, val2: number): boolean {\r\n        if (val1 === val2)\r\n            return true;\r\n        var softdiff = (Math.abs(val1) + Math.abs(val2) + adjustment) * epsilon;\r\n        var diff = val1 - val2;\r\n        return -softdiff < diff && diff < softdiff;\r\n    }\r\n    export function IsLessThanClose(val1: number, val2: number): boolean {\r\n        return val1 > val2 || !AreClose(val1, val2);\r\n    }\r\n    export function IsGreaterThanClose(val1: number, val2: number): boolean {\r\n        return val1 > val2 || !AreClose(val1, val2);\r\n    }\r\n}","module StringEx {\r\n    export function Format(format: string, ...items: any[]): string {\r\n        var args = arguments;\r\n        return format.replace(/{(\\d+)}/g, function (match: string, ...matches: any[]): string {\r\n            var i = parseInt(matches[0]);\r\n            return typeof items[i] != 'undefined'\r\n                ? items[i]\r\n                : match;\r\n        });\r\n    }\r\n}","interface ITimelineEvent {\r\n    Type: string;\r\n    Name: string;\r\n    Time: number;\r\n}\r\n\r\ninterface ITimelineGroup {\r\n    Type: string;\r\n    Data: string;\r\n    Start: number;\r\n    Length: number;\r\n}\r\n\r\nclass TimelineProfile {\r\n    private static _Events: ITimelineEvent[] = [];\r\n    static Groups: ITimelineGroup[] = [];\r\n    static TimelineStart: number = 0;\r\n\r\n    static IsNextLayoutPassProfiled: boolean = true;\r\n\r\n    static Parse(isStart: boolean, name: string) {\r\n        if (!isStart)\r\n            return TimelineProfile._FinishEvent(\"Parse\", name);\r\n        TimelineProfile._Events.push({\r\n            Type: \"Parse\",\r\n            Name: name,\r\n            Time: new Date().valueOf()\r\n        });\r\n    }\r\n    static Navigate(isStart: boolean, name?: string) {\r\n        if (!isStart)\r\n            return TimelineProfile._FinishEvent(\"Navigate\", name);\r\n        TimelineProfile._Events.push({\r\n            Type: \"Navigate\",\r\n            Name: name,\r\n            Time: new Date().valueOf(),\r\n        });\r\n    }\r\n    static LayoutPass(isStart: boolean) {\r\n        if (!TimelineProfile.IsNextLayoutPassProfiled)\r\n            return;\r\n        if (!isStart) {\r\n            TimelineProfile.IsNextLayoutPassProfiled = false;\r\n            return TimelineProfile._FinishEvent(\"LayoutPass\");\r\n        }\r\n        TimelineProfile._Events.push({\r\n            Type: \"LayoutPass\",\r\n            Name: \"\",\r\n            Time: new Date().valueOf(),\r\n        });\r\n    }\r\n\r\n    private static _FinishEvent(type: string, name?: string) {\r\n        var evts = TimelineProfile._Events;\r\n        var len = evts.length;\r\n        var evt: ITimelineEvent;\r\n        for (var i = len - 1; i >= 0; i--) {\r\n            evt = evts[i];\r\n            if (evt.Type === type && (!name || evt.Name === name)) {\r\n                evts.splice(i, 1);\r\n                break;\r\n            }\r\n            evt = null;\r\n        }\r\n        if (!evt)\r\n            return;\r\n        TimelineProfile.Groups.push({\r\n            Type: evt.Type,\r\n            Data: evt.Name,\r\n            Start: evt.Time - TimelineProfile.TimelineStart,\r\n            Length: new Date().valueOf() - evt.Time\r\n        });\r\n    }\r\n}\r\nTimelineProfile.TimelineStart = new Date().valueOf();","/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    export class DoubleCollection extends XamlObjectCollection<XamlObject> {\r\n    }\r\n    Fayde.CoreLibrary.add(DoubleCollection);\r\n}","/// <reference path=\"../Core/FrameworkElement.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    import ShapeUpdater = minerva.shapes.shape.ShapeUpdater;\r\n\r\n    export class Shape extends FrameworkElement {\r\n        CreateLayoutUpdater () {\r\n            return new ShapeUpdater();\r\n        }\r\n\r\n        static FillProperty = DependencyProperty.Register(\"Fill\", () => Media.Brush, Shape);\r\n        //http://msdn.microsoft.com/en-us/library/system.windows.shapes.shape.stretch(v=vs.95).aspx\r\n        static StretchProperty = DependencyProperty.Register(\"Stretch\", () => new Enum(Media.Stretch), Shape, Media.Stretch.None);\r\n        static StrokeProperty = DependencyProperty.Register(\"Stroke\", () => Media.Brush, Shape);\r\n        static StrokeThicknessProperty = DependencyProperty.RegisterFull(\"StrokeThickness\", () => Number, Shape, 1.0, undefined, strokeThicknessCoercer);\r\n        static StrokeDashArrayProperty = DependencyProperty.Register(\"StrokeDashArray\", () => DoubleCollection, Shape);\r\n        static StrokeDashCapProperty = DependencyProperty.Register(\"StrokeDashCap\", () => new Enum(PenLineCap), Shape, PenLineCap.Flat);\r\n        static StrokeDashOffsetProperty = DependencyProperty.Register(\"StrokeDashOffset\", () => Number, Shape, 0.0);\r\n        static StrokeEndLineCapProperty = DependencyProperty.Register(\"StrokeEndLineCap\", () => new Enum(PenLineCap), Shape, PenLineCap.Flat);\r\n        static StrokeLineJoinProperty = DependencyProperty.Register(\"StrokeLineJoin\", () => new Enum(PenLineJoin), Shape, PenLineJoin.Miter);\r\n        static StrokeMiterLimitProperty = DependencyProperty.Register(\"StrokeMiterLimit\", () => Number, Shape, 10.0);\r\n        static StrokeStartLineCapProperty = DependencyProperty.Register(\"StrokeStartLineCap\", () => new Enum(PenLineCap), Shape, PenLineCap.Flat);\r\n        Fill: Media.Brush;\r\n        Stretch: Media.Stretch;\r\n        Stroke: Media.Brush;\r\n        StrokeThickness: number;\r\n        StrokeDashArray: DoubleCollection;\r\n        StrokeDashCap: PenLineCap;\r\n        StrokeDashOffset: number;\r\n        StrokeEndLineCap: PenLineCap;\r\n        StrokeLineJoin: PenLineJoin;\r\n        StrokeMiterLimit: number;\r\n        StrokeStartLineCap: PenLineCap;\r\n        //NOTE: HTML5 Canvas does not support start and end cap. Will use start if it's not \"Flat\"; otherwise, use end\r\n\r\n        constructor () {\r\n            super();\r\n            FrameworkElement.WidthProperty.Store.ListenToChanged(this, FrameworkElement.WidthProperty, onSizeChanged, this);\r\n            FrameworkElement.HeightProperty.Store.ListenToChanged(this, FrameworkElement.HeightProperty, onSizeChanged, this);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Shape);\r\n\r\n    function onSizeChanged (shape: Shape, args: IDependencyPropertyChangedEventArgs) {\r\n        var updater = <ShapeUpdater>shape.XamlNode.LayoutUpdater;\r\n        updater.invalidateMeasure();\r\n    }\r\n\r\n    function strokeThicknessCoercer (dobj: Fayde.DependencyObject, propd: DependencyProperty, value: any): any {\r\n        if (value instanceof Thickness)\r\n            return (<Thickness>value).left;\r\n        return value;\r\n    }\r\n\r\n    module reactions {\r\n        UIReaction<Media.Stretch>(Shape.StretchProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateMeasure(), false);\r\n        UIReaction<Media.Brush>(Shape.FillProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds());\r\n        UIReaction<Media.Brush>(Shape.StrokeProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds());\r\n        UIReaction<number>(Shape.StrokeThicknessProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds(), false);\r\n        UIReaction<DoubleCollection>(Shape.StrokeDashArrayProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds());\r\n        UIReaction<PenLineCap>(Shape.StrokeDashCapProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds(), false);\r\n        UIReaction<number>(Shape.StrokeDashOffsetProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds(), false);\r\n        UIReaction<PenLineCap>(Shape.StrokeEndLineCapProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds(), false);\r\n        UIReaction<PenLineJoin>(Shape.StrokeLineJoinProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds(), false);\r\n        UIReaction<number>(Shape.StrokeMiterLimitProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds(), false);\r\n        UIReaction<PenLineCap>(Shape.StrokeStartLineCapProperty, (upd: ShapeUpdater, ov, nv) => upd.invalidateNaturalBounds(), false);\r\n    }\r\n}","/// <reference path=\"Shape.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    import EllipseUpdater = minerva.shapes.ellipse.EllipseUpdater;\r\n\r\n    export class Ellipse extends Shape {\r\n        CreateLayoutUpdater () {\r\n            return new EllipseUpdater();\r\n        }\r\n\r\n        constructor () {\r\n            super();\r\n            this.Stretch = Media.Stretch.Fill;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Ellipse);\r\n}","/// <reference path=\"Shape.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    import LineUpdater = minerva.shapes.line.LineUpdater;\r\n    export class Line extends Shape {\r\n        CreateLayoutUpdater () {\r\n            return new LineUpdater();\r\n        }\r\n\r\n        static X1Property = DependencyProperty.Register(\"X1\", () => Number, Line, 0.0);\r\n        static Y1Property = DependencyProperty.Register(\"Y1\", () => Number, Line, 0.0);\r\n        static X2Property = DependencyProperty.Register(\"X2\", () => Number, Line, 0.0);\r\n        static Y2Property = DependencyProperty.Register(\"Y2\", () => Number, Line, 0.0);\r\n        X1: number;\r\n        Y1: number;\r\n        X2: number;\r\n        Y2: number;\r\n    }\r\n    Fayde.CoreLibrary.add(Line);\r\n\r\n    module reactions {\r\n        UIReaction<number>(Line.X1Property, (upd: LineUpdater, ov, nv) => upd.invalidatePath(), false);\r\n        UIReaction<number>(Line.Y1Property, (upd: LineUpdater, ov, nv) => upd.invalidatePath(), false);\r\n        UIReaction<number>(Line.X2Property, (upd: LineUpdater, ov, nv) => upd.invalidatePath(), false);\r\n        UIReaction<number>(Line.Y2Property, (upd: LineUpdater, ov, nv) => upd.invalidatePath(), false);\r\n    }\r\n}","/// <reference path=\"Shape.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    import PathUpdater = minerva.shapes.path.PathUpdater;\r\n    export class Path extends Shape {\r\n        CreateLayoutUpdater () { return new PathUpdater(); }\r\n\r\n        private static _DataCoercer (dobj: DependencyObject, propd: DependencyProperty, value: any): any {\r\n            if (typeof value === \"string\")\r\n                return Media.ParseGeometry(value);\r\n            return value;\r\n        }\r\n\r\n        // Path.Data Description: http://msdn.microsoft.com/en-us/library/system.windows.shapes.path.data(v=vs.95).aspx\r\n        static DataProperty = DependencyProperty.RegisterFull(\"Data\", () => Media.Geometry, Path, undefined, undefined, Path._DataCoercer, undefined, undefined, false);\r\n        Data: Media.Geometry;\r\n    }\r\n    Fayde.CoreLibrary.add(Path);\r\n\r\n    module reactions {\r\n        UIReaction<Media.Geometry>(Path.DataProperty, (upd: PathUpdater, ov, nv) => upd.invalidateNaturalBounds());\r\n    }\r\n}","/// <reference path=\"../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    export class PointCollection implements nullstone.ICollection<Point> {\r\n        private _ht: Point[] = [];\r\n\r\n        get Count () {\r\n            return this._ht.length;\r\n        }\r\n\r\n        static FromData (data: string): PointCollection {\r\n            var pc = new PointCollection();\r\n            pc._ht = pc._ht.concat(Media.ParseShapePoints(data));\r\n            return pc;\r\n        }\r\n\r\n        static FromArray (data: Point[]): PointCollection {\r\n            var pc = new PointCollection();\r\n            pc._ht = pc._ht.concat(data);\r\n            return pc;\r\n        }\r\n\r\n        GetValueAt (index: number): Point {\r\n            return this._ht[index];\r\n        }\r\n\r\n        SetValueAt (index: number, value: Point): boolean {\r\n            if (index < 0 || index >= this._ht.length)\r\n                return false;\r\n            var removed = this._ht[index];\r\n            var added = value;\r\n            this._ht[index] = added;\r\n\r\n            Incite(this);\r\n        }\r\n\r\n        Add (value: Point) {\r\n            this._ht.push(value);\r\n            Incite(this);\r\n        }\r\n\r\n        AddRange (points: Point[]) {\r\n            this._ht.push.apply(this._ht, points);\r\n            Incite(this);\r\n        }\r\n\r\n        Insert (index: number, value: Point) {\r\n            if (index < 0)\r\n                return;\r\n            var len = this._ht.length;\r\n            if (index > len)\r\n                index = len;\r\n            this._ht.splice(index, 0, value);\r\n            Incite(this);\r\n        }\r\n\r\n        Remove (value: Point): boolean {\r\n            var index = this.IndexOf(value);\r\n            if (index === -1)\r\n                return false;\r\n            this.RemoveAt(index);\r\n            Incite(this);\r\n            return true;\r\n        }\r\n\r\n        RemoveAt (index: number) {\r\n            if (index < 0 || index >= this._ht.length)\r\n                return;\r\n            var value = this._ht.splice(index, 1)[0];\r\n            Incite(this);\r\n        }\r\n\r\n        Clear () {\r\n            this._ht = [];\r\n            Incite(this);\r\n        }\r\n\r\n        IndexOf (value: Point): number {\r\n            var count = this._ht.length;\r\n            for (var i = 0; i < count; i++) {\r\n                if (nullstone.equals(value, this._ht[i]))\r\n                    return i;\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        Contains (value: Point): boolean {\r\n            return this.IndexOf(value) > -1;\r\n        }\r\n\r\n        getEnumerator (reverse?: boolean): nullstone.IEnumerator<Point> {\r\n            return nullstone.IEnumerator_.fromArray(this._ht, reverse);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PointCollection);\r\n    nullstone.ICollection_.mark(PointCollection);\r\n\r\n    nullstone.registerTypeConverter(PointCollection, (val: string): PointCollection => {\r\n        var pc = new PointCollection();\r\n        pc.AddRange(Fayde.Media.ParseShapePoints(val));\r\n        return pc;\r\n    });\r\n}","/// <reference path=\"Shape.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    import PolygonUpdater = minerva.shapes.polygon.PolygonUpdater;\r\n    export class Polygon extends Shape {\r\n        CreateLayoutUpdater () {\r\n            return new PolygonUpdater();\r\n        }\r\n\r\n        private static _PointsCoercer (dobj: DependencyObject, propd: DependencyProperty, value: any): any {\r\n            if (typeof value === \"string\")\r\n                value = PointCollection.FromData(<string>value);\r\n            if (value instanceof Array)\r\n                value = PointCollection.FromArray(<Point[]>value);\r\n            return value;\r\n        }\r\n\r\n        static FillRuleProperty = DependencyProperty.RegisterCore(\"FillRule\", () => new Enum(FillRule), Polygon, FillRule.EvenOdd);\r\n        static PointsProperty = DependencyProperty.RegisterFull(\"Points\", () => PointCollection, Polygon, undefined, undefined, Polygon._PointsCoercer);\r\n        FillRule: FillRule;\r\n        Points: PointCollection;\r\n\r\n        constructor () {\r\n            super();\r\n            this.Points = new PointCollection();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Polygon);\r\n\r\n    module reactions {\r\n        UIReaction<FillRule>(Polygon.FillRuleProperty, (upd: PolygonUpdater, ov, nv) => upd.invalidateFillRule(), false);\r\n        UIReaction<PointCollection>(Polygon.PointsProperty, (upd: PolygonUpdater, ov, nv) => {\r\n            upd.assets.points = nv._ht;\r\n            upd.invalidatePath();\r\n        }, true, false);\r\n    }\r\n}","/// <reference path=\"Shape.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    import PolylineUpdater = minerva.shapes.polyline.PolylineUpdater;\r\n    export class Polyline extends Shape {\r\n        CreateLayoutUpdater () {\r\n            return new PolylineUpdater();\r\n        }\r\n\r\n        private static _PointsCoercer (d: DependencyObject, propd: DependencyProperty, value: any): any {\r\n            if (typeof value === \"string\")\r\n                value = PointCollection.FromData(<string>value);\r\n            if (value instanceof Array)\r\n                value = PointCollection.FromArray(<Point[]>value);\r\n            return value;\r\n        }\r\n\r\n        static FillRuleProperty = DependencyProperty.RegisterCore(\"FillRule\", () => new Enum(FillRule), Polyline, FillRule.EvenOdd);\r\n        static PointsProperty = DependencyProperty.RegisterFull(\"Points\", () => PointCollection, Polyline, undefined, undefined, Polyline._PointsCoercer);\r\n        FillRule: FillRule;\r\n        Points: PointCollection;\r\n\r\n        constructor () {\r\n            super();\r\n            this.Points = new PointCollection();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Polyline);\r\n\r\n    module reactions {\r\n        UIReaction<FillRule>(Polyline.FillRuleProperty, (upd: PolylineUpdater, ov, nv) => upd.invalidateFillRule(), false);\r\n        UIReaction<PointCollection>(Polyline.PointsProperty, (upd: PolylineUpdater, ov, nv) => {\r\n            upd.assets.points = nv._ht;\r\n            upd.invalidatePath();\r\n        }, true, false);\r\n    }\r\n}","/// <reference path=\"Shape.ts\" />\r\n\r\nmodule Fayde.Shapes {\r\n    import RectangleUpdater = minerva.shapes.rectangle.RectangleUpdater;\r\n\r\n    export class Rectangle extends Shape {\r\n        CreateLayoutUpdater () {\r\n            return new RectangleUpdater();\r\n        }\r\n\r\n        /* RadiusX/RadiusY Notes\r\n         For the rectangle to have rounded corners, both the RadiusX and RadiusY properties must be nonzero.\r\n         A value greater than or equal to zero and less than or equal to half the rectangle's width that describes the x-radius of the ellipse is used to round the corners of the rectangle.\r\n         Values greater than half the rectangle's width are treated as though equal to half the rectangle's width. Negative values are treated as positive values.\r\n         */\r\n        static RadiusXProperty = DependencyProperty.Register(\"RadiusX\", () => Number, Rectangle, 0.0);\r\n        static RadiusYProperty = DependencyProperty.Register(\"RadiusY\", () => Number, Rectangle, 0.0);\r\n        RadiusX: number;\r\n        RadiusY: number;\r\n\r\n        constructor () {\r\n            super();\r\n            this.Stretch = Fayde.Media.Stretch.Fill;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Rectangle);\r\n\r\n    module reactions {\r\n        UIReaction<number>(Rectangle.RadiusXProperty, (upd, ov, nv) => upd.invalidate(), false);\r\n        UIReaction<number>(Rectangle.RadiusYProperty, (upd, ov, nv) => upd.invalidate(), false);\r\n    }\r\n}","module Fayde.Validation {\r\n    export function Emit (fe: FrameworkElement, binding: Data.Binding, oldError: ValidationError, error: ValidationError) {\r\n        if (oldError && error) {\r\n            AddError(fe, error);\r\n            RemoveError(fe, oldError);\r\n            if (binding.NotifyOnValidationError) {\r\n                raiseBindingValidationError(fe, new ValidationErrorEventArgs(ValidationErrorEventAction.Removed, oldError));\r\n                raiseBindingValidationError(fe, new ValidationErrorEventArgs(ValidationErrorEventAction.Added, error));\r\n            }\r\n        } else if (oldError) {\r\n            RemoveError(fe, oldError);\r\n            if (binding.NotifyOnValidationError)\r\n                raiseBindingValidationError(fe, new ValidationErrorEventArgs(ValidationErrorEventAction.Removed, oldError));\r\n        } else if (error) {\r\n            AddError(fe, error);\r\n            if (binding.NotifyOnValidationError)\r\n                raiseBindingValidationError(fe, new ValidationErrorEventArgs(ValidationErrorEventAction.Added, error));\r\n        }\r\n    }\r\n\r\n    function raiseBindingValidationError (fe: FrameworkElement, args: Validation.ValidationErrorEventArgs) {\r\n        args.OriginalSource = fe;\r\n        for (var cur = <DependencyObject>fe; cur && !args.Handled; cur = VisualTreeHelper.GetParent(cur)) {\r\n            if (cur instanceof FrameworkElement)\r\n                (<FrameworkElement>cur).OnBindingValidationError(args);\r\n        }\r\n    }\r\n}","/// <reference path=\"../Collections/ObservableCollection\" />\r\n/// <reference path=\"../Collections/ReadOnlyObservableCollection\" />\r\n\r\nmodule Fayde.Validation {\r\n    import ObservableCollection = Collections.ObservableCollection;\r\n    import ReadOnlyObservableCollection = Collections.ReadOnlyObservableCollection;\r\n\r\n    class Validation extends DependencyObject {\r\n    }\r\n    Fayde.CoreLibrary.add(Validation, \"Validation\");\r\n\r\n    export var HasErrorProperty = DependencyProperty.RegisterAttached(\"HasError\", () => Boolean, Validation);\r\n    export var ErrorsProperty = DependencyProperty.RegisterAttached(\"Errors\", () => ReadOnlyObservableCollection, Validation);\r\n    var ErrorsCoreProperty = DependencyProperty.RegisterAttached(\"ErrorsCore\", () => ObservableCollection, Validation);\r\n\r\n    function GetErrorsCore (dobj: DependencyObject) {\r\n        if (!dobj)\r\n            throw new ArgumentNullException(\"element\");\r\n\r\n        var result: ObservableCollection<ValidationError> = dobj.GetValue(ErrorsCoreProperty);\r\n        if (result == null) {\r\n            result = new ObservableCollection<ValidationError>();\r\n            dobj.SetValue(ErrorsCoreProperty, result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    export function GetErrors (dobj: DependencyObject): ReadOnlyObservableCollection<ValidationError> {\r\n        if (!dobj)\r\n            throw new ArgumentNullException(\"element\");\r\n\r\n        var result: ReadOnlyObservableCollection<ValidationError> = dobj.GetValue(ErrorsProperty);\r\n        if (result == null) {\r\n            result = new ReadOnlyObservableCollection<ValidationError>(GetErrorsCore(dobj));\r\n            dobj.SetValue(ErrorsProperty, result);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    export function GetHasError (dobj: DependencyObject): boolean {\r\n        if (dobj == null)\r\n            throw new ArgumentNullException(\"element\");\r\n        return dobj.GetValue(HasErrorProperty) === true;\r\n    }\r\n\r\n    function SetHasError (dobj: DependencyObject, value: boolean) {\r\n        dobj.SetValue(HasErrorProperty, value === true);\r\n    }\r\n\r\n    export function AddError (element: FrameworkElement, error: ValidationError) {\r\n        var errors = GetErrorsCore(element);\r\n        GetErrors(element); //ensure Validation.Errors gets created\r\n        errors.Add(error);\r\n        if (errors.Count === 1)\r\n            SetHasError(element, true);\r\n\r\n        if (element instanceof Controls.Control)\r\n            (<Controls.Control>element).UpdateValidationState(false);\r\n    }\r\n\r\n    export function RemoveError (element: FrameworkElement, error: ValidationError) {\r\n        var errors = GetErrorsCore(element);\r\n        GetErrors(element); //ensure Validation.Errors gets created\r\n        if (errors.Remove(error)) {\r\n            if (errors.Count === 0) {\r\n                SetHasError(element, false);\r\n                if (element instanceof Controls.Control)\r\n                    (<Controls.Control>element).UpdateValidationState(true);\r\n            }\r\n        }\r\n    }\r\n}","module Fayde.Validation {\r\n    export class ValidationError {\r\n        ErrorContent: any;\r\n        Exception: Exception;\r\n        PropertyName: string;\r\n\r\n        constructor (content: any, exception: Exception, propertyName: string);\r\n        constructor (content: any, exception: Error, propertyName: string);\r\n        constructor (content: any, exception: any, propertyName: string) {\r\n            this.ErrorContent = content;\r\n            this.Exception = exception;\r\n            this.PropertyName = propertyName;\r\n            if (this.Exception instanceof Exception)\r\n                this.ErrorContent = this.ErrorContent || (<Exception>exception).Message;\r\n            if (this.Exception instanceof Error)\r\n                this.ErrorContent = this.ErrorContent || (<Error>exception).message;\r\n            Object.freeze(this);\r\n        }\r\n    }\r\n}","module Fayde.Validation {\r\n    export enum ValidationErrorEventAction {\r\n        Added,\r\n        Removed\r\n    }\r\n}","module Fayde.Validation {\r\n    export class ValidationErrorEventArgs extends RoutedEventArgs {\r\n        Action: ValidationErrorEventAction;\r\n        Error: ValidationError;\r\n\r\n        constructor (action: ValidationErrorEventAction, error: ValidationError) {\r\n            super();\r\n            Object.defineProperties(this, {\r\n                \"Action\": {\r\n                    value: action,\r\n                    writable: false\r\n                },\r\n                \"Error\": {\r\n                    value: error,\r\n                    writable: false\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","module Fayde.Text.Buffer {\r\n    export function cut (text: string, start: number, len: number): string {\r\n        if (!text)\r\n            return \"\";\r\n        return text.slice(0, start) + text.slice(start + len);\r\n    }\r\n\r\n    export function insert (text: string, index: number, str: string): string {\r\n        if (!text)\r\n            return str;\r\n        return [text.slice(0, index), str, text.slice(index)].join('');\r\n    }\r\n\r\n    export function replace (text: string, start: number, len: number, str: string): string {\r\n        if (!text)\r\n            return str;\r\n        return [text.slice(0, start), str, text.slice(start + len)].join('');\r\n    }\r\n}\r\n","module Fayde.Text {\r\n    export enum EmitChangedType {\r\n        NOTHING = 0,\r\n        SELECTION = 1 << 0,\r\n        TEXT = 1 << 1,\r\n    }\r\n\r\n    export class Proxy implements ITextOwner {\r\n        selAnchor: number = 0;\r\n        selCursor: number = 0;\r\n        selText: string = \"\";\r\n        text: string = \"\";\r\n        maxLength: number = 0;\r\n        acceptsReturn: boolean = false;\r\n\r\n        private $$batch: number = 0;\r\n        private $$emit = EmitChangedType.NOTHING;\r\n        private $$syncing: boolean = false;\r\n        private $$eventsMask: EmitChangedType;\r\n\r\n        private $$history: Text.History.Tracker;\r\n\r\n        SyncSelectionStart: (value: number) => void;\r\n        SyncSelectionLength: (value: number) => void;\r\n        SyncText: (value: string) => void;\r\n\r\n        constructor (eventsMask: EmitChangedType, maxUndoCount: number) {\r\n            this.$$eventsMask = eventsMask;\r\n            this.$$history = new Text.History.Tracker(maxUndoCount);\r\n            this.SyncSelectionStart = (value: number) => {\r\n            };\r\n            this.SyncSelectionLength = (value: number) => {\r\n            };\r\n            this.SyncText = (value: string) => {\r\n            };\r\n        }\r\n\r\n        setAnchorCursor (anchor: number, cursor: number): boolean {\r\n            if (this.selAnchor === anchor && this.selCursor === cursor)\r\n                return false;\r\n            this.SyncSelectionStart(Math.min(anchor, cursor));\r\n            this.SyncSelectionLength(Math.abs(cursor - anchor));\r\n            this.selAnchor = anchor;\r\n            this.selCursor = cursor;\r\n            this.$$emit |= EmitChangedType.SELECTION;\r\n            return true;\r\n        }\r\n\r\n        enterText (newText: string, isPaste?: boolean): boolean {\r\n            var anchor = this.selAnchor;\r\n            var cursor = this.selCursor;\r\n            var length = Math.abs(cursor - anchor);\r\n            var start = Math.min(anchor, cursor);\r\n\r\n            if ((this.maxLength > 0 && this.text.length >= this.maxLength) || (newText === '\\r') && !this.acceptsReturn)\r\n                return false;\r\n\r\n            if (length > 0) {\r\n                this.$$history.replace(anchor, cursor, this.text, start, length, newText);\r\n                this.text = Text.Buffer.replace(this.text, start, length, newText);\r\n            } else {\r\n                if (!isPaste)\r\n                    this.$$history.enter(anchor, cursor, start, newText);\r\n                else\r\n                    this.$$history.insert(anchor, cursor, start, newText);\r\n                this.text = Text.Buffer.insert(this.text, start, newText);\r\n            }\r\n\r\n            this.$$emit |= EmitChangedType.TEXT;\r\n            cursor = start + newText.length;\r\n            anchor = cursor;\r\n\r\n            return this.setAnchorCursor(anchor, cursor);\r\n        }\r\n\r\n        removeText (start: number, length: number): boolean {\r\n            if (length <= 0)\r\n                return false;\r\n\r\n            this.$$history.delete(this.selAnchor, this.selCursor, this.text, start, length);\r\n            this.text = Text.Buffer.cut(this.text, start, length);\r\n\r\n            this.$$emit |= EmitChangedType.TEXT;\r\n\r\n            return this.setAnchorCursor(start, start);\r\n        }\r\n\r\n        paste (text: string): boolean {\r\n            return this.enterText(text, true);\r\n        }\r\n\r\n        undo () {\r\n            var action = this.$$history.undo(this);\r\n            if (!action)\r\n                return;\r\n\r\n            var anchor = action.SelectionAnchor;\r\n            var cursor = action.SelectionCursor;\r\n\r\n            this.$$batch++;\r\n            this.SyncSelectionStart(Math.min(anchor, cursor));\r\n            this.SyncSelectionLength(Math.abs(cursor - anchor));\r\n            this.$$emit = EmitChangedType.TEXT | EmitChangedType.SELECTION;\r\n            this.selAnchor = anchor;\r\n            this.selCursor = cursor;\r\n            this.$$batch--;\r\n\r\n            this.$syncEmit();\r\n        }\r\n\r\n        redo () {\r\n            var anchor = this.$$history.redo(this);\r\n            if (anchor == null)\r\n                return;\r\n            var cursor = anchor;\r\n\r\n            this.$$batch++;\r\n            this.SyncSelectionStart(Math.min(anchor, cursor));\r\n            this.SyncSelectionLength(Math.abs(cursor - anchor));\r\n            this.$$emit = EmitChangedType.TEXT | EmitChangedType.SELECTION;\r\n            this.selAnchor = anchor;\r\n            this.selCursor = cursor;\r\n            this.$$batch--;\r\n\r\n            this.$syncEmit();\r\n        }\r\n\r\n        begin () {\r\n            this.$$emit = EmitChangedType.NOTHING;\r\n            this.$$batch++;\r\n        }\r\n\r\n        end () {\r\n            this.$$batch--;\r\n            this.$syncEmit();\r\n        }\r\n\r\n        beginSelect (cursor: number) {\r\n            this.$$batch++;\r\n            this.$$emit = EmitChangedType.NOTHING;\r\n            this.SyncSelectionStart(cursor);\r\n            this.SyncSelectionLength(0);\r\n            this.$$batch--;\r\n\r\n            this.$syncEmit();\r\n        }\r\n\r\n        adjustSelection (cursor: number) {\r\n            var anchor = this.selAnchor;\r\n\r\n            this.$$batch++;\r\n            this.$$emit = EmitChangedType.NOTHING;\r\n            this.SyncSelectionStart(Math.min(anchor, cursor));\r\n            this.SyncSelectionLength(Math.abs(cursor - anchor));\r\n            this.selAnchor = anchor;\r\n            this.selCursor = cursor;\r\n            this.$$batch--;\r\n\r\n            this.$syncEmit();\r\n        }\r\n\r\n        selectAll () {\r\n            this.select(0, this.text.length);\r\n        }\r\n\r\n        clearSelection (start: number) {\r\n            this.$$batch++;\r\n            this.SyncSelectionStart(start);\r\n            this.SyncSelectionLength(0);\r\n            this.$$batch--;\r\n        }\r\n\r\n        select (start: number, length: number): boolean {\r\n            start = Math.min(Math.max(0, start), this.text.length);\r\n            length = Math.min(Math.max(0, length), this.text.length - start);\r\n\r\n            this.$$batch++;\r\n            this.SyncSelectionStart(start);\r\n            this.SyncSelectionLength(length);\r\n            this.$$batch--;\r\n\r\n            this.$syncEmit();\r\n            return true;\r\n        }\r\n\r\n        setSelectionStart (value: number) {\r\n            var length = Math.abs(this.selCursor - this.selAnchor);\r\n            var start = value;\r\n            if (start > this.text.length) {\r\n                this.SyncSelectionStart(this.text.length);\r\n                return;\r\n            }\r\n\r\n            if (start + length > this.text.length) {\r\n                this.$$batch++;\r\n                length = this.text.length - start;\r\n                this.SyncSelectionLength(length);\r\n                this.$$batch--;\r\n            }\r\n\r\n            var changed = (this.selAnchor !== start);\r\n\r\n            this.selCursor = start + length;\r\n            this.selAnchor = start;\r\n\r\n            this.$$emit |= EmitChangedType.SELECTION;\r\n            this.$syncEmit();\r\n        }\r\n\r\n        setSelectionLength (value: number) {\r\n            var start = Math.min(this.selAnchor, this.selCursor);\r\n            var length = value;\r\n            if (start + length > this.text.length) {\r\n                length = this.text.length - start;\r\n                this.SyncSelectionLength(length);\r\n                return;\r\n            }\r\n\r\n            var changed = (this.selCursor !== (start + length));\r\n\r\n            this.selCursor = start + length;\r\n            this.selAnchor = start;\r\n            this.$$emit |= EmitChangedType.SELECTION;\r\n            this.$syncEmit();\r\n        }\r\n\r\n        setText (value: string) {\r\n            var text = value || \"\";\r\n            if (!this.$$syncing) {\r\n                if (this.text.length > 0) {\r\n                    this.$$history.replace(this.selAnchor, this.selCursor, this.text, 0, this.text.length, text);\r\n                    this.text = Text.Buffer.replace(this.text, 0, this.text.length, text);\r\n                } else {\r\n                    this.$$history.insert(this.selAnchor, this.selCursor, 0, text);\r\n                    this.text = text + this.text;\r\n                }\r\n\r\n                this.$$emit |= EmitChangedType.TEXT;\r\n                this.clearSelection(0);\r\n\r\n                this.$syncEmit(false);\r\n            }\r\n        }\r\n\r\n        getSelectedText() {\r\n            var start = Math.min(this.selAnchor, this.selCursor);\r\n            var len = (Math.max(this.selAnchor, this.selCursor) - start);\r\n            if (len <=  0) return \"\";\r\n            return this.text.substr(start, len);\r\n        }\r\n\r\n        private $syncEmit (syncText?: boolean) {\r\n            syncText = syncText !== false;\r\n\r\n            if (this.$$batch !== 0 || this.$$emit === EmitChangedType.NOTHING)\r\n                return;\r\n\r\n            if (syncText && (this.$$emit & EmitChangedType.TEXT))\r\n                this.$syncText();\r\n\r\n            /*\r\n             this.$$emit &= this.$$eventsMask;\r\n             if (this.$$emit & TextBoxEmitChangedType.TEXT) {\r\n             Incite(this, { type: 'text' });\r\n             }\r\n             if (this.$$emit & TextBoxEmitChangedType.SELECTION) {\r\n             Incite(this, { type: 'selection' });\r\n             }\r\n             */\r\n\r\n            this.$$emit = EmitChangedType.NOTHING;\r\n        }\r\n\r\n        private $syncText () {\r\n            this.$$syncing = true;\r\n            this.SyncText(this.text);\r\n            this.$$syncing = false;\r\n        }\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export interface ICursorAdvancer {\r\n        CursorDown(cursor: number, isPage: boolean): number;\r\n        CursorUp(cursor: number, isPage: boolean): number;\r\n        CursorNextWord(cursor: number): number;\r\n        CursorPrevWord(cursor: number): number;\r\n        CursorNextChar(cursor: number): number;\r\n        CursorPrevChar(cursor: number): number;\r\n        CursorLineBegin(cursor: number): number;\r\n        CursorLineEnd(cursor: number): number;\r\n        CursorBegin(cursor: number): number;\r\n        CursorEnd(cursor: number): number;\r\n    }\r\n\r\n    export class TextBoxCursorAdvancer implements ICursorAdvancer {\r\n        constructor (private $textOwner: Text.ITextOwner) {\r\n        }\r\n\r\n        CursorDown (cursor: number, isPage: boolean): number {\r\n            //TODO:\r\n            return cursor;\r\n        }\r\n\r\n        CursorUp (cursor: number, isPage: boolean): number {\r\n            //TODO:\r\n            return cursor;\r\n        }\r\n\r\n        CursorNextWord (cursor: number): number {\r\n            //TODO:\r\n            return cursor;\r\n        }\r\n\r\n        CursorPrevWord (cursor: number): number {\r\n            //TODO:\r\n            return cursor;\r\n        }\r\n\r\n        CursorNextChar (cursor: number): number {\r\n            var text = this.$textOwner.text;\r\n            if (text && text.charAt(cursor) === '\\r' && text.charAt(cursor + 1) === '\\n')\r\n                return cursor + 2;\r\n            return Math.min(text.length, cursor + 1);\r\n        }\r\n\r\n        CursorPrevChar (cursor: number): number {\r\n            var text = this.$textOwner.text;\r\n            if (cursor >= 2 && text && text.charAt(cursor - 2) === '\\r' && text.charAt(cursor - 1) === '\\n')\r\n                return cursor - 2;\r\n            return Math.max(0, cursor - 1);\r\n        }\r\n\r\n        CursorLineBegin (cursor: number): number {\r\n            var text = this.$textOwner.text;\r\n            var r = text.lastIndexOf(\"\\r\", cursor);\r\n            var n = text.lastIndexOf(\"\\n\", cursor);\r\n            return Math.max(r, n, 0);\r\n        }\r\n\r\n        CursorLineEnd (cursor: number): number {\r\n            var text = this.$textOwner.text;\r\n            var len = text.length;\r\n            var r = text.indexOf(\"\\r\", cursor);\r\n            if (r < 0) r = len;\r\n            var n = text.indexOf(\"\\n\", cursor);\r\n            if (n < 0) n = len;\r\n            return Math.min(r, n);\r\n        }\r\n\r\n        CursorBegin (cursor: number): number {\r\n            return 0;\r\n        }\r\n\r\n        CursorEnd (cursor: number): number {\r\n            return this.$textOwner.text.length;\r\n        }\r\n    }\r\n\r\n    export class PasswordBoxCursorAdvancer implements ICursorAdvancer {\r\n        constructor (private $textOwner: Text.ITextOwner) {\r\n        }\r\n\r\n        CursorDown (cursor: number, isPage: boolean): number {\r\n            return this.CursorEnd(cursor);\r\n        }\r\n\r\n        CursorUp (cursor: number, isPage: boolean): number {\r\n            return this.CursorBegin(cursor);\r\n        }\r\n\r\n        CursorNextWord (cursor: number): number {\r\n            return this.CursorEnd(cursor);\r\n        }\r\n\r\n        CursorPrevWord (cursor: number): number {\r\n            return this.CursorBegin(cursor);\r\n        }\r\n\r\n        CursorNextChar (cursor: number): number {\r\n            var text = this.$textOwner.text;\r\n            if (text && text.charAt(cursor) === '\\r' && text.charAt(cursor + 1) === '\\n')\r\n                return cursor + 2;\r\n            return Math.min(text.length - 1, cursor + 1);\r\n        }\r\n\r\n        CursorPrevChar (cursor: number): number {\r\n            var text = this.$textOwner.text;\r\n            if (cursor >= 2 && text && text.charAt(cursor - 2) === '\\r' && text.charAt(cursor - 1) === '\\n')\r\n                return cursor - 2;\r\n            return Math.max(0, cursor - 1);\r\n        }\r\n\r\n        CursorLineBegin (cursor: number): number {\r\n            return this.CursorBegin(cursor);\r\n        }\r\n\r\n        CursorLineEnd (cursor: number): number {\r\n            return this.CursorEnd(cursor);\r\n        }\r\n\r\n        CursorBegin (cursor: number): number {\r\n            return this.$textOwner.text.length;\r\n        }\r\n\r\n        CursorEnd (cursor: number): number {\r\n            return 0;\r\n        }\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    import NotifyCollectionChangedEventArgs = Collections.CollectionChangedEventArgs;\r\n    import NotifyCollectionChangedAction = Collections.CollectionChangedAction;\r\n    import INotifyCollectionChanged_ = Collections.INotifyCollectionChanged_;\r\n\r\n    export interface IItemContainersOwner {\r\n        PrepareContainerForItem(container: UIElement, item: any);\r\n        ClearContainerForItem(container: UIElement, item: any);\r\n        GetContainerForItem(): UIElement;\r\n        IsItemItsOwnContainer(item: any): boolean;\r\n    }\r\n    export interface IItemContainersManager {\r\n        IsRecycling: boolean;\r\n\r\n        IndexFromContainer(container: UIElement): number;\r\n        ContainerFromIndex(index: number): UIElement;\r\n        ItemFromContainer(container: UIElement): any;\r\n        ContainerFromItem(item: any): UIElement;\r\n\r\n        OnItemsAdded(index: number, newItems: any[]);\r\n        OnItemsRemoved(index: number, oldItems: any[]);\r\n        DisposeContainers(index?: number, count?: number): UIElement[];\r\n\r\n        CreateGenerator(index: number, count: number): IContainerGenerator;\r\n        GetEnumerator(index?: number, count?: number): IContainerEnumerator;\r\n    }\r\n    export class ItemContainersManager implements IItemContainersManager {\r\n        private _Items: any[] = [];\r\n        private _Containers: UIElement[] = [];\r\n        private _Cache: UIElement[] = [];\r\n\r\n        get IsRecycling (): boolean {\r\n            var dobj = this.Owner;\r\n            if (dobj instanceof DependencyObject)\r\n                return VirtualizingPanel.GetVirtualizationMode(<DependencyObject><any>dobj) === VirtualizationMode.Recycling;\r\n            return false;\r\n        }\r\n\r\n        constructor(public Owner: IItemContainersOwner) { }\r\n\r\n        IndexFromContainer(container: UIElement): number { return this._Containers.indexOf(container); }\r\n        ContainerFromIndex(index: number): UIElement { return this._Containers[index]; }\r\n        ItemFromContainer(container: UIElement): any {\r\n            var index = this._Containers.indexOf(container);\r\n            if (index < 0)\r\n                return null;\r\n            return this._Items[index];\r\n        }\r\n        ContainerFromItem(item: any): UIElement {\r\n            if (item == null)\r\n                return null;\r\n            var index = this._Items.indexOf(item);\r\n            if (index < 0)\r\n                return null;\r\n            return this._Containers[index];\r\n        }\r\n\r\n        OnItemsAdded(index: number, newItems: any[]) {\r\n            var items = this._Items;\r\n            var containers = this._Containers;\r\n            for (var i = 0, len = newItems.length; i < len; i++) {\r\n                items.splice(index + i, 0, newItems[i]);\r\n                containers.splice(index + i, 0, null);\r\n            }\r\n        }\r\n        OnItemsRemoved(index: number, oldItems: any[]) {\r\n            this.DisposeContainers(index, oldItems.length);\r\n            this._Items.splice(index, oldItems.length);\r\n            this._Containers.splice(index, oldItems.length);\r\n        }\r\n        DisposeContainers(index?: number, count?: number): UIElement[] {\r\n            var containers = this._Containers;\r\n            var items = this._Items;\r\n            if (index == null) index = 0;\r\n            if (count == null) count = containers.length;\r\n\r\n            if (this.IsRecycling) {\r\n                for (var i = 0, cache = this._Cache, recycling = containers.slice(index, index + count), len = recycling.length; i < len; i++) {\r\n                    var container = recycling[i];\r\n                    if (container)\r\n                        cache.push(container);\r\n                }\r\n            }\r\n\r\n            var disposed: UIElement[] = [];\r\n\r\n            var ic = this.Owner;\r\n            for (var i = index; i < index + count; i++) {\r\n                var container = containers[i];\r\n                if (!container)\r\n                    continue;\r\n                disposed.push(container);\r\n                var item = items[i];\r\n                ic.ClearContainerForItem(container, item);\r\n                containers[i] = null;\r\n            }\r\n\r\n            return disposed;\r\n        }\r\n\r\n        CreateGenerator(index: number, count: number): IContainerGenerator {\r\n            var generator: IContainerGenerator = {\r\n                IsCurrentNew: false,\r\n                Current: undefined,\r\n                CurrentItem: undefined,\r\n                CurrentIndex: index - 1,\r\n                GenerateIndex: -1,\r\n                Generate: function (): boolean { return false; }\r\n            };\r\n\r\n            var ic = this.Owner;\r\n            var icm = this;\r\n            var containers = this._Containers;\r\n            var items = this._Items;\r\n            var cache = this._Cache;\r\n            generator.Generate = function (): boolean {\r\n                generator.GenerateIndex++;\r\n                generator.CurrentIndex++;\r\n                generator.IsCurrentNew = false;\r\n                if (generator.CurrentIndex < 0 || generator.GenerateIndex >= count || generator.CurrentIndex >= containers.length) {\r\n                    generator.Current = undefined;\r\n                    generator.CurrentItem = undefined;\r\n                    return false;\r\n                }\r\n                generator.CurrentItem = items[generator.CurrentIndex];\r\n                if ((generator.Current = containers[generator.CurrentIndex]) == null) {\r\n                    if (ic.IsItemItsOwnContainer(generator.CurrentItem)) {\r\n                        if (generator.CurrentItem instanceof UIElement)\r\n                            generator.Current = <UIElement>generator.CurrentItem;\r\n                        generator.IsCurrentNew = true;\r\n                    } else if (cache.length > 0) {\r\n                        generator.Current = cache.pop();\r\n                        generator.IsCurrentNew = true;\r\n                    } else {\r\n                        generator.Current = ic.GetContainerForItem();\r\n                        generator.IsCurrentNew = true;\r\n                    }\r\n                    containers[generator.CurrentIndex] = generator.Current;\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            return generator;\r\n        }\r\n        GetEnumerator(start?: number, count?: number): IContainerEnumerator {\r\n            var carr = this._Containers;\r\n            var iarr = this._Items;\r\n\r\n            var index = (start || 0) - 1;\r\n            var len = count == null ? carr.length : count;\r\n\r\n            var i = 0;\r\n            var e = <IContainerEnumerator>{ moveNext: undefined, current: undefined, CurrentItem: undefined, CurrentIndex: -1 };\r\n            e.moveNext = function () {\r\n                i++;\r\n                index++;\r\n                e.CurrentIndex = index;\r\n                if (i > len || index >= carr.length) {\r\n                    e.current = undefined;\r\n                    e.CurrentItem = undefined;\r\n                    return false;\r\n                }\r\n                e.current = carr[index];\r\n                e.CurrentItem = iarr[index];\r\n                return true;\r\n            };\r\n            return e;\r\n        }\r\n    }\r\n\r\n    export interface IContainerGenerator {\r\n        IsCurrentNew: boolean;\r\n        Current: UIElement;\r\n        CurrentItem: any;\r\n        CurrentIndex: number;\r\n        GenerateIndex: number;\r\n        Generate(): boolean;\r\n    }\r\n    export interface IContainerEnumerator extends nullstone.IEnumerator<UIElement> {\r\n        CurrentItem: any;\r\n        CurrentIndex: number;\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export interface IRange {\r\n        Minimum: number;\r\n        Maximum: number;\r\n        Value: number;\r\n        OnMinimumChanged(oldMin: number, newMin: number);\r\n        OnMaximumChanged(oldMax: number, newMax: number);\r\n        OnValueChanged(oldVal: number, newVal: number);\r\n    }\r\n\r\n    export interface IRangeCoercer {\r\n        OnMinimumChanged(oldMinimum: number, newMinimum: number);\r\n        OnMaximumChanged(oldMaximum: number, newMaximum: number);\r\n        OnValueChanged(oldValue: number, newValue: number);\r\n    }\r\n    export class RangeCoercer implements IRangeCoercer {\r\n        InitialMax: number = 1;\r\n        InitialVal: number = 0;\r\n        RequestedMax: number = 1;\r\n        RequestedVal: number = 0;\r\n        PreCoercedMax: number = 1;\r\n        PreCoercedVal: number = 0;\r\n        CoerceDepth = 0;\r\n\r\n        get Minimum(): number { return this.Range.Minimum; }\r\n        get Maximum(): number { return this.Range.Maximum; }\r\n        get Value(): number { return this.Range.Value; }\r\n\r\n        constructor(public Range: IRange, public OnCoerceMaximum: (val: any) => void, public OnCoerceValue: (val: any) => void) {\r\n            this.PreCoercedMax = this.RequestedMax = this.InitialMax = Range.Maximum;\r\n            this.PreCoercedVal = this.RequestedVal = this.InitialVal = Range.Value;\r\n        }\r\n\r\n        OnMinimumChanged(oldMinimum: number, newMinimum: number) {\r\n            if (this.CoerceDepth === 0) {\r\n                this.InitialMax = this.Maximum;\r\n                this.InitialVal = this.Value;\r\n            }\r\n            this.CoerceDepth++;\r\n            this.CoerceMaximum();\r\n            this.CoerceValue();\r\n            this.CoerceDepth--;\r\n            if (this.CoerceDepth > 0)\r\n                return;\r\n\r\n            this.Range.OnMinimumChanged(oldMinimum, newMinimum);\r\n            var max = this.Maximum;\r\n            if (!NumberEx.AreClose(this.InitialMax, max))\r\n                this.Range.OnMaximumChanged(this.InitialMax, max);\r\n            var val = this.Value;\r\n            if (!NumberEx.AreClose(this.InitialVal, val))\r\n                this.Range.OnValueChanged(this.InitialVal, val);\r\n        }\r\n        OnMaximumChanged(oldMaximum: number, newMaximum: number) {\r\n            if (this.CoerceDepth === 0) {\r\n                this.RequestedMax = newMaximum;\r\n                this.InitialMax = oldMaximum;\r\n                this.InitialVal = this.Value;\r\n            }\r\n            this.CoerceDepth++;\r\n            this.CoerceMaximum();\r\n            this.CoerceValue();\r\n            this.CoerceDepth--;\r\n            if (this.CoerceDepth !== 0)\r\n                return;\r\n\r\n            this.PreCoercedMax = newMaximum;\r\n            var max = this.Maximum;\r\n            if (!NumberEx.AreClose(this.InitialMax, max))\r\n                this.Range.OnMaximumChanged(this.InitialMax, max);\r\n            var val = this.Value;\r\n            if (!NumberEx.AreClose(this.InitialVal, val))\r\n                this.Range.OnValueChanged(this.InitialVal, val);\r\n        }\r\n        OnValueChanged(oldValue: number, newValue: number) {\r\n            if (this.CoerceDepth === 0) {\r\n                this.RequestedVal = newValue;\r\n                this.InitialVal = oldValue;\r\n            }\r\n            this.CoerceDepth++;\r\n            this.CoerceValue();\r\n            this.CoerceDepth--;\r\n            if (this.CoerceDepth !== 0)\r\n                return;\r\n\r\n            this.PreCoercedVal = newValue;\r\n            var val = this.Value;\r\n            if (!NumberEx.AreClose(this.InitialVal, val))\r\n                this.Range.OnValueChanged(this.InitialVal, val);\r\n        }\r\n\r\n        CoerceMaximum() {\r\n            var min = this.Minimum;\r\n            var max = this.Maximum;\r\n            if (!NumberEx.AreClose(this.RequestedMax, max) && this.RequestedMax >= min)\r\n                this.OnCoerceMaximum(this.RequestedMax);\r\n            else if (max < min)\r\n                this.OnCoerceMaximum(min);\r\n        }\r\n        CoerceValue() {\r\n            var min = this.Minimum;\r\n            var max = this.Maximum;\r\n            var val = this.Value;\r\n            if (!NumberEx.AreClose(this.RequestedVal, val) && this.RequestedVal >= min && this.RequestedVal <= max)\r\n                this.OnCoerceValue(this.RequestedVal);\r\n            else if (val < min)\r\n                this.OnCoerceValue(min);\r\n            else if (val > max)\r\n                this.OnCoerceValue(max);\r\n        }\r\n    }\r\n}","module Fayde.Controls.Internal {\r\n    export class TextBoxContentProxy {\r\n        private $$element: FrameworkElement = null;\r\n\r\n        setElement(fe: FrameworkElement, view: TextBoxView) {\r\n            this.$$element = fe;\r\n            if (!fe)\r\n                return;\r\n\r\n            if (fe instanceof ContentPresenter) {\r\n                (<ContentPresenter>fe).SetValue(ContentPresenter.ContentProperty, view);\r\n            } else if (fe instanceof ContentControl) {\r\n                (<ContentControl>fe).SetValue(ContentControl.ContentProperty, view);\r\n            } else if (fe instanceof Border) {\r\n                (<Border>fe).SetValue(Border.ChildProperty, view);\r\n            } else if (fe instanceof Panel) {\r\n                (<Panel>fe).Children.Add(view);\r\n            } else {\r\n                console.warn(\"TextBox does not have a valid content element.\");\r\n            }\r\n        }\r\n\r\n        setHorizontalScrollBar(sbvis: ScrollBarVisibility) {\r\n            var ce = this.$$element;\r\n            if (!ce)\r\n                return;\r\n            var ceType = (<any>ce).constructor;\r\n            var propd = DependencyProperty.GetDependencyProperty(ceType, \"HorizontalScrollBarVisibility\", true);\r\n            if (!propd)\r\n                return;\r\n            ce.SetValueInternal(propd, sbvis);\r\n        }\r\n\r\n        setVerticalScrollBar(sbvis: ScrollBarVisibility) {\r\n            var ce = this.$$element;\r\n            if (!ce)\r\n                return;\r\n            var ceType = (<any>ce).constructor;\r\n            var propd = DependencyProperty.GetDependencyProperty(ceType, \"VerticalScrollBarVisibility\", true);\r\n            if (!propd)\r\n                return;\r\n            ce.SetValueInternal(propd, sbvis);\r\n        }\r\n    }\r\n}","/// <reference path=\"../../Core/FrameworkElement.ts\" />\r\n\r\nmodule Fayde.Controls.Internal {\r\n    import TextBoxViewUpdater = minerva.controls.textboxview.TextBoxViewUpdater;\r\n\r\n    export class TextBoxViewNode extends FENode {\r\n        LayoutUpdater: TextBoxViewUpdater;\r\n    }\r\n\r\n    export class TextBoxView extends FrameworkElement {\r\n        XamlNode: TextBoxViewNode;\r\n\r\n        CreateLayoutUpdater () {\r\n            return new TextBoxViewUpdater();\r\n        }\r\n\r\n        private _AutoRun = new Documents.Run();\r\n\r\n        constructor () {\r\n            super();\r\n            this.XamlNode.LayoutUpdater.tree.onTextAttached(this._AutoRun.TextUpdater);\r\n            ReactTo(this._AutoRun, this, this._InlineChanged);\r\n        }\r\n\r\n        private _InlineChanged (obj?: any) {\r\n            var updater = this.XamlNode.LayoutUpdater;\r\n            switch (obj.type) {\r\n                case 'font':\r\n                    updater.invalidateFont(obj.full);\r\n                    break;\r\n                case 'text':\r\n                    updater.invalidateTextMetrics();\r\n                    break;\r\n            }\r\n        }\r\n\r\n        setFontProperty (propd: DependencyProperty, value: any) {\r\n            this._AutoRun.SetValue(propd, value);\r\n        }\r\n\r\n        setFontAttr (attrName: string, value: any) {\r\n            var runUpdater = this._AutoRun;\r\n            var tu = runUpdater.TextUpdater;\r\n            tu.assets[attrName] = value;\r\n        }\r\n\r\n        setCaretBrush (value: Media.Brush) {\r\n            var updater = this.XamlNode.LayoutUpdater;\r\n            updater.assets.caretBrush = value;\r\n            updater.invalidateCaret();\r\n        }\r\n\r\n        setIsFocused (isFocused: boolean) {\r\n            var updater = <TextBoxViewUpdater>this.XamlNode.LayoutUpdater;\r\n            if (updater.assets.isFocused === isFocused)\r\n                return;\r\n            updater.assets.isFocused = isFocused;\r\n            updater.resetCaretBlinker(false);\r\n        }\r\n\r\n        setIsReadOnly (isReadOnly: boolean) {\r\n            var updater = this.XamlNode.LayoutUpdater;\r\n            if (updater.assets.isReadOnly === isReadOnly)\r\n                return;\r\n            updater.assets.isReadOnly = isReadOnly;\r\n            updater.resetCaretBlinker(false);\r\n        }\r\n\r\n        setTextAlignment (textAlignment: TextAlignment) {\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            if (lu.assets.textAlignment === <number>textAlignment)\r\n                return;\r\n            lu.assets.textAlignment = <number>textAlignment;\r\n            lu.invalidateMeasure();\r\n            lu.updateBounds(true);\r\n            lu.invalidate();\r\n        }\r\n\r\n        setTextWrapping (textWrapping: TextWrapping) {\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            if (lu.assets.textWrapping === <number>textWrapping)\r\n                return;\r\n            lu.assets.textWrapping = <number>textWrapping;\r\n            lu.invalidateMeasure();\r\n            lu.updateBounds(true);\r\n            lu.invalidate();\r\n        }\r\n\r\n        setSelectionStart (selectionStart: number) {\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            if (lu.assets.selectionStart === selectionStart)\r\n                return;\r\n            lu.assets.selectionStart = selectionStart;\r\n            lu.invalidateSelectionStart();\r\n        }\r\n\r\n        setSelectionLength (selectionLength: number) {\r\n            var lu = this.XamlNode.LayoutUpdater;\r\n            if (lu.assets.selectionLength === selectionLength)\r\n                return;\r\n            var switching = (lu.assets.selectionLength === 0) !== (selectionLength === 0);\r\n            lu.assets.selectionLength = selectionLength;\r\n            lu.invalidateSelectionLength(switching);\r\n        }\r\n\r\n        setText (text: string) {\r\n            this._AutoRun.Text = text || \"\";\r\n        }\r\n\r\n        /*\r\n         private _UpdateCursor (invalidate: boolean) {\r\n         var cur = this._TextBox.SelectionCursor;\r\n         var current = this._Cursor;\r\n\r\n         if (invalidate && this._CursorVisible)\r\n         this._InvalidateCursor();\r\n\r\n         this._Cursor = this._Layout.GetSelectionCursor(null, cur);\r\n         //TODO: ...\r\n         // var irect = rect.copyTo(this._Cursor);\r\n         // rect.transform(irect, this._Xformer.AbsoluteXform);\r\n         // this._TextBox._ImCtx.SetCursorLocation(irect);\r\n\r\n         if (!minerva.Rect.isEqual(this._Cursor, current))\r\n         this._TextBox._EmitCursorPositionChanged(this._Cursor.height, this._Cursor.x, this._Cursor.y);\r\n\r\n         if (invalidate && this._CursorVisible)\r\n         this._InvalidateCursor();\r\n         }\r\n         */\r\n\r\n        GetCursorFromPoint (point: Point): number {\r\n            return this.XamlNode.LayoutUpdater.getCursorFromPoint(point);\r\n        }\r\n    }\r\n    Fayde.RegisterType(TextBoxView, Fayde.XMLNSINTERNAL);\r\n}","module Fayde.Controls.Internal {\r\n    var NO_GENERATOR: minerva.IVirtualizingGenerator = {\r\n        current: undefined,\r\n        generate: function (): boolean {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    export class VirtualizingPanelContainerOwner implements minerva.IVirtualizingContainerOwner {\r\n        constructor (private $$panel: VirtualizingPanel) {\r\n        }\r\n\r\n        get itemCount (): number {\r\n            var panel = this.$$panel;\r\n            var ic = panel ? panel.ItemsControl : null;\r\n            return ic ? ic.Items.Count : 0;\r\n        }\r\n\r\n        createGenerator (index: number, count: number): minerva.IVirtualizingGenerator {\r\n            var panel = this.$$panel;\r\n            var ic = panel ? panel.ItemsControl : null;\r\n            var icm = ic ? ic.ItemContainersManager : null;\r\n            if (!icm)\r\n                return NO_GENERATOR;\r\n            var icgen = icm.CreateGenerator(index, count);\r\n            var children = panel.Children;\r\n            return {\r\n                current: undefined,\r\n                generate: function (): boolean {\r\n                    this.current = undefined;\r\n                    if (!icgen.Generate())\r\n                        return false;\r\n                    var child = icgen.Current;\r\n                    if (icgen.IsCurrentNew) {\r\n                        children.Insert(icgen.GenerateIndex, child);\r\n                        ic.PrepareContainerForItem(child, icgen.CurrentItem);\r\n                    }\r\n                    this.current = child.XamlNode.LayoutUpdater;\r\n                    return true;\r\n                }\r\n            };\r\n        }\r\n\r\n        remove (index: number, count: number) {\r\n            var panel = this.$$panel;\r\n            var ic = panel ? panel.ItemsControl : null;\r\n            var icm = ic ? ic.ItemContainersManager : null;\r\n            if (!icm)\r\n                return;\r\n            var old = icm.DisposeContainers(index, count);\r\n            var children = panel.Children;\r\n            for (var i = 0, len = old.length; i < len; i++) {\r\n                children.Remove(old[i]);\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../../Core/RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class DragCompletedEventArgs extends RoutedEventArgs {\r\n        HorizontalChange: number;\r\n        VerticalChange: number;\r\n        Canceled: boolean;\r\n        constructor(horizontal: number, vertical: number, canceled: boolean) {\r\n            super();\r\n            Object.defineProperty(this, \"HorizontalChange\", { value: horizontal, writable: false });\r\n            Object.defineProperty(this, \"VerticalChange\", { value: vertical, writable: false });\r\n            Object.defineProperty(this, \"Canceled\", { value: canceled, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DragCompletedEventArgs);\r\n\r\n    export class DragDeltaEventArgs extends RoutedEventArgs {\r\n        HorizontalChange: number;\r\n        VerticalChange: number;\r\n        constructor(horizontal: number, vertical: number) {\r\n            super();\r\n            Object.defineProperty(this, \"HorizontalChange\", { value: horizontal, writable: false });\r\n            Object.defineProperty(this, \"VerticalChange\", { value: vertical, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DragDeltaEventArgs);\r\n\r\n    export class DragStartedEventArgs extends RoutedEventArgs {\r\n        HorizontalOffset: number;\r\n        VerticalOffset: number;\r\n        constructor(horizontal: number, vertical: number) {\r\n            super();\r\n            Object.defineProperty(this, \"HorizontalOffset\", { value: horizontal, writable: false });\r\n            Object.defineProperty(this, \"VerticalOffset\", { value: vertical, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DragStartedEventArgs);\r\n}","/// <reference path=\"../../Core/FrameworkElement\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    import OverlayUpdater = minerva.controls.overlay.OverlayUpdater;\r\n    var DEFAULT_MASK_BRUSH = \"#33000000\";\r\n\r\n    export class OverlayNode extends FENode {\r\n        LayoutUpdater: OverlayUpdater;\r\n        XObject: Overlay;\r\n\r\n        private _Layer: Panel = null;\r\n        private _Mask: Border = null;\r\n\r\n        EnsureLayer () {\r\n            if (!this._Layer) {\r\n                this._Layer = new Panel();\r\n                this.LayoutUpdater.setLayer(this._Layer.XamlNode.LayoutUpdater);\r\n            }\r\n            return this._Layer;\r\n        }\r\n\r\n        EnsureMask () {\r\n            if (!this._Mask) {\r\n                this._Mask = new Border();\r\n                this._Mask.MouseLeftButtonDown.on(this._OnMaskMouseDown, this);\r\n                this.UpdateMask();\r\n            }\r\n            return this._Mask;\r\n        }\r\n\r\n        private _OnMaskMouseDown (sender, args: Input.MouseButtonEventArgs) {\r\n            this.XObject.SetCurrentValue(Overlay.IsOpenProperty, false);\r\n        }\r\n\r\n        UpdateMask () {\r\n            var mask = this._Mask;\r\n            if (mask) {\r\n                var mb = this.XObject.MaskBrush;\r\n                if (mb === undefined)\r\n                    mb = nullstone.convertAnyToType(DEFAULT_MASK_BRUSH, Media.Brush);\r\n                this._Mask.Background = mb;\r\n            }\r\n        }\r\n\r\n        OnIsAttachedChanged (newIsAttached: boolean) {\r\n            super.OnIsAttachedChanged(newIsAttached);\r\n            this.RegisterInitiator(this.VisualParentNode.XObject);\r\n            if (newIsAttached) {\r\n                this.EnsureLayer().Children.Insert(0, this.EnsureMask());\r\n            }\r\n            if (!newIsAttached && this.XObject.IsOpen)\r\n                this.XObject.IsOpen = false;\r\n        }\r\n\r\n        RegisterInitiator (initiator: UIElement) {\r\n            if (!(initiator instanceof UIElement))\r\n                return;\r\n            this.LayoutUpdater.setInitiator(initiator.XamlNode.LayoutUpdater);\r\n        }\r\n    }\r\n\r\n    export class Overlay extends FrameworkElement {\r\n        XamlNode: OverlayNode;\r\n\r\n        CreateNode (): OverlayNode {\r\n            return new OverlayNode(this);\r\n        }\r\n\r\n        CreateLayoutUpdater (): OverlayUpdater {\r\n            return new OverlayUpdater();\r\n        }\r\n\r\n        static VisualProperty = DependencyProperty.Register(\"Visual\", () => UIElement, Overlay, undefined, (d: Overlay, args) => d._OnVisualChanged(args));\r\n        static VisualUriProperty = DependencyProperty.Register(\"VisualUri\", () => Uri, Overlay, undefined, (d: Overlay, args) => d._OnVisualUriChanged(args));\r\n        static VisualViewModelProperty = DependencyProperty.Register(\"VisualViewModel\", () => Object, Overlay, undefined, (d: Overlay, args) => d._OnVisualViewModelChanged(args));\r\n        static IsOpenProperty = DependencyProperty.Register(\"IsOpen\", () => Boolean, Overlay, undefined, (d: Overlay, args) => d._OnIsOpenChanged(args));\r\n        static MaskBrushProperty = DependencyProperty.Register(\"MaskBrush\", () => Media.Brush, Overlay);\r\n        static ClosedCommandProperty = DependencyProperty.Register(\"ClosedCommand\", () => Input.ICommand_, Overlay);\r\n        Visual: UIElement;\r\n        VisualUri: Uri;\r\n        VisualViewModel: any;\r\n        IsOpen: boolean;\r\n        MaskBrush: Media.Brush;\r\n        ClosedCommand: Input.ICommand;\r\n\r\n        Opened = new nullstone.Event<nullstone.IEventArgs>();\r\n        Closed = new nullstone.Event<OverlayClosedEventArgs>();\r\n\r\n        constructor () {\r\n            super();\r\n            this.DefaultStyleKey = Overlay;\r\n            this.InitBindings();\r\n        }\r\n\r\n        InitBindings () {\r\n            this.SetBinding(Overlay.VisualViewModelProperty, new Data.Binding(\"OverlayDataContext\"));\r\n            var binding = new Data.Binding(\"IsOpen\");\r\n            binding.Mode = Data.BindingMode.TwoWay;\r\n            this.SetBinding(Overlay.IsOpenProperty, binding);\r\n            this.SetBinding(Overlay.ClosedCommandProperty, new Data.Binding(\"ClosedCommand\"));\r\n        }\r\n\r\n        private _ContentControlForUri: ContentControl = null;\r\n        private _IgnoreClose = false;\r\n\r\n        private _OnVisualChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            if (this.VisualUri != null)\r\n                throw new Error(\"Cannot set Visual if VisualUri is set.\");\r\n            var layer = this.XamlNode.EnsureLayer();\r\n            if (args.OldValue)\r\n                layer.Children.Remove(args.OldValue);\r\n            if (args.NewValue)\r\n                layer.Children.Add(args.NewValue);\r\n        }\r\n\r\n        private _OnVisualUriChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            if (this.Visual != null)\r\n                throw new Error(\"Cannot set VisualUri if Visual is set.\");\r\n            if (args.NewValue)\r\n                this._SetVisualUri(args.NewValue);\r\n            else\r\n                this._ClearVisualUri();\r\n        }\r\n\r\n        private _OnVisualViewModelChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            var cc: ContentControl;\r\n            var visual: UIElement;\r\n            if (!!(cc = this._ContentControlForUri))\r\n                cc.DataContext = args.NewValue;\r\n            else if (!!(visual = this.Visual))\r\n                visual.DataContext = args.NewValue;\r\n        }\r\n\r\n        private _SetVisualUri (uri: Uri) {\r\n            var cc = this._ContentControlForUri;\r\n            if (!cc) {\r\n                var layer = this.XamlNode.EnsureLayer();\r\n                cc = this._ContentControlForUri = new ContentControl();\r\n                cc.SetValue(OverlayOwnerProperty, this);\r\n                layer.Children.Add(cc);\r\n            }\r\n            cc.ContentUri = uri;\r\n            var vm = this.VisualViewModel;\r\n            if (vm !== undefined)\r\n                cc.DataContext = vm;\r\n        }\r\n\r\n        private _ClearVisualUri () {\r\n            var cc = this._ContentControlForUri;\r\n            if (!cc)\r\n                return;\r\n            var layer = this.XamlNode.EnsureLayer();\r\n            layer.Children.Remove(cc);\r\n            cc.ContentUri = null;\r\n            cc.DataContext = undefined;\r\n        }\r\n\r\n        private _OnIsOpenChanged (args: IDependencyPropertyChangedEventArgs) {\r\n            var ov = args.OldValue || false;\r\n            var nv = args.NewValue || false;\r\n            if (ov === nv)\r\n                return;\r\n            if (nv === true) {\r\n                this._DoOpen();\r\n            } else {\r\n                this._DoClose();\r\n            }\r\n        }\r\n\r\n        private _DoOpen () {\r\n            var upd = this.XamlNode.LayoutUpdater;\r\n            minerva.controls.overlay.reactTo.isOpen(upd, false, true);\r\n            this.Opened.raise(this, null);\r\n        }\r\n\r\n        private _DoClose (result?: boolean) {\r\n            if (this._IgnoreClose)\r\n                return;\r\n            var upd = this.XamlNode.LayoutUpdater;\r\n            minerva.controls.overlay.reactTo.isOpen(upd, true, false);\r\n            if (result === undefined)\r\n                result = this._GetDialogResult();\r\n            var parameter: MVVM.IOverlayCompleteParameters = {\r\n                Result: result,\r\n                Data: this.VisualViewModel\r\n            };\r\n            var cmd = this.ClosedCommand;\r\n            if (cmd && (!cmd.CanExecute || cmd.CanExecute(parameter)))\r\n                cmd.Execute(parameter);\r\n            this.Closed.raise(this, new OverlayClosedEventArgs(parameter.Result, parameter.Data));\r\n        }\r\n\r\n        Open () {\r\n            this.IsOpen = true;\r\n        }\r\n\r\n        Close (result?: boolean) {\r\n            if (this.IsOpen !== true)\r\n                return;\r\n            this._IgnoreClose = true;\r\n            try {\r\n                this.SetCurrentValue(Overlay.IsOpenProperty, false);\r\n            } finally {\r\n                this._IgnoreClose = false;\r\n            }\r\n            this._DoClose(result);\r\n        }\r\n\r\n        private _GetDialogResult (): boolean {\r\n            var visual = this.Visual || this._ContentControlForUri;\r\n            if (!visual)\r\n                return undefined;\r\n            var dialog = VisualTreeHelper.GetChildrenCount(visual) > 0 ? VisualTreeHelper.GetChild(visual, 0) : null;\r\n            return (dialog instanceof Dialog) ? (<Dialog>dialog).DialogResult : null;\r\n        }\r\n\r\n        static FindOverlay (visual: UIElement): Overlay {\r\n            for (var en = VisualTreeEnum.GetAncestors(visual).getEnumerator(); en.moveNext();) {\r\n                var owner = en.current.GetValue(OverlayOwnerProperty);\r\n                if (owner instanceof Overlay)\r\n                    return owner;\r\n            }\r\n            return undefined;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Overlay);\r\n    Markup.Content(Overlay, Overlay.VisualProperty);\r\n\r\n    module reactions {\r\n        DPReaction<Media.Brush>(Overlay.MaskBrushProperty, (overlay: Overlay, ov, nv) => {\r\n            overlay.XamlNode.UpdateMask();\r\n        });\r\n    }\r\n\r\n    var OverlayOwnerProperty = DependencyProperty.RegisterAttached(\"OverlayOwner\", () => Overlay, Overlay);\r\n}","module Fayde.Controls.Primitives {\r\n    export class OverlayClosedEventArgs implements nullstone.IEventArgs {\r\n        Result: boolean;\r\n        Data: any;\r\n\r\n        constructor (result: boolean, data: any) {\r\n            Object.defineProperties(this, {\r\n                \"Result\": {\r\n                    value: result,\r\n                    writable: false\r\n                },\r\n                \"Data\": {\r\n                    value: data,\r\n                    writable: false\r\n                }\r\n            });\r\n        }\r\n    }\r\n}","module Fayde.Controls.Primitives {\r\n    export class ScrollData implements minerva.IScrollData {\r\n        canHorizontallyScroll: boolean = false;\r\n        canVerticallyScroll: boolean = false;\r\n        offsetX: number = 0;\r\n        offsetY: number = 0;\r\n        cachedOffsetX: number = 0;\r\n        cachedOffsetY: number = 0;\r\n        viewportWidth: number = 0;\r\n        viewportHeight: number = 0;\r\n        extentWidth: number = 0;\r\n        extentHeight: number = 0;\r\n        maxDesiredWidth: number = 0;\r\n        maxDesiredHeight: number = 0;\r\n\r\n        scrollOwner: ScrollViewer = null;\r\n\r\n        invalidate () {\r\n            if (this.scrollOwner)\r\n                this.scrollOwner.InvalidateScrollInfo();\r\n        }\r\n    }\r\n}","/// <reference path=\"../../Core/RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export enum ScrollEventType {\r\n        SmallDecrement = 0,\r\n        SmallIncrement = 1,\r\n        LargeDecrement = 2,\r\n        LargeIncrement = 3,\r\n        ThumbPosition = 4,\r\n        ThumbTrack = 5,\r\n        First = 6,\r\n        Last = 7,\r\n        EndScroll = 8,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(ScrollEventType, \"ScrollEventType\");\r\n\r\n    export class ScrollEventArgs extends RoutedEventArgs {\r\n        ScrollEventType: ScrollEventType;\r\n        Value: number;\r\n        constructor(scrollEventType: ScrollEventType, value: number) {\r\n            super();\r\n            Object.defineProperty(this, \"ScrollEventType\", { value: scrollEventType, writable: false });\r\n            Object.defineProperty(this, \"Value\", { value: value, writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ScrollEventArgs);\r\n}","/// <reference path=\"../../Core/RoutedEventArgs.ts\" />\r\n\r\nmodule Fayde.Controls.Primitives {\r\n    export class SelectionChangedEventArgs extends RoutedEventArgs {\r\n        OldValues: any[];\r\n        NewValues: any[];\r\n        constructor(oldValues: any[], newValues: any[]) {\r\n            super();\r\n            Object.defineProperty(this, \"OldValues\", { value: oldValues.slice(0), writable: false });\r\n            Object.defineProperty(this, \"NewValues\", { value: newValues.slice(0), writable: false });\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SelectionChangedEventArgs);\r\n}","module Fayde.Controls.Primitives {\r\n    export class SelectorSelection {\r\n        private _Owner: Selector;\r\n        private _SelectedItems: any[] = [];\r\n        private _SelectedItem: any = null;\r\n        private _IsUpdating: boolean = false;\r\n        private _AnchorIndex = -1;\r\n        Mode: SelectionMode = SelectionMode.Single;\r\n\r\n        get IsUpdating(): boolean { return this._IsUpdating; }\r\n\r\n        constructor(owner: Selector) {\r\n            this._Owner = owner;\r\n            this._Owner.SelectedItems.CollectionChanged.on(this._HandleOwnerSelectionChanged, this);\r\n        }\r\n\r\n        private _HandleOwnerSelectionChanged(sender, e: Collections.CollectionChangedEventArgs) {\r\n            if (this._IsUpdating)\r\n                return;\r\n            if (this.Mode === SelectionMode.Single)\r\n                throw new InvalidOperationException(\"SelectedItems cannot be modified directly when in Single select mode\");\r\n            try {\r\n                var items = this._SelectedItems;\r\n                this._IsUpdating = true;\r\n                switch (e.Action) {\r\n                    case Collections.CollectionChangedAction.Add:\r\n                        if (items.indexOf(e.NewItems[0]) < 0)\r\n                            this.AddToSelected(e.NewItems[0]);\r\n                        break;\r\n                    case Collections.CollectionChangedAction.Remove:\r\n                        if (items.indexOf(e.OldItems[0]) > -1)\r\n                            this.RemoveFromSelected(e.OldItems[0]);\r\n                        break;\r\n                    case Collections.CollectionChangedAction.Replace:\r\n                        if (items.indexOf(e.OldItems[0]) > -1)\r\n                            this.RemoveFromSelected(e.OldItems[0]);\r\n                        if (items.indexOf(e.NewItems[0]) < 0)\r\n                            this.AddToSelected(e.NewItems[0]);\r\n                        break;\r\n                    case Collections.CollectionChangedAction.Reset:\r\n                        var ownerItems = this._Owner.SelectedItems;\r\n\r\n                        var item: any;\r\n                        var enumerator = ownerItems.getEnumerator();\r\n                        while (enumerator.moveNext()) {\r\n                            item = enumerator.current;\r\n                            if (ownerItems.Contains(item))\r\n                                continue;\r\n                            if (items.indexOf(item) > -1)\r\n                                this.RemoveFromSelected(item);\r\n                        }\r\n\r\n                        enumerator = ownerItems.getEnumerator();\r\n                        while (enumerator.moveNext()) {\r\n                            item = enumerator.current;\r\n                            if (items.indexOf(item) < 0)\r\n                                this.AddToSelected(item);\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                this._Owner._SelectedItemsIsInvalid = true;\r\n            } finally {\r\n                this._IsUpdating = false;\r\n            }\r\n        }\r\n        RepopulateSelectedItems() {\r\n            if (!this._IsUpdating) {\r\n                try {\r\n                    this._IsUpdating = true;\r\n                    var si = this._Owner.SelectedItems;\r\n                    si.Clear();\r\n                    si.AddRange(this._SelectedItems);\r\n                } finally {\r\n                    this._IsUpdating = false;\r\n                }\r\n            }\r\n        }\r\n        ClearSelection(ignoreSelectedValue?: boolean) {\r\n            if (ignoreSelectedValue === undefined) ignoreSelectedValue = false;\r\n            if (this._SelectedItems.length === 0) {\r\n                this.UpdateSelectorProperties(null, -1, ignoreSelectedValue ? this._Owner.SelectedValue : null);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                this._IsUpdating = true\r\n                var oldSelection = this._SelectedItems.slice(0);\r\n\r\n                this._SelectedItems = [];\r\n                this._SelectedItem = null;\r\n                this.UpdateSelectorProperties(null, -1, ignoreSelectedValue ? this._Owner.SelectedValue : null);\r\n\r\n                this._Owner._SelectedItemsIsInvalid = true;\r\n                this._Owner._RaiseSelectionChanged(oldSelection, []);\r\n            } finally {\r\n                this._IsUpdating = false;\r\n            }\r\n        }\r\n        Select(item: any) {\r\n            if (!this._Owner.Items.Contains(item))\r\n                return;\r\n\r\n            var selIndex = this._SelectedItems.indexOf(item);\r\n            try {\r\n                this._IsUpdating = true;\r\n\r\n                switch (this.Mode) {\r\n                    case SelectionMode.Single:\r\n                        return this._SelectSingle(item, selIndex);\r\n                    case SelectionMode.Extended:\r\n                        return this._SelectExtended(item, selIndex);\r\n                    case SelectionMode.Multiple:\r\n                        return this._SelectMultiple(item, selIndex);\r\n                    default:\r\n                        throw new NotSupportedException(\"SelectionMode \" + this.Mode + \" is not supported.\");\r\n                }\r\n            } finally {\r\n                this._IsUpdating = false;\r\n            }\r\n        }\r\n        private _SelectSingle(item: any, selIndex: number) {\r\n            if (selIndex === -1)\r\n                return this.ReplaceSelection(item);\r\n        }\r\n        private _SelectExtended(item: any, selIndex: number) {\r\n            var itemsIndex = this._Owner.Items.IndexOf(item);\r\n            if (Fayde.Input.Keyboard.HasShift()) {\r\n                var items = this._Owner.Items;\r\n                var aIndex = this._AnchorIndex;\r\n                if (aIndex === -1)\r\n                    aIndex = items.IndexOf(this._SelectedItem);\r\n                aIndex = Math.max(aIndex, 0);\r\n                var oIndex = items.IndexOf(item);\r\n                return this.SelectRange(Math.min(aIndex, oIndex), Math.max(aIndex, oIndex));\r\n            }\r\n\r\n            this._AnchorIndex = selIndex;\r\n            if (Fayde.Input.Keyboard.HasControl()) {\r\n                if (selIndex > -1)\r\n                    return this.RemoveFromSelected(item);\r\n                return this.AddToSelected(item);\r\n            }\r\n            return this.ReplaceSelection(item);\r\n        }\r\n        private _SelectMultiple(item: any, selIndex: number) {\r\n            return (selIndex > -1) ? this.RemoveFromSelected(item) : this.AddToSelected(item);\r\n        }\r\n        SelectRange(startIndex: number, endIndex: number) {\r\n            var ownerItems = this._Owner.Items;\r\n\r\n            var oldSelectedItems = this._SelectedItems;\r\n            this._SelectedItems = ownerItems.GetRange(startIndex, endIndex)\r\n\r\n            var toUnselect = except(oldSelectedItems, this._SelectedItems);\r\n            var toSelect = except(this._SelectedItems, oldSelectedItems);\r\n\r\n            if (this._SelectedItems.indexOf(this._SelectedItem) === -1) {\r\n                this._SelectedItem = this._SelectedItems[0];\r\n                this.UpdateSelectorProperties(this._SelectedItem, this._SelectedItem == null ? -1 : ownerItems.IndexOf(this._SelectedItem), this._Owner._GetValueFromItem(this._SelectedItem));\r\n            }\r\n\r\n            this._Owner._SelectedItemsIsInvalid = true;\r\n            this._Owner._RaiseSelectionChanged(toUnselect, toSelect);\r\n        }\r\n        SelectAll(items: any[]) {\r\n            try {\r\n                this._IsUpdating = true;\r\n                if (this.Mode === SelectionMode.Single)\r\n                    throw new NotSupportedException(\"Cannot call SelectAll when in Single select mode\");\r\n\r\n                var selectedItems = this._SelectedItems;\r\n                var select = except(items, selectedItems);\r\n                if (select.length === 0)\r\n                    return;\r\n\r\n                var owner = this._Owner;\r\n                selectedItems.push(select);\r\n                if (this._SelectedItem == null) {\r\n                    this._SelectedItem = select[0];\r\n                    this.UpdateSelectorProperties(this._SelectedItem, owner.Items.IndexOf(this._SelectedItem), owner._GetValueFromItem(this._SelectedItem));\r\n                }\r\n\r\n                owner._SelectedItemsIsInvalid = true;\r\n                owner._RaiseSelectionChanged([], select);\r\n            } finally {\r\n                this._IsUpdating = false;\r\n            }\r\n        }\r\n        SelectOnly(item: any) {\r\n            if (this._SelectedItem === item && this._SelectedItems.length === 1)\r\n                return;\r\n\r\n            try {\r\n                this._IsUpdating = true;\r\n                this.ReplaceSelection(item);\r\n            } finally {\r\n                this._IsUpdating = false;\r\n            }\r\n        }\r\n        Unselect(item: any) {\r\n            if (this._SelectedItems.indexOf(item) < 0)\r\n                return;\r\n\r\n            try {\r\n                this._IsUpdating = true;\r\n                this.RemoveFromSelected(item);\r\n            } finally {\r\n                this._IsUpdating = false;\r\n            }\r\n        }\r\n        AddToSelected(item: any) {\r\n            this._SelectedItems.push(item);\r\n            var owner = this._Owner;\r\n            if (this._SelectedItems.length === 1) {\r\n                this._SelectedItem = item;\r\n                this.UpdateSelectorProperties(item, owner.Items.IndexOf(item), owner._GetValueFromItem(item));\r\n            }\r\n            owner._SelectedItemsIsInvalid = true;\r\n            owner._RaiseSelectionChanged([], [item]);\r\n        }\r\n        RemoveFromSelected(item: any) {\r\n            var selectedItems = this._SelectedItems;\r\n            var index = selectedItems.indexOf(item);\r\n            if (index > -1) selectedItems.splice(index, 1);\r\n            var owner = this._Owner;\r\n            if (this._SelectedItem === item) {\r\n                var newItem = selectedItems[0];\r\n                this._SelectedItem = newItem;\r\n                this.UpdateSelectorProperties(newItem, newItem == null ? -1 : owner.Items.IndexOf(newItem), owner._GetValueFromItem(item));\r\n            }\r\n            owner._SelectedItemsIsInvalid = true;\r\n            owner._RaiseSelectionChanged([item], []);\r\n        }\r\n        ReplaceSelection(item: any) {\r\n            var owner = this._Owner;\r\n            if (!this.UpdateCollectionView(item)) {\r\n                this.UpdateSelectorProperties(this._SelectedItem, owner.Items.IndexOf(this._SelectedItem), owner._GetValueFromItem(this._SelectedItem));\r\n                return;\r\n            }\r\n\r\n            var oldItems = this._SelectedItems.slice(0);\r\n            var newItems = [];\r\n            var itemIndex = oldItems.indexOf(item);\r\n            if (itemIndex > -1) {\r\n                oldItems.splice(itemIndex, 1);\r\n            } else {\r\n                newItems.push(item);\r\n            }\r\n            this._SelectedItems = [item];\r\n\r\n            this._SelectedItem = item;\r\n            this.UpdateSelectorProperties(item, owner.Items.IndexOf(item), owner._GetValueFromItem(item));\r\n\r\n            if (newItems.length !== 0 || oldItems.length !== 0) {\r\n                owner._SelectedItemsIsInvalid = true;\r\n                owner._RaiseSelectionChanged(oldItems, newItems);\r\n            }\r\n        }\r\n        UpdateSelectorProperties(item: any, index: number, value: any) {\r\n            var owner = this._Owner;\r\n            if (owner.SelectedItem !== item)\r\n                owner.SelectedItem = item;\r\n\r\n            if (owner.SelectedIndex !== index)\r\n                owner.SelectedIndex = index;\r\n\r\n            if (owner.SelectedValue !== value)\r\n                owner.SelectedValue = value;\r\n\r\n            this.UpdateCollectionView(item);\r\n        }\r\n        UpdateCollectionView(item: any) {\r\n            var icv = Data.ICollectionView_.as(this._Owner.ItemsSource);\r\n            if (icv) {\r\n                icv.MoveCurrentTo(item);\r\n                return item === icv.CurrentItem;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SelectorSelection);\r\n\r\n    function except<T>(arr1: T[], arr2: T[]): T[] {\r\n        var r = [];\r\n        var c: any;\r\n        for (var i = 0, len = arr1.length; i < len; i++) {\r\n            c = arr1[i];\r\n            if (arr2.indexOf(c) < 0)\r\n                r.push(c);\r\n        }\r\n        return r;\r\n    }\r\n}","module Fayde.Data {\r\n    interface IParseData {\r\n        index: number;\r\n        i: number;\r\n        end: number;\r\n        path: string;\r\n        parenOpen: boolean;\r\n        tickOpen: boolean;\r\n        prop: string;\r\n        res: DependencyProperty;\r\n        cloned: boolean;\r\n        expressionFound: boolean;\r\n        lu: DependencyObject;\r\n        collection: XamlObjectCollection<any>;\r\n        promotedValues: any[];\r\n        explicitType: boolean;\r\n        type: Function;\r\n    }\r\n\r\n    export interface IOutValue {\r\n        Value: any;\r\n    }\r\n\r\n    var lookupNamespaces: any[];\r\n    function lookupType(name: string) {\r\n        if (!lookupNamespaces) {\r\n            lookupNamespaces = [\r\n                Fayde,\r\n                Fayde.Controls,\r\n                Fayde.Media,\r\n                Fayde.Controls.Primitives, \r\n                Fayde.Shapes, \r\n                window];\r\n        }\r\n\r\n        var len = lookupNamespaces.length;\r\n        for (var i = 0; i < len; i++) {\r\n            var potentialType = lookupNamespaces[i][name];\r\n            if (typeof potentialType === \"function\")\r\n                return potentialType;\r\n        }\r\n        return eval(name);\r\n    }\r\n\r\n    function handlePeriod(data: IParseData): boolean {\r\n        if (data.tickOpen)\r\n            return true;\r\n        if (data.res != null) {\r\n            var value = null;\r\n            if ((value = data.lu.GetValue(data.res)) == null)\r\n                return false;\r\n            if (!(value instanceof DependencyObject))\r\n                return false;\r\n\r\n            var newLu = value;\r\n            if (data.promotedValues && data.promotedValues[value._ID] == null && !(value instanceof UIElement)) {\r\n                var clonedValue = Fayde.Clone(value);\r\n                if (clonedValue instanceof DependencyObject) {\r\n                    newLu = clonedValue;\r\n                    data.lu.SetCurrentValue(data.res, clonedValue);\r\n                    clonedValue = data.lu.GetValue(data.res);\r\n                    data.promotedValues[clonedValue._ID] = clonedValue;\r\n                }\r\n            }\r\n\r\n            data.lu = newLu;\r\n        }\r\n        data.expressionFound = false;\r\n        data.prop = data.path.substr(data.index);\r\n        return true;\r\n    }\r\n    function handleLeftBracket (data: IParseData): boolean {\r\n        if (data.index >= data.end)\r\n            return;\r\n\r\n        var hasLeadingZeroes = false;\r\n        while (data.path.charAt(data.index) === '0') {\r\n            hasLeadingZeroes = true;\r\n            data.index++;\r\n        }\r\n        data.i = parseInt(data.path.substr(data.index), 10);\r\n        if (!isNaN(data.i))\r\n            data.index += data.i.toString().length;\r\n        if (isNaN(data.i) && hasLeadingZeroes)\r\n            data.i = 0;\r\n\r\n        if (data.path.charAt(data.index) !== ']' || data.path.charAt(data.index + 1) !== '.')\r\n            return true;\r\n\r\n        data.prop = data.path = data.path.substr(data.index + 2);\r\n        data.index = 0;\r\n        data.end = data.path.length;\r\n\r\n        var value = null;\r\n        if (data.expressionFound) {\r\n            data.expressionFound = false;\r\n            if ((value = data.lu.GetValue(data.res)) == null)\r\n                return false;\r\n        }\r\n\r\n        if (value instanceof XamlObjectCollection) {\r\n            data.collection = <XamlObjectCollection<any>>value;\r\n        } else {\r\n            data.collection = null;\r\n            return false;\r\n        }\r\n\r\n        if ((value = (<XamlObjectCollection<any>>data.collection).GetValueAt(data.i)) == null)\r\n            return false;\r\n\r\n        if (value instanceof DependencyObject) {\r\n            data.lu = <DependencyObject>value;\r\n        } else {\r\n            data.lu = null;\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n    function handleDefault(data: IParseData): boolean {\r\n        var explicitType = false;\r\n        data.expressionFound = true;\r\n        var start = data.index - 1;\r\n\r\n        var c;\r\n        while (data.index < data.end) {\r\n            c = data.path.charAt(data.index);\r\n            if (!((c !== '.' || data.tickOpen) && (!data.parenOpen || c !== ')') && c !== '['))\r\n                break;\r\n            data.index++;\r\n            if (c === '\\'') {\r\n                data.tickOpen = !data.tickOpen;\r\n                if (!data.tickOpen)\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (data.index === data.end) {\r\n            // This happened because a property at the end of the path ended like this: '.Property'\r\n            // We only fail if we can't find the property\r\n            data.type = (<any>data.lu).constructor;\r\n        } else {\r\n            c = data.path.charAt(data.index);\r\n            if (c === '.') {\r\n                // we found a type name, now find the property name\r\n                if ((data.index - start) === 11 && data.path.substr(start, 11).toLowerCase() === \"textelement\") { //bug workaround from Blend\r\n                    data.type = Controls.TextBlock;\r\n                    data.explicitType = true;\r\n                } else {\r\n                    var s = data.index;\r\n                    if (data.path.charAt(data.index - 1) === '\\'' && !data.tickOpen) {\r\n                        s = data.index - 1;\r\n                    }\r\n                    var name = data.path.slice(start, s);\r\n                    data.type = lookupType(name);\r\n                    data.explicitType = true;\r\n                    if (!data.type)\r\n                        data.type = (<any>data.lu).constructor;\r\n                }\r\n                data.index++;\r\n                start = data.index;\r\n                while (data.index < data.end) {\r\n                    c = data.path.charAt(data.index);\r\n                    if (!((!data.parenOpen || c !== ')') && (c !== '.' || data.tickOpen)))\r\n                        break;\r\n                    data.index++;\r\n                    if (c === '\\'') {\r\n                        data.tickOpen = !data.tickOpen;\r\n                        if (!data.tickOpen)\r\n                            break;\r\n                    }\r\n                }\r\n                if (data.index === start)\r\n                    return false;\r\n            } else {\r\n                data.type = (<any>data.lu).constructor;\r\n                data.explicitType = false;\r\n            }\r\n\r\n            c = data.path.charAt(data.index);\r\n            if ((c !== ')' && data.parenOpen) || data.type == null)\r\n                return false;\r\n        }\r\n        name = data.path.slice(start, data.index);\r\n        if ((data.res = DependencyProperty.GetDependencyProperty(data.type, name)) == null && data.lu)\r\n            data.res = DependencyProperty.GetDependencyProperty((<any>data.lu).constructor, name);\r\n\r\n        if (data.res == null)\r\n            return false;\r\n\r\n        if (!data.res.IsAttached && !(data.lu instanceof data.type)) {\r\n            if ((data.res = DependencyProperty.GetDependencyProperty((<any>data.lu).constructor, name)) == null)\r\n                return false;\r\n        }\r\n\r\n        if (data.res.IsAttached && data.explicitType && !data.parenOpen)\r\n            return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    export class PropertyPath implements ICloneable {\r\n        private _Path: string;\r\n        private _ExpandedPath: string;\r\n        private _Propd: DependencyProperty = null;\r\n        constructor(path?: string, expandedPath?: string) {\r\n            this._Path = path;\r\n            this._ExpandedPath = expandedPath;\r\n        }\r\n\r\n        static CreateFromParameter(parameter) {\r\n            var p = new PropertyPath();\r\n            if (parameter instanceof DependencyProperty)\r\n                p._Propd = <DependencyProperty>parameter;\r\n            p._Path = null;\r\n            if (parameter instanceof String)\r\n                p._Path = parameter;\r\n            return p;\r\n        }\r\n\r\n        TryResolveDependencyProperty(refobj: IOutValue, promotedValues: any[]): DependencyProperty {\r\n            if (this._Propd)\r\n                return this._Propd;\r\n            var ov = refobj.Value;\r\n            var propd = PropertyPath.ResolvePropertyPath(refobj, this, promotedValues);\r\n            if (ov === refobj.Value)\r\n                this._Propd = propd;\r\n            return propd;\r\n        }\r\n\r\n        get Path(): string { return this._Path; }\r\n        get ExpandedPath(): string { return this._ExpandedPath; }\r\n        get ParsePath(): string {\r\n            if (this._Propd)\r\n                return \"(0)\";\r\n            if (this._ExpandedPath)\r\n                return this._ExpandedPath;\r\n            return this._Path;\r\n        }\r\n        get HasDependencyProperty() { return this._Propd != null; }\r\n        get DependencyProperty() { return this._Propd; }\r\n\r\n        static ResolvePropertyPath(refobj: IOutValue, propertyPath: PropertyPath, promotedValues: any[]): DependencyProperty {\r\n            var path = propertyPath.Path;\r\n            var expanded = propertyPath.ExpandedPath;\r\n            if (expanded != null)\r\n                path = expanded;\r\n\r\n            var data: IParseData = {\r\n                index: 0,\r\n                i: 0,\r\n                end: path.length,\r\n                path: path,\r\n                parenOpen: false,\r\n                tickOpen: false,\r\n                prop: path,\r\n                res: null,\r\n                cloned: false,\r\n                expressionFound: false,\r\n                lu: refobj.Value,\r\n                collection: null,\r\n                promotedValues: promotedValues,\r\n                explicitType: false,\r\n                type: null,\r\n            };\r\n\r\n            var success;\r\n            while (data.index < data.end) {\r\n                success = true;\r\n                var c = data.path.charAt(data.index);\r\n                data.index++;\r\n                if (c === '(') {\r\n                    data.parenOpen = true;\r\n                } else if (c === ')') {\r\n                    data.parenOpen = false;\r\n                } else if (c === '\\'') {//Ticks only legal in expanded path\r\n                    if (!propertyPath.ExpandedPath)\r\n                        console.warn(\"The ' character is not legal in property paths.\");\r\n                    else\r\n                        data.tickOpen = !data.tickOpen;\r\n                } else if (c === '.') {\r\n                    success = handlePeriod(data);\r\n                } else if (c === '[') {\r\n                    success = handleLeftBracket(data);\r\n                } else {\r\n                    success = handleDefault(data);\r\n                }\r\n                if (!success) {\r\n                    refobj.Value = null;\r\n                    return null;\r\n                }\r\n            }\r\n            refobj.Value = data.lu;\r\n            return data.res;\r\n        }\r\n\r\n        Clone(): PropertyPath {\r\n            return new PropertyPath(this._Path, this._ExpandedPath);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PropertyPath);\r\n    nullstone.registerTypeConverter(PropertyPath, (val: any): any => {\r\n        if (!val)\r\n            return new PropertyPath();\r\n        if (val instanceof PropertyPath)\r\n            return val;\r\n        return new PropertyPath(val.toString());\r\n    });\r\n}","\r\nmodule Fayde.Data {\r\n    export interface IPropertyPathParserData {\r\n        typeName: string;\r\n        propertyName: string;\r\n        index: number;\r\n    }\r\n\r\n    export enum PropertyNodeType {\r\n        None = 0,\r\n        AttachedProperty = 1,\r\n        Indexed = 2,\r\n        Property = 3,\r\n    }\r\n\r\n    /// Property Path Syntax\r\n    /// http://msdn.microsoft.com/en-us/library/cc645024(v=vs.95).aspx\r\n    export class PropertyPathParser {\r\n        Path: string;\r\n        constructor(path: string) {\r\n            this.Path = path;\r\n        }\r\n\r\n        Step(data: IPropertyPathParserData): PropertyNodeType {\r\n            var type = PropertyNodeType.None;\r\n            var path = this.Path;\r\n            if (path.length === 0) {\r\n                data.typeName = null;\r\n                data.propertyName = null;\r\n                data.index = null;\r\n                return type;\r\n            }\r\n\r\n            var end: number = 0;\r\n            if (path.charAt(0) === '(') {\r\n                type = PropertyNodeType.AttachedProperty;\r\n                end = path.indexOf(')');\r\n                if (end === -1)\r\n                    throw new ArgumentException(\"Invalid property path. Attached property is missing the closing bracket\");\r\n\r\n                var tickOpen = path.indexOf('\\'');\r\n                var tickClose = 0;\r\n                var typeOpen: number;\r\n                var typeClose: number;\r\n                var propOpen: number;\r\n                var propClose: number;\r\n\r\n                typeOpen = path.indexOf('\\'');\r\n                if (typeOpen > 0) {\r\n                    typeOpen++;\r\n\r\n                    typeClose = path.indexOf('\\'', typeOpen + 1);\r\n                    if (typeClose < 0)\r\n                        throw new Exception(\"Invalid property path, Unclosed type name '\" + path + \"'.\");\r\n\r\n                    propOpen = path.indexOf('.', typeClose);\r\n                    if (propOpen < 0)\r\n                        throw new Exception(\"Invalid properth path, No property indexer found '\" + path + \"'.\");\r\n\r\n                    propOpen++;\r\n                } else {\r\n                    typeOpen = 1;\r\n                    typeClose = path.indexOf('.', typeOpen);\r\n                    if (typeClose < 0)\r\n                        throw new Exception(\"Invalid property path, No property indexer found on '\" + path + \"'.\");\r\n                    propOpen = typeClose + 1;\r\n                }\r\n\r\n                propClose = end;\r\n\r\n                data.typeName = path.slice(typeOpen, typeClose);\r\n                data.propertyName = path.slice(propOpen, propClose);\r\n\r\n                data.index = null;\r\n                if (path.length > (end + 1) && path.charAt(end + 1) === '.')\r\n                    end++;\r\n                path = path.substr(end + 1);\r\n            } else if (path.charAt(0) === '[') {\r\n                type = PropertyNodeType.Indexed;\r\n                end = path.indexOf(']');\r\n\r\n                data.typeName = null;\r\n                data.propertyName = null;\r\n                data.index = parseInt(path.substr(1, end - 1));\r\n                path = path.substr(end + 1);\r\n                if (path.charAt(0) === '.')\r\n                    path = path.substr(1);\r\n            } else {\r\n                type = PropertyNodeType.Property;\r\n                end = indexOfAny(path, ['.', '[']);\r\n\r\n                if (end === -1) {\r\n                    data.propertyName = path;\r\n                    path = \"\";\r\n                } else {\r\n                    data.propertyName = path.substr(0, end);\r\n                    if (path.charAt(end) === '.')\r\n                        path = path.substr(end + 1);\r\n                    else\r\n                        path = path.substr(end);\r\n                }\r\n\r\n                data.typeName = null;\r\n                data.index = null;\r\n            }\r\n            this.Path = path;\r\n\r\n            return type;\r\n        }\r\n    }\r\n\r\n    function indexOfAny(str: string, carr: string[], start?: number): number {\r\n        if (!carr)\r\n            return -1;\r\n        if (!start) start = 0;\r\n        for (var cur = start; cur < str.length; cur++) {\r\n            var c = str.charAt(cur);\r\n            for (var i = 0; i < carr.length; i++) {\r\n                if (c === carr[i])\r\n                    return cur;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}","module Fayde.Data {\r\n    export interface IPropertyPathWalkerListener {\r\n        IsBrokenChanged();\r\n        ValueChanged();\r\n    }\r\n\r\n    export interface IPropertyPathNode {\r\n        Next: IPropertyPathNode;\r\n        Value: any;\r\n        IsBroken: boolean;\r\n        ValueType: IType;\r\n        GetSource(): any;\r\n        SetSource(source: any);\r\n        SetValue(value: any);\r\n        Listen(listener: IPropertyPathNodeListener);\r\n        Unlisten(listener: IPropertyPathNodeListener);\r\n    }\r\n    export interface ICollectionViewNode extends IPropertyPathNode {\r\n        BindToView: boolean;\r\n    }\r\n    export interface IPropertyPathNodeListener {\r\n        IsBrokenChanged(node: IPropertyPathNode);\r\n        ValueChanged(node: IPropertyPathNode);\r\n    }\r\n\r\n    export class PropertyPathWalker implements IPropertyPathNodeListener {\r\n        Path: string;\r\n        IsDataContextBound: boolean;\r\n        Source: any;\r\n        ValueInternal: any;\r\n        Node: IPropertyPathNode;\r\n        FinalNode: IPropertyPathNode;\r\n        private _Listener: IPropertyPathWalkerListener;\r\n\r\n        get IsPathBroken (): boolean {\r\n            var path = this.Path;\r\n            if (this.IsDataContextBound && (!path || path.length < 1))\r\n                return false;\r\n\r\n            var node = this.Node;\r\n            while (node) {\r\n                if (node.IsBroken)\r\n                    return true;\r\n                node = node.Next;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        get FinalPropertyName (): string {\r\n            var final = <StandardPropertyPathNode>this.FinalNode;\r\n            if (final instanceof StandardPropertyPathNode)\r\n                return final.PropertyInfo ? final.PropertyInfo.name : \"\";\r\n            var lastName = \"\";\r\n            for (var cur = this.Node; cur; cur = cur.Next) {\r\n                if (cur instanceof StandardPropertyPathNode)\r\n                    lastName = (<StandardPropertyPathNode>cur).PropertyInfo ? (<StandardPropertyPathNode>cur).PropertyInfo.name : \"\";\r\n            }\r\n            return lastName;\r\n        }\r\n\r\n        constructor (path: string, bindDirectlyToSource?: boolean, bindsToView?: boolean, isDataContextBound?: boolean) {\r\n            bindDirectlyToSource = bindDirectlyToSource !== false;\r\n            bindsToView = bindsToView === true;\r\n            this.IsDataContextBound = isDataContextBound === true;\r\n\r\n            this.Path = path;\r\n            this.IsDataContextBound = isDataContextBound;\r\n\r\n            var lastCVNode: ICollectionViewNode = null;\r\n\r\n            if (!path || path === \".\") {\r\n                lastCVNode = new CollectionViewNode(bindDirectlyToSource, bindsToView);\r\n                this.Node = lastCVNode;\r\n                this.FinalNode = lastCVNode;\r\n            } else {\r\n                var data: IPropertyPathParserData = {\r\n                    typeName: undefined,\r\n                    propertyName: undefined,\r\n                    index: undefined\r\n                };\r\n                var type: PropertyNodeType;\r\n                var parser = new PropertyPathParser(path);\r\n                while ((type = parser.Step(data)) !== PropertyNodeType.None) {\r\n                    var isViewProperty = false;\r\n                    //boolean isViewProperty = CollectionViewProperties.Any (prop => prop.Name == propertyName);\r\n                    //          static readonly PropertyInfo[] CollectionViewProperties = typeof (ICollectionView).GetProperties ();\r\n                    var node = lastCVNode = new CollectionViewNode(bindDirectlyToSource, isViewProperty);\r\n                    switch (type) {\r\n                        case PropertyNodeType.AttachedProperty:\r\n                        case PropertyNodeType.Property:\r\n                            node.Next = new StandardPropertyPathNode(data.typeName, data.propertyName);\r\n                            break;\r\n                        case PropertyNodeType.Indexed:\r\n                            node.Next = new IndexedPropertyPathNode(data.index);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n\r\n                    if (this.FinalNode)\r\n                        this.FinalNode.Next = node;\r\n                    else\r\n                        this.Node = node;\r\n                    this.FinalNode = node.Next;\r\n                }\r\n            }\r\n\r\n            lastCVNode.BindToView = lastCVNode.BindToView || bindsToView;\r\n\r\n            this.FinalNode.Listen(this);\r\n        }\r\n\r\n        GetValue (item: any) {\r\n            this.Update(item);\r\n            var o = this.FinalNode.Value;\r\n            return o;\r\n        }\r\n\r\n        Update (source: any) {\r\n            this.Source = source;\r\n            this.Node.SetSource(source);\r\n        }\r\n\r\n        Listen (listener: IPropertyPathWalkerListener) {\r\n            this._Listener = listener;\r\n        }\r\n\r\n        Unlisten (listener: IPropertyPathWalkerListener) {\r\n            if (this._Listener === listener) this._Listener = null;\r\n        }\r\n\r\n        IsBrokenChanged (node: IPropertyPathNode) {\r\n            this.ValueInternal = node.Value;\r\n            var listener = this._Listener;\r\n            if (listener) listener.IsBrokenChanged();\r\n        }\r\n\r\n        ValueChanged (node: IPropertyPathNode) {\r\n            this.ValueInternal = node.Value;\r\n            var listener = this._Listener;\r\n            if (listener) listener.ValueChanged();\r\n        }\r\n\r\n        GetContext (): any {\r\n            var context: IPropertyPathNode = null;\r\n            var cur = this.Node;\r\n            var final = this.FinalNode;\r\n            while (cur && cur !== final) {\r\n                context = cur;\r\n                cur = cur.Next;\r\n            }\r\n            if (!context) return undefined;\r\n            return context.Value;\r\n        }\r\n    }\r\n\r\n    class PropertyPathNode implements IPropertyPathNode {\r\n        Next: IPropertyPathNode;\r\n        _IsBroken: boolean;\r\n        _Source: any;\r\n        private _Value: any;\r\n        DependencyProperty: DependencyProperty;\r\n        PropertyInfo: any;\r\n        private _NodeListener: IPropertyPathNodeListener;\r\n        ValueType: IType;\r\n\r\n        get IsBroken (): boolean {\r\n            return this._IsBroken;\r\n        }\r\n\r\n        get Source (): any {\r\n            return this._Source;\r\n        }\r\n\r\n        get Value (): any {\r\n            return this._Value;\r\n        }\r\n\r\n        Listen (listener: IPropertyPathNodeListener) {\r\n            this._NodeListener = listener;\r\n        }\r\n\r\n        Unlisten (listener: IPropertyPathNodeListener) {\r\n            if (this._NodeListener === listener) this._NodeListener = null;\r\n        }\r\n\r\n        OnSourceChanged (oldSource, newSource) {\r\n        }\r\n\r\n        OnSourcePropertyChanged (o, e) {\r\n        }\r\n\r\n        UpdateValue () {\r\n            throw new Exception(\"No override for abstract method: PropertyPathNode.UpdateValue\");\r\n        }\r\n\r\n        SetValue (value: any) {\r\n            throw new Exception(\"No override for abstract method: PropertyPathNode.SetValue\");\r\n        }\r\n\r\n        GetSource (): any {\r\n            return this._Source;\r\n        }\r\n\r\n        SetSource (value: any) {\r\n            if (value == null || value !== this._Source) {\r\n                var oldSource = this._Source;\r\n                var npc = INotifyPropertyChanged_.as(oldSource);\r\n                if (npc)\r\n                    npc.PropertyChanged.off(this.OnSourcePropertyChanged, this);\r\n                this._Source = value;\r\n                npc = INotifyPropertyChanged_.as(this._Source);\r\n                if (npc)\r\n                    npc.PropertyChanged.on(this.OnSourcePropertyChanged, this);\r\n\r\n                this.OnSourceChanged(oldSource, this._Source);\r\n                this.UpdateValue();\r\n                if (this.Next)\r\n                    this.Next.SetSource(this._Value);\r\n            }\r\n        }\r\n\r\n        UpdateValueAndIsBroken (newValue: any, isBroken: boolean) {\r\n            var emitBrokenChanged = this._IsBroken !== isBroken;\r\n            var emitValueChanged = !nullstone.equals(this.Value, newValue);\r\n\r\n            this._IsBroken = isBroken;\r\n            this._Value = newValue;\r\n\r\n            if (emitValueChanged) {\r\n                var listener = this._NodeListener;\r\n                if (listener) listener.ValueChanged(this);\r\n            } else if (emitBrokenChanged) {\r\n                var listener = this._NodeListener;\r\n                if (listener) listener.IsBrokenChanged(this);\r\n            }\r\n        }\r\n\r\n        _CheckIsBroken (): boolean {\r\n            return !this.Source || (!this.PropertyInfo && !this.DependencyProperty);\r\n        }\r\n    }\r\n\r\n    class StandardPropertyPathNode extends PropertyPathNode {\r\n        private _STypeName: string;\r\n        private _PropertyName: string;\r\n        PropertyInfo: nullstone.IPropertyInfo;\r\n        private _DPListener: Providers.IPropertyChangedListener;\r\n\r\n        constructor (typeName: string, propertyName: string) {\r\n            super();\r\n            this._STypeName = typeName;\r\n            this._PropertyName = propertyName;\r\n        }\r\n\r\n        SetValue (value: any) {\r\n            if (this.DependencyProperty)\r\n                (<DependencyObject>this.Source).SetValue(this.DependencyProperty, value);\r\n            else if (this.PropertyInfo)\r\n                this.PropertyInfo.setValue(this.Source, value);\r\n        }\r\n\r\n        UpdateValue () {\r\n            if (this.DependencyProperty) {\r\n                this.ValueType = this.DependencyProperty.GetTargetType();\r\n                this.UpdateValueAndIsBroken((<DependencyObject>this.Source).GetValue(this.DependencyProperty), this._CheckIsBroken());\r\n            } else if (this.PropertyInfo) {\r\n                //TODO: this.ValueType = PropertyInfo.PropertyType;\r\n                this.ValueType = null;\r\n                try {\r\n                    this.UpdateValueAndIsBroken(this.PropertyInfo.getValue(this.Source), this._CheckIsBroken());\r\n                } catch (err) {\r\n                    this.UpdateValueAndIsBroken(null, this._CheckIsBroken());\r\n                }\r\n            } else {\r\n                this.ValueType = null;\r\n                this.UpdateValueAndIsBroken(null, this._CheckIsBroken());\r\n            }\r\n        }\r\n\r\n        OnSourceChanged (oldSource: any, newSource: any) {\r\n            super.OnSourceChanged(oldSource, newSource);\r\n\r\n            var oldDO: DependencyObject;\r\n            var newDO: DependencyObject;\r\n            if (oldSource instanceof DependencyObject) oldDO = <DependencyObject>oldSource;\r\n            if (newSource instanceof DependencyObject) newDO = <DependencyObject>newSource;\r\n\r\n            var listener = this._DPListener;\r\n            if (listener) {\r\n                listener.Detach();\r\n                this._DPListener = listener = null;\r\n            }\r\n\r\n            this.DependencyProperty = null;\r\n            this.PropertyInfo = null;\r\n            if (!this.Source)\r\n                return;\r\n\r\n            var type = this.Source.constructor;\r\n            var typeName = this._STypeName;\r\n            if (typeName) {\r\n                if (typeName.indexOf(\":\") > -1)\r\n                    console.warn(\"[Not supported] Cannot resolve type name outside of default namespace.\", typeName);\r\n                var oresolve = { type: undefined, isPrimitive: false };\r\n                if (CoreLibrary.resolveType(null, typeName, oresolve))\r\n                    type = oresolve.type;\r\n            }\r\n\r\n            if (newDO) {\r\n                var propd = DependencyProperty.GetDependencyProperty(type, this._PropertyName, true);\r\n                if (propd) {\r\n                    this.DependencyProperty = propd;\r\n                    this._DPListener = listener = propd.Store.ListenToChanged(newDO, propd, this.OnPropertyChanged, this);\r\n                }\r\n            }\r\n\r\n            if (!this.DependencyProperty || !this.DependencyProperty.IsAttached) {\r\n                this.PropertyInfo = nullstone.PropertyInfo.find(this.Source, this._PropertyName);\r\n            }\r\n        }\r\n\r\n        OnPropertyChanged (sender, args: IDependencyPropertyChangedEventArgs) {\r\n            try {\r\n                this.UpdateValue();\r\n                if (this.Next)\r\n                    this.Next.SetSource(this.Value);\r\n            } catch (err) {\r\n                //Ignore\r\n            }\r\n        }\r\n\r\n        OnSourcePropertyChanged (sender, e) {\r\n            if (e.PropertyName === this._PropertyName && this.PropertyInfo) {\r\n                this.UpdateValue();\r\n                var next = this.Next;\r\n                if (next)\r\n                    next.SetSource(this.Value);\r\n            }\r\n        }\r\n    }\r\n    class CollectionViewNode extends PropertyPathNode implements ICollectionViewNode {\r\n        BindsDirectlyToSource: boolean;\r\n        BindToView: boolean;\r\n        private _ViewPropertyListener: Providers.IPropertyChangedListener;\r\n        private _View: ICollectionView;\r\n\r\n        constructor (bindsDirectlyToSource: boolean, bindToView: boolean) {\r\n            super();\r\n            this.BindsDirectlyToSource = bindsDirectlyToSource === true;\r\n            this.BindToView = bindToView === true;\r\n        }\r\n\r\n        OnSourceChanged (oldSource: any, newSource: any) {\r\n            super.OnSourceChanged(oldSource, newSource);\r\n            this.DisconnectViewHandlers();\r\n            this.ConnectViewHandlers(newSource, newSource);\r\n        }\r\n\r\n        ViewChanged (sender: any, e: IDependencyPropertyChangedEventArgs) {\r\n            this.DisconnectViewHandlers(true);\r\n            this.ConnectViewHandlers(null, e.NewValue);\r\n            this.ViewCurrentChanged(this, null);\r\n        }\r\n\r\n        ViewCurrentChanged (sender: any, e: nullstone.IEventArgs) {\r\n            this.UpdateValue();\r\n            if (this.Next)\r\n                this.Next.SetSource(this.Value);\r\n        }\r\n\r\n        SetValue () {\r\n            throw new NotSupportedException(\"SetValue\");\r\n        }\r\n\r\n        UpdateValue () {\r\n            var src = this.Source;\r\n            if (!this.BindsDirectlyToSource) {\r\n                var view: ICollectionView;\r\n                if (src instanceof CollectionViewSource)\r\n                    src = view = src.View;\r\n                else\r\n                    view = ICollectionView_.as(src);\r\n                if (view && !this.BindToView)\r\n                    src = view.CurrentItem;\r\n            }\r\n            this.ValueType = src == null ? null : src.constructor;\r\n            this.UpdateValueAndIsBroken(src, this._CheckIsBroken());\r\n        }\r\n\r\n        _CheckIsBroken (): boolean {\r\n            return this.Source == null;\r\n        }\r\n\r\n        ConnectViewHandlers (source: CollectionViewSource, view: ICollectionView) {\r\n            if (source instanceof CollectionViewSource) {\r\n                this._ViewPropertyListener = CollectionViewSource.ViewProperty.Store.ListenToChanged(source, CollectionViewSource.ViewProperty, this.ViewChanged, this);\r\n                view = source.View;\r\n            }\r\n            this._View = ICollectionView_.as(view);\r\n            if (this._View)\r\n                this._View.CurrentChanged.on(this.ViewCurrentChanged, this);\r\n        }\r\n\r\n        DisconnectViewHandlers (onlyView?: boolean) {\r\n            if (!onlyView)\r\n                onlyView = false;\r\n            if (this._ViewPropertyListener && !onlyView) {\r\n                this._ViewPropertyListener.Detach();\r\n                this._ViewPropertyListener = null;\r\n            }\r\n            if (this._View) {\r\n                this._View.CurrentChanged.off(this.ViewCurrentChanged, this);\r\n            }\r\n        }\r\n    }\r\n    class IndexedPropertyPathNode extends PropertyPathNode {\r\n        Index: number;\r\n        _Source: any;\r\n        _IsBroken: boolean;\r\n        PropertyInfo: nullstone.IndexedPropertyInfo;\r\n\r\n        constructor (index: any) {\r\n            super();\r\n            this._IsBroken = false;\r\n            var val = parseInt(index, 10);\r\n            if (!isNaN(val))\r\n                index = val;\r\n            Object.defineProperty(this, \"Index\", {value: index, writable: false});\r\n        }\r\n\r\n        UpdateValue () {\r\n            if (this.PropertyInfo == null) {\r\n                this._IsBroken = true;\r\n                this.ValueType = null;\r\n                this.UpdateValueAndIsBroken(null, this._IsBroken);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                var newVal = this.PropertyInfo.getValue(this.Source, this.Index);\r\n                this._IsBroken = false;\r\n                this.ValueType = this.PropertyInfo.propertyType;\r\n                this.UpdateValueAndIsBroken(newVal, this._IsBroken);\r\n            } catch (err) {\r\n                this._IsBroken = true;\r\n                this.ValueType = null;\r\n                this.UpdateValueAndIsBroken(null, this._IsBroken);\r\n            }\r\n        }\r\n\r\n        SetValue (value: any) {\r\n            if (this.PropertyInfo)\r\n                this.PropertyInfo.setValue(this.Source, this.Index, value);\r\n        }\r\n\r\n        _CheckIsBroken (): boolean {\r\n            return this._IsBroken || super._CheckIsBroken();\r\n        }\r\n\r\n        OnSourcePropertyChanged (o, e) {\r\n            this.UpdateValue();\r\n            if (this.Next != null)\r\n                this.Next.SetSource(this.Value);\r\n        }\r\n\r\n        OnSourceChanged (oldSource: any, newSource: any) {\r\n            super.OnSourceChanged(oldSource, newSource);\r\n\r\n            var cc = Collections.INotifyCollectionChanged_.as(oldSource);\r\n            if (cc)\r\n                cc.CollectionChanged.off(this.CollectionChanged, this);\r\n\r\n            cc = Collections.INotifyCollectionChanged_.as(newSource);\r\n            if (cc)\r\n                cc.CollectionChanged.on(this.CollectionChanged, this);\r\n\r\n            this._GetIndexer();\r\n        }\r\n\r\n        private _GetIndexer () {\r\n            this.PropertyInfo = null;\r\n            if (this._Source != null) {\r\n                this.PropertyInfo = nullstone.IndexedPropertyInfo.find(this._Source);\r\n            }\r\n        }\r\n\r\n        CollectionChanged (o, e) {\r\n            this.UpdateValue();\r\n            if (this.Next)\r\n                this.Next.SetSource(this.Value);\r\n        }\r\n    }\r\n}","module Fayde.Providers {\r\n    export enum StyleIndex {\r\n        VisualTree = 0,\r\n        ApplicationResources = 1,\r\n        Theme = 2,\r\n        Count = 3,\r\n    }\r\n    export enum StyleMask {\r\n        None = 0,\r\n        VisualTree = 1 << StyleIndex.VisualTree,\r\n        ApplicationResources = 1 << StyleIndex.ApplicationResources,\r\n        Theme = 1 << StyleIndex.Theme,\r\n        All = StyleMask.VisualTree | StyleMask.ApplicationResources | StyleMask.Theme,\r\n    }\r\n\r\n    export interface IImplicitStyleHolder {\r\n        _ImplicitStyles: Style[];\r\n        _StyleMask: number;\r\n    }\r\n\r\n    export class ImplicitStyleBroker {\r\n        static Set (fe: FrameworkElement, mask: StyleMask, styles?: Style[]) {\r\n            if (!styles)\r\n                styles = getImplicitStyles(fe, mask);\r\n            if (styles) {\r\n                var error = new BError();\r\n                var len = StyleIndex.Count;\r\n                for (var i = 0; i < len; i++) {\r\n                    var style = styles[i];\r\n                    if (!style)\r\n                        continue;\r\n                    if (!style.Validate(fe, error)) {\r\n                        error.ThrowException();\r\n                        //Warn(\"Style validation failed. [\" + error.Message + \"]\");\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            ImplicitStyleBroker.SetImpl(fe, mask, styles);\r\n        }\r\n\r\n        private static SetImpl (fe: FrameworkElement, mask: StyleMask, styles: Style[]) {\r\n            if (!styles)\r\n                return;\r\n\r\n            var oldStyles = (<IImplicitStyleHolder>fe.XamlNode)._ImplicitStyles;\r\n            var newStyles: Style[] = [null, null, null];\r\n            if (oldStyles) {\r\n                newStyles[StyleIndex.Theme] = oldStyles[StyleIndex.Theme];\r\n                newStyles[StyleIndex.ApplicationResources] = oldStyles[StyleIndex.ApplicationResources];\r\n                newStyles[StyleIndex.VisualTree] = oldStyles[StyleIndex.VisualTree];\r\n            }\r\n            if (mask & StyleMask.Theme)\r\n                newStyles[StyleIndex.Theme] = styles[StyleIndex.Theme];\r\n            if (mask & StyleMask.ApplicationResources)\r\n                newStyles[StyleIndex.ApplicationResources] = styles[StyleIndex.ApplicationResources];\r\n            if (mask & StyleMask.VisualTree)\r\n                newStyles[StyleIndex.VisualTree] = styles[StyleIndex.VisualTree];\r\n\r\n            ImplicitStyleBroker.ApplyStyles(fe, mask, styles);\r\n        }\r\n\r\n        static Clear (fe: FrameworkElement, mask: StyleMask) {\r\n            var holder = <IImplicitStyleHolder>fe.XamlNode;\r\n            var oldStyles = holder._ImplicitStyles;\r\n            if (!oldStyles)\r\n                return;\r\n\r\n            var newStyles = oldStyles.slice(0);\r\n            //TODO: Do we need a deep copy?\r\n            if (mask & StyleMask.Theme)\r\n                newStyles[StyleIndex.Theme] = null;\r\n            if (mask & StyleMask.ApplicationResources)\r\n                newStyles[StyleIndex.ApplicationResources] = null;\r\n            if (mask & StyleMask.VisualTree)\r\n                newStyles[StyleIndex.VisualTree] = null;\r\n\r\n            ImplicitStyleBroker.ApplyStyles(fe, holder._StyleMask & ~mask, newStyles);\r\n        }\r\n\r\n        private static ApplyStyles (fe: FrameworkElement, mask: StyleMask, styles: Style[]) {\r\n            var holder = <IImplicitStyleHolder>fe.XamlNode;\r\n\r\n            var oldStyles = holder._ImplicitStyles;\r\n            var isChanged = !oldStyles || mask !== holder._StyleMask;\r\n            if (!isChanged) {\r\n                for (var i = 0; i < StyleIndex.Count; i++) {\r\n                    if (styles[i] !== oldStyles[i]) {\r\n                        isChanged = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (!isChanged)\r\n                return;\r\n\r\n            SwapStyles(fe, MultipleStylesWalker(oldStyles), MultipleStylesWalker(styles), true);\r\n\r\n            holder._ImplicitStyles = styles;\r\n            holder._StyleMask = mask;\r\n        }\r\n    }\r\n\r\n    function getImplicitStyles (fe: FrameworkElement, mask: StyleMask): Style[] {\r\n        var styles = [];\r\n        if ((mask & StyleMask.Theme) != 0) {\r\n            styles[StyleIndex.Theme] = getThemeStyle(fe);\r\n        }\r\n\r\n        if ((mask & StyleMask.ApplicationResources) != 0) {\r\n            var app = Application.Current;\r\n            if (app)\r\n                styles[StyleIndex.ApplicationResources] = getAppResourcesStyle(app, fe);\r\n        }\r\n\r\n        if ((mask & StyleMask.VisualTree) != 0)\r\n            styles[StyleIndex.VisualTree] = getVisualTreeStyle(fe);\r\n\r\n        return styles;\r\n    }\r\n\r\n    function getThemeStyle (fe: FrameworkElement): Style {\r\n        if (fe instanceof Controls.Control) {\r\n            var style = (<Controls.Control>fe).GetDefaultStyle();\r\n            if (style)\r\n                return style;\r\n        }\r\n        return ThemeManager.FindStyle(fe.DefaultStyleKey);\r\n    }\r\n\r\n    function getAppResourcesStyle (app: Application, fe: FrameworkElement): Style {\r\n        return <Style>app.Resources.Get(fe.DefaultStyleKey);\r\n    }\r\n\r\n    function getVisualTreeStyle (fe: FrameworkElement): Style {\r\n        var key = fe.DefaultStyleKey;\r\n        var cur = fe;\r\n        var isControl = cur instanceof Controls.Control;\r\n        var curNode = fe.XamlNode;\r\n        var rd: ResourceDictionary;\r\n\r\n        while (curNode) {\r\n            cur = curNode.XObject;\r\n            if (cur.TemplateOwner && !fe.TemplateOwner) {\r\n                cur = <FrameworkElement>cur.TemplateOwner;\r\n                curNode = cur.XamlNode;\r\n                continue;\r\n            }\r\n            if (!isControl && cur === fe.TemplateOwner)\r\n                break;\r\n\r\n            rd = cur.Resources;\r\n            if (rd) {\r\n                var style = <Style>rd.Get(key);\r\n                if (style)\r\n                    return style;\r\n            }\r\n\r\n            curNode = <FENode>curNode.VisualParentNode;\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n}","\r\nmodule Fayde.Providers {\r\n    export interface IStyleHolder {\r\n        _LocalStyle: Style;\r\n    }\r\n\r\n    export class LocalStyleBroker {\r\n        static Set(fe: FrameworkElement, newStyle: Style) {\r\n            var holder = <IStyleHolder>fe.XamlNode;\r\n            if (newStyle)\r\n                newStyle.Seal();\r\n            SwapStyles(fe, SingleStyleWalker(holder._LocalStyle), SingleStyleWalker(newStyle), false);\r\n            holder._LocalStyle = newStyle;\r\n        }\r\n    }\r\n}","module Fayde.Providers {\r\n    export function SwapStyles(fe: FrameworkElement, oldWalker: IStyleWalker, newWalker: IStyleWalker, isImplicit: boolean) {\r\n        var arr = (<IPropertyStorageOwner>fe)._PropertyStorage;\r\n        var oldSetter = oldWalker.Step();\r\n        var newSetter = newWalker.Step();\r\n\r\n        var storage: IPropertyStorage;\r\n        var value: any;\r\n        var propd: DependencyProperty;\r\n        while (oldSetter || newSetter) {\r\n            if (oldSetter && newSetter) {\r\n                switch (Setter.Compare(oldSetter, newSetter)) {\r\n                    case 0:\r\n                        value = newSetter.ConvertedValue;\r\n                        propd = newSetter.Property;\r\n                        oldSetter = oldWalker.Step();\r\n                        newSetter = newWalker.Step();\r\n                        break;\r\n                    case -1:\r\n                        value = undefined;\r\n                        propd = oldSetter.Property;\r\n                        oldSetter = oldWalker.Step();\r\n                        break;\r\n                    case 1:\r\n                        value = newSetter.ConvertedValue;\r\n                        propd = newSetter.Property;\r\n                        newSetter = newWalker.Step();\r\n                        break;\r\n                }\r\n            } else if (newSetter) {\r\n                value = newSetter.ConvertedValue;\r\n                propd = newSetter.Property;\r\n                newSetter = newWalker.Step();\r\n            } else /*if (oldSetter)*/ {\r\n                value = undefined;\r\n                propd = oldSetter.Property;\r\n                oldSetter = oldWalker.Step();\r\n            }\r\n\r\n            storage = arr[propd._ID];\r\n            if (!storage)\r\n                storage = arr[propd._ID] = propd.Store.CreateStorage(fe, propd);\r\n            if (isImplicit)\r\n                propd.Store.SetImplicitStyle(storage, value);\r\n            else\r\n                propd.Store.SetLocalStyleValue(storage, value);\r\n        }\r\n    }\r\n}","module Fayde.Input.TouchInternal {\r\n    export interface ITouchHandler {\r\n        HandleTouches(type: Input.TouchInputType, touches: ActiveTouchBase[], emitLeave?: boolean, emitEnter?: boolean): boolean;\r\n    }\r\n\r\n    export class ActiveTouchBase {\r\n        Identifier: number;\r\n        Position: Point;\r\n        Device: Input.ITouchDevice;\r\n        InputList: UINode[] = [];\r\n        private _IsEmitting: boolean = false;\r\n        private _PendingCapture: UINode = null;\r\n        private _PendingReleaseCapture = false;\r\n        private _Captured: UINode = null;\r\n        private _CapturedInputList: UINode[] = null;\r\n        \r\n        private _FinishReleaseCaptureFunc: () => void;\r\n\r\n        constructor(touchHandler: ITouchHandler) {\r\n            Object.defineProperty(this, \"Device\", { value: this.CreateTouchDevice(), writable: false });\r\n            this._FinishReleaseCaptureFunc = () => touchHandler.HandleTouches(Input.TouchInputType.NoOp, [this], false, true);\r\n        }\r\n\r\n        Capture(uie: UIElement): boolean {\r\n            var uin = uie.XamlNode;\r\n            if (this._Captured === uin || this._PendingCapture === uin)\r\n                return true;\r\n            if (!this._IsEmitting)\r\n                return false;\r\n            this._PendingCapture = uin;\r\n            return true;\r\n        }\r\n        ReleaseCapture(uie: UIElement) {\r\n            var uin = uie.XamlNode;\r\n            if (this._Captured !== uin && this._PendingCapture !== uin)\r\n                return;\r\n            if (this._IsEmitting)\r\n                this._PendingReleaseCapture = true;\r\n            else\r\n                this._PerformReleaseCapture();\r\n        }\r\n        private _PerformCapture(uin: UINode) {\r\n            this._Captured = uin;\r\n            var newInputList: UINode[] = [];\r\n            while (uin != null) {\r\n                newInputList.push(uin);\r\n                uin = uin.VisualParentNode;\r\n            }\r\n            this._CapturedInputList = newInputList;\r\n            this._PendingCapture = null;\r\n        }\r\n        private _PerformReleaseCapture() {\r\n            var oldCaptured = this._Captured;\r\n            this._Captured = null;\r\n            this._PendingReleaseCapture = false;\r\n            oldCaptured._EmitLostTouchCapture(new Input.TouchEventArgs(this.Device));\r\n            this._FinishReleaseCaptureFunc();\r\n        }\r\n\r\n        Emit(type: Input.TouchInputType, newInputList: UINode[], emitLeave?: boolean, emitEnter?: boolean): boolean {\r\n            if (this._IsEmitting)\r\n                return;\r\n            this._IsEmitting = true;\r\n            var handled = false;\r\n\r\n            var indices = { Index1: -1, Index2: -1 };\r\n            findFirstCommonElement(this.InputList, newInputList, indices);\r\n            if (emitLeave !== false)\r\n                this._EmitList(Input.TouchInputType.TouchLeave, this.InputList, indices.Index1);\r\n            if (emitEnter !== false)\r\n                this._EmitList(Input.TouchInputType.TouchEnter, newInputList, indices.Index2);\r\n\r\n            var handled = false;\r\n            if (type !== Input.TouchInputType.NoOp)\r\n                handled = this._EmitList(type, this._Captured ? this._CapturedInputList : newInputList);\r\n            this.InputList = newInputList;\r\n\r\n            if (this._PendingCapture)\r\n                this._PerformCapture(this._PendingCapture);\r\n            if (this._PendingReleaseCapture)\r\n                this._PerformReleaseCapture();\r\n\r\n            this._IsEmitting = false;\r\n            return handled;\r\n        }\r\n        private _EmitList(type: Input.TouchInputType, list: UINode[], endIndex?: number): boolean {\r\n            var handled = false;\r\n            if (endIndex === 0)\r\n                return handled;\r\n            if (!endIndex || endIndex === -1)\r\n                endIndex = list.length;\r\n            var args = new Input.TouchEventArgs(this.Device);\r\n            var node = list[0];\r\n            if (node && args instanceof Fayde.RoutedEventArgs)\r\n                args.Source = node.XObject;\r\n            for (var i = 0; i < endIndex; i++) {\r\n                node = list[i];\r\n                if (type === Input.TouchInputType.TouchLeave)\r\n                    args.Source = node.XObject;\r\n                if (node._EmitTouchEvent(type, args))\r\n                    handled = true;\r\n                if (type === Input.TouchInputType.TouchLeave) //TouchLeave gets new event args on each emit\r\n                    args = new Input.TouchEventArgs(this.Device);\r\n            }\r\n            return handled;\r\n        }\r\n        \r\n        GetTouchPoint(relativeTo: UIElement): TouchPoint {\r\n            if (!relativeTo)\r\n                return this.CreateTouchPoint(this.Position.Clone());\r\n            if (!(relativeTo instanceof UIElement))\r\n                throw new ArgumentException(\"Specified relative object must be a UIElement.\");\r\n            //TODO: If attached, should we run ProcessDirtyElements\r\n            var p = this.Position.Clone();\r\n            minerva.core.Updater.transformPoint(relativeTo.XamlNode.LayoutUpdater, p);\r\n            return this.CreateTouchPoint(p);\r\n        }\r\n        CreateTouchPoint(p: Point): TouchPoint {\r\n            return new TouchPoint(p, 0);\r\n        }\r\n        \r\n        private CreateTouchDevice(): ITouchDevice {\r\n            var d: ITouchDevice = {\r\n                Identifier: null,\r\n                Captured: null,\r\n                Capture: (uie: UIElement) => this.Capture(uie),\r\n                ReleaseCapture: (uie: UIElement) => this.ReleaseCapture(uie),\r\n                GetTouchPoint: (relativeTo: UIElement) => this.GetTouchPoint(relativeTo)\r\n            };\r\n            Object.defineProperty(d, \"Identifier\", { get: () => this.Identifier });\r\n            Object.defineProperty(d, \"Captured\", { get: () => this._Captured ? this._Captured.XObject : null });\r\n            return d;\r\n        }\r\n    }\r\n\r\n    \r\n    interface ICommonElementIndices {\r\n        Index1: number;\r\n        Index2: number;\r\n    }\r\n    function findFirstCommonElement(list1: UINode[], list2: UINode[], outObj: ICommonElementIndices) {\r\n        var i = list1.length - 1;\r\n        var j = list2.length - 1;\r\n        outObj.Index1 = -1;\r\n        outObj.Index2 = -1;\r\n        while (i >= 0 && j >= 0) {\r\n            if (list1[i] !== list2[j])\r\n                return;\r\n            outObj.Index1 = i--;\r\n            outObj.Index2 = j--;\r\n        }\r\n    }\r\n}","module Fayde.Input.TouchInternal {\r\n    export interface IOffset {\r\n        left: number;\r\n        top: number;\r\n    }\r\n    export class TouchInteropBase implements Fayde.Input.ITouchInterop, ITouchHandler {\r\n        Input: Engine.InputManager;\r\n        CanvasOffset: IOffset = null;\r\n        ActiveTouches: ActiveTouchBase[] = [];\r\n\r\n        get CoordinateOffset(): IOffset {\r\n            return {\r\n                left: window.pageXOffset + this.CanvasOffset.left,\r\n                top: window.pageYOffset + this.CanvasOffset.top\r\n            };\r\n        }\r\n\r\n        Register(input: Engine.InputManager, canvas: HTMLCanvasElement) {\r\n            this.Input = input;\r\n            this.CanvasOffset = this._CalcOffset(canvas);\r\n        }\r\n        private _CalcOffset(canvas: HTMLCanvasElement): IOffset {\r\n            var left = 0;\r\n            var top = 0;\r\n            var cur: HTMLElement = canvas;\r\n            if (cur.offsetParent) {\r\n                do {\r\n                    left += cur.offsetLeft;\r\n                    top += cur.offsetTop;\r\n                } while (cur = <HTMLElement>cur.offsetParent);\r\n            }\r\n            return { left: left, top: top };\r\n        }\r\n        \r\n        HandleTouches(type: Input.TouchInputType, touches: ActiveTouchBase[], emitLeave?: boolean, emitEnter?: boolean): boolean {\r\n            var touch: ActiveTouchBase;\r\n            var handled = false;\r\n            while (touch = touches.shift()) {\r\n                var inputList = this.Input.HitTestPoint(touch.Position);\r\n                if (inputList)\r\n                    handled = handled || touch.Emit(type, inputList, emitLeave, emitEnter);\r\n            }\r\n            return handled;\r\n        }\r\n    }\r\n}","/// <reference path=\"ActiveTouchBase.ts\" />\r\n/// <reference path=\"TouchInteropBase.ts\" />\r\n\r\nmodule Fayde.Input.TouchInternal {\r\n    class NonPointerActiveTouch extends ActiveTouchBase {\r\n        TouchObject: Touch;\r\n        Init(t: Touch, offset: IOffset) {\r\n            this.TouchObject = t;\r\n            this.Identifier = t.identifier;\r\n            this.Position = new Point(t.clientX + offset.left, t.clientY + offset.top);\r\n        }\r\n        CreateTouchPoint(p: Point): TouchPoint {\r\n            var to = this.TouchObject;\r\n            return new TouchPoint(p, to.force);\r\n        }\r\n    }\r\n    \r\n    export class NonPointerTouchInterop extends TouchInteropBase {\r\n        Register(input: Engine.InputManager, canvas: HTMLCanvasElement) {\r\n            super.Register(input, canvas);\r\n\r\n            canvas.addEventListener(\"touchstart\", (e) => this._HandleTouchStart(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchend\", (e) => this._HandleTouchEnd(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchmove\", (e) => this._HandleTouchMove(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchenter\", (e) => this._HandleTouchEnter(window.event ? <any>window.event : e));\r\n            canvas.addEventListener(\"touchleave\", (e) => this._HandleTouchLeave(window.event ? <any>window.event : e));\r\n        }\r\n\r\n        private _HandleTouchStart(e: TouchEvent) {\r\n            e.preventDefault();\r\n            Engine.Inspection.Kill();\r\n\r\n            var newTouches = this.TouchArrayFromList(e.changedTouches);\r\n            this.ActiveTouches = this.ActiveTouches.concat(newTouches);\r\n\r\n            this.Input.SetIsUserInitiatedEvent(true);\r\n            this.HandleTouches(TouchInputType.TouchDown, newTouches);\r\n            this.Input.SetIsUserInitiatedEvent(false);\r\n        }\r\n        private _HandleTouchEnd(e: TouchEvent) {\r\n            var oldTouches = this.TouchArrayFromList(e.changedTouches);\r\n            \r\n            this.Input.SetIsUserInitiatedEvent(true);\r\n            this.HandleTouches(TouchInputType.TouchUp, oldTouches);\r\n            this.Input.SetIsUserInitiatedEvent(false);\r\n\r\n            removeFromArray(this.ActiveTouches, oldTouches);\r\n        }\r\n        private _HandleTouchMove(e: TouchEvent) {\r\n            var touches = this.TouchArrayFromList(e.changedTouches);\r\n            this.HandleTouches(TouchInputType.TouchMove, touches);\r\n        }\r\n        private _HandleTouchEnter(e: TouchEvent) {\r\n            var touches = this.TouchArrayFromList(e.changedTouches);\r\n            this.HandleTouches(TouchInputType.TouchEnter, touches);\r\n        }\r\n        private _HandleTouchLeave(e: TouchEvent) {\r\n            var touches = this.TouchArrayFromList(e.changedTouches);\r\n            this.HandleTouches(TouchInputType.TouchLeave, touches);\r\n        }\r\n\r\n        private TouchArrayFromList(list: TouchList): NonPointerActiveTouch[] {\r\n            var len = list.length;\r\n            var touches: NonPointerActiveTouch[] = [];\r\n            var curto: Touch;\r\n            var cur;\r\n            for (var i = 0; i < len; i++) {\r\n                var curto = list.item(i);\r\n                cur = this.FindTouchInList(curto.identifier) || new NonPointerActiveTouch(this);\r\n                cur.Init(curto, this.CoordinateOffset);\r\n                touches.push(cur);\r\n            }\r\n            return touches;\r\n        }\r\n        private FindTouchInList(identifier: number): NonPointerActiveTouch {\r\n            var at = this.ActiveTouches;\r\n            var len = at.length;\r\n            for (var i = 0; i < len; i++) {\r\n                if (at[i].Identifier === identifier)\r\n                    return <NonPointerActiveTouch>at[i];\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    function removeFromArray<T>(arr: T[], toRemove: T[]) {\r\n        var len = toRemove.length;\r\n        for (var i = 0; i < len; i++) {\r\n            var index = arr.indexOf(toRemove[i]);\r\n            if (index > -1)\r\n                arr.splice(index, 1);\r\n        }\r\n    }\r\n}","/// <reference path=\"ActiveTouchBase.ts\" />\r\n/// <reference path=\"TouchInteropBase.ts\" />\r\n\r\nmodule Fayde.Input.TouchInternal {\r\n    class PointerActiveTouch extends ActiveTouchBase {\r\n        TouchObject: MSPointerEvent;\r\n        Init(t: MSPointerEvent, offset: IOffset) {\r\n            this.TouchObject = t;\r\n            this.Identifier = t.pointerId;\r\n            this.Position = new Point(t.clientX + offset.left, t.clientY + offset.top);\r\n        }\r\n        CreateTouchPoint(p: Point): TouchPoint {\r\n            var to = this.TouchObject;\r\n            return new TouchPoint(p, to.pressure);\r\n        }\r\n    }\r\n\r\n    export class PointerTouchInterop extends TouchInteropBase {\r\n        Register(input: Engine.InputManager, canvas: HTMLCanvasElement) {\r\n            super.Register(input, canvas);\r\n            canvas.style.msTouchAction = \"none\";\r\n            (<any>canvas.style).touchAction = \"none\";\r\n\r\n            canvas.addEventListener(\"selectstart\", (e) => { e.preventDefault(); });\r\n            if (navigator.msPointerEnabled) {\r\n                canvas.addEventListener(\"MSPointerDown\", (e) => this._HandlePointerDown(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerUp\", (e) => this._HandlePointerUp(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerMove\", (e) => this._HandlePointerMove(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerEnter\", (e) => this._HandlePointerEnter(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"MSPointerLeave\", (e) => this._HandlePointerLeave(window.event ? <any>window.event : e));\r\n            } else {\r\n                canvas.addEventListener(\"pointerdown\", (e) => this._HandlePointerDown(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointerup\", (e) => this._HandlePointerUp(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointermove\", (e) => this._HandlePointerMove(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointerenter\", (e) => this._HandlePointerEnter(window.event ? <any>window.event : e));\r\n                canvas.addEventListener(\"pointerleave\", (e) => this._HandlePointerLeave(window.event ? <any>window.event : e));\r\n            }\r\n        }\r\n\r\n        private _HandlePointerDown(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            e.preventDefault();\r\n            Engine.Inspection.Kill();\r\n\r\n            var cur = this.GetActiveTouch(e);\r\n            this.Input.SetIsUserInitiatedEvent(true);\r\n            this.HandleTouches(Input.TouchInputType.TouchDown, [cur]);\r\n            this.Input.SetIsUserInitiatedEvent(false);\r\n        }\r\n        private _HandlePointerUp(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            var cur = this.GetActiveTouch(e);\r\n            this.Input.SetIsUserInitiatedEvent(true);\r\n            this.HandleTouches(Input.TouchInputType.TouchUp, [cur]);\r\n            this.Input.SetIsUserInitiatedEvent(false);\r\n            var index = this.ActiveTouches.indexOf(cur);\r\n            if (index > -1)\r\n                this.ActiveTouches.splice(index, 1);\r\n        }\r\n        private _HandlePointerMove(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            var cur = this.GetActiveTouch(e);\r\n            this.HandleTouches(Input.TouchInputType.TouchMove, [cur]);\r\n        }\r\n        private _HandlePointerEnter(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            var cur = this.GetActiveTouch(e);\r\n            this.HandleTouches(Input.TouchInputType.TouchEnter, [cur]);\r\n        }\r\n        private _HandlePointerLeave(e: MSPointerEvent) {\r\n            if (e.pointerType !== \"touch\")\r\n                return;\r\n            var cur = this.GetActiveTouch(e);\r\n            this.HandleTouches(Input.TouchInputType.TouchLeave, [cur]);\r\n        }\r\n\r\n        private GetActiveTouch(e: MSPointerEvent): PointerActiveTouch {\r\n            var existing = this.FindTouchInList(e.pointerId);\r\n            var cur = existing || new PointerActiveTouch(this);\r\n            if (!existing)\r\n                this.ActiveTouches.push(cur);\r\n            cur.Init(e, this.CoordinateOffset);\r\n            return cur;\r\n        }\r\n        private FindTouchInList(identifier: number): PointerActiveTouch {\r\n            var at = this.ActiveTouches;\r\n            var len = at.length;\r\n            for (var i = 0; i < len; i++) {\r\n                if (at[i].Identifier === identifier)\r\n                    return <PointerActiveTouch>at[i];\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}","module Fayde.Markup.Internal {\r\n    export interface IActiveObject {\r\n        obj: any;\r\n        xo: XamlObject;\r\n        dobj: DependencyObject;\r\n        rd: ResourceDictionary;\r\n        coll: nullstone.ICollection<any>;\r\n        arr: any[];\r\n        type: any;\r\n        set(obj: any);\r\n        setName(name: string);\r\n        getApp(): Application;\r\n    }\r\n\r\n    export function createActiveObject (app: Application, namescope: NameScope, bindingSource: any): IActiveObject {\r\n        return {\r\n            obj: null,\r\n            xo: null,\r\n            dobj: null,\r\n            rd: null,\r\n            coll: null,\r\n            arr: null,\r\n            type: null,\r\n            set (obj: any) {\r\n                this.obj = obj;\r\n                this.type = obj ? obj.constructor : null;\r\n                this.rd = (obj instanceof ResourceDictionary) ? obj : null;\r\n                if (this.rd) {\r\n                    this.rd.App = app;\r\n                }\r\n                this.dobj = (obj instanceof DependencyObject) ? obj : null;\r\n                var xo = this.xo = (obj instanceof XamlObject) ? obj : null;\r\n                if (xo) {\r\n                    xo.XamlNode.DocNameScope = namescope;\r\n                    xo.TemplateOwner = bindingSource;\r\n                    xo.App = app;\r\n                }\r\n                if (obj instanceof Application) {\r\n                    app = obj;\r\n                }\r\n                this.coll = nullstone.ICollection_.as(obj);\r\n                this.arr = (typeof obj === \"array\") ? obj : null;\r\n            },\r\n            setName (name: string) {\r\n                if (this.xo) {\r\n                    var xnode = this.xo.XamlNode;\r\n                    namescope.RegisterName(name, xnode);\r\n                    xnode.Name = name;\r\n                }\r\n            },\r\n            getApp () {\r\n                return app;\r\n            }\r\n        };\r\n    }\r\n}","module Fayde.Markup.Internal {\r\n    export interface IObjectActor {\r\n        start();\r\n        end();\r\n    }\r\n\r\n    export function createObjectActor (pactor: IPropertyActor): IObjectActor {\r\n        var arr = [];\r\n\r\n        return {\r\n            start () {\r\n                var nstate = {};\r\n                pactor.init(nstate);\r\n                arr.push(nstate);\r\n            },\r\n            end () {\r\n                arr.pop();\r\n                pactor.init(arr[arr.length - 1]);\r\n            }\r\n        };\r\n    }\r\n}","module Fayde.Markup.Internal {\r\n    export interface IPropertyActor {\r\n        init(nstate: any);\r\n        start(ownerType: any, name: string);\r\n        startContent();\r\n        end();\r\n        addObject(obj: any, key?: any);\r\n        setContentText(text: string);\r\n        setObject(ownerType: any, name: string, obj: any);\r\n        isNewResources (): boolean;\r\n    }\r\n\r\n    export function createPropertyActor (cur: IActiveObject, extractType: (text: string) => any, extractDP: (text: string) => any): IPropertyActor {\r\n        var state = {\r\n            visited: undefined,\r\n\r\n            coll: undefined,\r\n            arr: undefined,\r\n            propd: undefined,\r\n            prop: undefined,\r\n            eprop: undefined,\r\n            incontent: undefined,\r\n            content: {\r\n                count: 0,\r\n                coll: undefined,\r\n                arr: undefined,\r\n                rd: undefined,\r\n                propd: undefined,\r\n                app: undefined\r\n            }\r\n        };\r\n\r\n        function verify (ownerType: any, name: string) {\r\n            var otype = ownerType || cur.type;\r\n            state.visited = state.visited || [];\r\n            var tvisited = state.visited[otype];\r\n            if (!tvisited) {\r\n                tvisited = state.visited[otype] = [];\r\n            } else {\r\n                if (tvisited.indexOf(name) > -1)\r\n                    throw new XamlParseException(\"Cannot set [\" + otype.name + \"][\" + name + \"] more than once.\");\r\n            }\r\n            tvisited.push(name);\r\n        }\r\n\r\n        function verifyContent () {\r\n            verify(cur.type, state.propd.Name);\r\n        }\r\n\r\n        function prepare (ownerType: any, name: string): boolean {\r\n            if (state.coll || state.arr || state.propd || state.prop || state.eprop)\r\n                return true;\r\n            if (cur.dobj) {\r\n                var otype = ownerType || cur.type;\r\n                state.propd = DependencyProperty.GetDependencyProperty(otype, name, true);\r\n                if (!state.propd) {\r\n                    var ev = cur.dobj[name];\r\n                    if (ev instanceof nullstone.Event)\r\n                        state.eprop = name;\r\n                    else\r\n                        state.prop = name;\r\n                    return true;\r\n                }\r\n                if (state.propd.IsImmutable) {\r\n                    var co = cur.dobj.GetValue(state.propd);\r\n                    state.coll = nullstone.ICollection_.as(co);\r\n                    state.arr = (typeof co === \"array\") ? co : null;\r\n                } else {\r\n                    var tt = state.propd.GetTargetType();\r\n                    if (nullstone.ICollection_.is(tt.prototype))\r\n                        cur.dobj.SetValue(state.propd, state.coll = new tt());\r\n                    else if (tt === Array)\r\n                        cur.dobj.SetValue(state.propd, state.arr = []);\r\n                }\r\n                return true;\r\n            } else if (cur.rd && name === \"MergedDictionaries\") {\r\n                state.coll = cur.rd.MergedDictionaries;\r\n                return true;\r\n            } else if (cur.obj) {\r\n                if (ownerType && cur.type !== ownerType)\r\n                    throw new XamlParseException(\"Cannot set Attached Property on object that is not a DependencyObject.\");\r\n                state.prop = name;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function prepareContent (): boolean {\r\n            var content = state.content = state.content || <any>{};\r\n            if (content.coll || content.arr || content.rd || content.propd)\r\n                return true;\r\n            var propd = content.propd = Content.Get(cur.type);\r\n            if (!propd) {\r\n                content.coll = nullstone.ICollection_.as(cur.obj);\r\n                content.arr = (typeof cur.obj === \"array\") ? cur.obj : null;\r\n                content.rd = cur.rd;\r\n                content.app = (cur.obj instanceof Application) ? cur.obj : null;\r\n                if (content.coll || content.arr || content.rd || content.app)\r\n                    return true;\r\n                throw new XamlParseException(\"Cannot set content for object of type '\" + cur.type.name + \"'.\");\r\n            }\r\n            if (!propd.IsImmutable)\r\n                return true;\r\n            var co = cur.dobj.GetValue(propd);\r\n            if (!co)\r\n                return false;\r\n            content.coll = nullstone.ICollection_.as(co);\r\n            content.arr = (typeof co === \"array\") ? co : null;\r\n            return true;\r\n        }\r\n\r\n        function addContentObject (obj: any, key: any) {\r\n            if (cur.rd) {\r\n                key = key || getFallbackKey(obj);\r\n                if (!key)\r\n                    throw new XamlParseException(\"Items in a ResourceDictionary must have a x:Key.\");\r\n                cur.rd.Set(key, obj);\r\n            } else if (cur.coll) {\r\n                cur.coll.Add(obj);\r\n            } else if (cur.arr) {\r\n                cur.arr.push(obj);\r\n            } else if (cur.dobj) {\r\n                if (state.content.coll) {\r\n                    state.content.coll.Add(obj);\r\n                } else if (state.content.arr) {\r\n                    state.content.arr.push(obj);\r\n                } else if (state.content.rd) {\r\n                    key = key || getFallbackKey(obj);\r\n                    if (!key)\r\n                        throw new XamlParseException(\"Items in a ResourceDictionary must have a x:Key.\");\r\n                    state.content.rd.Set(obj, key);\r\n                } else if (state.content.app) {\r\n                    state.content.app.$$SetRootVisual(obj);\r\n                } else {\r\n                    if (state.content.count > 0)\r\n                        throw new XamlParseException(\"Cannot set content more than once.\");\r\n                    cur.dobj.SetValue(state.content.propd, obj);\r\n                }\r\n            }\r\n            state.content.count++;\r\n        }\r\n\r\n        function addObject (obj: any, key: any) {\r\n            if (state.coll) {\r\n                state.coll.Add(obj);\r\n            } else if (state.arr) {\r\n                state.arr.push(obj);\r\n            } else if (state.propd) {\r\n                cur.dobj.SetValue(state.propd, convert(state.propd, obj));\r\n            } else if (state.prop) {\r\n                cur.obj[state.prop] = obj;\r\n            } else if (state.eprop) {\r\n                subscribeEvent(state.eprop, obj);\r\n            }\r\n        }\r\n\r\n        function setAttrObject (ownerType: any, name: string, obj: any): boolean {\r\n            if (cur.dobj) {\r\n                var otype = ownerType || cur.type;\r\n                var propd = DependencyProperty.GetDependencyProperty(otype, name, true);\r\n                if (!propd) {\r\n                    var ev = cur.dobj[name];\r\n                    if (ev instanceof nullstone.Event) {\r\n                        subscribeEvent(name, obj);\r\n                    } else {\r\n                        cur.dobj[name] = obj;\r\n                    }\r\n                    return true;\r\n                }\r\n                if (propd.IsImmutable) {\r\n                    return merge(convert(propd, obj), cur.dobj.GetValue(propd));\r\n                } else {\r\n                    cur.dobj.SetValue(propd, convert(propd, obj));\r\n                    return true;\r\n                }\r\n            } else if (cur.obj) {\r\n                var ev = cur.obj[name];\r\n                if (ev instanceof nullstone.Event) {\r\n                    subscribeEvent(name, obj);\r\n                } else {\r\n                    cur.obj[name] = obj;\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function merge (src: any, target: any): boolean {\r\n            var sarr: any[];\r\n            var scoll = <nullstone.ICollection<any>>nullstone.ICollection_.as(src);\r\n            if (scoll) {\r\n                sarr = nullstone.IEnumerable_.toArray(scoll);\r\n                scoll.Clear();\r\n            } else if (typeof src === \"array\") {\r\n                sarr = src.slice(0);\r\n                src.length = 0;\r\n            } else {\r\n                return false;\r\n            }\r\n\r\n            var sen = nullstone.IEnumerator_.fromArray(sarr);\r\n            var tcoll = nullstone.ICollection_.as(target);\r\n            var tarr = typeof target === \"array\" ? target : null;\r\n            if (tcoll) {\r\n                while (sen.moveNext()) {\r\n                    tcoll.Add(sen.current);\r\n                }\r\n            } else if (tarr) {\r\n                while (sen.moveNext()) {\r\n                    tarr.push(sen.current);\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        function getFallbackKey (obj: any): any {\r\n            if (obj instanceof XamlObject) {\r\n                var name = (<XamlObject>obj).XamlNode.Name;\r\n                if (name)\r\n                    return name;\r\n            }\r\n            return getImplicitKey(obj);\r\n        }\r\n\r\n        function getImplicitKey (obj: any): any {\r\n            if (obj instanceof DataTemplate) {\r\n                var dt = (<DataTemplate>obj).DataType;\r\n                if (!dt)\r\n                    throw new XamlParseException(\"A DataTemplate in a ResourceDictionary must have x:Key or DataType.\");\r\n                return dt;\r\n            } else if (obj instanceof Style) {\r\n                var tt = (<Style>obj).TargetType;\r\n                if (!tt)\r\n                    throw new XamlParseException(\"A Style in a ResourceDictionary must have x:Key or TargetType.\");\r\n                return tt;\r\n            }\r\n        }\r\n\r\n        function convert (propd: DependencyProperty, obj: any): any {\r\n            var tt = <any>propd.GetTargetType();\r\n            var val = obj;\r\n            if (typeof val === \"string\") {\r\n                if (tt === IType_) //NOTE: Handles implicit types that are normally written as {x:Type ...}\r\n                    return extractType(val);\r\n                else if (propd === Setter.PropertyProperty)\r\n                    return extractDP(val);\r\n            } else if (val instanceof Expression) {\r\n                return val;\r\n            }\r\n            return nullstone.convertAnyToType(val, tt);\r\n        }\r\n\r\n        function subscribeEvent (name: string, ebe: EventBindingExpression) {\r\n            if (!(ebe instanceof EventBindingExpression))\r\n                throw new XamlParseException(\"Cannot subscribe to event '\" + name + \"' without {EventBinding}.\");\r\n            ebe.Init(name);\r\n            ebe.OnAttached(cur.dobj);\r\n        }\r\n\r\n        return {\r\n            init (nstate: any) {\r\n                state = nstate;\r\n            },\r\n            start (ownerType: any, name: string) {\r\n                verify(ownerType, name);\r\n                prepare(ownerType, name);\r\n            },\r\n            startContent () {\r\n                if (prepareContent()) {\r\n                    if (state.content.count === 0)\r\n                        verifyContent();\r\n                    state.incontent = true;\r\n                }\r\n            },\r\n            end () {\r\n                state.incontent = false;\r\n                state.coll = state.arr = state.propd = state.prop = state.eprop = undefined;\r\n            },\r\n            addObject (obj: any, key?: any) {\r\n                if (state.incontent) {\r\n                    addContentObject(obj, key);\r\n                    state.content.count++;\r\n                } else {\r\n                    addObject(obj, key);\r\n                }\r\n            },\r\n            setContentText (text: string) {\r\n                if (!cur.dobj)\r\n                    return;\r\n\r\n                var tcprop = TextContent.Get(cur.type);\r\n                if (tcprop) {\r\n                    verify(cur.type, tcprop.Name);\r\n                    cur.dobj.SetValue(tcprop, text);\r\n                    return;\r\n                }\r\n\r\n                var cprop = Content.Get(cur.type);\r\n                if (cprop) {\r\n                    verify(cur.type, cprop.Name);\r\n                    cur.dobj.SetValue(cprop, convert(cprop, text));\r\n                }\r\n            },\r\n            setObject (ownerType: any, name: string, obj: any) {\r\n                verify(ownerType, name);\r\n                setAttrObject(ownerType, name, obj);\r\n            },\r\n            isNewResources (): boolean {\r\n                if (state.coll instanceof ResourceDictionaryCollection)\r\n                    return true;\r\n                return !cur.rd;\r\n            }\r\n        };\r\n    }\r\n}","module Fayde.Markup.Internal {\r\n    export interface IResourcesActor {\r\n        start();\r\n        end();\r\n        get(): ResourceDictionary[];\r\n    }\r\n\r\n    export function createResourcesActor (cur: IActiveObject, resources: ResourceDictionary[]): IResourcesActor {\r\n        var stack: ResourceDictionary[] = [];\r\n        return {\r\n            start () {\r\n                if (cur.rd)\r\n                    stack.push(cur.rd);\r\n            },\r\n            end () {\r\n                if (cur.rd)\r\n                    stack.pop();\r\n            },\r\n            get (): ResourceDictionary[] {\r\n                var res = (resources) ? resources.concat(stack) : stack.slice(0);\r\n                if (cur.dobj instanceof FrameworkElement) {\r\n                    var crd = cur.dobj.ReadLocalValue(FrameworkElement.ResourcesProperty);\r\n                    if (crd !== DependencyProperty.UnsetValue)\r\n                        res.push(crd);\r\n                }\r\n                return res;\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../GeneralTransform.ts\" />\r\n\r\nmodule Fayde.Media.Effects {\r\n    export class Effect extends DependencyObject implements minerva.IEffect {\r\n        static EffectMappingProperty = DependencyProperty.Register(\"EffectMapping\", () => GeneralTransform, Effect);\r\n        EffectMapping: GeneralTransform;\r\n\r\n        PreRender (ctx: minerva.core.render.RenderContext) {\r\n        }\r\n\r\n        PostRender (ctx: minerva.core.render.RenderContext) {\r\n        }\r\n\r\n        GetPadding (thickness: Thickness): boolean {\r\n            return false;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Effect);\r\n\r\n    module reactions {\r\n        DPReaction<GeneralTransform>(Effect.EffectMappingProperty, (dobj, ov, nv) => Incite(dobj));\r\n    }\r\n}","/// <reference path=\"Effect.ts\" />\r\n\r\nmodule Fayde.Media.Effects {\r\n    export class BlurEffect extends Effect {\r\n        static RadiusProperty = DependencyProperty.Register(\"Radius\", () => Number, BlurEffect, undefined, Incite);\r\n        Radius: number;\r\n    }\r\n    Fayde.CoreLibrary.add(BlurEffect);\r\n}","/// <reference path=\"Effect.ts\" />\r\n/// <reference path=\"../../Primitives/Color.ts\" />\r\n\r\nmodule Fayde.Media.Effects {\r\n    export class DropShadowEffect extends Effect {\r\n        static MAX_BLUR_RADIUS: number = 20;\r\n        static MAX_SHADOW_DEPTH: number = 300;\r\n\r\n        static BlurRadiusProperty = DependencyProperty.Register(\"BlurRadius\", () => Number, DropShadowEffect, 5.0, Incite);\r\n        static ColorProperty = DependencyProperty.Register(\"Color\", () => Color, DropShadowEffect, Color.KnownColors.Black, Incite);\r\n        static DirectionProperty = DependencyProperty.Register(\"Direction\", () => Number, DropShadowEffect, 315.0, Incite);\r\n        static OpacityProperty = DependencyProperty.Register(\"Opacity\", () => Number, DropShadowEffect, 1.0, Incite);\r\n        static ShadowDepthProperty = DependencyProperty.Register(\"ShadowDepth\", () => Number, DropShadowEffect, 5.0, Incite);\r\n        BlurRadius: number;\r\n        Color: Color;\r\n        Direction: number;\r\n        Opacity: number;\r\n        ShadowDepth: number;\r\n\r\n        GetPadding (thickness: Thickness): boolean {\r\n            var radius = Math.min(this.BlurRadius, DropShadowEffect.MAX_BLUR_RADIUS);\r\n            var depth = Math.min(Math.max(0, this.ShadowDepth), DropShadowEffect.MAX_SHADOW_DEPTH);\r\n            var direction = this.Direction * Math.PI / 180.0;\r\n            var width = Math.ceil(radius);\r\n\r\n            var offsetX = Math.cos(direction) * depth;\r\n            var offsetY = Math.sin(direction) * depth;\r\n\r\n            var left = -offsetX + width;\r\n            var top = offsetY + width;\r\n            var right = offsetX + width;\r\n            var bottom = -offsetY + width;\r\n\r\n            var l = left < 1.0 ? 1.0 : Math.ceil(left);\r\n            var t = top < 1.0 ? 1.0 : Math.ceil(top);\r\n            var r = right < 1.0 ? 1.0 : Math.ceil(right);\r\n            var b = bottom < 1.0 ? 1.0 : Math.ceil(bottom);\r\n            var changed = thickness.left !== l\r\n                || thickness.top !== t\r\n                || thickness.right !== r\r\n                || thickness.bottom !== b;\r\n\r\n            thickness.left = l;\r\n            thickness.top = t;\r\n            thickness.right = r;\r\n            thickness.bottom = b;\r\n\r\n            return changed;\r\n        }\r\n\r\n        PreRender (ctx: minerva.core.render.RenderContext) {\r\n            var color = this.Color;\r\n            var opacity = color.A * this.Opacity;\r\n\r\n            var radius = Math.min(this.BlurRadius, DropShadowEffect.MAX_BLUR_RADIUS);\r\n            var depth = Math.min(Math.max(0, this.ShadowDepth), DropShadowEffect.MAX_SHADOW_DEPTH);\r\n            var direction = this.Direction * Math.PI / 180.0;\r\n            var offsetX = Math.cos(direction) * depth;\r\n            var offsetY = -Math.sin(direction) * depth;\r\n\r\n            var raw = ctx.raw;\r\n            raw.shadowColor = \"rgba(\" + color.R + \",\" + color.G + \",\" + color.B + \",\" + opacity + \")\";\r\n            raw.shadowBlur = radius;\r\n            raw.shadowOffsetX = offsetX;\r\n            raw.shadowOffsetY = offsetY;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DropShadowEffect);\r\n}","module Fayde.Media.Animation {\r\n    export enum EasingMode {\r\n        EaseOut = 0,\r\n        EaseIn = 1,\r\n        EaseInOut = 2,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(EasingMode, \"EasingMode\");\r\n\r\n    export enum FillBehavior {\r\n        HoldEnd = 0,\r\n        Stop = 1,\r\n    }\r\n    Fayde.CoreLibrary.addEnum(FillBehavior, \"FillBehavior\");\r\n}","module Fayde.Media.Animation {\r\n    export class RepeatBehavior {\r\n        private _Duration: Duration = null;\r\n        private _Count: number = null;\r\n        IsForever: boolean = false;\r\n\r\n        static FromRepeatDuration(duration: Duration): RepeatBehavior {\r\n            var rb = new RepeatBehavior();\r\n            rb._Duration = duration;\r\n            return rb;\r\n        }\r\n        static FromIterationCount(count: number): RepeatBehavior {\r\n            var rb = new RepeatBehavior();\r\n            rb._Count = count;\r\n            return rb;\r\n        }\r\n\r\n        get HasCount(): boolean { return this._Count != null; }\r\n        get Count(): number { return this._Count; }\r\n\r\n        get HasDuration(): boolean { return this._Duration != null; }\r\n        get Duration(): Duration { return this._Duration; }\r\n\r\n        Clone(): RepeatBehavior {\r\n            var rb = new RepeatBehavior();\r\n            rb._Duration = this._Duration;\r\n            rb._Count = this._Count;\r\n            rb.IsForever = this.IsForever;\r\n            return rb;\r\n        }\r\n\r\n        static Forever: RepeatBehavior = (function () { var rb = new RepeatBehavior(); rb.IsForever = true; return rb; })();\r\n    }\r\n    Fayde.CoreLibrary.add(RepeatBehavior);\r\n\r\n    nullstone.registerTypeConverter(RepeatBehavior, (val: string): RepeatBehavior => {\r\n        if (!val || val.toLowerCase() === \"forever\")\r\n            return RepeatBehavior.Forever;\r\n        if (val[val.length - 1] === \"x\") {\r\n            var d = parseInt(val.substr(0, val.length - 1));\r\n            return RepeatBehavior.FromIterationCount(d);\r\n        }\r\n        var duration = new Duration(nullstone.convertAnyToType(val, TimeSpan));\r\n        return RepeatBehavior.FromRepeatDuration(duration);\r\n    });\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../../Core/XamlObjectCollection.ts\" />\r\n/// <reference path=\"Enums.ts\" />\r\n/// <reference path=\"RepeatBehavior.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export interface IClockData {\r\n        CurrentTime: TimeSpan;\r\n        Progress: number;\r\n        Completed: boolean;\r\n    }\r\n\r\n    export class Timeline extends DependencyObject implements ITimeline {\r\n        static DEFAULT_REPEAT_BEHAVIOR: RepeatBehavior = RepeatBehavior.FromIterationCount(1);\r\n        static AutoReverseProperty = DependencyProperty.Register(\"AutoReverse\", () => Boolean, Timeline, false);\r\n        static BeginTimeProperty = DependencyProperty.Register(\"BeginTime\", () => TimeSpan, Timeline);\r\n        static DurationProperty = DependencyProperty.Register(\"Duration\", () => Duration, Timeline);\r\n        static RepeatBehaviorProperty = DependencyProperty.Register(\"RepeatBehavior\", () => RepeatBehavior, Timeline);\r\n        static SpeedRatioProperty = DependencyProperty.Register(\"SpeedRatio\", () => Number, Timeline, 1.0);\r\n        static FillBehaviorProperty = DependencyProperty.Register(\"FillBehavior\", () => new Enum(FillBehavior), Timeline, FillBehavior.HoldEnd);\r\n        AutoReverse: boolean;\r\n        BeginTime: TimeSpan;\r\n        Duration: Duration; //Treat undefined as Automatic\r\n        RepeatBehavior: RepeatBehavior; //Treat undefined as IterationCount -> 1\r\n        SpeedRatio: number;\r\n        FillBehavior: FillBehavior;\r\n\r\n        Completed = new nullstone.Event();\r\n\r\n        private _IsPaused: boolean = false;\r\n        private _BeginPauseTime: number = 0;\r\n        private _TicksPaused: number = 0;\r\n        private _IsFirstUpdate: boolean = true;\r\n        private _HasBegun: boolean = false;\r\n        private _BeginTicks: number = undefined;\r\n        private _InitialStep: number = undefined;\r\n        private _HasCompleted: boolean = false;\r\n\r\n        ManualTarget: DependencyObject = undefined;\r\n\r\n        get HasManualTarget (): boolean {\r\n            return this.ManualTarget !== undefined;\r\n        }\r\n\r\n        Reset () {\r\n            this._TicksPaused = 0;\r\n            this._IsFirstUpdate = true;\r\n            this._BeginTicks = undefined;\r\n            this._HasBegun = false;\r\n            this._HasCompleted = false;\r\n        }\r\n\r\n        Pause () {\r\n            if (this._IsPaused)\r\n                return;\r\n            this._BeginPauseTime = new Date().getTime();\r\n            this._IsPaused = true;\r\n        }\r\n\r\n        Resume () {\r\n            if (!this._IsPaused)\r\n                return;\r\n            this._IsPaused = false;\r\n            var nowTime = new Date().getTime();\r\n            this._TicksPaused = nowTime - this._BeginPauseTime;\r\n        }\r\n\r\n        Stop () {\r\n            this.Reset();\r\n        }\r\n\r\n        OnCompleted () {\r\n            this._HasCompleted = true;\r\n            var fill = this.FillBehavior;\r\n            switch (fill) {\r\n                case FillBehavior.HoldEnd:\r\n                    this.HoldEnd();\r\n                    break;\r\n                case FillBehavior.Stop:\r\n                    this.Stop();\r\n                    break;\r\n            }\r\n            this.Completed.raise(this, null);\r\n        }\r\n\r\n        Update (nowTime: number) {\r\n            var clockData = this.CreateClockData(nowTime);\r\n            if (!clockData || this._IsPaused || this._HasCompleted)\r\n                return;\r\n            this.UpdateInternal(clockData);\r\n            if (clockData.Completed)\r\n                this.OnCompleted();\r\n        }\r\n\r\n        UpdateInternal (clockData: IClockData) {\r\n        }\r\n\r\n        HoldEnd () {\r\n        }\r\n\r\n        private CreateClockData (nowTime: number): IClockData {\r\n            if (this._IsFirstUpdate) {\r\n                this._InitialStep = nowTime;\r\n                this._HasBegun = false;\r\n                this._IsFirstUpdate = false;\r\n            }\r\n            if (!this._HasBegun) {\r\n                if (!this.IsAfterBeginTime(nowTime))\r\n                    return null;\r\n                this._BeginTicks = nowTime;\r\n                this._HasBegun = true;\r\n            }\r\n\r\n            var elapsedTicks = nowTime - this._BeginTicks - this._TicksPaused;\r\n            var currentTimeTicks = elapsedTicks;\r\n            var progress = 0.0;\r\n            var completed = false;\r\n\r\n            var duration = this.GetNaturalDuration();\r\n            if (duration.IsAutomatic) {\r\n                progress = 1.0;\r\n                completed = true;\r\n            } else if (duration.HasTimeSpan) {\r\n                var d = duration.TimeSpan.Ticks;\r\n                if (d === 0) {\r\n                    progress = 1.0;\r\n                } else if (this.AutoReverse === true) {\r\n                    d = d / 2;\r\n                    // Progress - Graph that repeats 3 times has shape: /\\/\\/\\/\\/\\/\\\r\n                    progress = 1 - (Math.abs((elapsedTicks % (d + d)) - d) / d);\r\n                } else {\r\n                    // Progress - Graph that repeats 3 times has shape: //////\r\n                    progress = (elapsedTicks / d) - Math.floor(elapsedTicks / d);\r\n                }\r\n\r\n                var repeat = this.RepeatBehavior || Timeline.DEFAULT_REPEAT_BEHAVIOR;\r\n                if (repeat.IsForever) {\r\n                } else if (repeat.HasCount) {\r\n                    if ((d === 0) || (Math.floor(elapsedTicks / d) >= repeat.Count)) {\r\n                        progress = 1.0;\r\n                        completed = true;\r\n                    }\r\n                } else if (repeat.HasDuration) {\r\n                    if (elapsedTicks >= repeat.Duration.TimeSpan.Ticks) {\r\n                        progress = 1.0;\r\n                        completed = true;\r\n                    }\r\n                }\r\n\r\n                if (d !== 0)\r\n                    currentTimeTicks = progress * d; //normalizes CurrentTime within [0,duration] constraints\r\n            }\r\n            // else if (duration.IsForever) { // do nothing }\r\n\r\n            return {\r\n                CurrentTime: new TimeSpan(currentTimeTicks),\r\n                Progress: progress,\r\n                Completed: completed\r\n            };\r\n        }\r\n\r\n        private IsAfterBeginTime (nowTime: number): boolean {\r\n            var beginTime = this.BeginTime;\r\n            if (beginTime == null)\r\n                return true;\r\n            var beginTicks = beginTime.Ticks;\r\n            if (beginTicks <= 0)\r\n                return true;\r\n            var elapsedTicks = nowTime - this._InitialStep;\r\n            if (elapsedTicks < beginTicks)\r\n                return false;\r\n            return true;\r\n        }\r\n\r\n        GetNaturalDuration (): Duration {\r\n            var d = this.Duration;\r\n            if (!d || d.IsAutomatic)\r\n                return this.GetNaturalDurationCore();\r\n            return d;\r\n        }\r\n\r\n        GetNaturalDurationCore (): Duration {\r\n            return Duration.Automatic;\r\n        }\r\n\r\n        GenerateFrom (): AnimationBase {\r\n            return undefined;\r\n        }\r\n\r\n        GenerateTo (isEntering: boolean): AnimationBase {\r\n            return undefined;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Timeline);\r\n\r\n    export class TimelineCollection extends XamlObjectCollection<Timeline> {\r\n    }\r\n    Fayde.CoreLibrary.add(TimelineCollection);\r\n}","/// <reference path=\"Timeline.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class AnimationBase extends Timeline {\r\n        private _AnimStorage: IAnimationStorage;\r\n        private _IsHolding: boolean = false;\r\n\r\n        constructor() {\r\n            super();\r\n        }\r\n\r\n        Resolve(target: DependencyObject, propd: DependencyProperty) { return true; }\r\n\r\n        HoldEnd() { this._IsHolding = true; }\r\n        Stop() {\r\n            var animStorage = this._AnimStorage;\r\n            if (!animStorage)\r\n                return;\r\n            if (AnimationStore.Detach(animStorage) || animStorage.IsDisabled)\r\n                return;\r\n            AnimationStore.ApplyStop(animStorage);\r\n        }\r\n        UpdateInternal(clockData: IClockData) {\r\n            if (this._IsHolding)\r\n                return;\r\n            var animStorage = this._AnimStorage;\r\n            if (!animStorage || animStorage.IsDisabled)\r\n                return;\r\n\r\n            var oldValue = animStorage.CurrentValue;\r\n            animStorage.CurrentValue = this.GetCurrentValue(animStorage.BaseValue, animStorage.StopValue !== undefined ? animStorage.StopValue : animStorage.BaseValue, clockData);\r\n            if (Animation.Log)\r\n                console.log(getLogMessage(\"AnimationBase.UpdateInternal\", this, oldValue, animStorage.CurrentValue));\r\n            if (oldValue === animStorage.CurrentValue || animStorage.CurrentValue === undefined)\r\n                return;\r\n            AnimationStore.ApplyCurrent(animStorage);\r\n        }\r\n        GetNaturalDurationCore(): Duration { return Duration.Automatic; }\r\n\r\n        GetCurrentValue(defaultOriginalValue: any, defaultDestinationValue: any, clockData: IClockData): any { return undefined; }\r\n\r\n        _Hookup(promotedValues: any[], error: BError): boolean {\r\n            this._IsHolding = false;\r\n            this.Reset();\r\n\r\n            var resolution = Storyboard.ResolveTarget(this);\r\n            if (!resolution.Target) {\r\n                console.warn(\"Could not resolve storyboard target.\", Storyboard.GetTargetName(this));\r\n            }\r\n            var refobj = { Value: resolution.Target };\r\n            var targetProperty = resolution.Property.TryResolveDependencyProperty(refobj, promotedValues);\r\n            resolution.Target = refobj.Value;\r\n            if (!targetProperty) {\r\n                error.Number = BError.XamlParse;\r\n                var name = Storyboard.GetTargetName(this);\r\n                error.Message = \"Could not resolve property for storyboard. (\" + name + \")->[\" + resolution.Property.Path.toString() + \"]\";\r\n                return false;\r\n            }\r\n            if (!this.Resolve(resolution.Target, targetProperty)) {\r\n                error.Number = BError.InvalidOperation;\r\n                error.Message = \"Storyboard value could not be converted to the correct type\";\r\n                return false;\r\n            }\r\n\r\n            this._AnimStorage = AnimationStore.Create(resolution.Target, targetProperty);\r\n            this._AnimStorage.Animation = this;\r\n            AnimationStore.Attach(this._AnimStorage);\r\n            return true;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(AnimationBase);\r\n\r\n    function getLogMessage(action: string, anim: AnimationBase, oldValue: any, newValue: any) {\r\n        var msg = \"ANIMATION:\" + action + \":\" + (<any>anim)._ID + \"[\" + (<any>anim).constructor.name + \"]\";\r\n        msg += \";\" + (oldValue === undefined ? \"(undefined)\" : (oldValue === null ? \"(null)\" : oldValue.toString()));\r\n        msg += \"->\" + (newValue === undefined ? \"(undefined)\" : (newValue === null ? \"(null)\" : newValue.toString()));\r\n        return msg;\r\n    }\r\n}","\r\nmodule Fayde.Media.Animation {\r\n    export interface IAnimationStorage {\r\n        ID: number;\r\n        Animation: AnimationBase;\r\n        PropStorage: Providers.IPropertyStorage;\r\n        IsDisabled: boolean;\r\n        BaseValue: any;\r\n        CurrentValue: any;\r\n        StopValue: any;\r\n    }\r\n\r\n    export class AnimationStore {\r\n        static Create(target: DependencyObject, propd: DependencyProperty): IAnimationStorage {\r\n            var baseValue = target.GetValue(propd);\r\n            if (baseValue === undefined) {\r\n                var targetType = propd.GetTargetType();\r\n                if (targetType === Number)\r\n                    baseValue = 0;\r\n                else if (targetType === String)\r\n                    baseValue = \"\";\r\n                else\r\n                    baseValue = new (<any>targetType)();\r\n            }\r\n            return {\r\n                ID: createId(),\r\n                Animation: undefined,\r\n                PropStorage: Providers.GetStorage(target, propd),\r\n                IsDisabled: false,\r\n                BaseValue: baseValue,\r\n                CurrentValue: undefined,\r\n                StopValue: undefined,\r\n            };\r\n        }\r\n        static Attach(animStorage: IAnimationStorage) {\r\n            var storage = animStorage.PropStorage;\r\n            var list = storage.Animations;\r\n            if (!list)\r\n                storage.Animations = list = [];\r\n            var prevStorage = list[list.length - 1];\r\n            list.push(animStorage);\r\n            if (prevStorage) {\r\n                animStorage.StopValue = prevStorage.StopValue;\r\n                prevStorage.IsDisabled = true;\r\n            } else {\r\n                animStorage.StopValue = storage.Local;\r\n            }\r\n        }\r\n        static Detach(animStorage: IAnimationStorage): boolean {\r\n            var storage = animStorage.PropStorage;\r\n\r\n            var list = storage.Animations;\r\n            if (!list)\r\n                return false;\r\n\r\n            var len = list.length;\r\n            if (len < 1)\r\n                return false;\r\n\r\n            var i = list.lastIndexOf(animStorage);\r\n            if (i === (len - 1)) {\r\n                list.pop();\r\n                if (len > 1) {\r\n                    var last = list[len - 2];\r\n                    if (last.IsDisabled) {\r\n                        last.IsDisabled = false;\r\n                        AnimationStore.ApplyCurrent(last);\r\n                        return true;\r\n                    }\r\n                }\r\n            } else {\r\n                list.splice(i, 1);\r\n                list[i].StopValue = animStorage.StopValue;\r\n            }\r\n            return false;\r\n        }\r\n        static ApplyCurrent(animStorage: IAnimationStorage) {\r\n            var val = animStorage.CurrentValue;\r\n            if (val === undefined)\r\n                return;\r\n            if (Animation.LogApply)\r\n                console.log(getLogMessage(\"ApplyCurrent\", animStorage, val));\r\n            var storage = animStorage.PropStorage;\r\n            storage.Property.Store.SetLocalValue(storage, animStorage.CurrentValue);\r\n        }\r\n        static ApplyStop(animStorage: IAnimationStorage) {\r\n            var val = animStorage.StopValue;\r\n            if (Animation.LogApply)\r\n                console.log(getLogMessage(\"ApplyStop\", animStorage, val));\r\n            var storage = animStorage.PropStorage;\r\n            storage.Property.Store.SetLocalValue(storage, val);\r\n        }\r\n    }\r\n\r\n    function getLogMessage(action: string, animStorage: IAnimationStorage, val: any): string {\r\n        var anim = animStorage.Animation;\r\n        var name = Storyboard.GetTargetName(animStorage.Animation);\r\n        if (anim.HasManualTarget)\r\n            name = anim.ManualTarget.Name;\r\n        var prop = Storyboard.GetTargetProperty(anim);\r\n        var msg = \"ANIMATION:\" + action + \":\" + animStorage.ID + \"[\" + name + \"](\" + prop.Path + \")->\";\r\n        msg += val === undefined ? \"(undefined)\" : (val === null ? \"(null)\" : val.toString());\r\n        return msg;\r\n    }\r\n    var lastId = 0;\r\n    function createId(): number {\r\n        return lastId++;\r\n    }\r\n}","/// <reference path=\"AnimationBase.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class AnimationUsingKeyFrames extends AnimationBase {\r\n        static KeyFramesProperty = DependencyProperty.RegisterImmutable<KeyFrameCollection>(\"KeyFrames\", () => KeyFrameCollection, AnimationUsingKeyFrames);\r\n        KeyFrames: KeyFrameCollection;\r\n\r\n        constructor() {\r\n            super();\r\n            var coll = AnimationUsingKeyFrames.KeyFramesProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n        }\r\n\r\n        Resolve(target: DependencyObject, propd: DependencyProperty): boolean {\r\n            var keyFrames = this.KeyFrames;\r\n\r\n            var sortedList = KeyFrameCollection.ResolveKeyFrames(this, keyFrames);\r\n\r\n            var count = sortedList.length;\r\n            for (var j = 0; j < count; j++) {\r\n                if (!sortedList[j].KeyTime.IsValid)\r\n                    return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n        GetCurrentValue(defaultOriginValue: any, defaultDestinationValue: any, clockData: IClockData): any {\r\n            var keyFrames = this.KeyFrames;\r\n\r\n            var prevFrameRef = { Value: <IKeyFrame>null };\r\n            var currentKeyFrame: IKeyFrame = keyFrames.GetKeyFrameForTime(clockData.CurrentTime, prevFrameRef);\r\n            var prevFrame: IKeyFrame = prevFrameRef.Value;\r\n            if (!currentKeyFrame)\r\n                return null;\r\n\r\n            var baseValue: any;\r\n            var keyStartTime: TimeSpan;\r\n            var keyEndTime = currentKeyFrame._ResolvedKeyTime;\r\n            if (!prevFrame) {\r\n                // the first keyframe, start at the animation's base value\r\n                baseValue = defaultOriginValue;\r\n                keyStartTime = new TimeSpan();\r\n            } else {\r\n                // start at the previous keyframe's target value\r\n                if (prevFrame instanceof ObjectKeyFrame) {\r\n                    baseValue = (<ObjectKeyFrame>prevFrame).ConvertedValue;\r\n                } else {\r\n                    baseValue = prevFrame.Value;\r\n                }\r\n                keyStartTime = prevFrame._ResolvedKeyTime;\r\n            }\r\n\r\n            var progress: number;\r\n            if (clockData.CurrentTime.CompareTo(keyEndTime) >= 0) {\r\n                progress = 1.0;\r\n            } else {\r\n                var keyDuration = keyEndTime.Ticks - keyStartTime.Ticks;\r\n                if (keyDuration <= 0)\r\n                    progress = 1.0;\r\n                else\r\n                    progress = (clockData.CurrentTime.Ticks - keyStartTime.Ticks) / keyDuration;\r\n            }\r\n\r\n            return currentKeyFrame.InterpolateValue(baseValue, progress);\r\n        }\r\n        GetNaturalDurationCore(): Duration {\r\n            var keyFrames = this.KeyFrames;\r\n            var sortedList: IKeyFrame[] = KeyFrameCollection.ResolveKeyFrames(this, keyFrames);\r\n            var len = sortedList.length;\r\n            var ts: TimeSpan;\r\n            if (len > 0)\r\n                ts = sortedList[len - 1]._ResolvedKeyTime;\r\n            else\r\n                ts = new TimeSpan();\r\n            return new Duration(ts);\r\n        }\r\n\r\n        AddKeyFrame(kf: KeyFrame) { this.KeyFrames.Add(kf); }\r\n        RemoveKeyFrame(kf: KeyFrame) { this.KeyFrames.Remove(kf); }\r\n    }\r\n    Fayde.CoreLibrary.add(AnimationUsingKeyFrames);\r\n    Markup.Content(AnimationUsingKeyFrames, AnimationUsingKeyFrames.KeyFramesProperty);\r\n}","/// <reference path=\"../../Core/Triggers.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class BeginStoryboard extends TriggerAction {\r\n        static StoryboardProperty = DependencyProperty.RegisterCore(\"Storyboard\", () => Animation.Storyboard, BeginStoryboard);\r\n        Storyboard: Animation.Storyboard;\r\n\r\n        Fire() {\r\n            var sb = this.Storyboard;\r\n            if (sb) sb.Begin();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(BeginStoryboard);\r\n    Markup.Content(BeginStoryboard, BeginStoryboard.StoryboardProperty);\r\n}","/// <reference path=\"AnimationBase.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class ColorAnimation extends AnimationBase {\r\n        static ByProperty: DependencyProperty = DependencyProperty.Register(\"By\", () => Color, ColorAnimation, null, (d, args) => (<ColorAnimation>d)._ByChanged(args));\r\n        static EasingFunctionProperty: DependencyProperty = DependencyProperty.Register(\"EasingFunction\", () => EasingFunctionBase, ColorAnimation, undefined, (d, args) => (<ColorAnimation>d)._EasingChanged(args));\r\n        static FromProperty: DependencyProperty = DependencyProperty.Register(\"From\", () => Color, ColorAnimation, null, (d, args) => (<ColorAnimation>d)._FromChanged(args));\r\n        static ToProperty: DependencyProperty = DependencyProperty.Register(\"To\", () => Color, ColorAnimation, null, (d, args) => (<ColorAnimation>d)._ToChanged(args));\r\n        By: Color;\r\n        EasingFunction: IEasingFunction;\r\n        From: Color;\r\n        To: Color;\r\n\r\n        private _FromCached: Color = null;\r\n        private _ToCached: Color = null;\r\n        private _ByCached: Color = null;\r\n        private _EasingCached: EasingFunctionBase = undefined;\r\n\r\n        constructor(){\r\n            super();\r\n        }\r\n\r\n        GetCurrentValue(defaultOriginalValue: any, defaultDestinationValue: any, clockData: IClockData): Color {\r\n            var start = new Color();\r\n            if (this._FromCached)\r\n                start = this._FromCached;\r\n            else if (defaultOriginalValue instanceof Color)\r\n                start = defaultOriginalValue;\r\n\r\n            var end = start;\r\n            if (this._ToCached)\r\n                end = this._ToCached;\r\n            else if (this._ByCached)\r\n                end = start.Add(this._ByCached);\r\n            else if (defaultDestinationValue instanceof Color)\r\n                end = defaultDestinationValue;\r\n\r\n            var easingFunc = this._EasingCached;\r\n            if (easingFunc)\r\n                clockData.Progress = easingFunc.Ease(clockData.Progress);\r\n\r\n            return Color.LERP(start, end, clockData.Progress);\r\n        }\r\n\r\n        private _FromChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._FromCached = args.NewValue;\r\n        }\r\n        private _ToChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._ToCached = args.NewValue;\r\n        }\r\n        private _ByChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._ByCached = args.NewValue;\r\n        }\r\n        private _EasingChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._EasingCached = args.NewValue;\r\n        }\r\n\r\n        GenerateFrom(): AnimationBase {\r\n            return new ColorAnimation();\r\n        }\r\n        GenerateTo(isEntering: boolean): AnimationBase {\r\n            var val = this.From != null ? this.From : this.To;\r\n            if (val == null)\r\n                return null;\r\n            var ca = new ColorAnimation();\r\n            ca.To = val;\r\n            return ca;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ColorAnimation);\r\n}","/// <reference path=\"AnimationUsingKeyFrames.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class ColorAnimationUsingKeyFrames extends AnimationUsingKeyFrames {\r\n        GenerateFrom(): AnimationBase {\r\n            return new ColorAnimation();\r\n        }\r\n        GenerateTo(isEntering: boolean): AnimationBase {\r\n            var kfs = this.KeyFrames;\r\n            if (kfs.Count === 0)\r\n                return null;\r\n            var val = (kfs.GetValueAt(isEntering ? 0 : kfs.Count - 1)).Value;\r\n            if (val == null)\r\n                return null;\r\n            var ca = new Animation.ColorAnimation();\r\n            ca.To = val;\r\n            return ca;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ColorAnimationUsingKeyFrames);\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export interface IOutValue {\r\n        Value: any;\r\n    }\r\n    export interface IKeyFrameListener {\r\n        KeyFrameChanged(source: KeyFrame);\r\n    }\r\n    export interface IKeyFrame {\r\n        _ResolvedKeyTime: TimeSpan;\r\n        _Resolved: boolean;\r\n        Value: any;\r\n        InterpolateValue(baseValue: any, keyFrameProgress: number): any;\r\n    }\r\n\r\n    export class KeyFrame extends DependencyObject implements IKeyFrame {\r\n        _ResolvedKeyTime: TimeSpan = null;\r\n        _Resolved: boolean = false;\r\n        private _Listener: IKeyFrameListener;\r\n\r\n        static KeyTimeProperty: DependencyProperty = DependencyProperty.Register(\"KeyTime\", () => KeyTime, KeyFrame, undefined, (d, args) => (<KeyFrame>d).InvalidateKeyFrame());\r\n        KeyTime: KeyTime;\r\n        Value: any;\r\n\r\n        CoerceKeyTime(dobj: DependencyObject, propd: DependencyProperty, value: any, coerced: IOutValue, error: BError): boolean {\r\n            if (!value)\r\n                coerced.Value = this.KeyTime;\r\n            else\r\n                coerced.Value = value;\r\n            return true;\r\n        }\r\n\r\n        InterpolateValue(baseValue: any, keyFrameProgress: number): any {\r\n            //Abstract Method\r\n            return undefined;\r\n        }\r\n\r\n        CompareToTimeSpan(otherTs: TimeSpan): number {\r\n            return this._ResolvedKeyTime.CompareTo(otherTs);\r\n        }\r\n\r\n        Listen(listener: IKeyFrameListener) { this._Listener = listener; }\r\n        Unlisten(listener: IKeyFrameListener) { if (this._Listener === listener) this._Listener = null; }\r\n\r\n        InvalidateKeyFrame() {\r\n            var listener = this._Listener;\r\n            if (listener) listener.KeyFrameChanged(this);\r\n        }\r\n\r\n        static Comparer(kf1: KeyFrame, kf2: KeyFrame): number {\r\n            var ts1 = kf1._ResolvedKeyTime;\r\n            var ts2 = kf2._ResolvedKeyTime;\r\n            return ts1.CompareTo(ts2);\r\n        }\r\n\r\n        /// http://msdn2.microsoft.com/en-us/library/ms742524.aspx (Bottom of page)\r\n        static ResolveKeyFrames(animation: AnimationBase, arr: KeyFrame[]): KeyFrame[] {\r\n            var totalInterpolationTime: TimeSpan;\r\n            var hasTimeSpanKeyFrame = false;\r\n            var highestKeyTimeTimeSpan = new TimeSpan();\r\n            var keyFrame: KeyFrame;\r\n\r\n            var len = arr.length;\r\n\r\n            var i: number;\r\n            for (i = 0; i < len; i++) {\r\n                keyFrame = arr[i];\r\n                keyFrame._ResolvedKeyTime = new TimeSpan();\r\n                keyFrame._Resolved = false;\r\n            }\r\n\r\n            var keyTime: KeyTime;\r\n            // resolve TimeSpan keyframes\r\n            for (i = 0; i < len; i++) {\r\n                keyFrame = arr[i];\r\n                keyTime = keyFrame.KeyTime;\r\n                if (keyTime.HasTimeSpan) {\r\n                    hasTimeSpanKeyFrame = true;\r\n                    var ts = keyTime.TimeSpan;\r\n                    if (ts.CompareTo(highestKeyTimeTimeSpan) > 0)\r\n                        highestKeyTimeTimeSpan = ts;\r\n                    keyFrame._ResolvedKeyTime = ts;\r\n                    keyFrame._Resolved = true;\r\n                }\r\n            }\r\n\r\n            // calculate total animation interpolation time\r\n            var dur = animation.Duration;\r\n            if (dur && dur.HasTimeSpan) {\r\n                totalInterpolationTime = dur.TimeSpan;\r\n            } else if (hasTimeSpanKeyFrame) {\r\n                totalInterpolationTime = highestKeyTimeTimeSpan;\r\n            } else {\r\n                totalInterpolationTime = new TimeSpan(TimeSpan._TicksPerSecond);\r\n            }\r\n            //LOOKS USELESS: animation._TotalKeyTime = totalInterpolationTime;\r\n\r\n            // use the total interpolation time to resolve percent keytime keyframes\r\n            for (i = 0; i < len; i++) {\r\n                keyFrame = arr[i];\r\n                keyTime = keyFrame.KeyTime;\r\n                if (keyTime.HasPercent) {\r\n                    keyFrame._ResolvedKeyTime = totalInterpolationTime.Multiply(keyTime.Percent)\r\n                    keyFrame._Resolved = true;\r\n                }\r\n            }\r\n\r\n            // if the last frame is KeyTime Uniform or Paced, resolve it to be equal to the total interpolation time\r\n            if (len > 0) {\r\n                keyFrame = arr[len - 1];\r\n                keyTime = keyFrame.KeyTime;\r\n                if (keyTime.IsPaced || keyTime.IsUniform) {\r\n                    keyFrame._ResolvedKeyTime = totalInterpolationTime;\r\n                    keyFrame._Resolved = true;\r\n                }\r\n            }\r\n\r\n            /* if the first frame is KeyTime Paced:\r\n            **   1. if there is only 1 frame, its KeyTime is the total interpolation time.\r\n            **   2. if there is more than 1 frame, its KeyTime is 0.\r\n            **\r\n            ** note 1 is handled in the above block so we only have to\r\n            ** handle 2 here.\r\n            */\r\n            if (len > 0) {\r\n                keyFrame = arr[len - 1];\r\n                keyTime = keyFrame.KeyTime;\r\n                if (!keyFrame._Resolved && keyTime.IsPaced) {\r\n                    keyFrame._ResolvedKeyTime = new TimeSpan();\r\n                    keyFrame._Resolved = true;\r\n                }\r\n            }\r\n\r\n            // XXX resolve remaining KeyTime::Uniform frames\r\n\r\n            // XXX resolve frames with unspecified keytimes -- is this possible?  is the default keytime NULL?  it seems to be Uniform?\r\n\r\n            // XXX resolve remaining KeyTime::Paced frames */\r\n\r\n            return arr;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(KeyFrame);\r\n\r\n    export class KeyFrameCollection extends XamlObjectCollection<KeyFrame> {\r\n        private _Resolved: boolean = false;\r\n        private _SortedList: KeyFrame[] = [];\r\n\r\n        GetKeyFrameForTime(t: TimeSpan, prevFrameRef: IOutValue): KeyFrame {\r\n            var currentKeyFrame: KeyFrame = null;\r\n            var previousKeyFrame: KeyFrame = null;\r\n            var i;\r\n\r\n            var sortedList = this._SortedList;\r\n\r\n            if (sortedList.length == 0) {\r\n                prevFrameRef.Value = null;\r\n                return null;\r\n            }\r\n\r\n            var keyFrame: KeyFrame;\r\n            var valuePropd;\r\n            // Crawl forward to figure out what segment to use (this assumes the list is sorted)\r\n            for (i = 0; i < sortedList.length; i++) {\r\n                keyFrame = sortedList[i];\r\n                if (keyFrame.CompareToTimeSpan(t) >= 0 || (i + 1) >= sortedList.length)\r\n                    break;\r\n            }\r\n\r\n            // Crawl backward to find first non-null frame\r\n            for (; i >= 0; i--) {\r\n                keyFrame = sortedList[i];\r\n                valuePropd = DependencyProperty.GetDependencyProperty((<any>keyFrame).constructor, \"Value\");\r\n                if (keyFrame.GetValue(valuePropd) !== undefined) {\r\n                    currentKeyFrame = keyFrame;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // Crawl backward some more to find first non-null prev frame\r\n            for (i--; i >= 0; i--) {\r\n                keyFrame = sortedList[i];\r\n                valuePropd = DependencyProperty.GetDependencyProperty((<any>keyFrame).constructor, \"Value\");\r\n                if (keyFrame.GetValue(valuePropd) !== undefined) {\r\n                    previousKeyFrame = keyFrame;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            prevFrameRef.Value = previousKeyFrame;\r\n            return currentKeyFrame;\r\n        }\r\n        Clear(): boolean {\r\n            this._Resolved = false;\r\n            this._SortedList = [];\r\n            return super.Clear();\r\n        }\r\n\r\n        AddingToCollection(value: KeyFrame, error: BError): boolean {\r\n            if (!super.AddingToCollection(value, error))\r\n                return false;\r\n            this._Resolved = false;\r\n            value.Listen(this);\r\n            return true;\r\n        }\r\n        RemovedFromCollection(value: KeyFrame, isValueSafe: boolean) {\r\n            super.RemovedFromCollection(value, isValueSafe);\r\n            this._Resolved = false;\r\n            value.Unlisten(this);\r\n        }\r\n        KeyFrameChanged(source: KeyFrame) {\r\n            this._Resolved = false;\r\n        }\r\n\r\n        static ResolveKeyFrames(animation: AnimationBase, coll: KeyFrameCollection): KeyFrame[] {\r\n            if (coll._Resolved)\r\n                return coll._SortedList;\r\n            coll._SortedList = KeyFrame.ResolveKeyFrames(animation, coll._ht).slice(0);\r\n            coll._SortedList.sort(KeyFrame.Comparer);\r\n            coll._Resolved = true;\r\n            return coll._SortedList;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(KeyFrameCollection);\r\n}","/// <reference path=\"KeyFrame.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class ColorKeyFrame extends KeyFrame {\r\n        static ValueProperty: DependencyProperty = DependencyProperty.Register(\"Value\", () => Color, ColorKeyFrame);\r\n        Value: Color;\r\n    }\r\n    Fayde.CoreLibrary.add(ColorKeyFrame);\r\n\r\n    export class DiscreteColorKeyFrame extends ColorKeyFrame {\r\n        InterpolateValue(baseValue: Color, keyFrameProgress: number): Color {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n            return baseValue;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DiscreteColorKeyFrame);\r\n\r\n    export class EasingColorKeyFrame extends ColorKeyFrame {\r\n        static EasingFunctionProperty: DependencyProperty = DependencyProperty.Register(\"EasingFunction\", () => EasingFunctionBase, EasingColorKeyFrame);\r\n        EasingFunction: EasingFunctionBase;\r\n\r\n        InterpolateValue(baseValue: Color, keyFrameProgress: number): Color {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n\r\n            var start = baseValue;\r\n            var end = this.Value;\r\n\r\n            var easingFunction = this.EasingFunction;\r\n            if (easingFunction)\r\n                keyFrameProgress = easingFunction.Ease(keyFrameProgress);\r\n\r\n            return Color.LERP(start, end, keyFrameProgress);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(EasingColorKeyFrame);\r\n\r\n    export class LinearColorKeyFrame extends ColorKeyFrame {\r\n        InterpolateValue(baseValue: Color, keyFrameProgress: number): Color {\r\n            return Color.LERP(baseValue, this.Value, keyFrameProgress);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(LinearColorKeyFrame);\r\n\r\n    export class SplineColorKeyFrame extends ColorKeyFrame {\r\n        static KeySplineProperty: DependencyProperty = DependencyProperty.Register(\"KeySpline\", () => KeySpline, SplineColorKeyFrame);\r\n        KeySpline: KeySpline;\r\n\r\n        InterpolateValue(baseValue: Color, keyFrameProgress: number): Color {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n\r\n            var start = baseValue;\r\n            var end = this.Value;\r\n            var splineProgress = keyFrameProgress;\r\n            var keySpline = this.KeySpline;\r\n            if (keySpline)\r\n                splineProgress = keySpline.GetSplineProgress(keyFrameProgress);\r\n\r\n            return Color.LERP(start, end, splineProgress);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SplineColorKeyFrame);\r\n}","\r\nmodule Fayde.Media.Animation {\r\n    export interface ICurvePoint {\r\n        x: number;\r\n        y: number;\r\n    }\r\n    export interface IQuadraticCurve {\r\n        c0: ICurvePoint;\r\n        c1: ICurvePoint;\r\n        c2: ICurvePoint;\r\n    }\r\n    export interface ICubicCurve {\r\n        c0: ICurvePoint;\r\n        c1: ICurvePoint;\r\n        c2: ICurvePoint;\r\n        c3: ICurvePoint;\r\n    }\r\n    export interface ISubdiviedCubicCurve {\r\n        b1: ICubicCurve;\r\n        b2: ICubicCurve;\r\n    }\r\n\r\n    export class Curves {\r\n        static QuadraticArrayYForX(arr: IQuadraticCurve[], x: number, count: number): number {\r\n            for (var i = 0; i < count; i++) {\r\n                if (x < arr[i].c2.x)\r\n                    return Curves.QuadraticYForX(x, arr[i]);\r\n            }\r\n            return 0.0;\r\n        }\r\n        static QuadraticYForX(x: number, src: IQuadraticCurve): number {\r\n            var l = src.c2.x - src.c0.x;\r\n            if (l <= 0)\r\n                return 0.0;\r\n            x = (x - src.c0.x) / l;\r\n            return ((1 - x) * (1 - x)) * src.c0.y + ((2 * x) * (1 - x) * src.c1.y) + ((x * x) * src.c2.y);\r\n        }\r\n\r\n        static SubdivideCubicAtLevel(b: ICubicCurve[], lvl: number, src: ICubicCurve) {\r\n            Curves.RecursiveSubdivide(b, lvl, 1, 0, src);\r\n        }\r\n        static RecursiveSubdivide(b: ICubicCurve[], lvl: number, currentlvl: number, pos: number, src: ICubicCurve) {\r\n            var data: ISubdiviedCubicCurve = { b1: null, b2: null };\r\n            Curves.SubdivideCubic(data, src);\r\n            var b1 = data.b1;\r\n            var b2 = data.b2;\r\n\r\n            if (currentlvl === lvl) {\r\n                b[pos] = b1;\r\n                b[pos + 1] = b2;\r\n                return pos + 2;\r\n            }\r\n            pos = Curves.RecursiveSubdivide(b, lvl, currentlvl + 1, pos, b1);\r\n            pos = Curves.RecursiveSubdivide(b, lvl, currentlvl + 1, pos, b2);\r\n            return pos;\r\n        }\r\n        static SubdivideCubic(data: ISubdiviedCubicCurve, src: ICubicCurve) {\r\n            var p01 = { x: 0, y: 0 }, p012 = { x: 0, y: 0 }, p0123 = { x: 0, y: 0 };\r\n            var p12 = { x: 0, y: 0 }, p123 = { x: 0, y: 0 };\r\n            var p23 = { x: 0, y: 0 };\r\n\r\n            Curves.HalfLerpPoint(p01, src.c0, src.c1);\r\n            Curves.HalfLerpPoint(p12, src.c1, src.c2);\r\n            Curves.HalfLerpPoint(p23, src.c2, src.c3);\r\n\r\n            Curves.HalfLerpPoint(p012, p01, p12);\r\n\r\n            Curves.HalfLerpPoint(p123, p12, p23);\r\n            Curves.HalfLerpPoint(p0123, p012, p123);\r\n\r\n            data.b1 = {\r\n                c0: src.c0,\r\n                c1: p01,\r\n                c2: p012,\r\n                c3: p0123\r\n            };\r\n            data.b2 = {\r\n                c0: p0123,\r\n                c1: p123,\r\n                c2: p23,\r\n                c3: src.c3\r\n            };\r\n        }\r\n        static HalfLerpPoint(p: ICurvePoint, p1: ICurvePoint, p2: ICurvePoint) {\r\n            p.x = p1.x + (p2.x - p1.x) * 0.5;\r\n            p.y = p1.y + (p2.y - p1.y) * 0.5;\r\n        }\r\n\r\n        static ConvertCubicsToQuadratics(srcArray: ICubicCurve[], count: number): IQuadraticCurve[] {\r\n            var destArray: IQuadraticCurve[] = [];\r\n            for (var i = 0; i < count; i++) {\r\n                destArray.push(Curves.QuadraticFromCubic(srcArray[i]));\r\n            }\r\n            return destArray;\r\n        }\r\n        static QuadraticFromCubic(src: ICubicCurve): IQuadraticCurve {\r\n            return {\r\n                c0: {\r\n                    x: src.c0.x,\r\n                    y: src.c0.y\r\n                },\r\n                c1: {\r\n                    x: (src.c1.x + src.c2.x) / 2.0,\r\n                    y: (src.c1.y + src.c2.y) / 2.0\r\n                },\r\n                c2: {\r\n                    x: src.c3.x,\r\n                    y: src.c3.y\r\n                }\r\n            };\r\n        }\r\n    }\r\n}","/// <reference path=\"AnimationBase.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class DoubleAnimation extends AnimationBase {\r\n        static ByProperty: DependencyProperty = DependencyProperty.Register(\"By\", () => Number, DoubleAnimation, null, (d, args) => (<DoubleAnimation>d)._ByChanged(args));\r\n        static EasingFunctionProperty: DependencyProperty = DependencyProperty.Register(\"EasingFunction\", () => EasingFunctionBase, DoubleAnimation, undefined, (d, args) => (<DoubleAnimation>d)._EasingChanged(args));\r\n        static FromProperty: DependencyProperty = DependencyProperty.Register(\"From\", () => Number, DoubleAnimation, null, (d, args) => (<DoubleAnimation>d)._FromChanged(args));\r\n        static ToProperty: DependencyProperty = DependencyProperty.Register(\"To\", () => Number, DoubleAnimation, null, (d, args) => (<DoubleAnimation>d)._ToChanged(args));\r\n        By: number;\r\n        EasingFunction: IEasingFunction;\r\n        From: number;\r\n        To: number;\r\n\r\n        private _FromCached: number = null;\r\n        private _ToCached: number = null;\r\n        private _ByCached: number = null;\r\n        private _EasingCached: EasingFunctionBase = undefined;\r\n\r\n        constructor(){\r\n            super();\r\n        }\r\n\r\n        GetCurrentValue(defaultOriginalValue: any, defaultDestinationValue: any, clockData: IClockData): number {\r\n            var start = 0.0;\r\n            if (this._FromCached != null)\r\n                start = this._FromCached;\r\n            else if (defaultOriginalValue != null && typeof defaultOriginalValue === \"number\")\r\n                start = defaultOriginalValue;\r\n\r\n            var end = start;\r\n            if (this._ToCached != null)\r\n                end = this._ToCached;\r\n            else if (this._ByCached != null)\r\n                end = start + this._ByCached;\r\n            else if (defaultDestinationValue != null && typeof defaultDestinationValue === \"number\")\r\n                end = defaultDestinationValue;\r\n\r\n            var easingFunc = this._EasingCached;\r\n            if (easingFunc != null)\r\n                clockData.Progress = easingFunc.Ease(clockData.Progress);\r\n\r\n            return start + ((end - start) * clockData.Progress);\r\n        }\r\n\r\n        private _FromChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._FromCached = args.NewValue;\r\n        }\r\n        private _ToChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._ToCached = args.NewValue;\r\n        }\r\n        private _ByChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._ByCached = args.NewValue;\r\n        }\r\n        private _EasingChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._EasingCached = args.NewValue;\r\n        }\r\n\r\n        GenerateFrom(): AnimationBase {\r\n            return new DoubleAnimation();\r\n        }\r\n        GenerateTo(isEntering: boolean): AnimationBase {\r\n            var val = (this.From != null) ? this.From : this.To;\r\n            if (val == null)\r\n                return null;\r\n            var da = new DoubleAnimation();\r\n            da.To = val;\r\n            return da;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DoubleAnimation);\r\n}","/// <reference path=\"AnimationUsingKeyFrames.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class DoubleAnimationUsingKeyFrames extends AnimationUsingKeyFrames {\r\n        GenerateFrom(): AnimationBase {\r\n            return new DoubleAnimation();\r\n        }\r\n        GenerateTo(isEntering: boolean): AnimationBase {\r\n            var kfs = this.KeyFrames;\r\n            if (kfs.Count === 0)\r\n                return null;\r\n            var val = (kfs.GetValueAt(isEntering ? 0 : kfs.Count - 1)).Value;\r\n            if (val == null)\r\n                return null;\r\n            var da = new DoubleAnimation();\r\n            da.To = val;\r\n            return da;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DoubleAnimationUsingKeyFrames);\r\n}","/// <reference path=\"KeyFrame.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class DoubleKeyFrame extends KeyFrame {\r\n        static ValueProperty: DependencyProperty = DependencyProperty.Register(\"Value\", () => Number, DoubleKeyFrame);\r\n        Value: number;\r\n    }\r\n    Fayde.CoreLibrary.add(DoubleKeyFrame);\r\n\r\n    export class DiscreteDoubleKeyFrame extends DoubleKeyFrame {\r\n        InterpolateValue(baseValue: number, keyFrameProgress: number): number {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n            return baseValue;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DiscreteDoubleKeyFrame);\r\n\r\n    export class EasingDoubleKeyFrame extends DoubleKeyFrame {\r\n        static EasingFunctionProperty: DependencyProperty = DependencyProperty.Register(\"EasingFunction\", () => EasingFunctionBase, EasingDoubleKeyFrame);\r\n        EasingFunction: EasingFunctionBase;\r\n\r\n        InterpolateValue(baseValue: number, keyFrameProgress: number): number {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n\r\n            var start = baseValue;\r\n            var end = this.Value;\r\n\r\n            var easingFunction = this.EasingFunction;\r\n            if (easingFunction)\r\n                keyFrameProgress = easingFunction.Ease(keyFrameProgress);\r\n\r\n            if (isNaN(start))\r\n                start = 0;\r\n            if (isNaN(end))\r\n                end = 0;\r\n\r\n            return start + (end - start) * keyFrameProgress;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(EasingDoubleKeyFrame);\r\n\r\n    export class LinearDoubleKeyFrame extends DoubleKeyFrame {\r\n        InterpolateValue(baseValue: number, keyFrameProgress: number): number {\r\n            var start = baseValue;\r\n            var end = this.Value;\r\n            if (isNaN(start))\r\n                start = 0;\r\n            if (isNaN(end))\r\n                end = 0;\r\n            return start + (end - start) * keyFrameProgress;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(LinearDoubleKeyFrame);\r\n    \r\n    export class SplineDoubleKeyFrame extends DoubleKeyFrame {\r\n        static KeySplineProperty: DependencyProperty = DependencyProperty.Register(\"KeySpline\", () => KeySpline, SplineDoubleKeyFrame);\r\n        KeySpline: KeySpline;\r\n\r\n        InterpolateValue(baseValue: number, keyFrameProgress: number): number {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n\r\n            var start = baseValue;\r\n            var end = this.Value;\r\n            var splineProgress = keyFrameProgress;\r\n            var keySpline = this.KeySpline;\r\n            if (keySpline)\r\n                splineProgress = keySpline.GetSplineProgress(keyFrameProgress);\r\n\r\n            if (isNaN(start))\r\n                start = 0;\r\n            if (isNaN(end))\r\n                end = 0;\r\n\r\n            return start + (end - start) * splineProgress;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SplineDoubleKeyFrame);\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export interface IEasingFunction {\r\n        Ease(normalizedTime: number): number;\r\n    }\r\n    export class EasingFunctionBase extends DependencyObject implements IEasingFunction {\r\n        static EasingModeProperty: DependencyProperty = DependencyProperty.Register(\"EasingMode\", () => new Enum(EasingMode), EasingFunctionBase);\r\n        EasingMode: EasingMode;\r\n\r\n        Ease(normalizedTime: number): number {\r\n            var easingMode = this.EasingMode;\r\n            switch (easingMode) {\r\n                case EasingMode.EaseIn:\r\n                    return this.EaseInCore(normalizedTime);\r\n                case EasingMode.EaseOut:\r\n                    return this.EaseInCore(1.0 - normalizedTime);\r\n                case EasingMode.EaseInOut:\r\n                    return normalizedTime <= 0.5 ?\r\n                        this.EaseInCore(normalizedTime * 2) * 0.5 :\r\n                        1.0 - this.EaseInCore(((1.0 - normalizedTime) * 2) * 0.5);\r\n                default:\r\n                    return 0.0;\r\n            }\r\n\r\n        }\r\n        EaseInCore(t: number): number {\r\n            //Abstract method\r\n            return t;\r\n        }\r\n    }\r\n}","/// <reference path=\"EasingFunctionBase.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class BackEase extends EasingFunctionBase {\r\n        static AmplitudeProperty: DependencyProperty = DependencyProperty.Register(\"Amplitude\", () => Number, BackEase);\r\n        Amplitude: number;\r\n        EaseInCore(t: number): number {\r\n            var a = this.Amplitude;\r\n            return (t * t * t) - (t * a * Math.sin(t * Math.PI));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(BackEase);\r\n\r\n    export class BounceEase extends EasingFunctionBase {\r\n        static BouncesProperty:DependencyProperty = DependencyProperty.Register(\"Bounces\", () => Number, BounceEase, 3);\r\n        static BouncinessProperty:DependencyProperty = DependencyProperty.Register(\"Bounciness\", () => Number, BounceEase, 2);\r\n        Bounces: number;\r\n        Bounciness: number;\r\n        EaseInCore(t: number): number {\r\n            t = 1 - t;\r\n            var bounces = this.Bounces;\r\n            var bounciness = this.Bounciness;\r\n            var r = -1;\r\n            var period = 2;\r\n\r\n            for (var i = 0; i <= bounces; i++) {\r\n                r += (period * Math.pow(1 + (bounciness / 2), -i));\r\n            }\r\n\r\n            var x1 = -1.0;\r\n            var x2 = 0;\r\n            var r_sq = r * r;\r\n            var val = 100;\r\n            var p = 0;\r\n\r\n            while (val > 0.0) {\r\n                x2 = x1 + period * Math.pow(1 + (bounciness / 2), -p++);\r\n                val = r_sq * (t - x1 / r) * (t - x2 / r);\r\n                x1 = x2;\r\n            }\r\n            return -val;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(BounceEase);\r\n\r\n    export class CircleEase extends EasingFunctionBase {\r\n        EaseInCore(t: number): number {\r\n            return 1 - Math.sqrt(1 - (t * t));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(CircleEase);\r\n\r\n    export class CubicEase extends EasingFunctionBase {\r\n        EaseInCore(t: number): number {\r\n            return t * t * t;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(CubicEase);\r\n\r\n    export class ElasticEase extends EasingFunctionBase {\r\n        static OscillationsProperty: DependencyProperty = DependencyProperty.Register(\"Oscillations\", () => Number, ElasticEase);\r\n        static SpringinessProperty: DependencyProperty = DependencyProperty.Register(\"Springiness\", () => Number, ElasticEase);\r\n        Oscillations: number;\r\n        Springiness: number;\r\n        EaseInCore(t: number): number {\r\n            var period = 1.0 / (this.Oscillations + .25);\r\n            var offset = period / 4;\r\n            t = t - 1;\r\n            return t * -Math.pow(2.0, this.Springiness * t) * Math.sin(((t - offset) * Math.PI * 2) / period);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ElasticEase);\r\n\r\n    export class ExponentialEase extends EasingFunctionBase {\r\n        static ExponentProperty: DependencyProperty = DependencyProperty.Register(\"Exponent\", () => Number, ExponentialEase);\r\n        Exponent: number;\r\n        EaseInCore(t: number): number {\r\n            var e = this.Exponent;\r\n            return (Math.exp(e * t) - 1) / (Math.exp(e) - 1);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ExponentialEase);\r\n\r\n    export class PowerEase extends EasingFunctionBase {\r\n        static PowerProperty: DependencyProperty = DependencyProperty.Register(\"Power\", () => Number, PowerEase);\r\n        Power: number;\r\n        EaseInCore(t: number): number {\r\n            return Math.pow(t, this.Power);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PowerEase);\r\n\r\n    export class QuadraticEase extends EasingFunctionBase {\r\n        EaseInCore(t: number): number {\r\n            return t * t;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(QuadraticEase);\r\n\r\n    export class QuarticEase extends EasingFunctionBase {\r\n        EaseInCore(t: number): number {\r\n            return t * t * t * t;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(QuarticEase);\r\n\r\n    export class QuinticEase extends EasingFunctionBase {\r\n        EaseInCore(t: number): number {\r\n            return t * t * t * t * t;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(QuinticEase);\r\n\r\n    export class SineEase extends EasingFunctionBase {\r\n        EaseInCore(t: number): number {\r\n            return 1 - (Math.sin(1 - t) * (Math.PI / 2));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SineEase);\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class KeySpline extends DependencyObject {\r\n        static PRECISION_LEVEL: number = 4;\r\n        static TOTAL_COUNT: number = Math.pow(2, KeySpline.PRECISION_LEVEL);\r\n\r\n        static ControlPoint1Property: DependencyProperty = DependencyProperty.RegisterCore(\"ControlPoint1\", function () { return Point; }, KeySpline, undefined, (d, args) => (<KeySpline>d).InvalidateControlPoints());\r\n        static ControlPoint2Property: DependencyProperty = DependencyProperty.RegisterCore(\"ControlPoint2\", function () { return Point; }, KeySpline, undefined, (d, args) => (<KeySpline>d).InvalidateControlPoints());\r\n        ControlPoint1: Point; //undefined is 0,0\r\n        ControlPoint2: Point; //undefined is 1,1\r\n\r\n        private _QuadraticsArray: IQuadraticCurve[] = null;\r\n        GetSplineProgress(linearProgress: number): number {\r\n            if (linearProgress >= 1.0)\r\n                return 1.0;\r\n            if (linearProgress <= 0.0)\r\n                return 0.0;\r\n            if (!this._QuadraticsArray)\r\n                this._RegenerateQuadratics();\r\n            return Curves.QuadraticArrayYForX(this._QuadraticsArray, linearProgress, KeySpline.TOTAL_COUNT);\r\n        }\r\n        private InvalidateControlPoints() {\r\n            this._QuadraticsArray = null;\r\n        }\r\n        private _RegenerateQuadratics() {\r\n            var c1 = this.ControlPoint1 || new Point(0, 0);\r\n            var c2 = this.ControlPoint2 || new Point(1.0, 1.0);\r\n            var src: ICubicCurve = {\r\n                c0: { x: 0.0, y: 0.0 },\r\n                c1: { x: c1.x, y: c1.y },\r\n                c2: { x: c2.x, y: c2.y },\r\n                c3: { x: 1.0, y: 1.0 }\r\n            };\r\n\r\n            var carr: ICubicCurve[] = [];\r\n            Curves.SubdivideCubicAtLevel(carr, KeySpline.PRECISION_LEVEL, src);\r\n            this._QuadraticsArray = Curves.ConvertCubicsToQuadratics(carr, KeySpline.TOTAL_COUNT);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(KeySpline);\r\n}","/// <reference path=\"AnimationUsingKeyFrames.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class ObjectAnimationUsingKeyFrames extends AnimationUsingKeyFrames {\r\n        Resolve (target: DependencyObject, propd: DependencyProperty): boolean {\r\n            for (var en = this.KeyFrames.getEnumerator(); en.moveNext();) {\r\n                var keyFrame = <ObjectKeyFrame>en.current;\r\n                var value = keyFrame.Value;\r\n                if (value == null) {\r\n                    keyFrame.ConvertedValue = undefined;\r\n                } else {\r\n                    var cv = convertKeyFrame(propd, value);\r\n                    if (cv === BAD_CONVERSION)\r\n                        return false;\r\n                    keyFrame.ConvertedValue = cv;\r\n                }\r\n            }\r\n            return super.Resolve(target, propd);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ObjectAnimationUsingKeyFrames);\r\n\r\n    var BAD_CONVERSION = {};\r\n\r\n    function convertKeyFrame (propd: DependencyProperty, value: any): any {\r\n        try {\r\n            return nullstone.convertAnyToType(value, <Function>propd.GetTargetType());\r\n        } catch (err) {\r\n            console.warn(\"Error resolving ObjectAnimation Value.\");\r\n            return BAD_CONVERSION;\r\n        }\r\n    }\r\n}","/// <reference path=\"KeyFrame.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class ObjectKeyFrame extends KeyFrame {\r\n        static ValueProperty: DependencyProperty = DependencyProperty.Register(\"Value\", () => Object, ObjectKeyFrame);\r\n        Value: any;\r\n        ConvertedValue: any = undefined;\r\n    }\r\n    Fayde.CoreLibrary.add(ObjectKeyFrame);\r\n    \r\n    export class DiscreteObjectKeyFrame extends ObjectKeyFrame {\r\n        InterpolateValue(baseValue: any, keyFrameProgress: number): any {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.ConvertedValue;\r\n            return baseValue;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DiscreteObjectKeyFrame);\r\n}","/// <reference path=\"AnimationBase.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class PointAnimation extends AnimationBase {\r\n        static ByProperty: DependencyProperty = DependencyProperty.Register(\"By\", () => Point, PointAnimation, null, (d, args) => (<PointAnimation>d)._ByChanged(args));\r\n        static EasingFunctionProperty: DependencyProperty = DependencyProperty.Register(\"EasingFunction\", () => EasingFunctionBase, PointAnimation, undefined, (d, args) => (<PointAnimation>d)._EasingChanged(args));\r\n        static FromProperty: DependencyProperty = DependencyProperty.Register(\"From\", () => Point, PointAnimation, null, (d, args) => (<PointAnimation>d)._FromChanged(args));\r\n        static ToProperty: DependencyProperty = DependencyProperty.Register(\"To\", () => Point, PointAnimation, null, (d, args) => (<PointAnimation>d)._ToChanged(args));\r\n        By: Point;\r\n        EasingFunction: IEasingFunction;\r\n        From: Point;\r\n        To: Point;\r\n\r\n        private _FromCached: Point = null;\r\n        private _ToCached: Point = null;\r\n        private _ByCached: Point = null;\r\n        private _EasingCached: EasingFunctionBase = undefined;\r\n\r\n        constructor() {\r\n            super();\r\n        }\r\n\r\n        GetCurrentValue(defaultOriginalValue: any, defaultDestinationValue: any, clockData: IClockData): Point {\r\n            var start = new Point();\r\n            if (this._FromCached != null)\r\n                start = this._FromCached;\r\n            else if (defaultOriginalValue instanceof Point)\r\n                start = defaultOriginalValue;\r\n\r\n            var end = start;\r\n            if (this._ToCached != null)\r\n                end = this._ToCached;\r\n            else if (this._ByCached != null)\r\n                end = new Point(start.x + this._ByCached.x, start.y + this._ByCached.y);\r\n            else if (defaultDestinationValue instanceof Point)\r\n                end = defaultDestinationValue;\r\n\r\n            var easingFunc = this._EasingCached;\r\n            if (easingFunc != null)\r\n                clockData.Progress = easingFunc.Ease(clockData.Progress);\r\n\r\n            return Point.LERP(start, end, clockData.Progress);\r\n        }\r\n        \r\n        private _FromChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._FromCached = args.NewValue;\r\n        }\r\n        private _ToChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._ToCached = args.NewValue;\r\n        }\r\n        private _ByChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._ByCached = args.NewValue;\r\n        }\r\n        private _EasingChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            this._EasingCached = args.NewValue;\r\n        }\r\n        \r\n        GenerateFrom(): AnimationBase {\r\n            return new PointAnimation();\r\n        }\r\n        GenerateTo(isEntering: boolean): AnimationBase {\r\n            var val = (this.From != null) ? this.From : this.To;\r\n            if (val == null)\r\n                return null;\r\n            var pa = new PointAnimation();\r\n            pa.To = val;\r\n            return pa;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PointAnimation);\r\n}","/// <reference path=\"AnimationUsingKeyFrames.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class PointAnimationUsingKeyFrames extends AnimationUsingKeyFrames {\r\n        GenerateFrom(): AnimationBase {\r\n            return new PointAnimation();\r\n        }\r\n        GenerateTo(isEntering: boolean): AnimationBase {\r\n            var kfs = this.KeyFrames;\r\n            if (kfs.Count === 0)\r\n                return null;\r\n            var val = (kfs.GetValueAt(isEntering ? 0 : kfs.Count - 1)).Value;\r\n            if (val == null)\r\n                return null;\r\n            var pa = new PointAnimation();\r\n            pa.To = val;\r\n            return pa;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(PointAnimationUsingKeyFrames);\r\n}","/// <reference path=\"KeyFrame.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export class PointKeyFrame extends KeyFrame {\r\n        static ValueProperty: DependencyProperty = DependencyProperty.Register(\"Value\", () => Point, PointKeyFrame);\r\n        Value: Point;\r\n    }\r\n    Fayde.CoreLibrary.add(PointKeyFrame);\r\n    \r\n    export class DiscretePointKeyFrame extends PointKeyFrame {\r\n        InterpolateValue(baseValue: Point, keyFrameProgress: number): Point {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n            return baseValue;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(DiscretePointKeyFrame);\r\n    \r\n    export class EasingPointKeyFrame extends PointKeyFrame {\r\n        static EasingFunctionProperty = DependencyProperty.Register(\"EasingFunction\", () => EasingFunctionBase, EasingPointKeyFrame);\r\n        EasingFunction: EasingFunctionBase;\r\n\r\n        InterpolateValue(baseValue: Point, keyFrameProgress: number): Point {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n\r\n            var start = baseValue;\r\n            var end = this.Value;\r\n\r\n            var easingFunction = this.EasingFunction;\r\n            if (easingFunction)\r\n                keyFrameProgress = easingFunction.Ease(keyFrameProgress);\r\n\r\n            return Point.LERP(start, end, keyFrameProgress);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(EasingPointKeyFrame);\r\n    \r\n    export class LinearPointKeyFrame extends PointKeyFrame {\r\n        InterpolateValue(baseValue: Point, keyFrameProgress: number): Point {\r\n            return Point.LERP(baseValue, this.Value, keyFrameProgress);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(LinearPointKeyFrame);\r\n    \r\n    export class SplinePointKeyFrame extends PointKeyFrame {\r\n        static KeySplineProperty: DependencyProperty = DependencyProperty.Register(\"KeySpline\", () => KeySpline, SplinePointKeyFrame);\r\n        KeySpline: KeySpline;\r\n\r\n        InterpolateValue(baseValue: Point, keyFrameProgress: number): Point {\r\n            if (keyFrameProgress >= 1.0)\r\n                return this.Value;\r\n\r\n            var start = baseValue;\r\n            var end = this.Value;\r\n            var splineProgress = keyFrameProgress;\r\n            var keySpline = this.KeySpline;\r\n            if (keySpline)\r\n                splineProgress = keySpline.GetSplineProgress(keyFrameProgress);\r\n\r\n            if (isNaN(start.x))\r\n                start.x = 0;\r\n            if (isNaN(start.y))\r\n                start.y = 0;\r\n            if (isNaN(end.x))\r\n                end.x = 0;\r\n            if (isNaN(end.y))\r\n                end.y = 0;\r\n\r\n            return Point.LERP(start, end, splineProgress);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(SplinePointKeyFrame);\r\n}","/// <reference path=\"Timeline.ts\" />\r\n\r\nmodule Fayde.Media.Animation {\r\n    export interface IStoryboadResolution {\r\n        Target: DependencyObject;\r\n        Property: Data.PropertyPath;\r\n    }\r\n\r\n    /// http://msdn.microsoft.com/en-us/library/cc189019(v=vs.95).aspx\r\n    export class Storyboard extends Timeline {\r\n        static TargetNameProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"TargetName\", () => String, Storyboard);\r\n\r\n        static GetTargetName (d: DependencyObject): string {\r\n            return d.GetValue(Storyboard.TargetNameProperty);\r\n        }\r\n\r\n        static SetTargetName (d: DependencyObject, value: string) {\r\n            return d.SetValue(Storyboard.TargetNameProperty, value);\r\n        }\r\n\r\n        TargetName: string;\r\n\r\n        static TargetPropertyProperty: DependencyProperty = DependencyProperty.RegisterAttached(\"TargetProperty\", () => Data.PropertyPath, Storyboard);\r\n\r\n        static GetTargetProperty (d: DependencyObject): Data.PropertyPath {\r\n            return d.GetValue(Storyboard.TargetPropertyProperty);\r\n        }\r\n\r\n        static SetTargetProperty (d: DependencyObject, value: Data.PropertyPath) {\r\n            return d.SetValue(Storyboard.TargetPropertyProperty, value);\r\n        }\r\n\r\n        TargetProperty: Data.PropertyPath;\r\n\r\n        static ResolveTarget (timeline: Timeline): IStoryboadResolution {\r\n            var res: IStoryboadResolution = {\r\n                Target: undefined,\r\n                Property: undefined\r\n            };\r\n\r\n            if (timeline.HasManualTarget) {\r\n                res.Target = timeline.ManualTarget;\r\n            } else {\r\n                var targetName = Storyboard.GetTargetName(timeline);\r\n                if (targetName)\r\n                    res.Target = <DependencyObject>timeline.FindName(targetName, true);\r\n            }\r\n\r\n            res.Property = Storyboard.GetTargetProperty(timeline);\r\n\r\n            return res;\r\n        }\r\n\r\n        static ChildrenProperty = DependencyProperty.RegisterImmutable<TimelineCollection>(\"Children\", () => TimelineCollection, Storyboard);\r\n        Children: TimelineCollection;\r\n\r\n        constructor () {\r\n            super();\r\n\r\n            var coll = Storyboard.ChildrenProperty.Initialize(this);\r\n            coll.AttachTo(this);\r\n        }\r\n\r\n        static SetTarget (timeline: Timeline, target: DependencyObject) {\r\n            timeline.ManualTarget = target;\r\n        }\r\n\r\n        Begin () {\r\n            if (Animation.Log)\r\n                console.log(getLogMessage(\"Storyboard.Begin\", this, true));\r\n            this.Reset();\r\n            var error = new BError();\r\n            var promotedValues: any[] = [];\r\n            var enumerator = this.Children.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                var animation = <AnimationBase>enumerator.current;\r\n                if (!animation._Hookup(promotedValues, error))\r\n                    error.ThrowException();\r\n            }\r\n            Application.Current.RegisterStoryboard(this);\r\n        }\r\n\r\n        Pause () {\r\n            super.Pause();\r\n            for (var en = this.Children.getEnumerator(); en.moveNext();) {\r\n                en.current.Pause();\r\n            }\r\n        }\r\n\r\n        Resume () {\r\n            super.Resume();\r\n            for (var en = this.Children.getEnumerator(); en.moveNext();) {\r\n                en.current.Resume();\r\n            }\r\n        }\r\n\r\n        Stop () {\r\n            if (Animation.Log)\r\n                console.log(getLogMessage(\"Storyboard.Stop\", this, false));\r\n            super.Stop();\r\n            Application.Current.UnregisterStoryboard(this);\r\n            for (var en = this.Children.getEnumerator(); en.moveNext();) {\r\n                en.current.Stop();\r\n            }\r\n        }\r\n\r\n        UpdateInternal (clockData: IClockData) {\r\n            if (Animation.Log)\r\n                console.log(getLogMessage(\"Storyboard.UpdateInternal\", this, false, clockData));\r\n            for (var en = this.Children.getEnumerator(); en.moveNext();) {\r\n                en.current.Update(clockData.CurrentTime.Ticks);\r\n            }\r\n        }\r\n\r\n        GetNaturalDurationCore (): Duration {\r\n            var fullTicks = 0;\r\n            for (var en = this.Children.getEnumerator(); en.moveNext();) {\r\n                var timeline = en.current;\r\n                var dur = timeline.GetNaturalDuration();\r\n                if (dur.IsAutomatic)\r\n                    continue;\r\n                if (dur.IsForever)\r\n                    return Duration.Forever;\r\n                //duration must have a timespan if we got here\r\n                var spanTicks = dur.TimeSpan.Ticks;\r\n                var repeat = timeline.RepeatBehavior || Timeline.DEFAULT_REPEAT_BEHAVIOR;\r\n                if (repeat.IsForever)\r\n                    return Duration.Forever;\r\n                if (repeat.HasCount)\r\n                    spanTicks = spanTicks * repeat.Count;\r\n                if (timeline.AutoReverse)\r\n                    spanTicks *= 2;\r\n                if (repeat.HasDuration)\r\n                    spanTicks = repeat.Duration.TimeSpan.Ticks;\r\n                if (spanTicks !== 0)\r\n                    spanTicks = spanTicks / timeline.SpeedRatio;\r\n                var bt = timeline.BeginTime;\r\n                if (bt) spanTicks += bt.Ticks;\r\n                if (fullTicks === 0 || fullTicks <= spanTicks)\r\n                    fullTicks = spanTicks;\r\n            }\r\n\r\n            if (!fullTicks)\r\n                return Duration.Automatic;\r\n            return new Duration(new TimeSpan(fullTicks));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(Storyboard);\r\n    Markup.Content(Storyboard, Storyboard.ChildrenProperty);\r\n\r\n    function getLogMessage (action: string, storyboard: Storyboard, full: boolean, clockData?: IClockData): string {\r\n        var anims = [];\r\n        var cur = \"\";\r\n\r\n        var enumerator = storyboard.Children.getEnumerator();\r\n        var animation: Timeline;\r\n        while (enumerator.moveNext()) {\r\n            animation = enumerator.current;\r\n            cur = \"\";\r\n            cur += \"(\";\r\n            cur += (<any>animation).constructor.name;\r\n            cur += \":\";\r\n            cur += Storyboard.GetTargetName(animation);\r\n            cur += \":\";\r\n            var path = Storyboard.GetTargetProperty(animation);\r\n            cur += path ? path.Path : \"\";\r\n            cur += \")\";\r\n            anims.push(cur);\r\n        }\r\n        var msg = \"ANIMATION:\" + action + \":\" + (<any>storyboard)._ID;\r\n        if (clockData)\r\n            msg += \"(\" + (clockData.Progress * 100).toFixed(0) + \"%)\";\r\n        if (full)\r\n            msg += \"->[\" + anims.join(\",\") + \"]\";\r\n        return msg;\r\n    }\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\"/>\r\n\r\nmodule Fayde.Media.Imaging {\r\n    export class ImageSource extends DependencyObject implements minerva.controls.image.IImageSource {\r\n        static PixelWidthProperty = DependencyProperty.RegisterReadOnly(\"PixelWidth\", () => Number, ImageSource, 0);\r\n        static PixelHeightProperty = DependencyProperty.RegisterReadOnly(\"PixelHeight\", () => Number, ImageSource, 0);\r\n        PixelWidth: number;\r\n        PixelHeight: number;\r\n\r\n        protected $element: HTMLMediaElement|HTMLImageElement = null;\r\n\r\n        constructor() {\r\n            super();\r\n        }\r\n\r\n        get pixelWidth(): number {\r\n            return this.GetValue(ImageSource.PixelWidthProperty);\r\n        }\r\n\r\n        get pixelHeight(): number {\r\n            return this.GetValue(ImageSource.PixelHeightProperty);\r\n        }\r\n\r\n        get isEmpty(): boolean {\r\n            return !this.$element;\r\n        }\r\n\r\n        draw(ctx: CanvasRenderingContext2D) {\r\n            ctx.drawImage(<any>this.$element, 0, 0);\r\n        }\r\n\r\n        createPattern(ctx: CanvasRenderingContext2D): CanvasPattern {\r\n            ctx.rect(0, 0, this.pixelWidth, this.pixelHeight);\r\n            return ctx.createPattern(<any>this.$element, \"no-repeat\");\r\n        }\r\n\r\n        reset() {\r\n            this.$element = this.createElement();\r\n            this.setMetrics(0, 0);\r\n        }\r\n\r\n        createElement(): HTMLMediaElement|HTMLImageElement {\r\n            return undefined;\r\n        }\r\n\r\n        protected setMetrics(pixelWidth: number, pixelHeight: number) {\r\n            this.SetCurrentValue(ImageSource.PixelWidthProperty, pixelWidth);\r\n            this.SetCurrentValue(ImageSource.PixelHeightProperty, pixelHeight);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ImageSource);\r\n}","/// <reference path=\"ImageSource.ts\"/>\r\n\r\nmodule Fayde.Media.Imaging {\r\n    export interface IBitmapSourceWatcher {\r\n        onErrored(source: BitmapSource, error: Error);\r\n        onLoaded(source: BitmapSource);\r\n        onChanged(source: BitmapSource);\r\n    }\r\n\r\n    export class BitmapSource extends ImageSource {\r\n        protected $element: HTMLImageElement;\r\n        private $watchers: IBitmapSourceWatcher[] = [];\r\n\r\n        createElement(): HTMLMediaElement|HTMLImageElement {\r\n            return new Image();\r\n        }\r\n\r\n        reset() {\r\n            super.reset();\r\n            this.$element.onerror = (e: ErrorEvent) => this.onImageErrored(e);\r\n            this.$element.onload = (e) => {\r\n                this.onImageLoaded();\r\n                this.onImageChanged();\r\n            };\r\n            this.onImageChanged();\r\n        }\r\n\r\n        watch(watcher: IBitmapSourceWatcher): nullstone.IDisposable {\r\n            var watchers = this.$watchers;\r\n            watchers.push(watcher);\r\n            return {\r\n                dispose() {\r\n                    var index = watchers.indexOf(watcher);\r\n                    if (index > -1)\r\n                        watchers.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        protected onImageLoaded() {\r\n            this.setMetrics(this.$element.naturalWidth, this.$element.naturalHeight);\r\n            for (var i = 0, watchers = this.$watchers; i < watchers.length; i++) {\r\n                watchers[i].onLoaded(this);\r\n            }\r\n        }\r\n\r\n        protected onImageErrored(e: ErrorEvent) {\r\n            console.warn(\"Failed to load: \" + this.$element.src.toString());\r\n            for (var i = 0, watchers = this.$watchers; i < watchers.length; i++) {\r\n                watchers[i].onErrored(this, e.error);\r\n            }\r\n        }\r\n\r\n        protected onImageChanged() {\r\n            for (var i = 0, watchers = this.$watchers; i < watchers.length; i++) {\r\n                watchers[i].onChanged(this);\r\n            }\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(BitmapSource);\r\n}","/// <reference path=\"BitmapSource.ts\"/>\r\n\r\nmodule Fayde.Media.Imaging {\r\n    export class BitmapImage extends BitmapSource {\r\n        static UriSourceProperty = DependencyProperty.RegisterFull(\"UriSource\", () => Uri, BitmapImage, undefined, (bi: BitmapImage, args) => bi.OnUriSourceChanged(args.OldValue, args.NewValue), undefined, true);\r\n        UriSource: Uri;\r\n        ImageFailed = new nullstone.Event();\r\n        ImageOpened = new nullstone.Event();\r\n\r\n        private _BackingBuffer: ArrayBuffer = null;\r\n\r\n        constructor(uri?: Uri) {\r\n            super();\r\n            if (uri)\r\n                this.UriSource = uri;\r\n        }\r\n\r\n        protected OnUriSourceChanged(oldValue: Uri, newValue: Uri) {\r\n            if (Uri.isNullOrEmpty(newValue)) {\r\n                this.reset();\r\n            } else {\r\n                if (!this.$element || !newValue)\r\n                    this.reset();\r\n                this.$element.src = TypeManager.resolveResource(newValue);\r\n                this.onImageChanged();\r\n            }\r\n        }\r\n\r\n        protected onImageErrored(e: ErrorEvent) {\r\n            super.onImageErrored(e);\r\n            this.ImageFailed.raise(this, null);\r\n        }\r\n\r\n        protected onImageLoaded() {\r\n            super.onImageLoaded();\r\n            this.ImageOpened.raise(this, null);\r\n        }\r\n\r\n        SetSource(buffer: ArrayBuffer) {\r\n            this._BackingBuffer = buffer;\r\n            this.UriSource = encodeImage(buffer);\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(BitmapImage);\r\n\r\n    nullstone.registerTypeConverter(ImageSource, (val: any): ImageSource => {\r\n        if (!val)\r\n            return null;\r\n        if (val instanceof ImageSource)\r\n            return val;\r\n        if (val instanceof ArrayBuffer) {\r\n            var bi = new BitmapImage();\r\n            bi.SetSource(val);\r\n            return bi;\r\n        }\r\n        var bi = new BitmapImage();\r\n        bi.UriSource = nullstone.convertAnyToType(val, Uri);\r\n        return bi;\r\n    });\r\n}","/// <reference path=\"../TileBrush.ts\"/>\r\n\r\nmodule Fayde.Media.Imaging {\r\n    export class ImageBrush extends TileBrush {\r\n        private static _SourceCoercer(d: DependencyObject, propd: DependencyProperty, value: any): any {\r\n            if (typeof value === \"string\")\r\n                return new Media.Imaging.BitmapImage(new Uri(value));\r\n            if (value instanceof Uri)\r\n                return new Media.Imaging.BitmapImage(value);\r\n            return value;\r\n        }\r\n\r\n        static ImageSourceProperty = DependencyProperty.RegisterFull(\"ImageSource\", () => ImageSource, ImageBrush, undefined, (d: ImageBrush, args) => d._ImageSourceChanged(args), ImageBrush._SourceCoercer);\r\n        ImageSource: ImageSource;\r\n        ImageFailed = new nullstone.Event();\r\n        ImageOpened = new nullstone.Event();\r\n\r\n        private $watcher: nullstone.IDisposable = null;\r\n\r\n        setupBrush(ctx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var source = this.ImageSource;\r\n            if (source && !source.isEmpty)\r\n                super.setupBrush(ctx, bounds);\r\n        }\r\n\r\n        GetTileExtents(): minerva.Rect {\r\n            var source = this.ImageSource;\r\n            return new minerva.Rect(0, 0, source.pixelWidth, source.pixelHeight);\r\n        }\r\n\r\n        DrawTile(canvasCtx: CanvasRenderingContext2D, bounds: minerva.Rect) {\r\n            var source = this.ImageSource;\r\n            canvasCtx.fillStyle = source.createPattern(canvasCtx);\r\n            canvasCtx.fill();\r\n        }\r\n\r\n        private _ImageSourceChanged(args: IDependencyPropertyChangedEventArgs) {\r\n            if (this.$watcher) {\r\n                this.$watcher.dispose();\r\n                this.$watcher = null;\r\n            }\r\n\r\n            if (args.NewValue instanceof BitmapSource) {\r\n                this.$watcher = args.NewValue.watch({\r\n                    onErrored: (source, error) => this.OnImageErrored(source, error),\r\n                    onLoaded: (source) => this.OnImageLoaded(source),\r\n                    onChanged: (source) => this.OnImageChanged(source)\r\n                });\r\n            }\r\n            this.InvalidateBrush();\r\n        }\r\n\r\n        OnImageErrored(source: BitmapSource, error: Error) {\r\n            this.ImageFailed.raise(this, null);\r\n        }\r\n\r\n        OnImageLoaded(source: BitmapSource) {\r\n            this.ImageOpened.raise(this, null);\r\n        }\r\n\r\n        OnImageChanged(source: BitmapSource) {\r\n            this.InvalidateBrush();\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(ImageBrush);\r\n}","module Fayde.Media.Imaging {\r\n    export function encodeImage (buffer: ArrayBuffer): Uri {\r\n        var bytes = new Uint8Array(buffer);\r\n        var data = convertToBase64(bytes);\r\n        var type = getImageType(bytes);\r\n        return new Uri(`data:${type};base64,${data}`);\r\n    }\r\n\r\n    function getImageType (bytes: Uint8Array) {\r\n        if (isJpg(bytes))\r\n            return \"image/jpeg\";\r\n        if (isPng(bytes))\r\n            return \"image/png\";\r\n        return \"image/jpeg\";\r\n    }\r\n\r\n    function convertToBase64 (bytes: Uint8Array) {\r\n        var arr = [];\r\n        for (var i = 0; i < bytes.byteLength; i++) {\r\n            arr.push(String.fromCharCode(bytes[i]));\r\n        }\r\n        return window.btoa(arr.join(''));\r\n    }\r\n\r\n    function isJpg (bytes: Uint8Array): boolean {\r\n        return bytes[0] === 0xFF\r\n            && bytes[1] === 0xD8\r\n            && bytes[bytes.length - 2] === 0xFF\r\n            && bytes[bytes.length - 1] === 0xD9;\r\n    }\r\n\r\n    function isPng (bytes: Uint8Array): boolean {\r\n        return bytes[0] === 0x89\r\n            && bytes[1] === 0x50\r\n            && bytes[2] === 0x4E\r\n            && bytes[3] === 0x47\r\n            && bytes[4] === 0x0D\r\n            && bytes[5] === 0x0A\r\n            && bytes[6] === 0x1A\r\n            && bytes[7] === 0x0A;\r\n    }\r\n}","module Fayde.Media.LinearGradient {\r\n    export interface IInterpolator {\r\n        x0: number;\r\n        y0: number;\r\n        x1: number;\r\n        y1: number;\r\n        step(): boolean;\r\n        interpolate(offset: number): number;\r\n    }\r\n\r\n    export function createRepeatInterpolator (start: Point, end: Point, bounds: minerva.Rect): IInterpolator {\r\n        var first = {x: start.x, y: start.y};\r\n        var last = {x: end.x, y: end.y};\r\n        var dir = {x: end.x - start.x, y: end.y - start.y};\r\n\r\n        calcMetrics(dir, first, last, bounds);\r\n        var numSteps = (last.x - first.x) / dir.x;\r\n        var stepSize = 1.0 / numSteps;\r\n        var cur = -stepSize;\r\n\r\n        return {\r\n            x0: first.x,\r\n            y0: first.y,\r\n            x1: last.x,\r\n            y1: last.y,\r\n            step (): boolean {\r\n                cur += stepSize;\r\n                return cur < 1;\r\n            },\r\n            interpolate (offset: number): number {\r\n                return cur + (offset / numSteps);\r\n            }\r\n        };\r\n    }\r\n\r\n    export function createReflectInterpolator (start: Point, end: Point, bounds: minerva.Rect): IInterpolator {\r\n        var first = {x: start.x, y: start.y};\r\n        var last = {x: end.x, y: end.y};\r\n        var dir = {x: end.x - start.x, y: end.y - start.y};\r\n\r\n        calcMetrics(dir, first, last, bounds);\r\n        var numSteps = (last.x - first.x) / dir.x;\r\n        var stepSize = 1.0 / numSteps;\r\n        var cur = -stepSize;\r\n        var inverted = Math.round((start.x - first.x) / dir.x) % 2 === 0;\r\n\r\n        return {\r\n            x0: first.x,\r\n            y0: first.y,\r\n            x1: last.x,\r\n            y1: last.y,\r\n            step (): boolean {\r\n                inverted = !inverted;\r\n                cur += stepSize;\r\n                return cur < 1;\r\n            },\r\n            interpolate (offset: number): number {\r\n                var norm = offset / numSteps;\r\n                return !inverted ? cur + norm : cur + (stepSize - norm);\r\n            }\r\n        };\r\n    }\r\n}","module Fayde.Media.LinearGradient {\r\n    export interface ICoordinates {\r\n        x: number;\r\n        y: number;\r\n    }\r\n\r\n    export function calcMetrics (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        if (dir.y === 0) {\r\n            if (dir.x < 0)\r\n                W(dir, first, last, bounds);\r\n            else if (dir.x !== 0)\r\n                E(dir, first, last, bounds);\r\n        } else if (dir.x === 0) {\r\n            if (dir.y < 0)\r\n                N(dir, first, last, bounds);\r\n            else if (dir.y !== 0)\r\n                S(dir, first, last, bounds);\r\n        } else if (dir.x < 0 && dir.y < 0) { // e\\s\r\n            NW(dir, first, last, bounds);\r\n        } else if (dir.x < 0 && dir.y > 0) { // e/s\r\n            SW(dir, first, last, bounds);\r\n        } else if (dir.x > 0 && dir.y < 0) { // s/e\r\n            NE(dir, first, last, bounds);\r\n        } else if (dir.x > 0 && dir.y > 0) { // s\\e\r\n            SE(dir, first, last, bounds);\r\n        }\r\n    }\r\n\r\n    //+x,0y\r\n    function E (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        while (first.x >= bounds.x)\r\n            first.x -= dir.x;\r\n        while (last.x <= maxX)\r\n            last.x += dir.x;\r\n    }\r\n\r\n    //-x,0y\r\n    function W (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        while (first.x <= maxX)\r\n            first.x -= dir.x;\r\n        while (last.x >= bounds.x)\r\n            last.x += dir.x;\r\n    }\r\n\r\n    //0x,+y\r\n    function S (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.y >= bounds.y)\r\n            first.y -= dir.y;\r\n        while (last.y <= maxY)\r\n            last.y += dir.y;\r\n    }\r\n\r\n    //0x,-y\r\n    function N (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.y <= maxY)\r\n            first.y -= dir.y;\r\n        while (last.y >= bounds.y)\r\n            last.y += dir.y;\r\n    }\r\n\r\n    //-x,-y\r\n    function NW (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x <= maxX && first.y <= maxY) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x >= bounds.x && last.y >= bounds.y) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n\r\n    }\r\n\r\n    //-x,+y\r\n    function SW (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x <= maxX && first.y >= bounds.y) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x >= bounds.x && last.y <= maxY) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n    }\r\n\r\n    //+x,-y\r\n    function NE (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x >= bounds.x && first.y <= maxY) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x <= maxX && last.y >= bounds.y) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n    }\r\n\r\n    //+x,+y\r\n    function SE (dir: ICoordinates, first: ICoordinates, last: ICoordinates, bounds: minerva.Rect) {\r\n        var maxX = bounds.x + bounds.width;\r\n        var maxY = bounds.y + bounds.height;\r\n        while (first.x >= bounds.x && first.y >= bounds.y) {\r\n            first.x -= dir.x;\r\n            first.y -= dir.y;\r\n        }\r\n        while (last.x <= maxX && last.y <= maxY) {\r\n            last.x += dir.x;\r\n            last.y += dir.y;\r\n        }\r\n    }\r\n}","module Fayde.Media.RadialGradient {\r\n    export interface IExtender {\r\n        x0: number;\r\n        y0: number;\r\n        r0: number;\r\n        x1: number;\r\n        y1: number;\r\n        r1: number;\r\n        step(): boolean;\r\n        createGradient(ctx: CanvasRenderingContext2D): CanvasGradient;\r\n    }\r\n    export interface IRadialPointData {\r\n        x0: number;\r\n        y0: number;\r\n        x1: number;\r\n        y1: number;\r\n        r1: number;\r\n        sx: number;\r\n        sy: number;\r\n        side: number;\r\n        balanced: boolean;\r\n    }\r\n    export function createExtender (data: IRadialPointData, bounds: minerva.Rect): IExtender {\r\n        var started = false;\r\n        var dx = data.x1 - data.x0;\r\n        var dy = data.y1 - data.y0;\r\n        var rstep = data.r1;\r\n        var reached = false;\r\n\r\n        var ext = {\r\n            x0: data.x0,\r\n            y0: data.y0,\r\n            r0: 0,\r\n            x1: data.x1,\r\n            y1: data.y1,\r\n            r1: data.r1,\r\n            step (): boolean {\r\n                if (!started) {\r\n                    started = true;\r\n                    return true;\r\n                }\r\n\r\n                ext.x0 = ext.x1;\r\n                ext.y0 = ext.y1;\r\n                ext.r0 += rstep;\r\n                ext.r1 += rstep;\r\n                ext.x1 += dx;\r\n                ext.y1 += dy;\r\n\r\n                if (reached)\r\n                    return false;\r\n                reached = exceedBounds(ext.x1, ext.y1, ext.r1, bounds);\r\n                return true;\r\n            },\r\n            createGradient (ctx: CanvasRenderingContext2D): CanvasGradient {\r\n                return ctx.createRadialGradient(ext.x0, ext.y0, ext.r0, ext.x1, ext.y1, ext.r1);\r\n            }\r\n        };\r\n        return ext;\r\n    }\r\n\r\n    function exceedBounds(cx: number, cy: number, radius: number, bounds: minerva.Rect) {\r\n        var ne = len(cx, cy, bounds.x, bounds.y);\r\n        var nw = len(cx, cy, bounds.x + bounds.width, bounds.y);\r\n        var sw = len(cx, cy, bounds.x + bounds.width, bounds.y + bounds.height);\r\n        var se = len(cx, cy, bounds.x, bounds.y + bounds.height);\r\n        return Math.max(ne, nw, sw, se) < radius;\r\n    }\r\n\r\n    function len (x1: number, y1: number, x2: number, y2: number): number {\r\n        var dx = x2 - x1;\r\n        var dy = y2 - y1;\r\n        return Math.sqrt((dx * dx) + (dy * dy));\r\n    }\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media.VSM {\r\n    export class VisualState extends DependencyObject {\r\n        static StoryboardProperty = DependencyProperty.Register(\"Storyboard\", () => Animation.Storyboard, VisualState);\r\n        Storyboard: Animation.Storyboard;\r\n    }\r\n    Fayde.CoreLibrary.add(VisualState);\r\n    Markup.Content(VisualState, VisualState.StoryboardProperty);\r\n\r\n    export class VisualStateCollection extends XamlObjectCollection<VisualState> {\r\n    }\r\n    Fayde.CoreLibrary.add(VisualStateCollection);\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n/// <reference path=\"../../Core/XamlObjectCollection.ts\" />\r\n\r\nmodule Fayde.Media.VSM {\r\n    export class VisualStateChangedEventArgs implements nullstone.IEventArgs {\r\n        OldState: VisualState;\r\n        NewState: VisualState;\r\n        Control: Controls.Control;\r\n        constructor(oldState: VisualState, newState: VisualState, control: Controls.Control) {\r\n            Object.defineProperty(this, \"OldState\", { value: oldState, writable: false });\r\n            Object.defineProperty(this, \"NewState\", { value: newState, writable: false });\r\n            Object.defineProperty(this, \"Control\", { value: control, writable: false });\r\n        }\r\n    }\r\n\r\n    export class VisualStateGroup extends DependencyObject {\r\n        static StatesProperty = DependencyProperty.RegisterImmutable<VisualStateCollection>(\"States\", () => VisualStateCollection, VisualStateGroup);\r\n        States: VisualStateCollection;\r\n\r\n        static TransitionsProperty = DependencyProperty.RegisterImmutable<XamlObjectCollection<VisualTransition>>(\"Transitions\", () => XamlObjectCollection, VisualStateGroup);\r\n        Transitions: XamlObjectCollection<VisualTransition>;\r\n\r\n        private _CurrentStoryboards: Animation.Storyboard[] = [];\r\n        get CurrentStoryboards(): Animation.Storyboard[] {\r\n            return this._CurrentStoryboards.slice(0);\r\n        }\r\n        CurrentStateChanging = new nullstone.Event<VisualStateChangedEventArgs>();\r\n        CurrentStateChanged = new nullstone.Event<VisualStateChangedEventArgs>();\r\n        CurrentState: VisualState = null;\r\n\r\n        constructor() {\r\n            super();\r\n            VisualStateGroup.StatesProperty.Initialize(this);\r\n            VisualStateGroup.TransitionsProperty.Initialize(this);\r\n        }\r\n\r\n        GetState(stateName: string): VisualState {\r\n            var enumerator = this.States.getEnumerator();\r\n            var state: VisualState;\r\n            while (enumerator.moveNext()) {\r\n                state = enumerator.current;\r\n                if (state.Name === stateName)\r\n                    return state;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        StartNewThenStopOld(element: FrameworkElement, newStoryboards: Animation.Storyboard[]) {\r\n            var i: number;\r\n            var storyboard: Animation.Storyboard;\r\n            var res = element.Resources;\r\n            for (i = 0; i < newStoryboards.length; i++) {\r\n                storyboard = newStoryboards[i];\r\n                if (storyboard == null)\r\n                    continue;\r\n                res.Set((<any>storyboard)._ID, storyboard);\r\n                try {\r\n                    storyboard.Begin();\r\n                } catch (err) {\r\n                    //clear storyboards on error\r\n                    for (var j = 0; j <= i; j++) {\r\n                        if (newStoryboards[j] != null)\r\n                            res.Set((<any>newStoryboards[j])._ID, undefined);\r\n                    }\r\n                    console.warn(err);\r\n                }\r\n            }\r\n\r\n            this.StopCurrentStoryboards(element);\r\n\r\n            var curStoryboards = this._CurrentStoryboards;\r\n            for (i = 0; i < newStoryboards.length; i++) {\r\n                if (newStoryboards[i] == null)\r\n                    continue;\r\n                curStoryboards.push(newStoryboards[i]);\r\n            }\r\n        }\r\n        StopCurrentStoryboards(element: FrameworkElement) {\r\n            var curStoryboards = this._CurrentStoryboards;\r\n            var storyboard: Animation.Storyboard;\r\n            for (var en = nullstone.IEnumerator_.fromArray(curStoryboards); en.moveNext();) {\r\n                storyboard = en.current;\r\n                if (!storyboard)\r\n                    continue;\r\n                element.Resources.Set((<any>storyboard)._ID, undefined);\r\n                storyboard.Stop();\r\n            }\r\n            this._CurrentStoryboards = [];\r\n        }\r\n\r\n        Deactivate () {\r\n            for (var en = nullstone.IEnumerator_.fromArray(this._CurrentStoryboards); en.moveNext();) {\r\n                en.current && en.current.Pause();\r\n            }\r\n        }\r\n\r\n        Activate () {\r\n            for (var en = nullstone.IEnumerator_.fromArray(this._CurrentStoryboards); en.moveNext();) {\r\n                en.current && en.current.Resume();\r\n            }\r\n        }\r\n\r\n        RaiseCurrentStateChanging(element: FrameworkElement, oldState: VisualState, newState: VisualState, control: Controls.Control) {\r\n            this.CurrentStateChanging.raise(this, new VisualStateChangedEventArgs(oldState, newState, control));\r\n        }\r\n        RaiseCurrentStateChanged(element: FrameworkElement, oldState: VisualState, newState: VisualState, control: Controls.Control) {\r\n            this.CurrentStateChanged.raise(this, new VisualStateChangedEventArgs(oldState, newState, control));\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(VisualStateGroup);\r\n    Markup.Content(VisualStateGroup, VisualStateGroup.StatesProperty);\r\n\r\n    export class VisualStateGroupCollection extends XamlObjectCollection<VisualStateGroup> {\r\n    }\r\n    Fayde.CoreLibrary.add(VisualStateGroupCollection);\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media.VSM {\r\n    export interface IOutValue {\r\n        Value: any;\r\n    }\r\n    export interface IStateData {\r\n        state: VisualState;\r\n        group: VisualStateGroup;\r\n    }\r\n\r\n    export class VisualStateManager extends DependencyObject {\r\n        static VisualStateGroupsProperty: DependencyProperty = DependencyProperty.RegisterAttachedCore(\"VisualStateGroups\", () => VisualStateGroupCollection, VisualStateManager);\r\n        static GetVisualStateGroups(d: DependencyObject): VisualStateGroupCollection { return d.GetValue(VisualStateManager.VisualStateGroupsProperty); }\r\n        static SetVisualStateGroups(d: DependencyObject, value: VisualStateGroupCollection) { d.SetValue(VisualStateManager.VisualStateGroupsProperty, value); }\r\n\r\n        static CustomVisualStateManagerProperty: DependencyProperty = DependencyProperty.RegisterAttachedCore(\"CustomVisualStateManager\", () => VisualStateManager, VisualStateManager);\r\n        static GetCustomVisualStateManager(d: DependencyObject): VisualStateManager { return d.GetValue(VisualStateManager.CustomVisualStateManagerProperty); }\r\n        static SetCustomVisualStateManager(d: DependencyObject, value: VisualStateManager) { d.SetValue(VisualStateManager.CustomVisualStateManagerProperty, value); }\r\n\r\n        static GoToState(control: Controls.Control, stateName: string, useTransitions: boolean): boolean {\r\n            if (!control)\r\n                throw new ArgumentException(\"control\");\r\n            if (!stateName)\r\n                throw new ArgumentException(\"stateName\");\r\n\r\n            var root = VisualStateManager._GetTemplateRoot(control);\r\n            if (!root)\r\n                return false;\r\n\r\n            var groups = VisualStateManager.GetVisualStateGroups(root);\r\n            if (!groups)\r\n                return false;\r\n\r\n            var data: IStateData = { group: null, state: null };\r\n            if (!VisualStateManager._TryGetState(groups, stateName, data))\r\n                return false;\r\n\r\n            var customVsm = VisualStateManager.GetCustomVisualStateManager(root);\r\n            if (customVsm) {\r\n                return customVsm.GoToStateCore(control, root, stateName, data.group, data.state, useTransitions);\r\n            } else if (data.state != null) {\r\n                return VisualStateManager.GoToStateInternal(control, root, data.group, data.state, useTransitions);\r\n            }\r\n\r\n            return false;\r\n        }\r\n        GoToStateCore(control: Controls.Control, element: FrameworkElement, stateName: string, group: VisualStateGroup, state: VisualState, useTransitions: boolean): boolean {\r\n            return VisualStateManager.GoToStateInternal(control, element, group, state, useTransitions);\r\n        }\r\n        private static GoToStateInternal(control: Controls.Control, element: FrameworkElement, group: VisualStateGroup, state: VisualState, useTransitions: boolean): boolean {\r\n            var lastState = group.CurrentState;\r\n            if (lastState === state)\r\n                return true;\r\n\r\n            if (VSM.Debug && window.console) {\r\n                console.log(\"VSM:GoToState:[\" + (<any>control)._ID + \"]\" + (lastState ? lastState.Name : \"()\") + \"-->\" + state.Name);\r\n            }\r\n\r\n            var transition = useTransitions ? VisualStateManager._GetTransition(element, group, lastState, state) : null;\r\n            var storyboard: Animation.Storyboard;\r\n            if (transition == null || (transition.GeneratedDuration.IsZero && ((storyboard = transition.Storyboard) == null || storyboard.Duration.IsZero))) {\r\n                if (transition != null && storyboard != null) {\r\n                    group.StartNewThenStopOld(element, [storyboard, state.Storyboard]);\r\n                } else {\r\n                    group.StartNewThenStopOld(element, [state.Storyboard]);\r\n                }\r\n                group.RaiseCurrentStateChanging(element, lastState, state, control);\r\n                group.RaiseCurrentStateChanged(element, lastState, state, control);\r\n            } else {\r\n                var dynamicTransition = genDynamicTransAnimations(element, group, state, transition);\r\n\r\n                transition.DynamicStoryboardCompleted = false;\r\n                var dynamicCompleted = function (sender, e) {\r\n                    if (transition.Storyboard == null || transition.ExplicitStoryboardCompleted === true) {\r\n                        group.StartNewThenStopOld(element, [state.Storyboard]);\r\n                        group.RaiseCurrentStateChanged(element, lastState, state, control);\r\n                    }\r\n                    transition.DynamicStoryboardCompleted = true;\r\n                };\r\n                var eventClosure = {};\r\n                dynamicTransition.Completed.on(dynamicCompleted, eventClosure);\r\n\r\n                if (transition.Storyboard != null && transition.ExplicitStoryboardCompleted === true) {\r\n                    var transitionCompleted = function (sender, e) {\r\n                        if (transition.DynamicStoryboardCompleted === true) {\r\n                            group.StartNewThenStopOld(element, [state.Storyboard]);\r\n                            group.RaiseCurrentStateChanged(element, lastState, state, control);\r\n                        }\r\n                        transition.Storyboard.Completed.off(transitionCompleted, eventClosure);\r\n                        transition.ExplicitStoryboardCompleted = true;\r\n                    };\r\n                    transition.ExplicitStoryboardCompleted = false;\r\n                    transition.Storyboard.Completed.on(transitionCompleted, eventClosure);\r\n                }\r\n                group.StartNewThenStopOld(element, [transition.Storyboard, dynamicTransition]);\r\n                group.RaiseCurrentStateChanging(element, lastState, state, control);\r\n            }\r\n\r\n            group.CurrentState = state;\r\n            return true;\r\n        }\r\n\r\n        static DestroyStoryboards(control: Controls.Control, root: FrameworkElement) {\r\n            if (!root)\r\n                return false;\r\n            var groups = VisualStateManager.GetVisualStateGroups(root);\r\n            if (!groups)\r\n                return false;\r\n            var enumerator = groups.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                (<VisualStateGroup>enumerator.current).StopCurrentStoryboards(root);\r\n            }\r\n        }\r\n\r\n        static Deactivate (control: Controls.Control, root: FrameworkElement) {\r\n            if (!root)\r\n                return false;\r\n            var groups = VisualStateManager.GetVisualStateGroups(root);\r\n            if (!groups)\r\n                return false;\r\n            for (var en = groups.getEnumerator(); en.moveNext();) {\r\n                en.current.Deactivate();\r\n            }\r\n        }\r\n\r\n        static Activate (control: Controls.Control, root: FrameworkElement) {\r\n            if (!root)\r\n                return false;\r\n            var groups = VisualStateManager.GetVisualStateGroups(root);\r\n            if (!groups)\r\n                return false;\r\n            for (var en = groups.getEnumerator(); en.moveNext();) {\r\n                en.current.Activate();\r\n            }\r\n        }\r\n\r\n        private static _GetTemplateRoot(control: Controls.Control): FrameworkElement {\r\n            if (control instanceof Controls.UserControl)\r\n                return (<Controls.UserControl>control).XamlNode.TemplateRoot;\r\n\r\n            var enumerator = control.XamlNode.GetVisualTreeEnumerator();\r\n            var node: FENode = null;\r\n            if (enumerator.moveNext()) {\r\n                node = enumerator.current;\r\n                if (!(node instanceof FENode))\r\n                    node = null;\r\n            }\r\n            return (node) ? node.XObject : null;\r\n        }\r\n        static GetGroup(control: Controls.Control, name: string): VisualStateGroup {\r\n            var root = VisualStateManager._GetTemplateRoot(control);\r\n            if (!root)\r\n                return null;\r\n            var groups = VisualStateManager.GetVisualStateGroups(root);\r\n            if (!groups)\r\n                return null;\r\n            var enumerator = groups.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                if (enumerator.current.Name === name)\r\n                    return enumerator.current;\r\n            }\r\n            return null;\r\n        }\r\n        private static _TryGetState(groups: VisualStateGroupCollection, stateName: string, data: IStateData): boolean {\r\n            var enumerator = groups.getEnumerator();\r\n            while (enumerator.moveNext()) {\r\n                data.group = enumerator.current;\r\n                data.state = data.group.GetState(stateName);\r\n                if (data.state)\r\n                    return true;\r\n            }\r\n            data.group = null;\r\n            data.state = null;\r\n            return false;\r\n        }\r\n\r\n        private static _GetTransition(element: FrameworkElement, group: VisualStateGroup, from: VisualState, to: VisualState): VisualTransition {\r\n            if (!element)\r\n                throw new ArgumentException(\"element\");\r\n            if (!group)\r\n                throw new ArgumentException(\"group\");\r\n            if (!to)\r\n                throw new ArgumentException(\"to\");\r\n\r\n            var best = null;\r\n            var defaultTransition = null;\r\n            var bestScore = -1;\r\n\r\n            var enumerator = group.Transitions.getEnumerator();\r\n            var transition: VisualTransition;\r\n            while (enumerator.moveNext()) {\r\n                transition = enumerator.current;\r\n                if (!defaultTransition && transition.IsDefault) {\r\n                    defaultTransition = transition;\r\n                    continue;\r\n                }\r\n                var score = -1;\r\n                var transFromState = group.GetState(transition.From);\r\n                var transToState = group.GetState(transition.To);\r\n                if (from === transFromState)\r\n                    score += 1;\r\n                else if (transFromState != null)\r\n                    continue;\r\n\r\n                if (to === transToState)\r\n                    score += 2;\r\n                else if (transToState != null)\r\n                    continue;\r\n\r\n                if (score > bestScore) {\r\n                    bestScore = score;\r\n                    best = transition;\r\n                }\r\n            }\r\n            if (best != null)\r\n                return best;\r\n            return defaultTransition;\r\n        }\r\n    }\r\n    Fayde.CoreLibrary.add(VisualStateManager);\r\n\r\n    import Timeline = Animation.Timeline;\r\n    import Storyboard = Animation.Storyboard;\r\n\r\n    function genDynamicTransAnimations(root: FrameworkElement, group: VisualStateGroup, state: VisualState, transition: VisualTransition): Animation.Storyboard {\r\n        var dynamic = new Animation.Storyboard();\r\n        if (transition != null) {\r\n            dynamic.Duration = transition.GeneratedDuration;\r\n        } else {\r\n            dynamic.Duration = new Duration(new TimeSpan());\r\n        }\r\n\r\n        var currentAnimations = flattenTimelines(group.CurrentStoryboards);\r\n        var transitionAnimations = flattenTimelines([transition != null ? transition.Storyboard : null]);\r\n        var newStateAnimations = flattenTimelines([state.Storyboard]);\r\n\r\n        // Remove any animations that the transition already animates.\r\n        // There is no need to create an interstitial animation if one already exists.\r\n        for (var i = 0, len = transitionAnimations.length; i < len; i++){\r\n            removeTuple(transitionAnimations[i], currentAnimations);\r\n            removeTuple(transitionAnimations[i], newStateAnimations);\r\n        }\r\n\r\n        var tuple: ITimelineTuple;\r\n        // Generate the \"to\" animations\r\n        for (var i = 0, len = newStateAnimations.length; i < len;i++){\r\n            // The new \"To\" Animation -- the root is passed as a reference point for name lookup.\r\n            tuple = newStateAnimations[i];\r\n            var toAnimation = genToAnimation(root, tuple.timeline, true);\r\n\r\n            // If the animation is of a type that we can't generate transition animations\r\n            // for, GenerateToAnimation will return null, and we should just keep going.\r\n            if (toAnimation != null) {\r\n                ensureTarget(root, tuple.timeline, toAnimation);\r\n                toAnimation.Duration = dynamic.Duration;\r\n                dynamic.Children.Add(toAnimation);\r\n            }\r\n\r\n            removeTuple(tuple, currentAnimations);\r\n        }\r\n\r\n        // Generate the \"from\" animations\r\n        for (var i = 0, len = currentAnimations.length; i < len;i++){\r\n            tuple = currentAnimations[i];\r\n            var fromAnimation = tuple.timeline.GenerateFrom();\r\n            if (fromAnimation != null) {\r\n                ensureTarget(root, tuple.timeline, fromAnimation);\r\n                fromAnimation.Duration = dynamic.Duration;\r\n\r\n                var propertyName = Animation.Storyboard.GetTargetProperty(tuple.timeline);\r\n                Animation.Storyboard.SetTargetProperty(fromAnimation, propertyName);\r\n                dynamic.Children.Add(fromAnimation);\r\n            }\r\n        }\r\n\r\n        return dynamic;\r\n    }\r\n    function ensureTarget(root: FrameworkElement, source: Timeline, dest: Timeline) {\r\n        if (source.ManualTarget != null) {\r\n            Storyboard.SetTarget(dest, source.ManualTarget);\r\n        } else {\r\n            var targetName = Storyboard.GetTargetName(source);\r\n            if (targetName)\r\n                Storyboard.SetTargetName(dest, targetName);\r\n        }\r\n    }\r\n    function genToAnimation(root: FrameworkElement, timeline: Timeline, isEntering: boolean) {\r\n        var result = timeline.GenerateTo(isEntering);\r\n        if (!result)\r\n            return null;\r\n\r\n        var targetName = Storyboard.GetTargetName(timeline);\r\n        Storyboard.SetTargetName(result, targetName);\r\n        if (targetName) {\r\n            var target = <DependencyObject>root.FindName(targetName);\r\n            if (target instanceof DependencyObject)\r\n                Storyboard.SetTarget(result, target);\r\n        }\r\n\r\n        Storyboard.SetTargetProperty(result, Storyboard.GetTargetProperty(timeline));\r\n        return result;\r\n    }\r\n\r\n    interface ITimelineTuple {\r\n        dobj: DependencyObject;\r\n        propd: DependencyProperty;\r\n        timeline: Timeline;\r\n    }\r\n    function flattenTimelines(storyboards: Storyboard[]): ITimelineTuple[]{\r\n        var tuples: ITimelineTuple[] = [];\r\n        for (var i = 0, len = storyboards.length; i < len; i++) {\r\n            flattenTimeline((tp) => tuples.push(tp), storyboards[i], null, null);\r\n        }\r\n        return tuples;\r\n    }\r\n    function flattenTimeline(callback: (tuple: ITimelineTuple) => void, timeline: Timeline, targetObject: DependencyObject, targetPropertyPath: Data.PropertyPath) {\r\n        if (!timeline)\r\n            return;\r\n        var resolution = Storyboard.ResolveTarget(timeline);\r\n        if (resolution.Target)\r\n            targetObject = resolution.Target;\r\n        if (resolution.Property)\r\n            targetPropertyPath = resolution.Property;\r\n\r\n        if (timeline instanceof Storyboard) {\r\n            for (var i = 0, children = (<Storyboard>timeline).Children, len = children.Count; i < len; i++) {\r\n                flattenTimeline(callback, children.GetValueAt(i), targetObject, targetPropertyPath);\r\n            }\r\n        } else {\r\n            if (targetPropertyPath && targetObject) {\r\n                // When resolving down to a DO and DP, we don't actually want to clone DOs like we do\r\n                // when starting a storyboard normally.\r\n                var oto: IOutValue = { Value: targetObject };\r\n                var propd = Data.PropertyPath.ResolvePropertyPath(oto, targetPropertyPath, []);\r\n\r\n                if (propd && oto.Value)\r\n                    callback({ dobj: oto.Value, propd: propd, timeline: timeline });\r\n            }\r\n        }\r\n    }\r\n    function removeTuple(tuple: ITimelineTuple, list: ITimelineTuple[]) {\r\n        for (var i = 0, len = list.length; i < len; i++) {\r\n            var l = list[i];\r\n            if (l.dobj === tuple.dobj && l.propd === tuple.propd)\r\n                return list.splice(i, 1);\r\n        }\r\n    }\r\n}","/// <reference path=\"../../Core/DependencyObject.ts\" />\r\n\r\nmodule Fayde.Media.VSM {\r\n    export class VisualTransition extends DependencyObject {\r\n        From: string = null;\r\n        To: string = null;\r\n\r\n        static StoryboardProperty = DependencyProperty.Register(\"Storyboard\", () => Animation.Storyboard, VisualTransition);\r\n        Storyboard: Animation.Storyboard;\r\n\r\n        private _GeneratedDuration: Duration = null;\r\n        get GeneratedDuration(): Duration { return this._GeneratedDuration; }\r\n        set GeneratedDuration(value: Duration) { this._GeneratedDuration = nullstone.convertAnyToType(value, Duration); }\r\n\r\n        DynamicStoryboardCompleted: boolean = true;\r\n        ExplicitStoryboardCompleted: boolean = true;\r\n        GeneratedEasingFunction: Animation.EasingFunctionBase;\r\n        get IsDefault(): boolean { return this.From == null && this.To == null; }\r\n    }\r\n    Markup.Content(VisualTransition, VisualTransition.StoryboardProperty);\r\n    Fayde.CoreLibrary.add(VisualTransition);\r\n}","/// <reference path=\"../Imaging/ImageSource\" />\n\nmodule Fayde.Media.Videos {\n    import IVideoSource = minerva.controls.video.IVideoSource;\n\n    export interface IVideoSourceWatcher {\n        onErrored(source: VideoSourceBase, error: Error);\n        onCanPlay(source: VideoSourceBase);\n        onChanged(source: VideoSourceBase);\n    }\n\n    export class VideoSourceBase extends Imaging.ImageSource implements minerva.controls.video.IVideoSource {\n        protected $element: HTMLVideoElement;\n        private $watchers: IVideoSourceWatcher[] = [];\n        private $autoplay = true;\n\n        createElement(): HTMLVideoElement {\n            return document.createElement(\"video\");\n        }\n\n        reset() {\n            super.reset();\n            this.setAutoPlay(this.$autoplay);\n            this.$element.onerror = (e: ErrorEvent) => this.onVideoErrored(e);\n            this.$element.oncanplay = (e) => this.onVideoCanPlay();\n            this.onVideoChanged();\n        }\n\n        watch(watcher: IVideoSourceWatcher): nullstone.IDisposable {\n            var watchers = this.$watchers;\n            watchers.push(watcher);\n            return {\n                dispose() {\n                    var index = watchers.indexOf(watcher);\n                    if (index > -1)\n                        watchers.splice(index, 1);\n                }\n            }\n        }\n\n        setAutoPlay(value: boolean) {\n            this.$autoplay = value;\n            if (!value)\n                this.$element.removeAttribute(\"autoplay\");\n            else\n                this.$element.setAttribute(\"autoplay\", \"autoplay\");\n        }\n\n        getIsPlaying(): boolean {\n            var video = this.$element;\n            return !!video && !video.paused && !video.ended;\n        }\n\n        Play() {\n            this.$element.play();\n        }\n\n        Pause() {\n            this.$element.pause();\n        }\n\n        protected onVideoErrored(e: ErrorEvent) {\n            console.info(\"Failed to load: \" + this.$element.src.toString());\n            for (var i = 0, watchers = this.$watchers; i < watchers.length; i++) {\n                watchers[i].onErrored(this, e.error);\n            }\n        }\n\n        protected onVideoCanPlay() {\n            this.setMetrics(this.$element.videoWidth, this.$element.videoHeight);\n            for (var i = 0, watchers = this.$watchers; i < watchers.length; i++) {\n                watchers[i].onCanPlay(this);\n            }\n        }\n\n        protected onVideoChanged() {\n            for (var i = 0, watchers = this.$watchers; i < watchers.length; i++) {\n                watchers[i].onChanged(this);\n            }\n        }\n    }\n\n    Fayde.CoreLibrary.add(VideoSourceBase);\n}","/// <reference path=\"VideoSourceBase.ts\"/>\n\nmodule Fayde.Media.Videos {\n    export class VideoSource extends VideoSourceBase {\n        static UriSourceProperty = DependencyProperty.RegisterFull(\"UriSource\", () => Uri, VideoSource, undefined, (bi: VideoSource, args) => bi._UriSourceChanged(args), undefined, true);\n        UriSource: Uri;\n        VideoFailed = new nullstone.Event();\n        VideoOpened = new nullstone.Event(); //TODO: Connect\n\n        constructor(uri?: Uri) {\n            super();\n            if (uri)\n                this.UriSource = uri;\n        }\n\n        private _UriSourceChanged(args: IDependencyPropertyChangedEventArgs) {\n            var uri: Uri = args.NewValue;\n            if (Uri.isNullOrEmpty(uri))\n                this.reset();\n            else\n                this.OnUriSourceChanged(args.OldValue, uri);\n        }\n\n        protected OnUriSourceChanged(oldValue: Uri, newValue: Uri) {\n            if (!this.$element || !newValue)\n                this.reset();\n            this.$element.src = TypeManager.resolveResource(newValue);\n            this.$element.load();\n            this.onVideoChanged();\n        }\n\n        protected onVideoErrored(e: ErrorEvent) {\n            super.onVideoErrored(e);\n            this.VideoFailed.raise(this, null);\n        }\n    }\n    Fayde.CoreLibrary.add(VideoSource);\n}","module Fayde.Text.History {\r\n    export class DeleteAction implements IAction {\r\n        SelectionAnchor: number;\r\n        SelectionCursor: number;\r\n        Start: number;\r\n        Text: string;\r\n\r\n        constructor (selectionAnchor: number, selectionCursor: number, buffer: string, start: number, length: number) {\r\n            this.SelectionAnchor = selectionAnchor;\r\n            this.SelectionCursor = selectionCursor;\r\n            this.Start = start;\r\n            this.Text = buffer.substr(start, length);\r\n        }\r\n\r\n        Undo (bo: ITextOwner) {\r\n            bo.text = Buffer.insert(bo.text, this.Start, this.Text);\r\n        }\r\n\r\n        Redo (bo: ITextOwner): number {\r\n            bo.text = Buffer.cut(bo.text, this.Start, this.Text.length);\r\n            return this.Start;\r\n        }\r\n    }\r\n}","module Fayde.Text.History {\r\n    export class InsertAction implements IAction {\r\n        SelectionAnchor: number;\r\n        SelectionCursor: number;\r\n        Start: number;\r\n        Text: string;\r\n        IsGrowable: boolean;\r\n\r\n        constructor (selectionAnchor: number, selectionCursor: number, start: number, inserted: string, isAtomic?: boolean) {\r\n            this.SelectionAnchor = selectionAnchor;\r\n            this.SelectionCursor = selectionCursor;\r\n            this.Start = start;\r\n            this.Text = inserted;\r\n            this.IsGrowable = isAtomic !== true;\r\n        }\r\n\r\n        Undo (bo: ITextOwner) {\r\n            bo.text = Buffer.cut(bo.text, this.Start, this.Text.length);\r\n        }\r\n\r\n        Redo (bo: ITextOwner): number {\r\n            bo.text = Buffer.insert(bo.text, this.Start, this.Text);\r\n            return this.Start + this.Text.length;\r\n        }\r\n\r\n        Insert (start: number, text: string) {\r\n            if (!this.IsGrowable || start !== (this.Start + this.Text.length))\r\n                return false;\r\n            this.Text += text;\r\n            return true;\r\n        }\r\n    }\r\n}","module Fayde.Text.History {\r\n    export class ReplaceAction implements IAction {\r\n        SelectionAnchor: number;\r\n        SelectionCursor: number;\r\n        Start: number;\r\n        Length: number;\r\n        Deleted: string;\r\n        Inserted: string;\r\n\r\n        constructor (selectionAnchor: number, selectionCursor: number, buffer: string, start: number, length: number, inserted: string) {\r\n            this.SelectionAnchor = selectionAnchor;\r\n            this.SelectionCursor = selectionCursor;\r\n            this.Start = start;\r\n            this.Length = length;\r\n            this.Deleted = buffer.substr(start, length);\r\n            this.Inserted = inserted;\r\n        }\r\n\r\n        Undo (bo: ITextOwner) {\r\n            bo.text = Buffer.cut(bo.text, this.Start, this.Inserted.length);\r\n            bo.text = Buffer.insert(bo.text, this.Start, this.Deleted);\r\n        }\r\n\r\n        Redo (bo: ITextOwner): number {\r\n            bo.text = Buffer.cut(bo.text, this.Start, this.Length);\r\n            bo.text = Buffer.insert(bo.text, this.Start, this.Inserted);\r\n            return this.Start + this.Inserted.length;\r\n        }\r\n    }\r\n}","module Fayde.Text.History {\r\n    export class Tracker {\r\n        private $$undo: IAction[] = [];\r\n        private $$redo: IAction[] = [];\r\n        private $$maxUndoCount: number;\r\n\r\n        constructor (maxUndoCount: number) {\r\n            this.$$maxUndoCount = maxUndoCount;\r\n        }\r\n\r\n        get canUndo (): boolean {\r\n            return this.$$undo.length > 0;\r\n        }\r\n\r\n        get canRedo (): boolean {\r\n            return this.$$redo.length > 0;\r\n        }\r\n\r\n        undo (bufferholder: ITextOwner): IAction {\r\n            if (this.$$undo.length < 1)\r\n                return null;\r\n\r\n            var action = this.$$undo.pop();\r\n            if (this.$$redo.push(action) > this.$$maxUndoCount)\r\n                this.$$redo.shift();\r\n\r\n            action.Undo(bufferholder);\r\n            return action\r\n        }\r\n\r\n        redo (bufferholder: ITextOwner): number {\r\n            if (this.$$redo.length < 1)\r\n                return;\r\n\r\n            var action = this.$$redo.pop();\r\n            if (this.$$undo.push(action) > this.$$maxUndoCount)\r\n                this.$$undo.shift();\r\n\r\n            return action.Redo(bufferholder);\r\n        }\r\n\r\n        enter (anchor: number, cursor: number, start: number, newText: string) {\r\n            var action = <InsertAction>this.$$undo[this.$$undo.length - 1];\r\n\r\n            if (!(action instanceof InsertAction) || !action.Insert(start, newText))\r\n                return this.insert(anchor, cursor, start, newText);\r\n            if (this.$$redo.length > 0)\r\n                this.$$redo = [];\r\n        }\r\n\r\n        insert (anchor: number, cursor: number, start: number, newText: string) {\r\n            this.$doAction(new InsertAction(anchor, cursor, start, newText));\r\n        }\r\n\r\n        replace (anchor: number, cursor: number, text: string, start: number, length: number, newText: string) {\r\n            this.$doAction(new ReplaceAction(anchor, cursor, text, start, length, newText));\r\n        }\r\n\r\n        delete (anchor: number, cursor: number, text: string, start: number, length: number) {\r\n            this.$doAction(new Text.History.DeleteAction(anchor, cursor, text, start, length));\r\n        }\r\n\r\n        private $doAction (action: IAction) {\r\n            this.$$undo.push(action);\r\n            if (this.$$undo.length > this.$$maxUndoCount)\r\n                this.$$undo.shift();\r\n            this.$$redo = [];\r\n        }\r\n    }\r\n}","module Fayde {\r\n    export function debugLayers (): any[] {\r\n        var arr = [];\r\n        var app = Fayde.Application.Current;\r\n        for (var walker = app.MainSurface.walkLayers(); walker.step();) {\r\n            arr.push(sexify(walker.current));\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    export function sexify (updater: minerva.core.Updater) {\r\n        var node = updater.getAttachedValue(\"$node\");\r\n        var xobj = node.XObject;\r\n\r\n        var ctor = new Function(\"return function \" + xobj.constructor.name + \"() { }\")();\r\n        var obj = new ctor();\r\n\r\n        obj.assets = updater.assets;\r\n        obj.dirtyFlags = sexyflags(updater.assets.dirtyFlags);\r\n        obj.uiFlags = sexyuiflags(updater.assets.uiFlags);\r\n        obj.children = [];\r\n        obj.id = xobj._ID;\r\n        obj.node = node;\r\n\r\n        for (var walker = updater.tree.walk(); walker.step();) {\r\n            obj.children.push(sexify(walker.current));\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    function sexyflags (flags: minerva.DirtyFlags): string {\r\n        var all = Object.keys(minerva.DirtyFlags)\r\n            .map(i => parseInt(i))\r\n            .filter(key => !isNaN(key))\r\n            .filter(isPowerOf2)\r\n            .sort((a, b) => (a === b) ? 0 : (a < b ? -1 : 1))\r\n            .reverse();\r\n\r\n        var remaining = flags;\r\n        return all\r\n            .filter(cur => {\r\n                if ((remaining & cur) === 0)\r\n                    return false;\r\n                remaining &= ~cur;\r\n                return true;\r\n            })\r\n            .map(cur => (<any>minerva.DirtyFlags)[cur])\r\n            .join(\"|\");\r\n    }\r\n\r\n    function sexyuiflags (flags: minerva.UIFlags): string {\r\n        var all = Object.keys(minerva.UIFlags)\r\n            .map(i => parseInt(i))\r\n            .filter(key => !isNaN(key))\r\n            .filter(isPowerOf2)\r\n            .sort((a, b) => (a === b) ? 0 : (a < b ? -1 : 1))\r\n            .reverse();\r\n\r\n        var remaining = flags;\r\n        return all\r\n            .filter(cur => {\r\n                if ((remaining & cur) === 0)\r\n                    return false;\r\n                remaining &= ~cur;\r\n                return true;\r\n            })\r\n            .map(cur => (<any>minerva.UIFlags)[cur])\r\n            .join(\"|\");\r\n    }\r\n\r\n    function isPowerOf2 (num: number): boolean {\r\n        var y = (<Function>(<any>Math).log2)(num);\r\n        return Math.abs(Math.round(y) - y) < 0.000001;\r\n    }\r\n\r\n    export function debugLayersRaw (): string {\r\n        var app = Fayde.Application.Current;\r\n        var output = \"\";\r\n        for (var walker = app.MainSurface.walkLayers(); walker.step();) {\r\n            output += stringify(walker.current);\r\n        }\r\n        return output;\r\n    }\r\n\r\n    function stringify (updater: minerva.core.Updater, level: number = 0): string {\r\n        var node = updater.getAttachedValue(\"$node\");\r\n        var xobj = node.XObject;\r\n\r\n        var output = \"\";\r\n\r\n        for (var i = 0; i < level; i++) {\r\n            output += \"\\t\";\r\n        }\r\n\r\n        output += xobj.constructor.name;\r\n        output += \"[\" + xobj._ID + \"]\";\r\n\r\n        var ns = node.NameScope;\r\n        var nsr = !ns ? \"^\" : (ns.IsRoot ? \"+\" : \"-\");\r\n        output += \" [\" + nsr + node.Name + \"]\";\r\n\r\n        output += \"\\n\";\r\n\r\n        for (var walker = updater.tree.walk(); walker.step();) {\r\n            output += stringify(walker.current, level + 1);\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\n    export function getById (id: number) {\r\n        var app = Fayde.Application.Current;\r\n        for (var walker = app.MainSurface.walkLayers(); walker.step();) {\r\n            for (var subwalker = walker.current.walkDeep(); subwalker.step();) {\r\n                var upd = subwalker.current;\r\n                var node = upd.getAttachedValue(\"$node\");\r\n                var xobj = node.XObject;\r\n                if (xobj._ID === id) {\r\n                    return {\r\n                        obj: xobj,\r\n                        node: node,\r\n                        updater: upd,\r\n                        flags: sexyflags(upd.assets.dirtyFlags),\r\n                        uiflags: sexyuiflags(upd.assets.uiFlags)\r\n                    };\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    export function debugLayersFlatten (): any[] {\r\n        var arr = [];\r\n        var app = Fayde.Application.Current;\r\n        for (var walker = app.MainSurface.walkLayers(); walker.step();) {\r\n            for (var subwalker = walker.current.walkDeep(); subwalker.step();) {\r\n                arr.push(subwalker.current);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n}"],"sourceRoot":"./src"}